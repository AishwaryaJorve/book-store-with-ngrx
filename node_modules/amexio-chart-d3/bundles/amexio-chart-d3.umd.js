(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common/http'), require('@angular/common'), require('d3'), require('@angular/forms')) :
    typeof define === 'function' && define.amd ? define('amexio-chart-d3', ['exports', '@angular/core', '@angular/common/http', '@angular/common', 'd3', '@angular/forms'], factory) :
    (factory((global['amexio-chart-d3'] = {}),global.ng.core,global.ng.common.http,global.ng.common,null,global.ng.forms));
}(this, (function (exports,i0,i1,common,d3,forms) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b)
                if (b.hasOwnProperty(p))
                    d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    function __values(o) {
        var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
        if (m)
            return m.call(o);
        return {
            next: function () {
                if (o && i >= o.length)
                    o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
    }
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AmexioD3BaseChartComponent = (function () {
        function AmexioD3BaseChartComponent(charttype) {
            this.onLegendClick = new i0.EventEmitter();
            this.onChartClick = new i0.EventEmitter();
            this.onLineClick = new i0.EventEmitter();
            this.drillableEvent = new i0.EventEmitter();
            this.data = [];
            this.legend = true;
            this.height = "300";
            this.width = "300";
            this.title = "";
            this.labelcolor = "black";
            this.labelflag = false;
            this.level = 0;
            this.drillabledatakey = [];
            this.hScale = true;
            this.vScale = false;
            this.resizeflag = false;
            //-------------------
            this.drillableFlag = true;
            this.possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcddefghijklmonpqrstuvwxyz";
            this.colorIndex = 0;
            this.colors = [];
            this.charttype = charttype;
            this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
            this.componentId = this.charttype + "-" + this.generateId();
        }
        /**
         * @protected
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.initializeData = /**
         * @protected
         * @return {?}
         */
            function () {
                var _this = this;
                this.data.forEach((function (element) {
                    element.color = _this.getColor(element);
                }));
            };
        /**
         * @protected
         * @param {?} data
         * @param {?} drillablekeys
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.getMultipleDrillbleKeyData = /**
         * @protected
         * @param {?} data
         * @param {?} drillablekeys
         * @return {?}
         */
            function (data, drillablekeys) {
                /** @type {?} */
                var nodeObject = {};
                if (data) {
                    for (var index = 0; index < drillablekeys.length; index++) {
                        /** @type {?} */
                        var element = drillablekeys[index];
                        try {
                            for (var _a = __values(Object.entries(data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                                if (key == element) {
                                    nodeObject[key] = value;
                                }
                            }
                        }
                        catch (e_1_1) {
                            e_1 = { error: e_1_1 };
                        }
                        finally {
                            try {
                                if (_b && !_b.done && (_d = _a.return))
                                    _d.call(_a);
                            }
                            finally {
                                if (e_1)
                                    throw e_1.error;
                            }
                        }
                    }
                    return nodeObject;
                }
                var e_1, _d;
            };
        /**
         * @private
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.generateId = /**
         * @private
         * @return {?}
         */
            function () {
                /** @type {?} */
                var id = "";
                for (var i = 0; i < 5; i++) {
                    id = id + this.possible
                        .charAt(Math.floor(Math.random() * this.possible.length));
                }
                id = id + "-" + new Date().getTime();
                return id;
            };
        /**
         * @private
         * @param {?} object
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.getColor = /**
         * @private
         * @param {?} object
         * @return {?}
         */
            function (object) {
                if (object.color) {
                    return object.color;
                }
                else if (this.colors.length > this.colorIndex) {
                    /** @type {?} */
                    var color = this.colors[this.colorIndex];
                    this.colorIndex++;
                    return color;
                }
                else if ((this.colors.length > 0) && (this.colors.length <= this.colorIndex)) {
                    this.colorIndex = 0;
                    /** @type {?} */
                    var color = this.colors[this.colorIndex];
                    return color;
                }
                else {
                    /** @type {?} */
                    var color = this.predefinedcolors[this.colorIndex];
                    this.colorIndex++;
                    return color;
                }
            };
        /**
         * @param {?} node
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.legendClick = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                this.onLegendClick.emit(node);
            };
        /**
         * @param {?} node
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.chartClick = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                this.onChartClick.emit(node);
            };
        /**
         * @param {?} node
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.comboLineClick = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                this.onLineClick.emit(node);
            };
        /**
         * @param {?} ref
         * @param {?} node
         * @param {?} event
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.fordrillableClick = /**
         * @param {?} ref
         * @param {?} node
         * @param {?} event
         * @return {?}
         */
            function (ref, node, event) {
                this.drillableEvent.emit({ ref: ref, node: node, event: event });
            };
        /**
         * @protected
         * @param {?} d3
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.toolTip = /**
         * @protected
         * @param {?} d3
         * @return {?}
         */
            function (d3$$1) {
                return d3$$1.select("body")
                    .append("div")
                    .attr('id', 'tooltipid')
                    .attr('class', 'amexiod3tooltip')
                    .style("position", "absolute")
                    .style("z-index", "10")
                    .style("fill", "black")
                    .style("visibility", "hidden");
            };
        /**
         * @protected
         * @param {?} tooltipdata
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.toolTipContent = /**
         * @protected
         * @param {?} tooltipdata
         * @return {?}
         */
            function (tooltipdata) {
                /** @type {?} */
                var tooltiphtml = "<table>";
                for (var key in tooltipdata) {
                    if (tooltipdata.hasOwnProperty(key)) {
                        /** @type {?} */
                        var value = tooltipdata[key];
                        tooltiphtml = tooltiphtml + "<tr>";
                        //------------------
                        //   tooltiphtml = tooltiphtml + "<td>";
                        //   tooltiphtml = tooltiphtml + key+':';
                        //   tooltiphtml = tooltiphtml + "</td>";
                        //------------------
                        tooltiphtml = tooltiphtml + "<td>";
                        tooltiphtml = tooltiphtml + value;
                        tooltiphtml = tooltiphtml + "</td>";
                        tooltiphtml = tooltiphtml + "</tr>";
                    }
                }
                tooltiphtml = tooltiphtml + "</table>";
                return tooltiphtml;
            };
        /**
         * @protected
         * @param {?} legend
         * @param {?} xaxis
         * @param {?} yaxis
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.toolTipWithLegendandAxis = /**
         * @protected
         * @param {?} legend
         * @param {?} xaxis
         * @param {?} yaxis
         * @return {?}
         */
            function (legend, xaxis, yaxis) {
                /** @type {?} */
                var tooltiphtml = "<div>";
                tooltiphtml = tooltiphtml + "<b>" + xaxis + "</b>, ";
                tooltiphtml = tooltiphtml + legend + "</b> ";
                tooltiphtml = tooltiphtml + "<b>" + yaxis + "</b> ";
                tooltiphtml = tooltiphtml + "</div>";
                return tooltiphtml;
            };
        /**
         * @protected
         * @param {?} tooltipData
         * @return {?}
         */
        AmexioD3BaseChartComponent.prototype.toolTipForBar = /**
         * @protected
         * @param {?} tooltipData
         * @return {?}
         */
            function (tooltipData) {
                /** @type {?} */
                var tooltiphtml = "<div>";
                try {
                    for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        /** @type {?} */
                        var sideStyle = "float:left";
                        tooltiphtml = tooltiphtml + "<div>";
                        tooltiphtml = tooltiphtml + "<span style =" + sideStyle + " ><b>" + key + " " + "</b>" + value + "</br></span>";
                        tooltiphtml = tooltiphtml + "</div>";
                    }
                }
                catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_2)
                            throw e_2.error;
                    }
                }
                return tooltiphtml;
                var e_2, _d;
            };
        AmexioD3BaseChartComponent.propDecorators = {
            onLegendClick: [{ type: i0.Output }],
            onChartClick: [{ type: i0.Output }],
            onLineClick: [{ type: i0.Output }],
            drillableEvent: [{ type: i0.Output }],
            data: [{ type: i0.Input, args: ['data',] }],
            httpurl: [{ type: i0.Input, args: ['http-url',] }],
            httpmethod: [{ type: i0.Input, args: ['http-method',] }],
            legend: [{ type: i0.Input, args: ['legend',] }],
            colors: [{ type: i0.Input, args: ['color',] }],
            height: [{ type: i0.Input, args: ['height',] }],
            width: [{ type: i0.Input, args: ['width',] }],
            title: [{ type: i0.Input, args: ['title',] }],
            labelcolor: [{ type: i0.Input, args: ['label-color',] }],
            labelflag: [{ type: i0.Input, args: ['label',] }],
            datareader: [{ type: i0.Input, args: ['data-reader',] }],
            level: [{ type: i0.Input, args: ['level',] }],
            target: [{ type: i0.Input, args: ['target',] }],
            drillabledatakey: [{ type: i0.Input, args: ['drillable-data',] }],
            hScale: [{ type: i0.Input, args: ['horizontal-scale',] }],
            vScale: [{ type: i0.Input, args: ['vertical-scale',] }]
        };
        return AmexioD3BaseChartComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CommanDataService = (function () {
        function CommanDataService(http) {
            this.http = http;
        }
        /**
         * @param {?} serviceUrl
         * @param {?} methodType
         * @return {?}
         */
        CommanDataService.prototype.fetchUrlData = /**
         * @param {?} serviceUrl
         * @param {?} methodType
         * @return {?}
         */
            function (serviceUrl, methodType) {
                /** @type {?} */
                var requestJson = {};
                /** @type {?} */
                var headers = new i1.HttpHeaders().append('Content-Type', 'application/json;charset=UTF-8');
                if (methodType === 'post') {
                    return this.http.post(serviceUrl, requestJson, { headers: headers });
                }
                else if (methodType === 'get') {
                    return this.http.get(serviceUrl, { headers: headers });
                }
            };
        /**
         * @param {?} serviceUrl
         * @param {?} methodType
         * @param {?} requestJson
         * @return {?}
         */
        CommanDataService.prototype.postfetchData = /**
         * @param {?} serviceUrl
         * @param {?} methodType
         * @param {?} requestJson
         * @return {?}
         */
            function (serviceUrl, methodType, requestJson) {
                /** @type {?} */
                var headers = new i1.HttpHeaders().append('Content-Type', 'application/json;charset=UTF-8');
                if (methodType === 'post') {
                    return this.http.post(serviceUrl, requestJson, { headers: headers });
                }
                else if (methodType === 'get') {
                    return this.http.get(serviceUrl, { headers: headers });
                }
            };
        CommanDataService.decorators = [
            { type: i0.Injectable, args: [{
                        providedIn: 'root'
                    },] },
        ];
        CommanDataService.ctorParameters = function () {
            return [
                { type: i1.HttpClient }
            ];
        };
        /** @nocollapse */ CommanDataService.ngInjectableDef = i0.defineInjectable({ factory: function CommanDataService_Factory() { return new CommanDataService(i0.inject(i1.HttpClient)); }, token: CommanDataService, providedIn: "root" });
        return CommanDataService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DeviceQueryService = (function () {
        function DeviceQueryService(platformId) {
            this.platformId = platformId;
            this.rules = {
                print: 'print',
                screen: 'screen',
                phone: '(max-width: 767px)',
                tablet: '(min-width: 768px) and (max-width: 1024px)',
                desktop: '(min-width: 1025px)',
                portrait: '(orientation: portrait)',
                landscape: '(orientation: landscape)',
                retina: '(-webkit-min-device-pixel-ratio: 2) and (min-resolution: 192dpi)',
            };
            this.Check = (function (mq) {
                if (common.isPlatformBrowser(this.platformId)) {
                    if (!mq) {
                        return;
                    }
                    return window.matchMedia(mq).matches;
                }
                else {
                    return;
                }
            });
            this.IsTablet = (function () {
                if (common.isPlatformBrowser(this.platformId)) {
                    return window.matchMedia(this.rules.tablet).matches;
                }
                else {
                    return null;
                }
            });
            this.IsDesktop = (function () {
                if (common.isPlatformBrowser(this.platformId)) {
                    return window.matchMedia(this.rules.desktop).matches;
                }
                else {
                    return null;
                }
            });
            this.IsPortrait = (function () {
                if (common.isPlatformBrowser(this.platformId)) {
                    return window.matchMedia(this.rules.portrait).matches;
                }
                else {
                    return null;
                }
            });
            this.IsLandscape = (function () {
                if (common.isPlatformBrowser(this.platformId)) {
                    return window.matchMedia(this.rules.landscape).matches;
                }
                else {
                    return null;
                }
            });
            this.IsRetina = (function () {
                if (common.isPlatformBrowser(this.platformId)) {
                    return window.matchMedia(this.rules.retina).matches;
                }
                else {
                    return null;
                }
            });
            this.browserWindow = (function () {
                return window;
            });
        }
        /**********************************************
         METHODS FOR CHECKING TYPE
         **********************************************/
        /**
         * *******************************************
         * METHODS FOR CHECKING TYPE
         * ********************************************
         * @return {?}
         */
        DeviceQueryService.prototype.IsPhone = /**
         * *******************************************
         * METHODS FOR CHECKING TYPE
         * ********************************************
         * @return {?}
         */
            function () {
                if (common.isPlatformBrowser(this.platformId)) {
                    return window.matchMedia(this.rules.phone).matches;
                }
                else {
                    return null;
                }
            };
        /**********************************************
         EVENT LISTENERS BY TYPE
         **********************************************/
        /**
         * *******************************************
         * EVENT LISTENERS BY TYPE
         * ********************************************
         * @param {?} callBack
         * @return {?}
         */
        DeviceQueryService.prototype.OnPhone = /**
         * *******************************************
         * EVENT LISTENERS BY TYPE
         * ********************************************
         * @param {?} callBack
         * @return {?}
         */
            function (callBack) {
                if (typeof callBack === 'function' && common.isPlatformBrowser(this.platformId)) {
                    /** @type {?} */
                    var mql = window.matchMedia(this.rules.phone);
                    this.mqlMethod(callBack, mql);
                }
            };
        /**
         * @param {?} callBack
         * @return {?}
         */
        DeviceQueryService.prototype.OnTablet = /**
         * @param {?} callBack
         * @return {?}
         */
            function (callBack) {
                if (typeof callBack === 'function' && common.isPlatformBrowser(this.platformId)) {
                    /** @type {?} */
                    var mql = window.matchMedia(this.rules.tablet);
                    this.mqlMethod(callBack, mql);
                }
            };
        /**
         * @param {?} callBack
         * @return {?}
         */
        DeviceQueryService.prototype.OnDesktop = /**
         * @param {?} callBack
         * @return {?}
         */
            function (callBack) {
                if (typeof callBack === 'function' && common.isPlatformBrowser(this.platformId)) {
                    /** @type {?} */
                    var mql = window.matchMedia(this.rules.desktop);
                    this.mqlMethod(callBack, mql);
                }
            };
        /**
         * @param {?} callBack
         * @return {?}
         */
        DeviceQueryService.prototype.OnPortrait = /**
         * @param {?} callBack
         * @return {?}
         */
            function (callBack) {
                if (typeof callBack === 'function' && common.isPlatformBrowser(this.platformId)) {
                    /** @type {?} */
                    var mql = window.matchMedia(this.rules.portrait);
                    this.mqlMethod(callBack, mql);
                }
            };
        /**
         * @param {?} callBack
         * @return {?}
         */
        DeviceQueryService.prototype.OnLandscape = /**
         * @param {?} callBack
         * @return {?}
         */
            function (callBack) {
                if (typeof callBack === 'function' && common.isPlatformBrowser(this.platformId)) {
                    /** @type {?} */
                    var mql = window.matchMedia(this.rules.landscape);
                    this.mqlMethod(callBack, mql);
                }
            };
        /**
         * @param {?} callBack
         * @param {?} mql
         * @return {?}
         */
        DeviceQueryService.prototype.mqlMethod = /**
         * @param {?} callBack
         * @param {?} mql
         * @return {?}
         */
            function (callBack, mql) {
                mql.addListener((function (mql1) {
                    if (mql1.matches) {
                        callBack(mql);
                    }
                }));
            };
        DeviceQueryService.decorators = [
            { type: i0.Injectable },
        ];
        DeviceQueryService.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: i0.Inject, args: [i0.PLATFORM_ID,] }] }
            ];
        };
        return DeviceQueryService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AmexioD3DounutChartComponent = (function (_super) {
        __extends(AmexioD3DounutChartComponent, _super);
        function AmexioD3DounutChartComponent(myservice, cdf, device) {
            var _this = _super.call(this, 'DONUTCHART') || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.pie = false;
            _this.svgwidth = 300;
            _this.svgheight = 300;
            _this.desktoplegend = false;
            _this.mobilelegend = false;
            _this.keyArray = [];
            _this.transformeddata = [];
            _this.legendArray = [];
            return _this;
        }
        /**
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.level <= 1) {
                    /** @type {?} */
                    var resp_1;
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            resp_1 = response;
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.data = _this.getResponseData(resp_1);
                                _this.drawChart();
                                // this.data = this.getResponseData(resp);
                                _this.transformData(_this.data);
                                _this.initializeData();
                                _this.plotD3Chart();
                            }), 0);
                        }));
                    }
                    else if (this.data) {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(_this.data);
                            _this.transformData(_this.data);
                            _this.initializeData();
                            _this.plotD3Chart();
                        }), 0);
                    }
                }
                else {
                    this.fetchData(this.drillData);
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                /** @type {?} */
                var resp;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        resp = response;
                        _this.response = resp;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.drillableFlag = true;
                    _this.initializeData();
                    _this.plotD3Chart();
                }), 0);
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        /**
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.plotD3Chart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.formLegendData();
                //this.transformData(this.data);
                //  this.data = this.transformeddata;
                /** @type {?} */
                var outerRadius = 0;
                /** @type {?} */
                var innerRadius = 0;
                outerRadius = this.svgwidth / 2;
                innerRadius = this.svgwidth / 4;
                if (this.pie) {
                    innerRadius = 0;
                }
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                /** @type {?} */
                var arc = d3.arc()
                    .outerRadius(outerRadius)
                    .innerRadius(innerRadius);
                /** @type {?} */
                var pie = d3.pie()
                    .value((function (d) {
                    return d[Object.keys(d)[1]];
                    //  return d.value
                }));
                this.svg = d3.select("#" + this.componentId)
                    .append('g')
                    .attr('transform', 'translate(' + this.svgwidth / 2 + ',' + this.svgheight / 2 + ')')
                    .selectAll('path')
                    .data(pie(this.data))
                    .enter();
                if (this.device.IsDesktop() == true) {
                    this.desktoplegend = true;
                    this.mobilelegend = false;
                }
                // else{
                //        if(this.device.IsPhone()==true && this.device.IsTablet()==true)
                //        {
                //             this.desktoplegend=false;
                //             this.mobilelegend=true;
                //        }
                // }
                /** @type {?} */
                var path = this.svg.append('path')
                    .attr('d', arc)
                    .attr('fill', (function (d, i) {
                    if (d.data.color) {
                        return d.data.color;
                    }
                    else {
                        return "black";
                    }
                    //  return (d && d.data && d.data.color) ? d.data.color : "black"
                }))
                    .attr('cursor', 'pointer')
                    .on("mouseover", (function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return tooltip.html(_this.formTooltipData(d.data)
                    //  this.formLegendData(d.data)
                    // this.toolTipContent(d.data)
                    )
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                }))
                    .on("mouseout", (function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    _this.DonutChartClick(d.data);
                    _this.fordrillableClick(_this, d.data, event);
                    return tooltip.style("visibility", "hidden");
                    //this.chartClick(d.data);
                }));
                if (this.labelflag) {
                    /** @type {?} */
                    var text = this.svg.append("text")
                        .transition()
                        .duration(200)
                        .attr("transform", (function (d) {
                        return "translate(" + arc.centroid(d) + ")";
                    }))
                        .attr("text-anchor", "middle")
                        .text((function (d) {
                        return d.data[Object.keys(d.data)[1]];
                        //return d.data.value;
                    }))
                        .style('fill', (function (d) {
                        if (_this.labelcolor && _this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else {
                            return "black";
                        }
                        // return (d && d.data && d.data.textcolor) ? d.data.textcolor : "black";
                    }))
                        .style('font-size', '12px');
                }
            };
        /**
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.formLegendData = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.legendArray = [];
                this.data.forEach((function (element) {
                    /** @type {?} */
                    var legendobject = {};
                    legendobject['label'] = element[Object.keys(element)[0]];
                    legendobject['value'] = element[Object.keys(element)[1]];
                    legendobject['color'] = element.color;
                    _this.legendArray.push(legendobject);
                }));
            };
        /**
         * @param {?} legendevent
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.onDonutLegendClick = /**
         * @param {?} legendevent
         * @return {?}
         */
            function (legendevent) {
                /** @type {?} */
                var obj = {};
                //  obj['label'] = legendevent.label;
                //  obj['value'] = legendevent.value 
                obj[this.keyArray[0]] = legendevent.label;
                obj[this.keyArray[1]] = legendevent.value;
                //delete event.color;
                this.legendClick(obj);
            };
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.transformData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                this.keyArray = data[0];
                data.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var DummyObject_1 = {};
                        element.forEach((function (individualvalue, keyindex) {
                            DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                        })); //inner for loop ends
                        _this.transformeddata.push(DummyObject_1);
                    } //if ends
                })); //outer for loop ends
                this.data = this.transformeddata;
            };
        /**
         * @param {?} tooltipData
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.formTooltipData = /**
         * @param {?} tooltipData
         * @return {?}
         */
            function (tooltipData) {
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key != 'color' && key != 'textcolor') {
                            object[key] = value;
                        }
                    }
                }
                catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_2)
                            throw e_2.error;
                    }
                }
                return this.toolTipForBar(object);
                var e_2, _d;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.DonutChartClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key != 'color') {
                            object[key] = value;
                        }
                    }
                }
                catch (e_3_1) {
                    e_3 = { error: e_3_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_3)
                            throw e_3.error;
                    }
                }
                this.chartClick(object);
                var e_3, _d;
            };
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3DounutChartComponent.prototype.resize = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                this.desktoplegend = false;
                this.mobilelegend = true;
                this.plotD3Chart();
            };
        AmexioD3DounutChartComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-donut',
                        template: "<div *ngIf=\"drillableFlag\" #chartId (window:resize)=\"resize($event)\">\n    <div *ngIf=\"data.length > 0\">\n\n  \n    <div colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \">\n        {{title}}\n    </div>\n    <div [ngClass]=\"'donutcss'\">\n        <svg preserveAspectRatio=\"xMinYMin meet\" viewBox=\"0 0 300 300\" [attr.height]=\"height\" [attr.width]=\"width\" [attr.id]=\"componentId\">\n        </svg>\n        <div>\n\n            <div style=\"display: block; padding: 1%;\">\n                <div *ngIf=\"desktoplegend\">\n                    <amexio-d3-legend *ngIf=\"legend\" (onClick)=\"onDonutLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\"></amexio-d3-legend>\n                </div>\n                <div *ngIf=\"mobilelegend\">\n                    <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onDonutLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\"></amexio-d3-legend>\n                </div>\n            </div>\n        </div>\n        <!--  -->\n        <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n            </div>\n\n        </div>",
                        styles: [".donutcss{display:flex;flex-direction:row}@media screen and (max-width:1024px){.donutcss{display:flex;flex-direction:column}}"]
                    },] },
        ];
        AmexioD3DounutChartComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        AmexioD3DounutChartComponent.propDecorators = {
            pie: [{ type: i0.Input, args: ['pie',] }],
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }],
            drillid: [{ type: i0.ViewChild, args: ['drillid',] }],
            drillData: [{ type: i0.Input }]
        };
        return AmexioD3DounutChartComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AmexioD3PieChartComponent = (function () {
        function AmexioD3PieChartComponent() {
            this.data = [];
            this.onLegendClick = new i0.EventEmitter();
            this.onChartClick = new i0.EventEmitter();
            this.drillableEvent = new i0.EventEmitter();
            this.legend = true;
            this.colors = [];
            this.width = "300";
            this.height = "300";
            this.title = "";
            this.level = 0;
            this.labelcolor = "black";
            this.labelflag = false;
            this.drillableFlag = true;
        }
        /**
         * @return {?}
         */
        AmexioD3PieChartComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @param {?} node
         * @return {?}
         */
        AmexioD3PieChartComponent.prototype.legendClick = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                this.onLegendClick.emit(node);
            };
        /**
         * @param {?} node
         * @return {?}
         */
        AmexioD3PieChartComponent.prototype.chartClick = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                this.onChartClick.emit(node);
            };
        /**
         * @param {?} ref
         * @return {?}
         */
        AmexioD3PieChartComponent.prototype.fordrillableClick = /**
         * @param {?} ref
         * @return {?}
         */
            function (ref) {
                this.drillableEvent.emit(ref);
            };
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3PieChartComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                this.drillData = data;
            };
        /**
         * @return {?}
         */
        AmexioD3PieChartComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                this.donutref.drillableFlag = true;
                this.donutref.drawChart();
            };
        AmexioD3PieChartComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-pie',
                        template: "<div   *ngIf=\"drillableFlag\">\n<amexio-d3-chart-donut #id (onLegendClick)=\"legendClick($event)\" \n                       (onChartClick)=\"chartClick($event)\" \n                       (drillableEvent)=\" fordrillableClick($event)\"\n                        [height]=\"height\"\n                        [width]=\"width\"\n                        [title]=\"title\"\n                        [data] = \"data\"\n                        [pie]  = \"true\"\n                        [color]=\"colors\"\n                        [http-url]=\"httpurl\"\n                        [http-method]=\"httpmethod\"\n                        [data-reader]=\"datareader\"\n                        [label]=\"labelflag\"\n                        [label-color]=\"labelcolor\"\n                        [level]=\"level\"\n                        [target]=\"target\"\n                        [drillable-data]=\"drillabledatakey\"\n                        [drillData]=\"drillData\">\n</amexio-d3-chart-donut>\n</div>\n"
                    },] },
        ];
        AmexioD3PieChartComponent.propDecorators = {
            data: [{ type: i0.Input, args: ['data',] }],
            onLegendClick: [{ type: i0.Output }],
            onChartClick: [{ type: i0.Output }],
            drillableEvent: [{ type: i0.Output }],
            donutref: [{ type: i0.ViewChild, args: ['id',] }],
            legend: [{ type: i0.Input }],
            colors: [{ type: i0.Input, args: ['color',] }],
            width: [{ type: i0.Input, args: ['width',] }],
            height: [{ type: i0.Input, args: ['height',] }],
            title: [{ type: i0.Input }],
            httpurl: [{ type: i0.Input, args: ['http-url',] }],
            httpmethod: [{ type: i0.Input, args: ['http-method',] }],
            datareader: [{ type: i0.Input, args: ['data-reader',] }],
            level: [{ type: i0.Input, args: ['level',] }],
            target: [{ type: i0.Input, args: ['target',] }],
            drillabledatakey: [{ type: i0.Input, args: ['drillable-data',] }],
            labelcolor: [{ type: i0.Input, args: ['label-color',] }],
            labelflag: [{ type: i0.Input, args: ['label',] }]
        };
        return AmexioD3PieChartComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AmexioD3Legend = (function () {
        function AmexioD3Legend() {
            this.horizontal = false;
            this.temparr = [];
            this.onClick = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        AmexioD3Legend.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.data = this.data;
                this.temparr = this.data;
            };
        /**
         * @return {?}
         */
        AmexioD3Legend.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                // debugger;
                // window.location.reload();
                this.data = this.data;
                this.temparr = this.data;
            };
        /**
         * @param {?} node
         * @return {?}
         */
        AmexioD3Legend.prototype.onLegendClick = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                this.onClick.emit(node);
            };
        AmexioD3Legend.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-legend',
                        template: "<div style =\" width: 100% ; padding-left: 20px; padding-top: 8px; \">\n<table *ngIf=\"!horizontal\" style=\"height: 100%;\">\n    <tr *ngFor = \"let node of data\" style=\"cursor: pointer;\" (click)=\"onLegendClick(node)\">\n        <td style=\"height: 10px; width: 23px; padding-left: 2px;\"\n            [ngStyle]=\"{'background-color': node.color}\"></td>\n        <td>{{node.label}}</td>\n    </tr>\n</table>\n</div>\n\n<table *ngIf=\"horizontal\" style=\"height: 100%;\">\n    <tr>\n        <td *ngFor = \"let node of data\" \n                    (click)=\"onLegendClick(node)\" \n                    style=\"cursor: pointer;\">\n            \n            <div style=\" display: inline-block; display: inline-block; padding: 2px;\">\n                    <div style=\" width: 10px; display: inline-block; padding: 2px; \" \n                    [ngStyle]=\"{'background-color': node.color}\"></div>\n                {{node.label}}\n            </div>\n        </td>\n        \n    </tr>\n</table>\n\n<br>\n "
                    },] },
        ];
        AmexioD3Legend.ctorParameters = function () { return []; };
        AmexioD3Legend.propDecorators = {
            data: [{ type: i0.Input, args: ['data',] }],
            horizontal: [{ type: i0.Input, args: ['horizontal',] }],
            onClick: [{ type: i0.Output }]
        };
        return AmexioD3Legend;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AmexioD3BarChartComponent = (function (_super) {
        __extends(AmexioD3BarChartComponent, _super);
        function AmexioD3BarChartComponent(myservice, cdf, device) {
            var _this = _super.call(this, 'bar') || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.svgheight = 300;
            _this.horizontal = false;
            _this.labelcolor = "black";
            _this.labelflag = false;
            _this.level = 0;
            _this.drillabledatakey = [];
            _this.hScale = true;
            _this.showzeroflag = true;
            _this._data = [];
            _this.resizeflag = false;
            _this.drillableFlag = true;
            _this.colorflag = false;
            _this.keyArray = [];
            _this.transformeddata = [];
            _this.legendArray = [];
            _this.firstloading = false;
            _this.inc = 0;
            _this.isChartInit = false;
            return _this;
        }
        Object.defineProperty(AmexioD3BarChartComponent.prototype, "data", {
            get: /**
             * @return {?}
             */ function () {
                return this._data;
            },
            // private _data: any = [];
            set: 
            // private _data: any = [];
            /**
             * @param {?} v
             * @return {?}
             */
            function (v) {
                if (v && (v.length > 0)) {
                    this._data = v;
                    // if(this.isChartInit){
                    //   this.resize();
                    // }
                    // if (this.data) {
                    // setTimeout(() => {
                    //   this.data = this.getResponseData(this.data);
                    //   this.transformData(this.data)
                    //   this.initializeData();
                    //   this.plotD3Chart();
                    // }, 0);
                    // }
                    // this.cdf.detectChanges();
                    // this.formLegendData();
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                if (this.level <= 1) {
                    /** @type {?} */
                    var resp_1;
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            resp_1 = response;
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.data = _this.getResponseData(resp_1);
                                // this.drawChart();
                                _this.transformData(_this.data);
                                _this.initializeData();
                                _this.plotD3Chart();
                                _this.isChartInit = true;
                            }), 0);
                        }));
                    }
                    else if (this.data) {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(_this.data);
                            _this.transformData(_this.data);
                            _this.initializeData();
                            _this.plotD3Chart();
                            _this.isChartInit = true;
                        }), 0);
                    }
                }
            };
        // Fetch Data
        // Fetch Data
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.fetchData =
            // Fetch Data
            /**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                /** @type {?} */
                var resp;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        resp = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.initializeData();
                    _this.plotD3Chart();
                }), 0);
            };
        /**
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // console.log("repeat");
                if (this.inc > 1) {
                    if (this.data) {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(_this.data);
                            _this.transformData(_this.data);
                            _this.initializeData();
                            _this.plotD3Chart();
                        }), 500);
                    }
                    this.formLegendData();
                }
                this.inc++;
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        /**
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.plotD3Chart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.formLegendData();
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE 
                }
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                /** @type {?} */
                var margin = { top: 20, right: 60, bottom: 40, left: 60 };
                /** @type {?} */
                var width = this.svgwidth - margin.left - margin.right;
                /** @type {?} */
                var height = this.svgheight - margin.top - margin.bottom;
                //RESIZE STEP 2 START
                // this.svg.selectAll("*").remove();
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight);
                this.svg.selectAll("*").remove();
                // this.svg.exit().remove();//remove unneeded circles
                //RESIZE STEP 2 ENDS HERE
                /** @type {?} */
                var x;
                /** @type {?} */
                var y;
                /** @type {?} */
                var g = this.svg.append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                // vertical bar
                if (this.horizontal == false) {
                    // this.svg.selectAll("*").remove();
                    // -----------------------------
                    if (this.data) {
                        x = d3.scaleBand()
                            .rangeRound([0, width])
                            .padding(0.1);
                        //setting content for x and y axis
                        x.domain(this.data.map((function (d) {
                            return d[Object.keys(d)[0]];
                            //    return d.label
                        })));
                    }
                    //-----------------------------
                    if (this.data) {
                        y = d3.scaleLinear()
                            .rangeRound([height, 0]);
                        y.domain([0, d3.max(this.data, (function (d) {
                                return d[Object.keys(d)[1]];
                                //return d.value;
                            }))]);
                    }
                    // add x axis to svg
                    if (this.device.IsDesktop() == true) {
                        if (this.svgwidth <= 400) {
                            g.append("g")
                                .attr("transform", "translate(0," + height + ")")
                                .call(d3.axisBottom(x)).
                                selectAll("text")
                                .attr("y", 0)
                                .attr("x", 9)
                                .attr("dy", ".35em")
                                .attr("transform", "rotate(60)")
                                .style("text-anchor", "start");
                        }
                        else {
                            g.append("g")
                                .attr("transform", "translate(0," + height + ")")
                                .call(d3.axisBottom(x));
                        }
                    }
                    else {
                        g.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(d3.axisBottom(x)).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    //add y axis to svg
                    g.append("g")
                        .call(d3.axisLeft(y)
                        .ticks(this.tickscount));
                    this.plotLine(g, x, y, height, width);
                    //add bar chart
                    g.selectAll(".bar")
                        .data(this.data)
                        .enter()
                        .append("rect")
                        .attr("class", "bar")
                        .attr("x", (function (d) {
                        return x(d[Object.keys(d)[0]]);
                        // return x(d.label); 
                    }))
                        .attr("y", (function (d) {
                        return y(d[Object.keys(d)[1]]);
                        // return y(d.value); 
                    }))
                        .attr("cursor", "pointer")
                        .attr("width", x.bandwidth())
                        .attr("height", (function (d) { return height - y(d[Object.keys(d)[1]]); }))
                        .style("fill", (function (d) {
                        // return "blue";
                        return d.color;
                    }))
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.formTooltipData(d)
                        //  this.toolTipForBar(d)
                        // this.toolTipContent(d)
                        )
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.barChartClick(d);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                        //this.chartClick(d);
                    }));
                    if (this.labelflag) {
                        /** @type {?} */
                        var yTextPadding = 40;
                        this.svg.selectAll(".label")
                            .data(this.data)
                            .enter()
                            .append("text")
                            .style("font-weight", "bold")
                            .style("font-size", "1vw")
                            .attr("text-anchor", "middle")
                            .attr("fill", (function (d) {
                            if (_this.labelcolor.length > 0) {
                                if ((_this.labelcolor.length > 0) && d[Object.keys(d)[1]] > 0) {
                                    return _this.labelcolor;
                                }
                            }
                            else {
                                return "black";
                            }
                        }))
                            .attr("x", (function (d, i) {
                            return x(d[Object.keys(d)[0]]) + margin.left + x.bandwidth() / 2;
                        }))
                            .attr("y", (function (d, i) {
                            return y(d[Object.keys(d)[1]]) + yTextPadding;
                        }))
                            .text((function (d) {
                            // if (d[Object.keys(d)[1]] > 0) {
                            //   return d[Object.keys(d)[1]];
                            // }.
                            if (_this.showzeroflag) {
                                return d[Object.keys(d)[1]];
                            }
                            else if (!_this.showzeroflag) {
                                if (d[Object.keys(d)[1]] > 0) {
                                    return d[Object.keys(d)[1]];
                                }
                            }
                        }))
                            .attr("cursor", "pointer")
                            .on("mouseover", (function (d) {
                            return tooltip.style("visibility", "visible");
                        }))
                            .on("mousemove", (function (d) {
                            return tooltip.html(_this.formTooltipData(d)
                            //  this.toolTipForBar(d)
                            // this.toolTipContent(d)
                            )
                                .style("top", (d3.event.pageY - 10) + "px")
                                .style("left", (d3.event.pageX + 10) + "px");
                        }))
                            .on("mouseout", (function (d) {
                            return tooltip.style("visibility", "hidden");
                        }))
                            .on("click", (function (d) {
                            _this.barChartClick(d);
                            _this.fordrillableClick(_this, d, event);
                            return tooltip.style("visibility", "hidden");
                            //this.chartClick(d);
                        }));
                    } //if ends fr 
                }
                else if (this.horizontal == true) {
                    if (this.data) {
                        x = d3.scaleLinear()
                            .rangeRound([0, width]);
                        //setting content for x and y axis
                        x.domain([0, d3.max(this.data, (function (d) {
                                return parseInt(d[Object.keys(d)[1]]
                                // d.value
                                );
                            }))]);
                        // d[Object.keys(d)[1]]
                        y = d3.scaleBand()
                            .rangeRound([height, 0]).padding(0.1);
                        y.domain(this.data.map((function (d) {
                            return d[Object.keys(d)[0]];
                            //return d.label;
                        })));
                    }
                    // add x axis to svg
                    g.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(d3.axisBottom(x).ticks(this.xtickscount));
                    //add y axis to svg
                    g.append("g")
                        .call(d3.axisLeft(y).ticks(this.tickscount));
                    this.plotLine(g, x, y, height, width);
                    //add bar chart
                    g.selectAll(".bar")
                        .data(this.data)
                        .enter()
                        .append("rect")
                        .attr("class", "bar")
                        .attr("x", 0)
                        .attr("y", (function (d) {
                        return y(d[Object.keys(d)[0]]
                        // d.label
                        );
                    }))
                        .attr("cursor", "pointer")
                        .attr("width", (function (d) {
                        return x(d[Object.keys(d)[1]]
                        // d.value
                        );
                    }))
                        .attr("height", y.bandwidth())
                        .style("fill", (function (d) { return d.color; }))
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.formTooltipData(d)
                        // this.formLegendData(d)
                        // this.toolTipContent(d)
                        )
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.barChartClick(d);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                        //this.chartClick(d);
                    }));
                    if (this.labelflag) {
                        /** @type {?} */
                        var yTextPadding_1 = 40;
                        this.svg.selectAll(".label")
                            .data(this.data)
                            .enter()
                            .append("text")
                            .style("font-weight", "bold")
                            .attr("text-anchor", "middle")
                            .attr("vertical-align", "middle")
                            .attr("margin-top", margin.top)
                            .attr("fill", (function (d) {
                            if (_this.labelcolor.length > 0) {
                                return _this.labelcolor;
                            }
                            else {
                                return "black";
                            }
                        }))
                            .attr("x", (function (d, i) {
                            return x(d[Object.keys(d)[1]]) + yTextPadding_1;
                        }))
                            .attr("y", (function (d, i) {
                            return y(d[Object.keys(d)[0]])
                                + margin.top + y.bandwidth() / 2;
                        }))
                            .text((function (d) {
                            // return d[Object.keys(d)[1]];
                            if (_this.showzeroflag) {
                                return d[Object.keys(d)[1]];
                            }
                            else if (!_this.showzeroflag) {
                                if (d[Object.keys(d)[1]] > 0) {
                                    return d[Object.keys(d)[1]];
                                }
                            }
                        }))
                            .attr("cursor", "pointer")
                            .on("mouseover", (function (d) {
                            return tooltip.style("visibility", "visible");
                        }))
                            .on("mousemove", (function (d) {
                            return tooltip.html(_this.formTooltipData(d)
                            // this.formLegendData(d)
                            // this.toolTipContent(d)
                            )
                                .style("top", (d3.event.pageY - 10) + "px")
                                .style("left", (d3.event.pageX + 10) + "px");
                        }))
                            .on("mouseout", (function (d) {
                            return tooltip.style("visibility", "hidden");
                        }))
                            .on("click", (function (d) {
                            _this.barChartClick(d);
                            _this.fordrillableClick(_this, d, event);
                            return tooltip.style("visibility", "hidden");
                            //this.chartClick(d);
                        }));
                    }
                }
                //else ends(horizontal bar logic ends)
            };
        /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.plotLine = /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (g, x, y, height, width) {
                if (this.hScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y).ticks(this.tickscount)
                        .tickSize(-width).tickFormat(''));
                }
                if (this.vScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .attr('transform', 'translate(0,' + height + ')')
                        .call(d3.axisBottom(x).
                        tickSize(-this.width).tickFormat('').ticks(this.xtickscount));
                }
            };
        /**
         * @param {?} tooltipData
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.formTooltipData = /**
         * @param {?} tooltipData
         * @return {?}
         */
            function (tooltipData) {
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key != 'color') {
                            object[key] = value;
                        }
                    }
                }
                catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_2)
                            throw e_2.error;
                    }
                }
                return this.toolTipForBar(object);
                var e_2, _d;
            };
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.transformData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                if (data && (data.length > 0)) {
                    this.transformeddata = [];
                    this.keyArray = data[0];
                    if (data && (data.length > 0)) {
                        data.forEach((function (element, index) {
                            if (index > 0) {
                                /** @type {?} */
                                var DummyObject_1 = {};
                                element.forEach((function (individualvalue, keyindex) {
                                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                                })); //inner for loop ends
                                _this.transformeddata.push(DummyObject_1);
                            } //if ends
                        })); //outer for loop ends
                    }
                    this.data = this.transformeddata;
                } //
            };
        /**
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.formLegendData = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.legendArray = [];
                this.data.forEach((function (element) {
                    /** @type {?} */
                    var legendobject = {};
                    legendobject['label'] = element[Object.keys(element)[0]];
                    legendobject['value'] = element[Object.keys(element)[1]];
                    legendobject['color'] = element.color;
                    _this.legendArray.push(legendobject);
                }));
                this.legendArray;
            };
        /**
         * @param {?} legendevent
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.onBarLegendClick = /**
         * @param {?} legendevent
         * @return {?}
         */
            function (legendevent) {
                /** @type {?} */
                var obj = {};
                //  obj['label'] = legendevent.label;
                //  obj['value'] = legendevent.value;
                obj[this.keyArray[0]] = legendevent.label;
                obj[this.keyArray[1]] = legendevent.value;
                //obj[legendevent.label] = legendevent.value;
                //delete event.color;
                this.legendClick(obj);
            };
        /**
         * @param {?} event
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.barChartClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key != 'color') {
                            object[key] = value;
                        }
                    }
                }
                catch (e_3_1) {
                    e_3 = { error: e_3_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_3)
                            throw e_3.error;
                    }
                }
                this.chartClick(object);
                var e_3, _d;
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 5 STARTS
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 5 STARTS
        /**
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.resize =
            //RESIZE STEP 4 ENDS
            //RESIZE STEP 5 STARTS
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.plotD3Chart();
            };
        // //RESIZE STEP 5 STARTS
        //   initialresize() {
        //     if (this.wt) {
        //       //RESIZE STEP 3 START
        //       // if(this.firstloading)
        //       // this.svg.selectAll("*").remove();
        //       this.resizeflag = true;
        //       if (this.svgwidth) {
        //         this.svgwidth = this.svgwidth;
        //       } else if (this.chartId) {
        //         this.svgwidth = this.chartId.nativeElement.offsetWidth;
        //       }
        //       //RESIZE STEP 3 ENDS
        //       // this.svgwidth = this.divid.nativeElement.offsetWidth;
        //       this.cdf.detectChanges();
        //       this.plotD3Chart();
        //     }
        //     this.firstloading = false;
        //   }
        // //RESIZE STEP 5 ENDS
        // //RESIZE STEP 5 STARTS
        //   initialresize() {
        //     if (this.wt) {
        //       //RESIZE STEP 3 START
        //       // if(this.firstloading)
        //       // this.svg.selectAll("*").remove();
        //       this.resizeflag = true;
        //       if (this.svgwidth) {
        //         this.svgwidth = this.svgwidth;
        //       } else if (this.chartId) {
        //         this.svgwidth = this.chartId.nativeElement.offsetWidth;
        //       }
        //       //RESIZE STEP 3 ENDS
        //       // this.svgwidth = this.divid.nativeElement.offsetWidth;
        //       this.cdf.detectChanges();
        //       this.plotD3Chart();
        //     }
        //     this.firstloading = false;
        //   }
        // //RESIZE STEP 5 ENDS
        /**
         * @return {?}
         */
        AmexioD3BarChartComponent.prototype.validateData =
            // //RESIZE STEP 5 STARTS
            //   initialresize() {
            //     if (this.wt) {
            //       //RESIZE STEP 3 START
            //       // if(this.firstloading)
            //       // this.svg.selectAll("*").remove();
            //       this.resizeflag = true;
            //       if (this.svgwidth) {
            //         this.svgwidth = this.svgwidth;
            //       } else if (this.chartId) {
            //         this.svgwidth = this.chartId.nativeElement.offsetWidth;
            //       }
            //       //RESIZE STEP 3 ENDS
            //       // this.svgwidth = this.divid.nativeElement.offsetWidth;
            //       this.cdf.detectChanges();
            //       this.plotD3Chart();
            //     }
            //     this.firstloading = false;
            //   }
            // //RESIZE STEP 5 ENDS
            /**
             * @return {?}
             */
            function () {
                if (this.data) ;
                else {
                    return "lmask";
                }
            };
        AmexioD3BarChartComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-bar',
                        template: "<div #chartId *ngIf=\"drillableFlag \" #divid (window:resize)=\"validateresize()\">\n    <table [ngClass]=\"validateData()\" style=\"width: 100%;\" position=\" relative\">\n        <ng-container *ngIf=\"title.length > 0\">\n            <tr>\n                <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n            </tr>\n        </ng-container>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onBarLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n                </amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n    <!-- <table *ngIf=\"!(data && data.length >0)\" class=\"lmask\">\n        \n    </table > -->\n    <!-- <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div> -->\n\n</div>"
                    },] },
        ];
        AmexioD3BarChartComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        AmexioD3BarChartComponent.propDecorators = {
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            horizontal: [{ type: i0.Input }],
            labelcolor: [{ type: i0.Input, args: ['label-color',] }],
            labelflag: [{ type: i0.Input, args: ['label',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }],
            drillid: [{ type: i0.ViewChild, args: ['drillid',] }],
            DOM: [{ type: i0.ViewChild, args: ['domref',] }],
            datareader: [{ type: i0.Input, args: ['data-reader',] }],
            level: [{ type: i0.Input, args: ['level',] }],
            target: [{ type: i0.Input, args: ['target',] }],
            drillabledatakey: [{ type: i0.Input, args: ['drillable-data',] }],
            hScale: [{ type: i0.Input, args: ['horizontal-scale',] }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            xtickscount: [{ type: i0.Input, args: ['xaxis-interval',] }],
            showzeroflag: [{ type: i0.Input, args: ['show-zero-values',] }],
            _data: [{ type: i0.Input, args: ['data',] }]
        };
        return AmexioD3BarChartComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AmexioD3BaseLineComponent = (function (_super) {
        __extends(AmexioD3BaseLineComponent, _super);
        function AmexioD3BaseLineComponent(deviceQueryService) {
            var _this = _super.call(this, 'line') || this;
            _this.deviceQueryService = deviceQueryService;
            _this._data = [];
            _this.xarr = [];
            _this.displayindex = 0;
            _this.svgheight = 300;
            // @Input('xaxis-interval') xtickscount: number = 3;
            _this.linecolor = [];
            _this.slant = false;
            return _this;
        }
        Object.defineProperty(AmexioD3BaseLineComponent.prototype, "data", {
            get: /**
             * @return {?}
             */ function () {
                return this._data;
            },
            set: /**
             * @param {?} v
             * @return {?}
             */ function (v) {
                this._data = v;
                if (this._data && (this._data.length > 0)) {
                    this.createXYAxisData();
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @protected
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.createXYAxisData = /**
         * @protected
         * @return {?}
         */
            function () {
                var _this = this;
                this.labelcolor;
                this.xaxisdata = [];
                this.yaxisdata = [];
                this.multiseriesdata = [];
                this.legenddata = [];
                this.legends = [];
                this.xaxisname = this.data[0][0].label;
                /** @type {?} */
                var msdarray = [];
                /** @type {?} */
                var count = 0;
                // ************************************************
                if (this.displayfield) {
                    // find displayfield index
                    this._data[0].forEach((function (element, index) {
                        if (element.label == _this.displayfield) {
                            _this.displayindex = index;
                        }
                    }));
                }
                // ***********************************************
                for (var index = 0; index < this._data[0].length; index++) {
                    /** @type {?} */
                    var legend = this._data[0][index];
                    msdarray[index] = [];
                    /** @type {?} */
                    var obj = {};
                    obj['label'] = legend.label;
                    if ((this.linecolor.length > 0) && this.linecolor[index]) {
                        obj['color'] = this.linecolor[index];
                    }
                    else {
                        obj['color'] = this.predefinedcolors[index];
                    }
                    this.legenddata.push(obj);
                    // this.legenddata.push({'label':legend.label,'color':this.predefinedcolors[index+1]});
                    if (index > 0) {
                        /** @type {?} */
                        var obj_1 = {};
                        obj_1['label'] = legend.label;
                        if ((this.linecolor.length > 0) && this.linecolor[count]) {
                            obj_1['color'] = this.linecolor[count];
                        }
                        else {
                            obj_1['color'] = this.predefinedcolors[count];
                        }
                        this.legends.push(obj_1);
                        count++;
                        // this.legends.push({'label':legend.label,'color':this.predefinedcolors[index]});
                    }
                }
                /** @type {?} */
                var i = 0;
                // xaxisdata yaxisdata msdarray is formed here
                this._data.forEach((function (object) {
                    if (i > 0) {
                        /** @type {?} */
                        var j_1 = 0;
                        /** @type {?} */
                        var xobj_1 = {};
                        object.forEach((function (a) {
                            // if (j === 0) {
                            //     this.xaxisdata.push({ 'label': a, 'value': a });
                            // } else {
                            //     this.yaxisdata.push({ 'label': a, 'value': a });
                            // }
                            if ((j_1 > 0) && (j_1 !== _this.displayindex)) {
                                _this.yaxisdata.push({ 'label': a, 'value': a });
                            }
                            if (j_1 == 0) {
                                xobj_1['value'] = a;
                            }
                            if (j_1 == _this.displayindex) {
                                xobj_1['label'] = a;
                            }
                            msdarray[j_1].push(a);
                            j_1++;
                        }));
                        _this.xaxisdata.push(xobj_1);
                    }
                    i++;
                }));
                for (var index = 0; index < msdarray.length; index++) {
                    /** @type {?} */
                    var element = msdarray[index];
                    if ((index > 0) && (index !== this.displayindex)) {
                        /** @type {?} */
                        var md = [];
                        for (var j = 0; j < element.length; j++) {
                            /** @type {?} */
                            var v = element[j];
                            md.push({ 'legend': this.legenddata[index].label, 'label': this.xaxisdata[j].label, 'value': v });
                        }
                        this.multiseriesdata.push(md);
                        this.legends[index - 1].data = md;
                    }
                }
            };
        /**
         * @param {?} width
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.recalculatescale = /**
         * @param {?} width
         * @return {?}
         */
            function (width) {
                var _this = this;
                // consider fontsize to be 10
                this.xaxisdata;
                /** @type {?} */
                var summationwidth = 0;
                if (!this.displayfield) {
                    this.xaxisdata.forEach((function (element) {
                        if (typeof (element.label) == 'string') {
                            summationwidth = summationwidth + (element.label.length * 10);
                        }
                        if (typeof (element.label) == 'number') {
                            /** @type {?} */
                            var n = _this.findDigitCount(element.label);
                            summationwidth = summationwidth + (n * 10);
                        }
                    }));
                }
                if (this.displayfield) {
                    this.xaxisdata.forEach((function (element) {
                        // if (typeof (element.label) == 'string') {
                        summationwidth = summationwidth + (element.label.length * 10);
                        // }
                    }));
                }
                if (this.displayfield && this.slant) {
                    summationwidth = this.xaxisdata.length * 10;
                }
                if (summationwidth > width) {
                    //  function call
                    this.calculatexaxisarray(summationwidth, width);
                }
            };
        /**
         * @param {?} summationwidth
         * @param {?} width
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.calculatexaxisarray = /**
         * @param {?} summationwidth
         * @param {?} width
         * @return {?}
         */
            function (summationwidth, width) {
                /** @type {?} */
                var interval = Math.round(summationwidth / width);
                this.generateNewAxis(interval, width);
            };
        /**
         * @param {?} interval
         * @param {?} avlwidth
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.generateNewAxis = /**
         * @param {?} interval
         * @param {?} avlwidth
         * @return {?}
         */
            function (interval, avlwidth) {
                this.xaxisdata;
                /** @type {?} */
                var arr = [];
                /** @type {?} */
                var newarr = [];
                /** @type {?} */
                var min;
                /** @type {?} */
                var max;
                //    make Array out of this.xaxisdata
                this.xaxisdata.forEach((function (element) {
                    // if (typeof (element.label) == 'number') {
                    arr.push(element.label);
                    // }
                }));
                //null check on arr
                if (arr.length > 0) {
                    // find min
                    min = Math.min.apply(null, arr);
                    //find max
                    max = Math.max.apply(null, arr);
                    /** @type {?} */
                    var temp = Math.round(avlwidth / 10);
                    /** @type {?} */
                    var differential = (temp - (temp * 0.2)) / 4;
                    //form new arr
                    /** @type {?} */
                    var j = Math.round(differential);
                    //   hjlkllll
                    /** @type {?} */
                    var i = void 0;
                    /** @type {?} */
                    var isredundant = false;
                    if (!this.displayfield) {
                        newarr[0] = min;
                        for (i = 1; j < this.xaxisdata.length; i++) {
                            j = Math.round((differential * i) + i);
                            isredundant = this.checkArrayRedundancy(newarr, Math.round(j));
                            if (isredundant) {
                                newarr[i] = Math.round(j + 1);
                            }
                            else {
                                newarr[i] = Math.round(j);
                            }
                        }
                        this.sortarr(newarr);
                    }
                    if (this.displayfield) {
                        for (i = 0; j < this.xaxisdata.length; i++) {
                            j = Math.round((differential * i) + i);
                            if (this.xaxisdata[j]) {
                                newarr[i] = this.xaxisdata[j].label;
                            }
                            else {
                                if (this.xaxisdata[j + 1]) {
                                    newarr[i] = this.xaxisdata[j + 1].label;
                                }
                            }
                        }
                        this.xarr = newarr;
                    }
                }
            };
        /**
         * @param {?} newarr
         * @param {?} chknum
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.checkArrayRedundancy = /**
         * @param {?} newarr
         * @param {?} chknum
         * @return {?}
         */
            function (newarr, chknum) {
                /** @type {?} */
                var inc = 0;
                newarr.forEach((function (element) {
                    if (chknum == element) {
                        inc++;
                    }
                }));
                if (inc > 1) {
                    return true;
                }
                else {
                    return false;
                }
            };
        /**
         * @param {?} newarr
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.sortarr = /**
         * @param {?} newarr
         * @return {?}
         */
            function (newarr) {
                /** @type {?} */
                var i;
                /** @type {?} */
                var j;
                /** @type {?} */
                var temp;
                for (i = 0; i < newarr.length; ++i) {
                    for (j = i + 1; j < newarr.length; ++j) {
                        if (newarr[i] > newarr[j]) {
                            temp = newarr[i];
                            newarr[i] = newarr[j];
                            newarr[j] = temp;
                        }
                    }
                }
                //    newarr;
                this.setXaxisData(newarr);
            };
        /**
         * @param {?} newarr
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.setXaxisData = /**
         * @param {?} newarr
         * @return {?}
         */
            function (newarr) {
                var _this = this;
                this.xarr = newarr;
                // this.xaxisdata.push({label: 125, value: 125});
                // chk if newarr elements are present in xaxisdata
                /** @type {?} */
                var ispresent = false;
                newarr.forEach((function (arrelement) {
                    _this.xaxisdata.forEach((function (xaxiselement) {
                        if (arrelement == xaxiselement.label) {
                            ispresent = true;
                        }
                    }));
                    if (!ispresent) {
                        //create & push an obj in xaxisdata
                        /** @type {?} */
                        var obj = { label: arrelement, value: arrelement };
                        _this.xaxisdata.push(obj);
                    }
                    ispresent = false;
                }));
                //  
                // change arr to arr of objs
                /** @type {?} */
                var xdata = [];
                newarr.forEach((function (element) {
                    /** @type {?} */
                    var obj = { label: element, value: element };
                    xdata.push(obj);
                }));
                this.xaxisdata;
                this.xaxisdata1 = xdata;
                //initialize xaxis data
            };
        /**
         * @param {?} n
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.findDigitCount = /**
         * @param {?} n
         * @return {?}
         */
            function (n) {
                /** @type {?} */
                var count = 0;
                if (n >= 1)
                    ++count;
                while (n / 10 >= 1) {
                    n /= 10;
                    ++count;
                }
                return count;
            };
        /**
         * @param {?} width
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.setXinterval = /**
         * @param {?} width
         * @return {?}
         */
            function (width) {
                var _this = this;
                /** @type {?} */
                var interval = Math.round(this.xaxisdata.length / this.xinterval);
                /** @type {?} */
                var arr = [];
                /** @type {?} */
                var newarr = [];
                //    make Array out of this.xaxisdata
                this.xaxisdata.forEach((function (element) {
                    if (typeof (element.label) == 'number') {
                        arr.push(element.label);
                    }
                }));
                /** @type {?} */
                var min = Math.min.apply(null, arr);
                //find max
                /** @type {?} */
                var max = Math.max.apply(null, arr);
                /** @type {?} */
                var j = interval;
                /** @type {?} */
                var i;
                /** @type {?} */
                var ispresent = false;
                newarr[0] = min;
                // assa
                for (i = 1; j < max; i++) {
                    j = interval * i;
                    newarr[i] = j;
                }
                // newarr[i] = max;
                //inset numbers which are not present in xaxis domain but present in newarr
                newarr.forEach((function (arrelement) {
                    _this.xaxisdata.forEach((function (xaxiselement) {
                        if (xaxiselement.label == arrelement) {
                            ispresent = true;
                        }
                    }));
                    if (!ispresent) {
                        /** @type {?} */
                        var obj = { label: arrelement, value: arrelement };
                        _this.xaxisdata.push(obj);
                    }
                    ispresent = false;
                }));
                // this.sortarr(newarr);
                // newarr;
                // this.xaxisdata;
                this.xarr = newarr;
            };
        /**
         * @param {?} width
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.setDisplayfieldXinterval = /**
         * @param {?} width
         * @return {?}
         */
            function (width) {
                /** @type {?} */
                var interval = Math.round(this.xaxisdata.length / this.xinterval);
                /** @type {?} */
                var arr = [];
                /** @type {?} */
                var newarr = [];
                //    make Array out of this.xaxisdata
                this.xaxisdata.forEach((function (element) {
                    arr.push(element.label);
                }));
                /** @type {?} */
                var min = 0;
                /** @type {?} */
                var max = this.xaxisdata.length - 1;
                /** @type {?} */
                var j = interval;
                /** @type {?} */
                var i;
                newarr[0] = this.xaxisdata[min].label;
                for (i = 1; j < max; i++) {
                    newarr[i] = this.xaxisdata[j].label;
                    j = interval * i;
                }
                newarr.push(this.xaxisdata[max].label);
                this.xarr = newarr;
            };
        // formatxaxisarr() {
        //     let formattedarr = [];
        //     let temp = '';
        //     if(this.xarr) {
        //     if (typeof (this.xarr[0]) == 'string') {
        //         // treat string
        //         this.xarr.forEach(element => {
        //             if (typeof (element) == 'string') {
        //                 temp = '';
        //                 temp = element[0] + element[1] + '..'
        //                 formattedarr.push(temp)
        //             }
        //         });
        //          this.xarr = formattedarr;
        //     }
        //     if (typeof (this.xarr[0]) == 'number') {
        //         // treat numerials
        //         // wrap numbers
        //     }
        //              }
        // }
        // formatxaxisarr() {
        //     let formattedarr = [];
        //     let temp = '';
        //     if(this.xarr) {
        //     if (typeof (this.xarr[0]) == 'string') {
        //         // treat string
        //         this.xarr.forEach(element => {
        //             if (typeof (element) == 'string') {
        //                 temp = '';
        //                 temp = element[0] + element[1] + '..'
        //                 formattedarr.push(temp)
        //             }
        //         });
        //          this.xarr = formattedarr;
        //     }
        //     if (typeof (this.xarr[0]) == 'number') {
        //         // treat numerials
        //         // wrap numbers
        //     }
        //              }
        // }
        /**
         * @protected
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.initChart =
            // formatxaxisarr() {
            //     let formattedarr = [];
            //     let temp = '';
            //     if(this.xarr) {
            //     if (typeof (this.xarr[0]) == 'string') {
            //         // treat string
            //         this.xarr.forEach(element => {
            //             if (typeof (element) == 'string') {
            //                 temp = '';
            //                 temp = element[0] + element[1] + '..'
            //                 formattedarr.push(temp)
            //             }
            //         });
            //          this.xarr = formattedarr;
            //     }
            //     if (typeof (this.xarr[0]) == 'number') {
            //         // treat numerials
            //         // wrap numbers
            //     }
            //              }
            // }
            /**
             * @protected
             * @return {?}
             */
            function () {
                var _this = this;
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                //RESIZE STEP 2 START
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight);
                this.svg.selectAll("*").remove();
                /** @type {?} */
                var margin = { top: 40, right: 20, bottom: 30, left: 40 };
                //RESIZE STEP 2 ENDS HERE
                /** @type {?} */
                var width = +this.svgwidth - margin.left - margin.right;
                // this.xaxisdata;
                if (this.xinterval) {
                    if (!this.displayfield) {
                        this.setXinterval(width);
                    }
                    if (this.displayfield) {
                        this.setDisplayfieldXinterval(width);
                    }
                }
                else {
                    this.recalculatescale(width);
                }
                /** @type {?} */
                var height = +this.svgheight - margin.top - margin.bottom;
                /** @type {?} */
                var g = this.svg.append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                /** @type {?} */
                var x = d3.scalePoint()
                    .rangeRound([0, width])
                    .padding(0.1);
                /** @type {?} */
                var y = d3.scaleLinear()
                    .rangeRound([height, 0]);
                if (this.xaxisdata) {
                    x.domain(this.xaxisdata.map((function (d) {
                        if (typeof (d.label) == 'string') {
                            return d.label;
                        }
                        else {
                            return parseInt(d.value);
                        }
                    })));
                }
                if (this.yaxisdata) {
                    y.domain([0, d3.max(this.yaxisdata, (function (d) { return d.value; }))]);
                }
                //add axis
                /** @type {?} */
                var xaxisbottom = d3.axisBottom(x);
                if (this.xarr.length > 0) {
                    // if(this.slant) {
                    // this.formatxaxisarr();
                    //  }
                    xaxisbottom.tickValues(this.xarr);
                }
                if (this.deviceQueryService.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        g.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(xaxisbottom
                        // d3.axisBottom(x)
                        // .tickValues(this.xarr)
                        ).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        /** @type {?} */
                        var bottomaxis = g.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(xaxisbottom);
                        if (this.slant) {
                            // this.formatxaxisarr(); 
                            bottomaxis.selectAll("text")
                                .attr("cursor", "pointer")
                                .on("mouseover", (function (d) {
                                return tooltip.style("visibility", "visible");
                            }))
                                .on("mousemove", (function (d) {
                                return tooltip.html(_this.callXaxisTooltip(d))
                                    .style("top", (d3.event.pageY - 10) + "px")
                                    .style("left", (d3.event.pageX + 10) + "px");
                            }))
                                .on("mouseout", (function (d) {
                                return tooltip.style("visibility", "hidden");
                            }))
                                .on("click", (function (d) {
                                return tooltip.style("visibility", "hidden");
                            }))
                                .attr("y", 0)
                                .attr("x", 9)
                                .attr("dy", ".35em")
                                .attr("transform", "rotate(90)")
                                .style("text-anchor", "start")
                                .style("font-size", 10);
                        }
                    }
                }
                else {
                    g.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(xaxisbottom).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start")
                        .style("font-size", 10);
                }
                g.append("g")
                    .call(d3.axisLeft(y).ticks(this.tickscount));
                // tickSize(0,10));
                /** @type {?} */
                var rawdata = this._data;
                // call function to alter legends if displayfield condn satisfy
                this.alterLegend();
                return {
                    g: g, x: x, y: y, height: height, width: width, rawdata: rawdata
                };
                // 
            };
        /**
         * @protected
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.plotScale = /**
         * @protected
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (g, x, y, height, width) {
                if (this.vScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .attr('transform', 'translate(0,' + height + ')')
                        .call(d3.axisBottom(x).
                        tickSize(-this.width).tickFormat(''));
                }
                if (this.hScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y).ticks(this.tickscount)
                        .tickSize(-width).tickFormat(''));
                }
            };
        /**
         * @param {?} node
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.legendClick = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                // const legendNode = JSON.parse(JSON.stringify(node));
                // delete legendNode.color;
                // legendNode.data.forEach(element => {
                //     delete element.legend;
                // });
                var _this = this;
                // const legendNode = JSON.parse(JSON.stringify(node));
                // delete legendNode.color;
                // legendNode.data.forEach(element => {
                //     delete element.legend;
                // });
                /** @type {?} */
                var obj = {};
                obj["label"] = node.label;
                /** @type {?} */
                var data = [];
                node.data.forEach((function (element) {
                    /** @type {?} */
                    var object = {};
                    object[element.legend] = element.value;
                    object[_this.xaxisname] = element.label;
                    //   object[element.label] = element.value;
                    data.push(object);
                }));
                obj["data"] = data;
                this.onLegendClick.emit(obj);
                // this.onLegendClick.emit(legendNode);
            };
        /**
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.alterLegend = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.linelegends = [];
                if (this.displayfield) {
                    this.legends.forEach((function (element) {
                        if (element.label !== _this.displayfield) {
                            _this.linelegends.push(element);
                        }
                    }));
                }
                else {
                    this.linelegends = this.legends;
                }
            };
        /**
         * @param {?} tooltipdata
         * @return {?}
         */
        AmexioD3BaseLineComponent.prototype.callXaxisTooltip = /**
         * @param {?} tooltipdata
         * @return {?}
         */
            function (tooltipdata) {
                /** @type {?} */
                var obj = {};
                obj['x-axis'] = tooltipdata;
                return this.toolTipForBar(obj);
            };
        AmexioD3BaseLineComponent.propDecorators = {
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            xinterval: [{ type: i0.Input, args: ['data',] }, { type: i0.Input, args: ['xaxis-interval',] }],
            httpurl: [{ type: i0.Input, args: ['http-url',] }],
            httpmethod: [{ type: i0.Input, args: ['http-method',] }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            linecolor: [{ type: i0.Input, args: ['color',] }],
            displayfield: [{ type: i0.Input, args: ['display-field',] }],
            slant: [{ type: i0.Input, args: ['rotate',] }]
        };
        return AmexioD3BaseLineComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AmexioD3LineComponent = (function (_super) {
        __extends(AmexioD3LineComponent, _super);
        function AmexioD3LineComponent(deviceQueryService, cdf, myservice) {
            var _this = _super.call(this, deviceQueryService) || this;
            _this.deviceQueryService = deviceQueryService;
            _this.cdf = cdf;
            _this.myservice = myservice;
            _this.labelcolor = '';
            return _this;
        }
        /**
         * @return {?}
         */
        AmexioD3LineComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                if (this.level <= 1) {
                    /** @type {?} */
                    var resp_1;
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            resp_1 = response;
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.data = _this.getResponseData(resp_1);
                                _this.plotD3Chart();
                            }), 0);
                        }));
                    }
                    else if (this.data) {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(_this.data);
                            _this.plotD3Chart();
                        }), 0);
                    }
                }
            };
        /**
         * @return {?}
         */
        AmexioD3LineComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.data) {
                    setTimeout((function () {
                        _this.data = _this.getResponseData(_this.data);
                        _this.plotD3Chart();
                    }), 0);
                }
            };
        /**
         * @return {?}
         */
        AmexioD3LineComponent.prototype.validateData = /**
         * @return {?}
         */
            function () {
                if (this.data) ;
                else {
                    return "lmask";
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3LineComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                /** @type {?} */
                var resp;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        resp = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        AmexioD3LineComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.plotD3Chart();
                }), 0);
            };
        //RESIZE STEP 5 STARTS
        //RESIZE STEP 5 STARTS
        /**
         * @return {?}
         */
        AmexioD3LineComponent.prototype.resize =
            //RESIZE STEP 5 STARTS
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    // this.resizewt = this.chartId.nativeElement.offsetWidth;
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.plotD3Chart();
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        AmexioD3LineComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        /**
         * @return {?}
         */
        AmexioD3LineComponent.prototype.plotD3Chart = /**
         * @return {?}
         */
            function () {
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE 
                }
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                /** @type {?} */
                var linechart = this.initChart();
                this.rawdata = linechart.rawdata;
                // this.svgwidth = linechart.width;
                this.plotScale(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width);
                this.plotLine(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width, [], tooltip, (1));
                if (this.multiseriesdata) {
                    for (var index = 0; index < this.multiseriesdata.length; index++) {
                        this.plotLine(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width, this.multiseriesdata[index], tooltip, (index + 1));
                    }
                }
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        AmexioD3LineComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 4 ENDS
        /**
         * @private
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @param {?} data
         * @param {?} tooltip
         * @param {?} i
         * @return {?}
         */
        AmexioD3LineComponent.prototype.plotLine =
            //RESIZE STEP 4 ENDS
            /**
             * @private
             * @param {?} g
             * @param {?} x
             * @param {?} y
             * @param {?} height
             * @param {?} width
             * @param {?} data
             * @param {?} tooltip
             * @param {?} i
             * @return {?}
             */
            function (g, x, y, height, width, data, tooltip, i) {
                var _this = this;
                /** @type {?} */
                var line = d3.line()
                    .x((function (d) { return x(d.label); }))
                    .y((function (d) { return y(d.value); }));
                g.append("path")
                    .datum(data)
                    .attr("fill", "none")
                    .attr("stroke", (function (d) {
                    if (_this.linecolor.length > 0) {
                        if (_this.linecolor[i - 1]) {
                            return _this.linecolor[i - 1];
                        }
                        else {
                            return _this.predefinedcolors[i - 1];
                        }
                    }
                    else if (_this.linecolor.length < 1) {
                        return _this.predefinedcolors[i - 1];
                        //  return tempcolor;
                    }
                }))
                    .attr("stroke-width", 1.5)
                    .attr("d", line);
                g.selectAll('dot')
                    .data(data)
                    .enter()
                    .append('circle')
                    .attr("cx", (function (d) { return x(d.label); }))
                    .attr("cy", (function (d) { return y(d.value); }))
                    .attr('r', 2)
                    .attr("fill", (function (d) {
                    if (_this.linecolor.length > 0) {
                        if (_this.linecolor[i - 1]) {
                            return _this.linecolor[i - 1];
                        }
                        else {
                            return _this.predefinedcolors[i - 1];
                        }
                    }
                    else if (_this.linecolor.length < 1) {
                        //  return tempcolor;
                        return _this.predefinedcolors[i - 1];
                    }
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return tooltip.html(_this.callTooltip(d))
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                }))
                    .on("mouseout", (function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    _this.lineChartClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
                //lets plot labels here
                if (this.labelflag) {
                    g.selectAll('label')
                        .data(data)
                        .enter()
                        .append('text')
                        .style("font-weight", "bold")
                        .attr("text-anchor", "middle")
                        .attr("fill", (function (d) {
                        // if (this.labelcolor && this.labelcolor.length > 0) {
                        //   return this.labelcolor;
                        // } else {
                        //   return "black";
                        // }
                        if (_this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else if (_this.linecolor.length > 0) {
                            if (_this.linecolor[i - 1]) {
                                return _this.linecolor[i - 1];
                            }
                            else {
                                return _this.predefinedcolors[i - 1];
                            }
                        }
                        else if (_this.linecolor.length < 1) {
                            //  return tempcolor;
                            return _this.predefinedcolors[i - 1];
                        }
                    }))
                        .attr("x", (function (d, i) {
                        return x(d.label);
                    }))
                        .attr("y", (function (d, i) {
                        return y(d.value) - 10;
                    }))
                        .text((function (d) {
                        return d.value;
                    }))
                        .attr("cursor", "pointer")
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.callTooltip(d))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.lineChartClick(d);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                    }));
                }
            };
        /**
         * @param {?} d
         * @return {?}
         */
        AmexioD3LineComponent.prototype.lineChartClick = /**
         * @param {?} d
         * @return {?}
         */
            function (d) {
                /** @type {?} */
                var obj = {};
                obj[d.legend] = d.value;
                obj[this.xaxisname] = d.label;
                this.chartClick(obj);
            };
        /**
         * @param {?} tooltipdata
         * @return {?}
         */
        AmexioD3LineComponent.prototype.callTooltip = /**
         * @param {?} tooltipdata
         * @return {?}
         */
            function (tooltipdata) {
                /** @type {?} */
                var obj = {};
                obj[tooltipdata.legend] = tooltipdata.value;
                obj[this.xaxisname] = tooltipdata.label;
                return this.toolTipForBar(obj);
            };
        AmexioD3LineComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-line',
                        template: "<div  #chartId *ngIf=\"drillableFlag\" #divid (window:resize)=\"validateresize()\"> \n    <table [ngClass]=\"validateData()\"  style=\"width: 100%;\" > \n            <ng-container *ngIf = \"title.length > 0\">\n            <tr><td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td></tr>\n            </ng-container>\n            <tr>\n                <td>\n                    <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                    </svg>            \n                </td>\n            </tr>\n            <tr  *ngIf=\"legend\">\n                <td style=\"display: block; padding: 5px;\">\n                        <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" \n                                            [data]=\"linelegends\" style=\"height:100%;\">\n                        </amexio-d3-legend>\n                </td>\n            \n            </tr>\n    </table>\n    <!-- <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n        </div> -->\n    </div>\n    \n    <!-- {{legends | json}} -->"
                    },] },
        ];
        AmexioD3LineComponent.ctorParameters = function () {
            return [
                { type: DeviceQueryService },
                { type: i0.ChangeDetectorRef },
                { type: CommanDataService }
            ];
        };
        AmexioD3LineComponent.propDecorators = {
            labelcolor: [{ type: i0.Input, args: ['label-color',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }],
            drillid: [{ type: i0.ViewChild, args: ['drillid',] }]
        };
        return AmexioD3LineComponent;
    }(AmexioD3BaseLineComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BarstackComponent = (function (_super) {
        __extends(BarstackComponent, _super);
        function BarstackComponent(myservice, cdf, device) {
            var _this = _super.call(this, 'barstack') || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.maxYValue = 0;
            _this.data = [];
            _this.barwidth = 0;
            _this.title = "";
            _this.legend = true;
            _this.color = [];
            _this.svgheight = 300;
            _this.onLegendClick = new i0.EventEmitter();
            return _this;
        }
        /**
         * @return {?}
         */
        BarstackComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                if (this.level <= 1) {
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            _this.httpresponse = response;
                            _this.data = _this.getResponseData(response);
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.transformData(_this.data);
                                _this.plotChart();
                            }), 0);
                        }));
                    }
                    else if (this.data1) {
                        setTimeout((function () {
                            _this.transformData(_this.data1);
                            _this.plotChart();
                        }), 0);
                    }
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        BarstackComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        _this.httpresponse = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        BarstackComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.data = _this.getResponseData(_this.httpresponse);
                    _this.transformData(_this.data);
                    _this.plotChart();
                }), 0);
            };
        /**
         * @param {?} data1
         * @return {?}
         */
        BarstackComponent.prototype.transformData = /**
         * @param {?} data1
         * @return {?}
         */
            function (data1) {
                var _this = this;
                this.keyArray = [];
                this.legendArray = [];
                data1.forEach((function (element, i) {
                    if (i == 0) {
                        element.forEach((function (innerelement, index) {
                            if (index > 0) {
                                _this.legendArray[innerelement] = { 'data': [] };
                                _this.keyArray.push(innerelement);
                            }
                            else if (index == 0) {
                                _this.xaxis = innerelement;
                            }
                        }));
                    }
                }));
                /** @type {?} */
                var tempinnerarray;
                tempinnerarray = [];
                data1.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var obj_1 = {};
                        element.forEach((function (innerelement, innerindex) {
                            if (innerindex >= 0) {
                                /** @type {?} */
                                var key = _this.keyArray[innerindex - 1];
                                obj_1[key] = element[innerindex];
                                /** @type {?} */
                                var legenddata = _this.legendArray[key];
                                if (legenddata) {
                                    legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                                }
                            }
                        }));
                        tempinnerarray.push(obj_1);
                    }
                }));
                this.data = [];
                tempinnerarray.forEach((function (element) {
                    _this.data.push(element);
                }));
                /** @type {?} */
                var maxY = 0;
                /** @type {?} */
                var yaxismaxArray = [];
                //find max for yaxis
                this.data.forEach((function (element) {
                    var _loop_1 = function (key, value) {
                        _this.keyArray.forEach((function (key1) {
                            if (key == key1) {
                                maxY = maxY + value;
                            }
                        })); //keyarray loop ends here
                    };
                    try {
                        for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                            _loop_1(key, value);
                        } //for ends here
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (_b && !_b.done && (_d = _a.return))
                                _d.call(_a);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                    yaxismaxArray.push(maxY);
                    maxY = 0;
                    var e_1, _d;
                })); // foreach ends
                // foreach ends
                /** @type {?} */
                var tempLarge = 0;
                /** @type {?} */
                var i;
                for (i = 0; i < yaxismaxArray.length; i++) {
                    if (yaxismaxArray[i] > tempLarge) {
                        this.maxYValue = yaxismaxArray[i];
                    } //if ends
                } // for ends
                this.legends = [];
                this.keyArray.forEach((function (element, index) {
                    /** @type {?} */
                    var legenddata = _this.legendArray[element];
                    if (_this.color.length > 0) {
                        /** @type {?} */
                        var object = { 'label': element, 'color': _this.color[index], 'data': legenddata.data };
                        _this.legends.push(object);
                    }
                    else {
                        /** @type {?} */
                        var object = { 'label': element, 'color': _this.predefinedcolors[index], 'data': legenddata.data };
                        _this.legends.push(object);
                    }
                }));
            };
        /**
         * @return {?}
         */
        BarstackComponent.prototype.plotChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                /** @type {?} */
                var margin = { top: 30, right: 30, bottom: 90, left: 60 };
                /** @type {?} */
                var colors = this.predefinedcolors;
                if (this.device.IsDesktop()) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE 
                }
                //this.svgwidth = this.chartId.nativeElement.offsetWidth;
                /** @type {?} */
                var data;
                data = this.data;
                /** @type {?} */
                var keysetarray = [];
                if (this.httpmethod && this.httpurl) {
                    try {
                        for (var _a = __values(Object.entries(this.data[0])), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                            keysetarray.push(key);
                        }
                    }
                    catch (e_2_1) {
                        e_2 = { error: e_2_1 };
                    }
                    finally {
                        try {
                            if (_b && !_b.done && (_d = _a.return))
                                _d.call(_a);
                        }
                        finally {
                            if (e_2)
                                throw e_2.error;
                        }
                    }
                    this.keyArray = keysetarray;
                    this.keyArray.splice(0, 1);
                }
                /** @type {?} */
                var series = d3.stack().keys(this.keyArray)
                    .offset(d3.stackOffsetDiverging)(this.data);
                /** @type {?} */
                var width = this.svgwidth - margin.left - margin.right;
                /** @type {?} */
                var height;
                //  = this.svgheight - margin.bottom - margin.top;
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight);
                if (this.device.IsDesktop()) {
                    this.offsetheight = this.chartId.nativeElement.offsetHeight;
                    //  - margin.bottom -margin.top;
                    height = this.offsetheight;
                }
                else {
                    height = this.chartId.nativeElement.offsetHeight - 10;
                }
                /** @type {?} */
                var x = d3.scaleBand()
                    .domain(data.map((function (d) {
                    return d[Object.keys(d)[0]];
                })))
                    .rangeRound([margin.left, this.svgwidth - margin.right])
                    .padding(0.35);
                /** @type {?} */
                var y = d3.scaleLinear()
                    .domain([d3.min(this.stackMin(series)),
                    this.maxYValue
                    // d3.max(this.stackMax(series))
                ])
                    .rangeRound([height - margin.bottom, margin.top]);
                if (this.device.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + y(0) + ")")
                            .call(d3.axisBottom(x)).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + y(0) + ")")
                            .call(d3.axisBottom(x));
                    }
                }
                else {
                    this.svg.append("g")
                        .attr("transform", "translate(0," + y(0) + ")")
                        .call(d3.axisBottom(x)).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                this.svg.append("g")
                    .attr("transform", "translate(" + margin.left + ",0)")
                    .call(d3.axisLeft(y).ticks(this.tickscount));
                this.plotLine(this.svg, x, y, height, width, margin.left);
                /** @type {?} */
                var svgRect = this.svg.append("g")
                    .selectAll("g")
                    .data(series)
                    .enter().append("g")
                    .attr("fill", (function (d, index) {
                    if (_this.color.length > 0) {
                        if (_this.color[index]) {
                            return _this.color[index];
                        }
                        else {
                            return colors[index];
                        }
                    }
                    else {
                        return colors[index];
                    }
                }))
                    .selectAll("rect")
                    .data((function (d) {
                    return d;
                }));
                svgRect.enter().append("rect")
                    .attr("width", x.bandwidth()).attr('id', (function (d, i) {
                    return d.data[i];
                }))
                    .attr("x", (function (d) {
                    return x(+d.data[Object.keys(d.data)[0]]);
                }))
                    .attr("y", (function (d, index) {
                    return y(d[1]);
                }))
                    .attr("cursor", "pointer")
                    .attr("height", (function (d, index) {
                    return y(d[0]) - y(d[1]);
                }))
                    .on("mouseover", (function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return tooltip.html(_this.setKey(d))
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                }))
                    .on("mouseout", (function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    _this.setBarClickText(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                    // this.chartClick(d);
                }));
                // -------------------------
                if (this.labelflag) {
                    svgRect.enter()
                        .append("text")
                        .style("font-weight", "bold")
                        .style("font-size", "1vw")
                        .attr("text-anchor", "middle")
                        .attr("fill", (function (d) {
                        if (_this.labelcolor && _this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else {
                            return "black";
                        }
                    }))
                        .attr("x", (function (d) {
                        return x(+d.data[Object.keys(d.data)[0]]) + x.bandwidth() / 2;
                    }))
                        .attr("y", (function (d, index) {
                        return y(d[1]) + 20;
                    }))
                        .text((function (d) {
                        if ((d[Object.keys(d)[1]] - d[Object.keys(d)[0]]) > 0) {
                            return d[Object.keys(d)[1]] - d[Object.keys(d)[0]];
                        }
                    }))
                        .attr("cursor", "pointer")
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.setKey(d))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.setBarClickText(d);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                        // this.chartClick(d);
                    }));
                }
                var e_2, _d;
            };
        /**
         * @param {?} serie
         * @return {?}
         */
        BarstackComponent.prototype.stackMin = /**
         * @param {?} serie
         * @return {?}
         */
            function (serie) {
                return d3.min(serie, (function (d) { return d[0]; }));
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        BarstackComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 4 ENDS
        /**
         * @return {?}
         */
        BarstackComponent.prototype.resize =
            //RESIZE STEP 4 ENDS
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.plotChart();
            };
        /**
         * @param {?} svg
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @param {?} m
         * @return {?}
         */
        BarstackComponent.prototype.plotLine = /**
         * @param {?} svg
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @param {?} m
         * @return {?}
         */
            function (svg, x, y, height, width, m) {
                if (this.hScale) {
                    svg.append('g')
                        .attr("transform", "translate(" + m + ",0)")
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y).ticks(this.tickscount)
                        .tickSize(-width).tickFormat(''));
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        BarstackComponent.prototype.legendClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var obj = {};
                obj["label"] = event.label;
                /** @type {?} */
                var data = [];
                event.data.forEach((function (element) {
                    /** @type {?} */
                    var object = {};
                    object[element.label] = element.value;
                    data.push(object);
                }));
                obj["data"] = data;
                this.onLegendClick.emit(obj);
            };
        /**
         * @param {?} d
         * @return {?}
         */
        BarstackComponent.prototype.setKey = /**
         * @param {?} d
         * @return {?}
         */
            function (d) {
                /** @type {?} */
                var diff = d[0] - d[1];
                if (diff < 0) {
                    diff = (diff * (-1));
                }
                try {
                    for (var _a = __values(Object.entries(d.data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (value == diff) {
                            /** @type {?} */
                            var object = {};
                            object[key] = value;
                            object[this.xaxis] = d.data[Object.keys(d.data)[0]];
                            return (this.toolTipForBar(object));
                        }
                    }
                }
                catch (e_3_1) {
                    e_3 = { error: e_3_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_3)
                            throw e_3.error;
                    }
                }
                var e_3, _d;
            };
        /**
         * @param {?} d
         * @return {?}
         */
        BarstackComponent.prototype.setBarClickText = /**
         * @param {?} d
         * @return {?}
         */
            function (d) {
                /** @type {?} */
                var diff = d[0] - d[1];
                if (diff < 0) {
                    diff = (diff * (-1));
                }
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(d.data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (value == diff) {
                            object[key] = value;
                            object[this.xaxis] = d.data[Object.keys(d.data)[0]];
                        }
                    }
                }
                catch (e_4_1) {
                    e_4 = { error: e_4_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_4)
                            throw e_4.error;
                    }
                }
                this.chartClick(object);
                var e_4, _d;
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        BarstackComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_5_1) {
                        e_5 = { error: e_5_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_5)
                                throw e_5.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_5, _a;
            };
        BarstackComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-barstack',
                        template: "<div #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n    <table *ngIf=\"data1.length > 0\" style=\"width: 100%;\">\n            <ng-container *ngIf = \"title.length > 0\">\n        <tr>\n            <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n        </tr>\n            </ng-container>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\"\n                    style=\"height:100%;\">\n                </amexio-d3-legend>\n            </td>\n\n        </tr>\n    </table>\n    <div *ngIf=\"data1.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n</div>",
                        styles: [""]
                    },] },
        ];
        BarstackComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        BarstackComponent.propDecorators = {
            data1: [{ type: i0.Input, args: ['data',] }],
            barwidth: [{ type: i0.Input }],
            title: [{ type: i0.Input }],
            legend: [{ type: i0.Input }],
            color: [{ type: i0.Input }],
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }],
            drillid: [{ type: i0.ViewChild, args: ['drillid',] }],
            onLegendClick: [{ type: i0.Output }]
        };
        return BarstackComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GroupbarComponent = (function (_super) {
        __extends(GroupbarComponent, _super);
        function GroupbarComponent(myservice, cdf, device) {
            var _this = _super.call(this, 'multibar') || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.data = [];
            _this.legend = true;
            _this.barwidth = 0;
            _this.onLegendClick = new i0.EventEmitter();
            _this.svgheight = 300;
            _this.showzeroflag = true;
            _this.groupbarchartArray = [];
            _this.urllegendArray = [];
            _this.defualtColors = [];
            _this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
            return _this;
        }
        /**
         * @return {?}
         */
        GroupbarComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                if (this.level <= 1) {
                    /** @type {?} */
                    var res_1;
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            res_1 = response;
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.data = _this.getResponseData(res_1);
                                _this.initializeData();
                                _this.plotD3Chart();
                            }), 0);
                        }));
                    }
                    else if (this.data) {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(_this.data);
                            _this.initializeData();
                            _this.plotD3Chart();
                        }), 0);
                    }
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        GroupbarComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                /** @type {?} */
                var resp;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        resp = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        GroupbarComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.initializeData();
                    _this.plotD3Chart();
                }), 0);
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        GroupbarComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        /**
         * @return {?}
         */
        GroupbarComponent.prototype.plotD3Chart = /**
         * @return {?}
         */
            function () {
                this.convertToJSON();
                this.plotGroupBarChart();
                this.transformData(this.data);
            };
        /**
         * @private
         * @return {?}
         */
        GroupbarComponent.prototype.plotGroupBarChart = /**
         * @private
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                this.defualtColors = this.predefinedcolors;
                // this.svgwidth = this.chartId.nativeElement.offsetWidth;
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE 
                }
                /** @type {?} */
                var margin = { top: 20, right: 20, bottom: 50, left: 40 };
                /** @type {?} */
                var width = this.svgwidth - margin.left - margin.right;
                /** @type {?} */
                var height = this.svgheight - margin.top - margin.bottom;
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                /** @type {?} */
                var x0 = d3.scaleBand()
                    .rangeRound([0, width])
                    .padding(0.2);
                /** @type {?} */
                var x1 = d3.scaleBand().padding(0.1);
                /** @type {?} */
                var y = d3.scaleLinear()
                    .rangeRound([height, 0]);
                //setting x and y domains
                this.years = this.groupbarchartArray.map((function (d) { return d.labels; }));
                /** @type {?} */
                var label = this.groupbarchartArray[0].values.map((function (d) { return d.label; }));
                x0.domain(this.years);
                x1.domain(label).rangeRound([0, x0.bandwidth()]);
                y.domain([0, d3.max(this.groupbarchartArray, (function (labels) {
                        return d3.max(labels.values, (function (d) { return d.value; }));
                    }))]);
                //dynamic barwidth
                if (this.barwidth > 0) {
                    this.barwidth = this.barwidth;
                }
                else {
                    this.barwidth = x0.bandwidth;
                }
                // add x axis to svg
                if (this.device.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(d3.axisBottom(x0)).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(d3.axisBottom(x0));
                    }
                }
                else {
                    this.svg.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(d3.axisBottom(x0)).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                //add y axis to svg
                this.svg.append("g")
                    .call(d3.axisLeft(y)
                    .ticks(10).ticks(this.tickscount));
                this.plotLine(this.svg, y, height, width);
                // svg.select('.y').transition().duration(500).delay(1300).style('opacity', '1');
                //adding bars
                /** @type {?} */
                var slice = this.svg.selectAll(".slice")
                    .data(this.groupbarchartArray)
                    .enter().append("g")
                    .attr("class", "g")
                    .attr("transform", (function (d) {
                    (d.values).forEach((function (element, index) {
                        //splice 0 
                        if (element.value && (element.value < 1)) {
                            d.values.splice(0, index);
                        }
                    }));
                    return "translate(" + x0(d.labels) + ",0)";
                }));
                slice.selectAll("rect")
                    .data((function (d) { return d.values; }))
                    .enter().
                    append("rect")
                    .attr("width", x1.bandwidth)
                    .attr("x", (function (d) {
                    return x1(d.label);
                }))
                    .style("fill", (function (d, index) {
                    if (_this.colors.length > 0) {
                        if (_this.colors[index]) {
                            return _this.colors[index];
                        }
                        else {
                            return _this.defualtColors[index];
                        }
                    }
                    else {
                        return _this.defualtColors[index];
                    }
                }))
                    .attr("y", (function (d) { return y(0); }))
                    .attr("height", (function (d) { return height - y(0); }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return tooltip.html(_this.setKey(d))
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                })).on("mouseout", (function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    _this.groupbarClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
                // -------------------------------------------------------
                if (this.labelflag) {
                    slice.selectAll("text")
                        .data((function (d) { return d.values; }))
                        .enter().append("text")
                        .attr("width", x1.bandwidth)
                        .attr("x", (function (d) {
                        return x1(d.label) + x1.bandwidth() / 2;
                    }))
                        .attr("y", (function (d) { return y(d.value); }))
                        .attr("height", (function (d) { return height - y(0); }))
                        .style("font-weight", "bold")
                        .style("font-size", "1vw")
                        .attr("text-anchor", "middle")
                        .attr("fill", (function (d) {
                        if (_this.labelcolor && _this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else {
                            return "black";
                        }
                    }))
                        .text((function (d) {
                        // if((d.value > 0) ) {
                        // return d.value;
                        // }
                        if (_this.showzeroflag) {
                            return d.value;
                        }
                        else if (!_this.showzeroflag) {
                            if (d.value > 0) {
                                return d.value;
                            }
                        }
                    }))
                        .attr("cursor", "pointer")
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.setKey(d)
                        //  this.toolTipContent(d)
                        )
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    })).on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.groupbarClick(d);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                        // this.chartClick(d);
                    }));
                }
                slice.selectAll("rect")
                    .attr("y", (function (d) {
                    return y(d.value);
                }))
                    .attr("height", (function (d) { return height - y(d.value); }));
            };
        /**
         * @param {?} d
         * @return {?}
         */
        GroupbarComponent.prototype.groupbarClick = /**
         * @param {?} d
         * @return {?}
         */
            function (d) {
                /** @type {?} */
                var object = {};
                object[d.label] = d.value;
                object[this.xaxisData] = d.xaxis;
                this.chartClick(object);
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        GroupbarComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 4 ENDS
        /**
         * @return {?}
         */
        GroupbarComponent.prototype.resize =
            //RESIZE STEP 4 ENDS
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.plotGroupBarChart();
            };
        /**
         * @param {?} event
         * @return {?}
         */
        GroupbarComponent.prototype.legendClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var obj = {};
                obj["label"] = event.label;
                /** @type {?} */
                var data = [];
                event.data.forEach((function (element) {
                    /** @type {?} */
                    var object = {};
                    object[element.label] = element.value;
                    data.push(object);
                }));
                obj["data"] = data;
                this.onLegendClick.emit(obj);
            };
        //2d array to json conversion
        //2d array to json conversion
        /**
         * @return {?}
         */
        GroupbarComponent.prototype.convertToJSON =
            //2d array to json conversion
            /**
             * @return {?}
             */
            function () {
                /** @type {?} */
                var groupChartObj = { "labels": "", values: [] };
                /** @type {?} */
                var firstRowOfData = this.data[0];
                this.xaxisData = this.data[0][0];
                for (var i = 1; i < this.data.length; i++) {
                    /** @type {?} */
                    var multiSeriesArray = [];
                    /** @type {?} */
                    var valueOfJ = void 0;
                    for (var j = 1; j < this.data[i].length; j++) {
                        valueOfJ = this.data[i][0];
                        /** @type {?} */
                        var singleBarObj = {};
                        singleBarObj["value"] = this.data[i][j];
                        singleBarObj["label"] = firstRowOfData[j];
                        singleBarObj["xaxis"] = this.data[i][0];
                        multiSeriesArray.push(singleBarObj);
                    }
                    if (multiSeriesArray.length) {
                        groupChartObj["values"] = multiSeriesArray;
                        /** @type {?} */
                        var newLabelsValues = valueOfJ;
                        /** @type {?} */
                        var newGroupDataObj = Object.assign({}, groupChartObj);
                        newGroupDataObj['labels'] = newLabelsValues + '';
                        this.groupbarchartArray.push(newGroupDataObj);
                    }
                }
            };
        /**
         * @return {?}
         */
        GroupbarComponent.prototype.transformto2dArray = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var result = [];
                result.push("years");
                this.data.forEach((function (element, i) {
                    if (i == 0) {
                        element.values.forEach((function (element2) {
                            result.push(element2.label);
                        }));
                    }
                }));
                this.urllegendArray.push(result);
                /** @type {?} */
                var temparray = [];
                this.data.forEach((function (element) {
                    temparray = [];
                    /** @type {?} */
                    var values;
                    /** @type {?} */
                    var year = element.labels;
                    temparray.push(year);
                    element.values.forEach((function (element2) {
                        values = element2.value;
                        temparray.push(values);
                    }));
                    _this.urllegendArray.push(temparray);
                }));
            };
        /**
         * @param {?} data
         * @return {?}
         */
        GroupbarComponent.prototype.transformData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                this.keyArray = [];
                this.legendArray = [];
                data.forEach((function (element, i) {
                    if (i == 0) {
                        element.forEach((function (innerelement, index) {
                            if (index > 0) {
                                _this.legendArray[innerelement] = { 'data': [] };
                                _this.keyArray.push(innerelement);
                            }
                        }));
                    }
                }));
                data.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var obj_1 = {};
                        element.forEach((function (innerelement, innerindex) {
                            if (innerindex >= 0) {
                                /** @type {?} */
                                var key = _this.keyArray[innerindex - 1];
                                obj_1[key] = element[innerindex];
                                /** @type {?} */
                                var legenddata = _this.legendArray[key];
                                if (legenddata) {
                                    legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                                }
                            }
                        }));
                    }
                }));
                this.legends = [];
                this.keyArray.forEach((function (element, index) {
                    /** @type {?} */
                    var legenddata = _this.legendArray[element];
                    /** @type {?} */
                    var object;
                    if (_this.colors.length > 0) {
                        object = { 'label': element, 'color': _this.colors[index], 'data': legenddata.data };
                    }
                    else {
                        object = { 'label': element, 'color': _this.predefinedcolors[index], 'data': legenddata.data };
                    }
                    _this.legends.push(object);
                }));
            };
        /**
         * @param {?} d
         * @return {?}
         */
        GroupbarComponent.prototype.setKey = /**
         * @param {?} d
         * @return {?}
         */
            function (d) {
                /** @type {?} */
                var object = {};
                object[d.label] = d.value;
                object[this.xaxisData] = d.xaxis;
                return (this.toolTipForBar(object));
            };
        /**
         * @param {?} g
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        GroupbarComponent.prototype.plotLine = /**
         * @param {?} g
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (g, y, height, width) {
                if (this.hScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y)
                        .tickSize(-width).tickFormat('').ticks(this.tickscount));
                }
            };
        GroupbarComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-multiseries',
                        template: "<div  #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\"> \n<table *ngIf=\"data.length > 0\"  style=\"width: 100%;\">\n    <tr *ngIf = \"title.length > 0\" >\n        <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n    </tr>\n    <tr>\n        <td>\n            <svg [attr.height]=\"height\" [attr.width]=\"width\" [attr.id]=\"componentId\">\n            </svg>\n        </td>\n    </tr>\n    <tr *ngIf=\"legend\">\n        <td style=\"display: block; padding: 5px;\">\n            <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\" style=\"height:100%;\"></amexio-d3-legend>\n        </td>\n    </tr>\n</table>\n<div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n</div>\n\n\n",
                        styles: [""]
                    },] },
        ];
        GroupbarComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        GroupbarComponent.propDecorators = {
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }],
            drillid: [{ type: i0.ViewChild, args: ['drillid',] }],
            data: [{ type: i0.Input, args: ['data',] }],
            legend: [{ type: i0.Input }],
            barwidth: [{ type: i0.Input }],
            onLegendClick: [{ type: i0.Output }],
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            showzeroflag: [{ type: i0.Input, args: ['show-zero-values',] }]
        };
        return GroupbarComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CombochartComponent = (function (_super) {
        __extends(CombochartComponent, _super);
        function CombochartComponent(myservice, cdf, device) {
            var _this = _super.call(this, 'combochart') || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.svgheight = 300;
            _this.lineColor = "black";
            _this.label = false;
            _this.horizontal = false;
            _this.barwidth = 0;
            //   @Input('line-data-index') lineInput: any;
            _this.lineInput = [];
            _this.barInput = [];
            _this.showzeroflag = true;
            _this.simpleComboFlag = false;
            _this.completeconverteddata = [];
            _this.simpleCombodata = [];
            _this.groupbarchartArray = [];
            _this.highercolorindex = 0;
            _this.colorflag = false;
            _this.keyArray = [];
            _this.transformeddata = [];
            _this.legendArray = [];
            _this.legends = [];
            _this.LineArray = [];
            _this.outputData = [];
            _this.higherdot1colorindex = 0;
            return _this;
        }
        /**
         * @return {?}
         */
        CombochartComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                if (this.level <= 1) {
                    /** @type {?} */
                    var resp_1;
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            resp_1 = response;
                            _this.httpresponse = response;
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.data = _this.getResponseData(resp_1);
                                _this.transformData();
                                _this.initializeData();
                                _this.plotD3Chart();
                            }), 0);
                        }));
                    }
                    else if (this.data) {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(_this.data);
                            _this.transformData();
                            _this.initializeData();
                            _this.plotD3Chart();
                        }), 0);
                    }
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        CombochartComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        _this.httpresponse = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            // this.data = this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        CombochartComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.data = _this.getResponseData(_this.httpresponse);
                    _this.transformData();
                    _this.initializeData();
                    _this.plotD3Chart();
                }), 0);
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        CombochartComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        /**
         * @return {?}
         */
        CombochartComponent.prototype.transformData = /**
         * @return {?}
         */
            function () {
                this.formDatastructure();
                this.tranasforsimplejson();
            };
        /**
         * @return {?}
         */
        CombochartComponent.prototype.formDatastructure = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // for line
                //call createjson() for complete data for line
                this.lineflag = true;
                this.createjson(this.data);
                //validate scenarios
                //validate scenario1: bar + line + data
                if ((this.barInput.length > 0) && (this.lineInput.length > 0) &&
                    (this.data[0].length > 2)) {
                    this.sc1 = true;
                    this.createData1(this.barInput, this.data);
                }
                else if ((this.lineInput.length > 0) &&
                    //##get it checked
                    (this.data[0].length > 1)) {
                    this.sc2 = true;
                    //if so set sc2barflag
                    this.data[0].forEach((function (column) {
                        _this.lineInput.forEach((function (linename) {
                            if (column !== linename) {
                                _this.sc2barflag = true;
                                // u can plot bar now
                            }
                        }));
                    }));
                    this.createData1(null, this.data);
                    //chk if sc2barflag is set or reset
                    if (this.sc2barflag == true) ;
                } //else if of sc2 ends
                else if ((this.barInput.length > 0) && (this.data[0].length > 1)) {
                    this.sc3 = true;
                    this.createData1(this.barInput, this.data);
                }
                else if ((this.barInput.length < 1) && (this.lineInput.length < 1) && this.data[0].length > 1) {
                    this.sc4 = true;
                    this.createData1(null, this.data);
                }
            };
        /**
         * @param {?} inpdata
         * @param {?} fulldata
         * @return {?}
         */
        CombochartComponent.prototype.createData1 = /**
         * @param {?} inpdata
         * @param {?} fulldata
         * @return {?}
         */
            function (inpdata, fulldata) {
                var _this = this;
                /** @type {?} */
                var linearr = [];
                this.lineInput.forEach((function (element) {
                    linearr.push(element.column);
                }));
                this.firstrow = this.data[0];
                /** @type {?} */
                var dummyArray = [];
                dummyArray.push(0);
                fulldata.forEach((function (record, index) {
                    if (index === 0) {
                        // THIS LOGIC IS USED FOR FINDING INDEXS AND ADD INTO dummyArray ARRAY
                        record.forEach((function (innerObject, innerIndex) {
                            //validates scenario1 and 3
                            if (_this.sc1 == true || _this.sc3 == true) {
                                _this.barInput.forEach((function (elementOfInputData) {
                                    //aja
                                    if (innerObject === elementOfInputData.column) {
                                        //dummyarray has index stack
                                        dummyArray.push(innerIndex);
                                    }
                                }));
                            } //sc1 and sc3 validation done
                            //validates scenario 2
                            if (_this.sc2 == true) {
                                if (_this.sc2barflag == true) {
                                    _this.lineInput.forEach((function (elementOfLineData) {
                                        if ((innerObject !== elementOfLineData.column) && (innerIndex !== 0)) {
                                            if (linearr.includes(innerObject) == false) {
                                                if (dummyArray.includes(innerIndex)) ;
                                                else {
                                                    dummyArray.push(innerIndex);
                                                    return;
                                                }
                                            } // }
                                            //   }
                                            // });
                                        }
                                    }));
                                }
                            }
                        }));
                        //validates scenario 4
                        if (_this.sc4 == true) {
                            // chk if barflag is set
                            /** @type {?} */
                            var columns = _this.data[0].length;
                            if (columns > 1) {
                                dummyArray.push(1);
                            }
                        }
                        // dummyArray.push(0);
                        /** @type {?} */
                        var firstArray_1 = [];
                        // FOR FIRST RECORD
                        dummyArray.forEach((function (object, dummyIndex) {
                            firstArray_1.push(record[object]);
                        }));
                        _this.outputData.push(firstArray_1);
                    }
                    else {
                        /** @type {?} */
                        var newData_1 = [];
                        record.forEach((function (innerObject, innerIndex) {
                            dummyArray.forEach((function (object, dummyIndex) {
                                if (innerIndex === object) {
                                    newData_1.push(innerObject);
                                }
                            }));
                        }));
                        _this.outputData.push(newData_1);
                    }
                }));
                this.createjson(this.outputData);
                // this.formLegendData(this.outputData);
            };
        /**
         * @param {?} arraydata
         * @return {?}
         */
        CombochartComponent.prototype.createjson = /**
         * @param {?} arraydata
         * @return {?}
         */
            function (arraydata) {
                /** @type {?} */
                var groupChartObj = { "labels": "", values: [] };
                this.groupbarchartArray = [];
                /** @type {?} */
                var firstRowOfData = arraydata[0];
                this.xaxisData = this.data[0][0];
                for (var i = 1; i < arraydata.length; i++) {
                    /** @type {?} */
                    var multiSeriesArray = [];
                    /** @type {?} */
                    var valueOfJ = void 0;
                    for (var j = 1; j < arraydata[i].length; j++) {
                        valueOfJ = arraydata[i][0];
                        /** @type {?} */
                        var singleBarObj = {};
                        singleBarObj["value"] = arraydata[i][j];
                        singleBarObj["label"] = firstRowOfData[j];
                        singleBarObj["xaxis"] = arraydata[i][0];
                        multiSeriesArray.push(singleBarObj);
                    }
                    if (multiSeriesArray.length) {
                        groupChartObj["values"] = multiSeriesArray;
                        /** @type {?} */
                        var newLabelsValues = valueOfJ;
                        /** @type {?} */
                        var newGroupDataObj = Object.assign({}, groupChartObj);
                        newGroupDataObj['labels'] = newLabelsValues + '';
                        this.groupbarchartArray.push(newGroupDataObj);
                    }
                }
                if (this.lineflag) {
                    this.groupbarchartArray;
                    this.LineArray = this.groupbarchartArray;
                }
                else {
                    this.groupbarchartArray = [];
                    /** @type {?} */
                    var firstRowOfData_1 = arraydata[0];
                    // this.xaxisData = this.data[0][0];
                    for (var i = 1; i < arraydata.length; i++) {
                        /** @type {?} */
                        var multiSeriesArray = [];
                        /** @type {?} */
                        var valueOfJ = void 0;
                        for (var j = 1; j < arraydata[i].length; j++) {
                            valueOfJ = arraydata[i][0];
                            /** @type {?} */
                            var singleBarObj = {};
                            singleBarObj["value"] = arraydata[i][j];
                            singleBarObj["label"] = firstRowOfData_1[j];
                            singleBarObj["xaxis"] = arraydata[i][0];
                            multiSeriesArray.push(singleBarObj);
                        }
                        if (multiSeriesArray.length) {
                            groupChartObj["values"] = multiSeriesArray;
                            /** @type {?} */
                            var newLabelsValues = valueOfJ;
                            /** @type {?} */
                            var newGroupDataObj = Object.assign({}, groupChartObj);
                            newGroupDataObj['labels'] = newLabelsValues + '';
                            this.groupbarchartArray.push(newGroupDataObj);
                        }
                    }
                    this.groupbarchartArray;
                }
            };
        /**
         * @return {?}
         */
        CombochartComponent.prototype.plotD3Chart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                //plot multiseries chart
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                /** @type {?} */
                var colors = this.predefinedcolors;
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE 
                }
                /** @type {?} */
                var margin = { top: 20, right: 20, bottom: 50, left: 40 };
                /** @type {?} */
                var width = this.svgwidth - margin.left - margin.right;
                /** @type {?} */
                var height = this.svgheight - margin.top - margin.bottom;
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                /** @type {?} */
                var x0 = d3.scaleBand()
                    .rangeRound([0, width])
                    .padding(0.2);
                /** @type {?} */
                var x1 = d3.scaleBand().padding(0.1);
                /** @type {?} */
                var y = d3.scaleLinear()
                    .rangeRound([height, 0]);
                //setting x and y domains
                this.years = this.groupbarchartArray.map((function (d) { return d.labels; }));
                /** @type {?} */
                var label = this.groupbarchartArray[0].values.map((function (d) { return d.label; }));
                x0.domain(this.years);
                x1.domain(label).rangeRound([0, x0.bandwidth()]);
                y.domain([0, d3.max(this.groupbarchartArray, (function (labels) {
                        return d3.max(labels.values, (function (d) { return d.value; }));
                    }))]);
                //dynamic barwidth
                if (this.barwidth > 0) {
                    this.barwidth = this.barwidth;
                }
                else {
                    this.barwidth = x0.bandwidth;
                }
                // add x axis to svg
                if (this.device.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(d3.axisBottom(x0)).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(d3.axisBottom(x0));
                    }
                }
                else {
                    this.svg.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(d3.axisBottom(x0)).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                //add y axis to svg
                this.svg.append("g")
                    .call(d3.axisLeft(y)
                    .ticks(this.tickscount));
                this.plotLineForMultiSeries(this.svg, y, height, width);
                //adding bars
                /** @type {?} */
                var slice = this.svg.selectAll(".slice")
                    .data(this.groupbarchartArray)
                    .enter().append("g")
                    .attr("class", "g")
                    .attr("transform", (function (d) { return "translate(" + x0(d.labels) + ",0)"; }));
                slice.selectAll("rect")
                    .data((function (d) { return d.values; }))
                    .enter().append("rect")
                    .attr("width", x1.bandwidth)
                    .attr("x", (function (d) {
                    return x1(d.label);
                }))
                    .style("fill", (function (d, index) {
                    _this.higherdot1colorindex = index;
                    _this.legendcolorindex = index;
                    return colors[index];
                }))
                    .attr("y", (function (d, ind) { return y(d.value); }))
                    .attr("height", (function (d, ind) {
                    return height - y(d.value);
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return tooltip.html(_this.setKey(d))
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                })).on("mouseout", (function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    _this.groupbarClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
                // -------------------------------------------------------
                //bar label
                // if (this.labelflag) {
                slice.selectAll("text")
                    .data((function (d) { return d.values; }))
                    .enter().append("text")
                    .attr("opacity", (function (d) {
                    /** @type {?} */
                    var visibility = false;
                    if (_this.barInput.length > 0) {
                        _this.barInput.forEach((function (barname) {
                            if ((barname.column == d.label) && (barname.label == true)) {
                                visibility = true;
                                return;
                            }
                        }));
                        if (visibility) {
                            return 1;
                        }
                        else {
                            return 0;
                        }
                    } // outer if 
                    else if ((_this.sc4 == true) && (_this.label == true)) {
                        return 1;
                    }
                    else {
                        return 0;
                    }
                }))
                    .attr("width", x1.bandwidth)
                    .attr("x", (function (d) {
                    return x1(d.label) + x1.bandwidth() / 2;
                }))
                    .attr("y", (function (d) { return y(d.value); }))
                    .attr("height", (function (d) { return height - y(0); }))
                    .style("font-weight", "bold")
                    .style("font-size", "1vw")
                    .attr("text-anchor", "middle")
                    .attr("fill", (function (d) {
                    if (_this.labelcolor.length > 0) {
                        return _this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                })) //bar label
                    .text((function (d) {
                    if (_this.showzeroflag) {
                        return d.value;
                    }
                    else if (!_this.showzeroflag) {
                        if (d.value > 0) {
                            return d.value;
                        }
                    }
                    // return d.value;
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return tooltip.html(_this.setKey(d))
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                })).on("mouseout", (function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    _this.groupbarClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
                // }
                slice.selectAll("rect")
                    .attr("y", (function (d) {
                    return y(d.value);
                }))
                    .attr("height", (function (d) { return height - y(d.value); }));
                // ------------------------------------------------------------------
                //sigle / multi line code starts here
                //code here fr multi line
                /** @type {?} */
                var i;
                // let lineName;
                /** @type {?} */
                var slice1 = this.svg.selectAll(".slice")
                    .data(this.transformeddata)
                    .enter().append("g")
                    .attr("class", "g");
                this.higherdot1colorindex++;
                this.lineInput.forEach((function (element) {
                    if (element.color) ;
                    else {
                        element["color"] = colors[_this.higherdot1colorindex];
                        _this.higherdot1colorindex++;
                    }
                }));
                //line validation for scenario 1 and 2
                if (this.lineInput.length > 0) {
                    var _loop_1 = function () {
                        /** @type {?} */
                        var lineName = this_1.lineInput[i];
                        /** @type {?} */
                        var valueline = d3.line()
                            .x((function (d) {
                            return x0(d[Object.keys(d)[0]]);
                        }))
                            .y((function (d) { return y(d[lineName.column]); }));
                        /** @type {?} */
                        var shift = margin.left + x1.bandwidth() / 2;
                        slice1.append("path")
                            .data([this_1.transformeddata])
                            .attr("fill", "none")
                            .style("stroke", (function (d) {
                            if (lineName.color) {
                                return lineName.color;
                            }
                        }))
                            .attr("stroke-width", 1.5)
                            .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                            .attr("d", valueline);
                        // points1
                        /** @type {?} */
                        var dotslice = slice1.selectAll("dot")
                            .data(this_1.transformeddata)
                            .enter()
                            .append("circle")
                            .attr("class", "point1")
                            .attr("cursor", "pointer")
                            .style("fill", (function (d) {
                            if (lineName.color) {
                                return lineName.color;
                            }
                        }))
                            .attr("cx", (function (d) {
                            return x0(d[Object.keys(d)[0]]);
                        }))
                            .attr("cy", (function (d) {
                            return y(d[lineName.column]);
                        }))
                            .attr("r", (function (d) { return 5; }))
                            .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                            .on("mouseover", (function (d) {
                            return tooltip.style("visibility", "visible");
                        }))
                            .on("mousemove", (function (d) {
                            return tooltip.html(_this.formTooltipLineData(d, lineName, false))
                                .style("top", (d3.event.pageY - 10) + "px")
                                .style("left", (d3.event.pageX + 10) + "px");
                        }))
                            .on("mouseout", (function (d) {
                            return tooltip.style("visibility", "hidden");
                        }))
                            .on("click", (function (d) {
                            _this.onComboLineClick(d, lineName, false);
                            _this.fordrillableClick(_this, d, event);
                            return tooltip.style("visibility", "hidden");
                        }));
                        // }
                        // 
                    };
                    var this_1 = this;
                    for (i = 0; i < this.lineInput.length; i++) {
                        _loop_1();
                    } // line code ends
                } //lineinput if condition ends here
                else if ((this.sc4 == true) && (this.data[0].length > 2)) {
                    //  lineName = this.lineInput[i];
                    /** @type {?} */
                    var valueline = d3.line()
                        .x((function (d) {
                        return x0(d[Object.keys(d)[0]]);
                        //  return x1(d[Object.keys(d)[0]]);
                    }))
                        .y((function (d) {
                        return y(d[Object.keys(d)[2]]
                        // d[lineName]
                        );
                    }));
                    /** @type {?} */
                    var shift = margin.left + x1.bandwidth() / 2;
                    slice1.append("path")
                        .data([this.transformeddata])
                        .attr("fill", "none")
                        .style("stroke", (function (d) {
                        if (_this.lineColor !== "black") {
                            return _this.lineColor;
                        }
                        else {
                            return colors[2];
                        }
                    }))
                        .attr("stroke-width", 1.5)
                        .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                        .attr("d", valueline);
                    // points1
                    slice1.selectAll("dot")
                        .data(this.transformeddata).enter().append("circle")
                        .attr("class", "point1")
                        .attr("cursor", "pointer")
                        .style("stroke", (function (d) {
                        if (_this.lineColor !== "black") {
                            return _this.lineColor;
                        }
                        else {
                            return colors[2];
                        }
                    }))
                        .style("fill", (function (d) {
                        if (_this.lineColor !== "black") {
                            return _this.lineColor;
                        }
                        else {
                            return colors[2];
                        }
                    }))
                        .attr("cx", (function (d) {
                        return x0(d[Object.keys(d)[0]]);
                    }))
                        .attr("cy", (function (d) {
                        return y(d[Object.keys(d)[2]]
                        // d[lineName]
                        );
                    }))
                        .attr("r", (function (d) { return 5; }))
                        .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.formTooltipLineData(d, null, true))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.onComboLineClick(d, null, true);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                    }));
                }
                //line label validation for scenario 1 and 2
                if (this.lineInput.length > 0) {
                    var _loop_2 = function () {
                        /** @type {?} */
                        var lineName1 = this_2.lineInput[i];
                        if (lineName1.label) {
                            if (lineName1.label == true) {
                                slice1.selectAll("labels")
                                    .data(this_2.transformeddata)
                                    .enter().append("text")
                                    .style("font-weight", "bold")
                                    .attr("text-anchor", "middle")
                                    .attr("fill", (function (d) {
                                    if (lineName1.labelcolor) {
                                        return lineName1.labelcolor;
                                    }
                                    else {
                                        return "black";
                                    }
                                }))
                                    .attr("x", (function (d) {
                                    return x0(d[Object.keys(d)[0]]);
                                }))
                                    .attr("y", (function (d) {
                                    return y(d[lineName1.column]);
                                }))
                                    .text((function (d) {
                                    return d[lineName1.column];
                                    // d[lineName];
                                }))
                                    .attr("transform", "translate( " +
                                    // margin.left
                                    x1.bandwidth() / 2
                                    // shift
                                    + ", 19 )")
                                    .attr("cursor", "pointer")
                                    .on("mouseover", (function (d) {
                                    return tooltip.style("visibility", "visible");
                                }))
                                    .on("mousemove", (function (d) {
                                    return tooltip.html(_this.formTooltipLineData(d, lineName1, false))
                                        .style("top", (d3.event.pageY - 10) + "px")
                                        .style("left", (d3.event.pageX + 10) + "px");
                                }))
                                    .on("mouseout", (function (d) {
                                    return tooltip.style("visibility", "hidden");
                                }))
                                    .on("click", (function (d) {
                                    _this.onComboLineClick(d, lineName1, false);
                                    _this.fordrillableClick(_this, d, event);
                                    return tooltip.style("visibility", "hidden");
                                }));
                            }
                        }
                    };
                    var this_2 = this;
                    for (i = 0; i < this.lineInput.length; i++) {
                        _loop_2();
                    }
                }
                else if ((this.sc4 == true) && (this.data[0].length > 2) && (this.label == true)) {
                    //trial line label for 4th scenario
                    slice1.selectAll("labels")
                        .data(this.transformeddata)
                        .enter().append("text")
                        .style("font-weight", "bold")
                        .attr("text-anchor", "middle")
                        .attr("fill", (function (d) {
                        if (_this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else {
                            return "black";
                        }
                    }))
                        .attr("x", (function (d) {
                        return x0(d[Object.keys(d)[0]]);
                    }))
                        .attr("y", (function (d) {
                        return y(d[Object.keys(d)[2]]
                        // d[lineName]
                        );
                        //  + 50;
                    }))
                        .text((function (d) {
                        return d[Object.keys(d)[2]];
                        // d[lineName];
                    }))
                        .attr("transform", "translate( " +
                        // margin.left
                        x1.bandwidth() / 2
                        // shift
                        + ", 19 )")
                        .attr("cursor", "pointer")
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.formTooltipLineData(d, null, true))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.onComboLineClick(d, null, true);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                    }));
                }
                this.formLegendData(this.outputData);
            };
        /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        CombochartComponent.prototype.plotLine = /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (g, x, y, height, width) {
                if (this.hScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y)
                        .tickSize(-width).tickFormat('').ticks(this.tickscount));
                }
            };
        /**
         * @param {?} d
         * @return {?}
         */
        CombochartComponent.prototype.setKey = /**
         * @param {?} d
         * @return {?}
         */
            function (d) {
                /** @type {?} */
                var object = {};
                object[d.label] = d.value;
                object[this.xaxisData] = d.xaxis;
                return (this.toolTipForBar(object));
            };
        /**
         * @return {?}
         */
        CombochartComponent.prototype.finMaxLineValue = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var lineValues = [];
                this.data.forEach((function (element) {
                    var _loop_3 = function (key, value) {
                        _this.lineInput.forEach((function (line) {
                            if (line == key) {
                                lineValues.push(value);
                            }
                        }));
                    };
                    try {
                        for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                            _loop_3(key, value);
                        }
                    }
                    catch (e_2_1) {
                        e_2 = { error: e_2_1 };
                    }
                    finally {
                        try {
                            if (_b && !_b.done && (_d = _a.return))
                                _d.call(_a);
                        }
                        finally {
                            if (e_2)
                                throw e_2.error;
                        }
                    }
                    var e_2, _d;
                }));
                /** @type {?} */
                var max = 0;
                /** @type {?} */
                var j;
                for (j = 0; j < lineValues.length; j++) {
                    if (lineValues[j] > max) {
                        max = lineValues[j];
                    }
                }
                this.lineRange = max;
            };
        /**
         * @param {?} d
         * @return {?}
         */
        CombochartComponent.prototype.groupbarClick = /**
         * @param {?} d
         * @return {?}
         */
            function (d) {
                /** @type {?} */
                var object = {};
                object[d.label] = d.value;
                object[this.xaxisData] = d.xaxis;
                this.chartClick(object);
            };
        /**
         * @param {?} g
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        CombochartComponent.prototype.plotLineForMultiSeries = /**
         * @param {?} g
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (g, y, height, width) {
                if (this.hScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y)
                        .tickSize(-width).tickFormat('').ticks(this.tickscount));
                }
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        CombochartComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 4 ENDS
        /**
         * @return {?}
         */
        CombochartComponent.prototype.resize =
            //RESIZE STEP 4 ENDS
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.plotD3Chart();
            };
        /**
         * @return {?}
         */
        CombochartComponent.prototype.tranasforsimplejson = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.transformeddata = [];
                this.keyArray = this.data[0];
                this.data.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var DummyObject_1 = {};
                        element.forEach((function (individualvalue, keyindex) {
                            DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                        })); //inner for loop ends
                        _this.transformeddata.push(DummyObject_1);
                    } //if ends
                })); //outer for loop ends
            };
        /**
         * @param {?} data
         * @param {?} line
         * @param {?} flag
         * @return {?}
         */
        CombochartComponent.prototype.formTooltipLineData = /**
         * @param {?} data
         * @param {?} line
         * @param {?} flag
         * @return {?}
         */
            function (data, line, flag) {
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        //flag is considered true for forth scenario
                        if (flag == true) {
                            if (key == this.data[0][2]) {
                                object[key] = value;
                            }
                        } // if foe true flag ends here
                        else {
                            if (key == line.column) {
                                object[key] = value;
                            }
                        } //else for false flag ends here
                    }
                }
                catch (e_3_1) {
                    e_3 = { error: e_3_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_3)
                            throw e_3.error;
                    }
                }
                return this.toolTipForBar(object);
                var e_3, _d;
            };
        /**
         * @param {?} data
         * @param {?} line
         * @param {?} flag
         * @return {?}
         */
        CombochartComponent.prototype.onComboLineClick = /**
         * @param {?} data
         * @param {?} line
         * @param {?} flag
         * @return {?}
         */
            function (data, line, flag) {
                // flag is considered true for 4th scenario
                /** @type {?} */
                var object = {};
                /** @type {?} */
                var i = 0;
                try {
                    for (var _a = __values(Object.entries(data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (i == 0 || i == 1) {
                            if (key != "color") {
                                object[key] = value;
                            }
                        }
                        if (flag == true) {
                            if (key == this.data[0][2]) {
                                object[key] = value;
                            }
                        }
                        else {
                            if (key == line.column) {
                                object[key] = value;
                            }
                        }
                        i++;
                    }
                }
                catch (e_4_1) {
                    e_4 = { error: e_4_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_4)
                            throw e_4.error;
                    }
                }
                //this calls base class function
                this.comboLineClick(object);
                var e_4, _d;
            };
        /**
         * @param {?} data
         * @return {?}
         */
        CombochartComponent.prototype.formLegendData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                this.keyArray = [];
                this.legendArray = [];
                data.forEach((function (element, i) {
                    if (i == 0) {
                        element.forEach((function (innerelement, index) {
                            if (index > 0) {
                                _this.legendArray[innerelement] = { 'data': [] };
                                _this.keyArray.push(innerelement);
                            }
                        }));
                    }
                }));
                data.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var obj_1 = {};
                        element.forEach((function (innerelement, innerindex) {
                            if (innerindex >= 0) {
                                /** @type {?} */
                                var key = _this.keyArray[innerindex - 1];
                                obj_1[key] = element[innerindex];
                                /** @type {?} */
                                var legenddata = _this.legendArray[key];
                                if (legenddata) {
                                    legenddata.data.push({ 'label': element[0], 'value': element[innerindex] });
                                }
                            }
                        }));
                    }
                }));
                this.legends = [];
                this.keyArray.forEach((function (element, index) {
                    /** @type {?} */
                    var legenddata = _this.legendArray[element];
                    /** @type {?} */
                    var object = { 'label': element, 'color': _this.predefinedcolors[index], 'data': legenddata.data };
                    _this.legends.push(object);
                }));
                //this logic will wrk fr sc1 and sc2
                if (this.lineInput.length > 0) {
                    /** @type {?} */
                    var inc_1 = 1;
                    this.lineInput.forEach((function (element) {
                        /** @type {?} */
                        var object = {};
                        object["label"] = element.column;
                        if (element.color) {
                            object["color"] = element.color;
                        }
                        else {
                            object["color"] = _this.predefinedcolors[_this.legendcolorindex + inc_1];
                            inc_1++;
                        }
                        object["data"] = [];
                        _this.legends.push(object);
                    }));
                    this.legends;
                    this.transformeddata;
                    this.legends.forEach((function (legendelement) {
                        _this.lineInput.forEach((function (lineelement) {
                            if (lineelement.column == legendelement.label) {
                                _this.transformeddata.forEach((function (singlerow) {
                                    /** @type {?} */
                                    var obj = {};
                                    // d[Object.keys(d)[0]]
                                    obj["label"] = singlerow[Object.keys(singlerow)[0]];
                                    obj["value"] = singlerow[legendelement.label];
                                    legendelement.data.push(obj);
                                }));
                            }
                        }));
                    }));
                }
                //this logic works for sc4
                // chk if line column exist in data1
                if ((this.sc4 == true) && (this.data[0].length > 2)) {
                    /** @type {?} */
                    var object = [];
                    object["label"] = this.data[0][2];
                    object["color"] = this.predefinedcolors[2];
                    object["data"] = [];
                    this.legends.push(object);
                    //logic to push data
                    this.data.forEach((function (element, index) {
                        if (index > 0) {
                            /** @type {?} */
                            var object_1 = [];
                            object_1["label"] = element[0];
                            object_1["value"] = element[2];
                            _this.legends[1].data.push(object_1);
                        }
                    }));
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        CombochartComponent.prototype.legendClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var obj = {};
                obj["label"] = event.label;
                /** @type {?} */
                var data = [];
                event.data.forEach((function (element) {
                    /** @type {?} */
                    var object = {};
                    object[element.label] = element.value;
                    data.push(object);
                }));
                obj["data"] = data;
                this.onLegendClick.emit(obj);
            };
        CombochartComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-combochart',
                        template: " \n<div #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n    <table *ngIf=\"data.length > 0\" style=\"width: 100%;\">\n      <tr *ngIf = \"title.length > 0\">\n          <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n      </tr>\n      <tr>\n          <td>\n              <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n              </svg>\n          </td>\n      </tr>\n      <tr *ngIf=\"legend\">\n          <td style=\"display: block; padding: 5px;\">\n              <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\" style=\"height:100%;\">\n              </amexio-d3-legend> \n          </td>\n      </tr>\n    </table>\n    <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n    </div>",
                        styles: [""]
                    },] },
        ];
        CombochartComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        CombochartComponent.propDecorators = {
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            lineColor: [{ type: i0.Input, args: ['line-color',] }],
            label: [{ type: i0.Input }],
            horizontal: [{ type: i0.Input }],
            barwidth: [{ type: i0.Input }],
            lineInput: [{ type: i0.Input, args: ['line-data-index',] }],
            barInput: [{ type: i0.Input, args: ['bar-data-index',] }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            showzeroflag: [{ type: i0.Input, args: ['show-zero-values',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }]
        };
        return CombochartComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var HistogramComponent = (function (_super) {
        __extends(HistogramComponent, _super);
        function HistogramComponent(myservice, cdf, device) {
            var _this = _super.call(this, 'histogram') || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.svgheight = 400;
            _this.color = "blue";
            _this.datahisto = [];
            _this.values = [];
            _this.array = [];
            _this.xaxisArray = [];
            _this.yaxisArray = [];
            _this.yaxisData = [];
            _this.histogramarray = [];
            _this.histogramdata = [];
            _this.lengtharray = [];
            _this.arrayofLength = [];
            _this.chartData = [];
            _this.finaldataarray = [];
            _this.tooltipArray = [];
            _this.index = 0;
            return _this;
        }
        /**
         * @return {?}
         */
        HistogramComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                /** @type {?} */
                var res;
                if (this.level <= 1) {
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            res = response;
                            _this.httpresponse = response;
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.datahisto = [];
                                _this.datahisto = _this.getResponseData(res);
                                _this.transformData();
                                _this.plotXaxis();
                                _this.plotYaxis();
                                _this.tooltipData();
                                _this.dataforChart();
                                _this.transformData1(_this.finaldataarray);
                                _this.plotChart();
                            }), 0);
                        }));
                    }
                    else if (this.datahisto) {
                        setTimeout((function () {
                            _this.datahisto = _this.getResponseData(_this.datahisto);
                            _this.transformData();
                            _this.plotXaxis();
                            _this.plotYaxis();
                            _this.tooltipData();
                            _this.dataforChart();
                            _this.transformData1(_this.finaldataarray);
                            _this.plotChart();
                        }), 0);
                    }
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        HistogramComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        _this.httpresponse = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            //this.data = this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        HistogramComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.datahisto = _this.getResponseData(_this.httpresponse);
                    _this.transformData();
                    _this.plotXaxis();
                    _this.plotYaxis();
                    _this.tooltipData();
                    _this.dataforChart();
                    _this.transformData1(_this.finaldataarray);
                    _this.plotChart();
                }), 0);
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        HistogramComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        /**
         * @param {?} data1
         * @return {?}
         */
        HistogramComponent.prototype.transformData1 = /**
         * @param {?} data1
         * @return {?}
         */
            function (data1) {
                var _this = this;
                this.keyArray = [];
                this.legendArray = [];
                data1.forEach((function (element, i) {
                    if (i == 0) {
                        element.forEach((function (innerelement, index) {
                            if (index > 0) {
                                _this.legendArray[innerelement] = { 'data': [] };
                                _this.keyArray.push(innerelement);
                            }
                            else if (index == 0) {
                                _this.xaxis = innerelement;
                            }
                        }));
                    }
                }));
                /** @type {?} */
                var tempinnerarray;
                tempinnerarray = [];
                data1.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var obj_1 = {};
                        element.forEach((function (innerelement, innerindex) {
                            if (innerindex >= 0) {
                                /** @type {?} */
                                var key = _this.keyArray[innerindex - 1];
                                obj_1[key] = element[innerindex];
                                /** @type {?} */
                                var legenddata = _this.legendArray[key];
                                if (legenddata) {
                                    legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                                }
                            }
                        }));
                        tempinnerarray.push(obj_1);
                    }
                }));
                this.data = [];
                tempinnerarray.forEach((function (element) {
                    _this.data.push(element);
                }));
                this.legends = [];
                /** @type {?} */
                var element = this.datahisto[0];
                /** @type {?} */
                var object = { 'label': element[1] + " " + "of" + " " + element[0], 'color': this.color };
                this.legends.push(object);
            };
        /**
         * @return {?}
         */
        HistogramComponent.prototype.plotChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                /** @type {?} */
                var data;
                data = this.data;
                /** @type {?} */
                var series;
                series = [];
                series = d3.stack().keys(this.keyArray)
                    .offset(d3.stackOffsetDiverging)(this.data);
                /** @type {?} */
                var i = 0;
                /** @type {?} */
                var tempdata;
                tempdata = [];
                tempdata = series;
                tempdata.forEach((function (element) {
                    element.forEach((function (innerelement) {
                        /** @type {?} */
                        var singletooltip = [];
                        singletooltip.push(innerelement.data.tooltipdata[i]);
                        innerelement.push(singletooltip);
                    }));
                    i++;
                }));
                /** @type {?} */
                var chartdata = [];
                for (i = 0; i < tempdata.length - 1; i++) {
                    chartdata.push(tempdata[i]);
                }
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE
                }
                /** @type {?} */
                var margin = { top: 20, right: 20, bottom: 50, left: 60 };
                /** @type {?} */
                var width = this.svgwidth - margin.left - margin.right;
                /** @type {?} */
                var height = this.svgheight - margin.top - margin.bottom;
                //const height = +svg.attr("height") - margin.top - margin.bottom;
                /** @type {?} */
                var x;
                /** @type {?} */
                var y;
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                /** @type {?} */
                var barWidth = (width / this.chartData.length);
                x = d3.scalePoint()
                    .domain(this.xaxisArray, (function (d) { return d; }))
                    .rangeRound([0, width]);
                y = d3.scaleLinear().rangeRound([height, 0]);
                y.domain([0, d3.max(this.arrayofLength)]);
                /** @type {?} */
                var z = d3.scaleOrdinal(d3.schemeCategory10);
                this.arrayofLength = [];
                // add x axis to svg
                if (this.device.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(d3.axisBottom(x)).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(d3.axisBottom(x));
                    }
                }
                else {
                    this.svg.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(d3.axisBottom(x)).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                /** @type {?} */
                var horizontalpadding = 0.05;
                //add y axis to svg
                this.svg.append("g")
                    .call(d3.axisLeft(y).ticks(this.tickscount));
                this.plotLine(this.svg, x, y, height, width);
                /** @type {?} */
                var histogramBar = this.svg.append("g")
                    .selectAll("g")
                    .data(chartdata)
                    .enter().append("g")
                    .attr("fill", this.color)
                    .selectAll("rect")
                    .data((function (d) {
                    return d;
                }));
                /** @type {?} */
                var histogramBar1 = this.svg.append("g")
                    .selectAll("g")
                    .data(chartdata)
                    .enter().append("g")
                    .selectAll("labels")
                    .data((function (d) {
                    return d;
                }));
                histogramBar.enter().append("rect")
                    .attr("width", barWidth - 1)
                    .attr("y", (function (d, index) {
                    return y(d[1]);
                }))
                    .attr("cursor", "pointer")
                    .attr("height", (function (d, index) {
                    return Math.abs(y(d[0]) - y(d[1] - horizontalpadding));
                }))
                    .attr("transform", (function (d, i) {
                    /** @type {?} */
                    var translate = [barWidth * i, 0];
                    return "translate(" + translate + ")";
                }))
                    .on("mouseover", (function (d) {
                    return tooltip.style("visibility", "visible");
                })).on("mousemove", (function (d) {
                    /** @type {?} */
                    var data = d[2];
                    return tooltip.html(_this.setKey(data[0]))
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                })).on("mouseout", (function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    /** @type {?} */
                    var clickdata = d[2];
                    _this.histogramClick(clickdata[0]);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
                if (this.labelflag) {
                    histogramBar1.enter()
                        .append("text")
                        .style("font-weight", "bold")
                        .attr("text-anchor", "middle")
                        .attr("fill", (function (d) {
                        if (_this.labelcolor && _this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else {
                            return "black";
                        }
                    }))
                        .attr("y", (function (d, i) {
                        return y(d[1]);
                    }))
                        .text((function (d) {
                        /** @type {?} */
                        var data;
                        /** @type {?} */
                        var data2;
                        data = d[2];
                        data2 = data[0];
                        if (data2) {
                            return data2.value;
                        }
                        else {
                            return null;
                        }
                    }))
                        .attr("transform", (function (d, i) {
                        /** @type {?} */
                        var translate = [((barWidth * i) + barWidth / 2), (Math.abs(y(d[0]) - y(d[1] - horizontalpadding)))];
                        return "translate(" + translate + ")";
                    }))
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    })).on("mousemove", (function (d) {
                        /** @type {?} */
                        var data = d[2];
                        return tooltip.html(_this.setKey(data[0]))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    })).on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        /** @type {?} */
                        var clickdata = d[2];
                        _this.histogramClick(clickdata[0]);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                    }))
                        .attr("cursor", "pointer");
                }
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        HistogramComponent.prototype.histogramClick = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                /** @type {?} */
                var object = {};
                /** @type {?} */
                var data = this.datahisto[0];
                /** @type {?} */
                var label1 = data[1];
                /** @type {?} */
                var label2 = data[0];
                if (obj.label.length) {
                    object[label2 + ":"] = obj.label;
                    object[label1 + ":"] = obj.value;
                }
                this.chartClick(object);
            };
        /**
         * @param {?} event
         * @return {?}
         */
        HistogramComponent.prototype.legendClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.onLegendClick.emit(this.datahisto);
            };
        /**
         * @return {?}
         */
        HistogramComponent.prototype.transformData = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.array = [];
                this.values = [];
                this.datahisto.forEach((function (element) {
                    _this.values.push(element[1]);
                }));
                for (var i = 1; i < this.values.length; i++) {
                    this.array.push(this.values[i]);
                }
            };
        /**
         * @return {?}
         */
        HistogramComponent.prototype.plotXaxis = /**
         * @return {?}
         */
            function () {
                this.xaxisArray = [];
                this.xaxisArray.push(0);
                /** @type {?} */
                var newvalue = 0;
                /** @type {?} */
                var value = Math.ceil(d3.max(this.array));
                if (value % 10 == 0) {
                    value = value;
                }
                else {
                    value = (10 - value % 10) + value;
                }
                /** @type {?} */
                var quotient = value / 5;
                while (newvalue < value) {
                    newvalue = newvalue + quotient;
                    this.xaxisArray.push(newvalue);
                }
            };
        /**
         * @return {?}
         */
        HistogramComponent.prototype.plotYaxis = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var tempvalue = 0;
                /** @type {?} */
                var lengthofArray = 0;
                /** @type {?} */
                var lengthcount = 0;
                /** @type {?} */
                var templength = 0;
                /** @type {?} */
                var newvalue = 0;
                this.yaxisArray = [];
                this.histogramarray = [];
                this.lengtharray = [];
                this.histogramdata = [];
                this.arrayofLength = [];
                this.chartData = [];
                this.xaxisArray.forEach((function (element1) {
                    _this.yaxisArray = [];
                    _this.array.forEach((function (element2) {
                        if (tempvalue < element2 && element2 <= element1) {
                            _this.yaxisArray.push(element2);
                        }
                        lengthofArray = _this.yaxisArray.length;
                    }));
                    if (templength > lengthofArray) {
                        lengthcount = templength;
                    }
                    else {
                        lengthcount = lengthofArray;
                    }
                    templength = lengthcount;
                    tempvalue = element1;
                    _this.lengtharray.push(lengthofArray);
                }));
                /** @type {?} */
                var value = Math.ceil(templength);
                /** @type {?} */
                var quotient = value / 5;
                while (newvalue <= value) {
                    newvalue = newvalue + quotient;
                    this.yaxisData.push(newvalue);
                }
                for (var i = 1; i < this.histogramarray.length; i++) {
                    this.histogramdata.push(this.histogramarray[i]);
                }
                for (var i = 1; i < this.lengtharray.length; i++) {
                    this.arrayofLength.push(this.lengtharray[i]);
                }
                for (var i = 0; i < this.arrayofLength.length; i++) {
                    /** @type {?} */
                    var data = {};
                    data["value"] = this.arrayofLength[i];
                    this.chartData.push(data);
                }
                this.array = [];
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        HistogramComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 4 ENDS
        /**
         * @return {?}
         */
        HistogramComponent.prototype.resize =
            //RESIZE STEP 4 ENDS
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.transformData();
                this.plotXaxis();
                this.plotYaxis();
                this.tooltipData();
                this.dataforChart();
                this.transformData1(this.finaldataarray);
                this.plotChart();
            };
        /**
         * @return {?}
         */
        HistogramComponent.prototype.dataforChart = /**
         * @return {?}
         */
            function () {
                this.finaldataarray = [];
                /** @type {?} */
                var initialArray = [];
                /** @type {?} */
                var temparray = [];
                initialArray.push('level');
                /** @type {?} */
                var maxElement = Math.max.apply(null, this.arrayofLength);
                /** @type {?} */
                var maxlength = maxElement;
                /** @type {?} */
                var n = 1;
                while (n <= maxElement) {
                    initialArray.push('' + n);
                    n++;
                }
                initialArray.push('tooltipdata');
                /** @type {?} */
                var length = this.arrayofLength.length;
                /** @type {?} */
                var number = 1;
                /** @type {?} */
                var j = 0;
                this.finaldataarray.push(initialArray);
                for (var i = 0; i < this.arrayofLength.length; i++) {
                    /** @type {?} */
                    var value = this.arrayofLength[i];
                    /** @type {?} */
                    var tempvalue = value;
                    temparray = [];
                    temparray.push('' + i);
                    maxElement = maxlength;
                    if (value > 0) {
                        while (value != 0) {
                            temparray.push(number);
                            value--;
                        }
                        maxElement = maxElement - tempvalue;
                        while (maxElement != 0) {
                            temparray.push(0);
                            maxElement--;
                        }
                    }
                    else {
                        while (maxElement != 0) {
                            temparray.push(0);
                            maxElement--;
                        }
                    }
                    temparray.push(this.tooltipArray[j]);
                    this.finaldataarray.push(temparray);
                    j++;
                }
            };
        /**
         * @return {?}
         */
        HistogramComponent.prototype.tooltipData = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var arrayofTooltip = [];
                /** @type {?} */
                var obj = { "label": "", "value": "" };
                this.datahisto.forEach((function (element) {
                    obj = { "label": "", "value": "" };
                    obj["label"] = element[0];
                    obj["value"] = element[1];
                    arrayofTooltip.push(obj);
                }));
                /** @type {?} */
                var value1 = this.xaxisArray[0];
                /** @type {?} */
                var tooltipdata = [];
                var _loop_1 = function (j) {
                    tooltipdata = [];
                    /** @type {?} */
                    var value2 = this_1.xaxisArray[j];
                    arrayofTooltip.forEach((function (element) {
                        if (value1 <= element.value && element.value <= value2) {
                            /** @type {?} */
                            var tooltipobj = { "label": "", "value": "" };
                            tooltipobj["label"] = element["label"];
                            tooltipobj["value"] = element["value"];
                            tooltipdata.push(tooltipobj);
                        }
                    }));
                    this_1.tooltipArray.push(tooltipdata);
                    value1 = value2;
                };
                var this_1 = this;
                for (var j = 1; j < this.xaxisArray.length; j++) {
                    _loop_1(j);
                }
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        HistogramComponent.prototype.setKey = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                /** @type {?} */
                var object = {};
                /** @type {?} */
                var data = this.datahisto[0];
                /** @type {?} */
                var label1 = data[1];
                /** @type {?} */
                var label2 = data[0];
                object[label2 + ":"] = obj.label;
                object[label1 + ":"] = obj.value;
                return (this.toolTipForBar(object));
            };
        /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        HistogramComponent.prototype.plotLine = /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (g, x, y, height, width) {
                if (this.hScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y)
                        .tickSize(-width).tickFormat('').ticks(this.tickscount));
                }
            };
        HistogramComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-histogram',
                        template: "<div #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n    <table *ngIf=\"datahisto.length > 0\" style=\"width: 100%;\">\n        <tr *ngIf=\"title.length > 0\">\n            <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n        </tr>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\" style=\"height:100%;\"></amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n    <div *ngIf=\"datahisto.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n        </div>\n</div>",
                        styles: [".bar{background-color:#3943cf;padding:.02px}"]
                    },] },
        ];
        HistogramComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        HistogramComponent.propDecorators = {
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            color: [{ type: i0.Input, args: ['color',] }],
            datahisto: [{ type: i0.Input, args: ['data',] }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }]
        };
        return HistogramComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ScatterchartComponent = (function (_super) {
        __extends(ScatterchartComponent, _super);
        function ScatterchartComponent(myservice, cdf, device) {
            var _this = _super.call(this, 'scatter') || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.svgheight = 300;
            _this.color = "blue";
            _this.zoomflag = false;
            _this.zoominitiated = false;
            _this.keyArray = [];
            _this.transformeddata = [];
            _this.legendarray = [];
            _this.resizebtnflag = false;
            return _this;
        }
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                this.dataFormatted = [];
                if (this.level <= 1) {
                    /** @type {?} */
                    var resp_1;
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            resp_1 = response;
                            _this.httpresponse = resp_1;
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.data = _this.getResponseData(resp_1);
                                _this.dataFormatted = _this.data;
                                _this.transformData(_this.dataFormatted);
                                _this.colorGeneration();
                                _this.legendCreation();
                                _this.plotScatterChart();
                            }), 0);
                        }));
                    }
                    else if (this.data) {
                        setTimeout((function () {
                            _this.dataFormatted = _this.data;
                            _this.data = _this.getResponseData(_this.data);
                            _this.transformData(_this.data);
                            _this.colorGeneration();
                            _this.legendCreation();
                            _this.plotScatterChart();
                        }), 0);
                    }
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        ScatterchartComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        _this.httpresponse = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            //this.data = this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.data = _this.getResponseData(_this.httpresponse);
                    _this.dataFormatted = _this.data;
                    _this.transformData(_this.data);
                    _this.colorGeneration();
                    _this.legendCreation();
                    _this.plotScatterChart();
                }), 0);
            };
        // Method to transform data in key value pair 
        // Method to transform data in key value pair 
        /**
         * @param {?} data
         * @return {?}
         */
        ScatterchartComponent.prototype.transformData =
            // Method to transform data in key value pair 
            /**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                var _this = this;
                this.keyArray = data[0];
                data.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var DummyObject_1 = {};
                        element.forEach((function (individualvalue, keyindex) {
                            DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                        }));
                        _this.transformeddata.push(DummyObject_1);
                    }
                }));
                this.data = this.transformeddata;
            };
        // Method get response data using data reader
        // Method get response data using data reader
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        ScatterchartComponent.prototype.getResponseData =
            // Method get response data using data reader
            /**
             * @param {?} httpResponse
             * @return {?}
             */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        // Method to plot d3 chart
        // Method to plot d3 chart
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.plotScatterChart =
            // Method to plot d3 chart
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE 
                }
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                /** @type {?} */
                var margin = { top: 20, right: 20, bottom: 30, left: 60 };
                /** @type {?} */
                var width = this.svgwidth - margin.left - margin.right;
                /** @type {?} */
                var height = this.svgheight - margin.top - margin.bottom;
                /** @type {?} */
                var x;
                /** @type {?} */
                var y;
                x = d3.scaleLinear()
                    .rangeRound([0, width]);
                y = d3.scaleLinear()
                    .rangeRound([height, 0]);
                /** @type {?} */
                var xAxis = d3.axisBottom(x);
                /** @type {?} */
                var yAxis = d3.axisLeft(y).ticks(this.tickscount);
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                x.domain([0, d3.max(this.data, (function (d) { return d[Object.keys(d)[0]]; }))]);
                y.domain([0, d3.max(this.data, (function (d) { return d[Object.keys(d)[1]]; }))]);
                if (this.device.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(xAxis).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(xAxis)
                            .append("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .style("text-anchor", "start");
                    }
                }
                else {
                    this.svg.append("g")
                        .attr("class", "x axis")
                        .attr("transform", "translate(0," + height + ")")
                        .call(xAxis).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                // this.svg.append("g")
                //   .attr("class", "x axis")
                //   .attr("transform", "translate(0," + height + ")")
                //   .call(xAxis)
                //   .append("text")
                //   .attr("class", "label")
                //   .attr("x", width)
                //   .attr("y", -6)
                //   .style("text-anchor", "end");
                this.svg.append("g")
                    .attr("class", "y axis")
                    .call(yAxis)
                    .append("text")
                    .attr("class", "label")
                    .attr("transform", "rotate(-90)")
                    .attr("y", 6)
                    .attr("dy", ".71em")
                    .style("text-anchor", "end");
                if (this.dataFormatted[0].length == 2) {
                    this.plotLine(this.svg, x, y, height, width);
                    this.node = this.svg.selectAll(".dot")
                        .data(this.data)
                        .enter().append("circle")
                        .attr("class", "dot")
                        .attr("fill", this.color)
                        .attr("r", 4.5)
                        .attr("cursor", "pointer")
                        .attr("cx", (function (d) {
                        return x(d[Object.keys(d)[0]]);
                    }))
                        .attr("cy", (function (d) { return y(d[Object.keys(d)[1]]); }))
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.formTooltipData(d))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.scatterChartClick(d);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                    }));
                    // ------------------------------------------------------------------------------
                    if (this.labelflag) {
                        this.nodelabel = this.svg.selectAll("labels")
                            .data(this.data)
                            .enter().append("text")
                            .style("font-weight", "bold")
                            .attr("text-anchor", "middle")
                            .attr("vertical-align", "middle")
                            .attr("margin-top", margin.top)
                            .attr("fill", (function (d) {
                            if (_this.labelcolor.length > 0) {
                                return _this.labelcolor;
                            }
                            else {
                                return "black";
                            }
                        }))
                            .attr("x", (function (d, i) {
                            return x(d[Object.keys(d)[0]]) + 11;
                        }))
                            .attr("y", (function (d, i) {
                            return y(d[Object.keys(d)[1]]);
                        }))
                            .text((function (d) {
                            return d[Object.keys(d)[1]];
                        }))
                            .attr("cursor", "pointer")
                            .on("mouseover", (function (d) {
                            return tooltip.style("visibility", "visible");
                        }))
                            .on("mousemove", (function (d) {
                            return tooltip.html(_this.formTooltipData(d))
                                .style("top", (d3.event.pageY - 10) + "px")
                                .style("left", (d3.event.pageX + 10) + "px");
                        }))
                            .on("mouseout", (function (d) {
                            return tooltip.style("visibility", "hidden");
                        }))
                            .on("click", (function (d) {
                            _this.scatterChartClick(d);
                            _this.fordrillableClick(_this, d, event);
                            return tooltip.style("visibility", "hidden");
                        }));
                    }
                }
                else {
                    this.plotLine(this.svg, x, y, height, width);
                    this.node = this.svg.selectAll(".dot")
                        .data(this.transformeddata)
                        .enter().append("circle")
                        .attr("class", "dot")
                        .attr("r", 4.5)
                        .attr("cursor", "pointer")
                        .attr("cx", (function (d) {
                        return x(d[Object.keys(d)[0]]);
                    }))
                        .attr("cy", (function (d) { return y(d[Object.keys(d)[1]]); }))
                        .attr("fill", (function (d) { return d[Object.keys(d)[4]]; }))
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.formTooltipData(d))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.scatterChartClick(d);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                    }));
                    if (this.labelflag) {
                        this.nodelabel = this.svg.selectAll("labels")
                            .data(this.data)
                            .enter().append("text")
                            .style("font-weight", "bold")
                            .attr("text-anchor", "middle")
                            .attr("vertical-align", "middle")
                            .attr("margin-top", margin.top)
                            .attr("fill", (function (d) {
                            if (_this.labelcolor.length > 0) {
                                return _this.labelcolor;
                            }
                            else {
                                return "black";
                            }
                        }))
                            .attr("x", (function (d, i) {
                            return x(d[Object.keys(d)[0]]) + 11;
                        }))
                            .attr("y", (function (d, i) {
                            return y(d[Object.keys(d)[1]]);
                        }))
                            .text((function (d) {
                            return d[Object.keys(d)[1]];
                        }))
                            .attr("cursor", "pointer")
                            .on("mouseover", (function (d) {
                            return tooltip.style("visibility", "visible");
                        }))
                            .on("mousemove", (function (d) {
                            return tooltip.html(_this.formTooltipData(d))
                                .style("top", (d3.event.pageY - 10) + "px")
                                .style("left", (d3.event.pageX + 10) + "px");
                        }))
                            .on("mouseout", (function (d) {
                            return tooltip.style("visibility", "hidden");
                        }))
                            .on("click", (function (d) {
                            _this.scatterChartClick(d);
                            _this.fordrillableClick(_this, d, event);
                            return tooltip.style("visibility", "hidden");
                        }));
                    }
                }
                //create zoom handler 
                if (this.zoomflag) {
                    this.zoominitiated = true;
                    /** @type {?} */
                    var zoom_handler = d3.zoom()
                        .on("zoom", this.zoom_actions.bind(this));
                    zoom_handler(this.svg);
                }
            };
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.togglebtnflag = /**
         * @return {?}
         */
            function () {
                this.resizebtnflag = true;
            };
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.zoom_actions = /**
         * @return {?}
         */
            function () {
                this.node.attr("transform", d3.event.transform);
                if (this.labelflag) {
                    this.nodelabel.attr("transform", d3.event.transform);
                }
                this.resizebtnflag = true;
                this.zoominitiated = false;
            };
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.resizesvg = /**
         * @return {?}
         */
            function () {
                // this.svg = null;
                this.svg.selectAll("*").remove();
                this.plotScatterChart();
                this.resizebtnflag = false;
            };
        // Method to form tooltip data
        // Method to form tooltip data
        /**
         * @param {?} tooltipData
         * @return {?}
         */
        ScatterchartComponent.prototype.formTooltipData =
            // Method to form tooltip data
            /**
             * @param {?} tooltipData
             * @return {?}
             */
            function (tooltipData) {
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key != 'color') {
                            object[key] = value;
                        }
                    }
                }
                catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_2)
                            throw e_2.error;
                    }
                }
                return this.toolTipForBar(object);
                var e_2, _d;
            };
        // Method on chart click
        // Method on chart click
        /**
         * @param {?} event
         * @return {?}
         */
        ScatterchartComponent.prototype.scatterChartClick =
            // Method on chart click
            /**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key !== 'color') {
                            object[key] = value;
                        }
                    }
                }
                catch (e_3_1) {
                    e_3 = { error: e_3_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_3)
                            throw e_3.error;
                    }
                }
                this.chartClick(object);
                var e_3, _d;
            };
        // method to create Legend
        // method to create Legend
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.legendCreation =
            // method to create Legend
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                if (this.dataFormatted[0].length == 2) {
                    this.legends = [];
                    /** @type {?} */
                    var element = this.dataFormatted[0];
                    /** @type {?} */
                    var object = { 'label': element[0] + " " + "vs" + " " + element[1], 'color': this.color };
                    this.legends.push(object);
                }
                else {
                    this.legends = [];
                    this.legendarray.forEach((function (element) {
                        /** @type {?} */
                        var legendobject = {};
                        legendobject['label'] = element.label;
                        legendobject['color'] = element.color;
                        _this.legends.push(legendobject);
                    }));
                }
            };
        // Method on Legend Click
        // Method on Legend Click
        /**
         * @param {?} legendevent
         * @return {?}
         */
        ScatterchartComponent.prototype.onScatterLegendClick =
            // Method on Legend Click
            /**
             * @param {?} legendevent
             * @return {?}
             */
            function (legendevent) {
                var _this = this;
                if (this.dataFormatted[0].length == 2) {
                    this.onLegendClick.emit(this.data);
                }
                else {
                    this.legendarray.forEach((function (element) {
                        if (legendevent.label == element.label) {
                            /** @type {?} */
                            var arr = element.value;
                            /** @type {?} */
                            var temparr_1 = [];
                            arr.forEach((function (element) {
                                /** @type {?} */
                                var obj = {};
                                try {
                                    for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                                        if (key !== 'color') {
                                            obj[key] = value;
                                        }
                                    } //for end
                                }
                                catch (e_4_1) {
                                    e_4 = { error: e_4_1 };
                                }
                                finally {
                                    try {
                                        if (_b && !_b.done && (_d = _a.return))
                                            _d.call(_a);
                                    }
                                    finally {
                                        if (e_4)
                                            throw e_4.error;
                                    }
                                }
                                temparr_1.push(obj);
                                var e_4, _d;
                            })); //for each ends
                            _this.legendClick(temparr_1);
                        }
                    }));
                }
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        // Method for responsiveness
        //RESIZE STEP 4 ENDS
        // Method for responsiveness
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.resize =
            //RESIZE STEP 4 ENDS
            // Method for responsiveness
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.plotScatterChart();
            };
        /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        ScatterchartComponent.prototype.plotLine = /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (g, x, y, height, width) {
                if (this.vScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .attr('transform', 'translate(0,' + height + ')')
                        .call(d3.axisBottom(x).
                        tickSize(-this.width).tickFormat(''));
                }
                if (this.hScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y)
                        .tickSize(-width).tickFormat('').ticks(this.tickscount));
                }
            };
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.colorGeneration = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.legendarray = [];
                /** @type {?} */
                var i = 0;
                /** @type {?} */
                var names = this.dataFormatted
                    .map((function (e) { return e[2]; }))
                    .filter((function (e, i, a) { return a.indexOf(e) === i; }));
                var _loop_1 = function (j) {
                    /** @type {?} */
                    var value = [];
                    /** @type {?} */
                    var obj = { "label": "", "color": "", "value": [] };
                    this_1.transformeddata.forEach((function (element) {
                        if (element[Object.keys(element)[2]] == names[j]) {
                            element['color'] = _this.predefinedcolors[i];
                            value.push(element);
                        }
                    }));
                    obj["value"] = value;
                    obj["label"] = names[j];
                    obj["color"] = this_1.predefinedcolors[i];
                    this_1.legendarray.push(obj);
                    i++;
                };
                var this_1 = this;
                for (var j = 1; j < names.length; j++) {
                    _loop_1(j);
                }
            };
        /**
         * @return {?}
         */
        ScatterchartComponent.prototype.formLegendData = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.legendData = [];
                this.legendarray.forEach((function (element) {
                    /** @type {?} */
                    var legendobject = {};
                    legendobject['label'] = element.label;
                    legendobject['color'] = element.color;
                    _this.legendData.push(legendobject);
                }));
            };
        ScatterchartComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-scatter',
                        template: "<div #chartId  *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n        <table *ngIf=\"data.length > 0\"  style=\"width: 100%;\">\n            <tr >\n                <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}}\n                 <span *ngIf=\"resizebtnflag\">\n               <button  type=\"reset\" class=\"fa fa-search-minus\" style=\"cursor: pointer; float:right\" (click)=\"resizesvg()\">\n               </button>\n               </span>     \n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                    </svg>\n                </td>\n            </tr>\n            <tr *ngIf=\"legend\">\n                <td style=\"display: block; padding: 5px;\">\n                    <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onScatterLegendClick($event)\" [data]=\"legends\" style=\"height:100%;\"></amexio-d3-legend>\n                </td>\n            </tr>\n        </table>\n        <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n            </div>\n    </div>",
                        styles: [""]
                    },] },
        ];
        ScatterchartComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        ScatterchartComponent.propDecorators = {
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            color: [{ type: i0.Input, args: ['color',] }],
            zoomflag: [{ type: i0.Input, args: ['zoom-enable',] }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }]
        };
        return ScatterchartComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var MultiareaComponent = (function (_super) {
        __extends(MultiareaComponent, _super);
        function MultiareaComponent(myservice, cdf, device) {
            var _this = _super.call(this, "areachart") || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.svgheight = 350;
            _this.colorarray = [];
            _this.onLegendClick = new i0.EventEmitter();
            _this.onTooltipClick = new i0.EventEmitter();
            _this.togglelabel = false;
            _this.margin = {};
            _this.keyArray = [];
            _this.transformeddata = [];
            _this.data1 = [];
            _this.legendArray = [];
            return _this;
        }
        /**
         * @return {?}
         */
        MultiareaComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                this.togglelabel = false;
                if (this.level <= 1) {
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            _this.httpresponse = response;
                            _this.data = _this.getResponseData(response);
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.transformData(_this.data);
                                _this.initAreaChart();
                                _this.plotD3Chart();
                            }), 0);
                        }));
                    }
                    else if (this.data1) {
                        setTimeout((function () {
                            _this.transformData(_this.data);
                            _this.initAreaChart();
                            _this.plotD3Chart();
                        }), 0);
                    }
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        MultiareaComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        _this.httpresponse = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            //this.data = this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        MultiareaComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.data = _this.getResponseData(_this.httpresponse);
                    _this.transformData(_this.data);
                    _this.initAreaChart();
                    _this.plotD3Chart();
                }), 0);
            };
        /**
         * @return {?}
         */
        MultiareaComponent.prototype.initAreaChart = /**
         * @return {?}
         */
            function () {
                this.tooltip = this.toolTip(d3);
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE 
                }
                this.margin = { top: 30, right: 44, bottom: 50, left: 30 },
                    this.width = this.svgwidth - this.margin.left - this.margin.right,
                    this.height = this.svgheight - this.margin.top - this.margin.bottom;
                //find max and initialize max
                this.maximumValue = this.findMaxData(this.data);
                this.x = d3.scalePoint()
                    .range([0, this.width]);
                // .padding(0.1);
                this.y = d3.scaleLinear()
                    .rangeRound([this.height, 0]);
                this.areaArray = [];
                //set x y domain
                this.areaArray = this.data.map((function (d) { return d[Object.keys(d)[0]]; }));
                this.x.domain(this.areaArray);
                this.y.domain([0, this.maximumValue]);
                //initialize svg
                this.svg =
                    d3.select("#" + this.componentId)
                        .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                        .attr("width", this.width + this.margin.left + this.margin.right)
                        .attr("height", this.height + this.margin.top + this.margin.bottom);
                this.predefinedColors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
            };
        /**
         * @return {?}
         */
        MultiareaComponent.prototype.plotD3Chart = /**
         * @return {?}
         */
            function () {
                this.formLegendData();
                /** @type {?} */
                var counter;
                /** @type {?} */
                var g = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
                // add the X 
                if (this.device.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        g.append("g")
                            .attr("transform", "translate(0," + this.height + ")")
                            .call(d3.axisBottom(this.x)).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        g.append("g")
                            .attr("transform", "translate(0," + this.height + ")")
                            .call(d3.axisBottom(this.x));
                    }
                }
                else {
                    g.append("g")
                        .attr("transform", "translate(0," + this.height + ")")
                        .call(d3.axisBottom(this.x)).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                // add the Y Axis
                g.append("g")
                    .call(d3.axisLeft(this.y).ticks(this.tickscount));
                this.plotLine(g, this.x, this.y, this.height, this.width);
                for (counter = 1; counter < this.keyArray.length; counter++) {
                    /** @type {?} */
                    var innerGroup = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
                    this.plotAreaChart(innerGroup, counter, this);
                }
                //call method to plot points
                /** @type {?} */
                var increment;
                for (increment = 1; increment < this.keyArray.length; increment++) {
                    //plot line
                    /** @type {?} */
                    var innerGroup = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
                    this.PlotLineDot(innerGroup, increment, this);
                } //increment for ends
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        MultiareaComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 4 ENDS
        /**
         * @param {?} g
         * @param {?} i
         * @param {?} thisa
         * @return {?}
         */
        MultiareaComponent.prototype.PlotLineDot =
            //RESIZE STEP 4 ENDS
            /**
             * @param {?} g
             * @param {?} i
             * @param {?} thisa
             * @return {?}
             */
            function (g, i, thisa) {
                var _this = this;
                /** @type {?} */
                var flag = this.togglelabel;
                /** @type {?} */
                var line = d3.line()
                    .x((function (d) { return thisa.x(d[Object.keys(d)[0]]); }))
                    .y((function (d) { return thisa.y(d[Object.keys(d)[i]]); }));
                g.append("path")
                    .data([thisa.data])
                    .attr("fill", "none")
                    .attr("stroke", (function (d) {
                    if (_this.colorarray.length > 0) {
                        if (_this.colorarray[i - 1]) {
                            return _this.colorarray[i - 1];
                        }
                        else {
                            return thisa.predefinedcolors[i];
                        }
                    }
                    else {
                        return thisa.predefinedcolors[i];
                    }
                }))
                    .attr("stroke-width", 1.5)
                    .attr("d", line)
                    .attr("opacity", 0.2)
                    .attr("transform", 
                // "translate(" + this.margin.left + "," + 0 + ")");
                "translate(" + 0 + "," + 0 + ")");
                //----------
                g.selectAll('dot')
                    .data(thisa.data)
                    .enter()
                    .append('circle')
                    .attr('opacity', 0)
                    .attr("fill", (function (d) {
                    if (_this.colorarray.length > 0) {
                        if (_this.colorarray[i - 1]) {
                            return _this.colorarray[i - 1];
                        }
                        else {
                            return thisa.predefinedcolors[i];
                        }
                    }
                    else {
                        return thisa.predefinedcolors[i];
                    }
                }))
                    .attr("cx", (function (d) { return thisa.x(d[Object.keys(d)[0]]); }))
                    .attr("cy", (function (d) { return thisa.y(d[Object.keys(d)[i]]); }))
                    .attr('r', 4)
                    .attr("cursor", "pointer")
                    .on("mouseover", (function (d) {
                    _this.formTooltipData(d, i);
                    return _this.tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return _this.tooltip.html(_this.formTooltipData(d, i))
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                }))
                    .on("mouseout", (function (d) {
                    return _this.tooltip.style("visibility", "hidden");
                }))
                    .style("opacity", 1)
                    .on("click", (function (d) {
                    _this.onAreaTooltipClick(d, i);
                    _this.fordrillableClick(_this, d, event);
                    return _this.tooltip.style("visibility", "hidden");
                    //this.chartClick(d);
                }))
                    .attr("transform", 
                // "translate(" + this.margin.left + "," + 0 + ")");
                "translate(" + 0 + "," + 0 + ")");
                // -----------------------------------------------------------------
                if (this.labelflag) {
                    g.selectAll('labels')
                        .data(thisa.data)
                        .enter()
                        .append('text')
                        .style("font-weight", "bold")
                        .attr("text-anchor", "middle")
                        .attr("fill", (function (d) {
                        if (_this.labelcolor && _this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else {
                            return "black";
                        }
                    }))
                        .attr("x", (function (d) {
                        // let length = String(d[Object.keys(d)[i]]).length
                        return thisa.x(d[Object.keys(d)[0]]) + 20;
                    }))
                        .attr("y", (function (d) {
                        /** @type {?} */
                        var key = [Object.keys(d)[i]];
                        if (flag) {
                            return thisa.y(d[key]) - 5; // fr up
                        }
                        else {
                            return thisa.y(d[key]) + 15;
                        }
                        // return thisa.y(d[Object.keys(d)[i]]);
                        //  return y(d[Object.keys(d)[1]])+yTextPadding;
                    }))
                        .text((function (d) {
                        return d[Object.keys(d)[i]];
                    }))
                        .attr("transform", "translate(" + 0 + "," + 0 + ")")
                        .attr("cursor", "pointer")
                        .on("mouseover", (function (d) {
                        _this.formTooltipData(d, i);
                        return _this.tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return _this.tooltip.html(_this.formTooltipData(d, i))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return _this.tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.onAreaTooltipClick(d, i);
                        _this.fordrillableClick(_this, d, event);
                        return _this.tooltip.style("visibility", "hidden");
                        //this.chartClick(d);
                    }));
                }
                if (this.togglelabel) {
                    this.togglelabel = false;
                }
                else {
                    this.togglelabel = true;
                }
            };
        /**
         * @param {?} g
         * @param {?} i
         * @param {?} thisa
         * @return {?}
         */
        MultiareaComponent.prototype.plotAreaChart = /**
         * @param {?} g
         * @param {?} i
         * @param {?} thisa
         * @return {?}
         */
            function (g, i, thisa) {
                var _this = this;
                // calculate area and valueline
                // define the line
                /** @type {?} */
                var valueline = d3.line()
                    .x((function (d) {
                    /** @type {?} */
                    var key = [Object.keys(d)[0]];
                    return thisa.x(d[key]);
                }))
                    .y((function (d) {
                    /** @type {?} */
                    var key = [Object.keys(d)[i]];
                    return thisa.y(d[key]);
                }));
                // add the valueline path.
                g.append("path")
                    .data([this.data])
                    .style("stroke", (function (d) {
                    if (_this.colorarray.length > 0) {
                        //  return this.colorarray[i-1];
                        if (_this.colorarray[i - 1]) {
                            return _this.colorarray[i - 1];
                        }
                        else {
                            return _this.predefinedcolors[i];
                        }
                    }
                    else {
                        return _this.predefinedColors[i];
                    }
                }))
                    .attr("fill", "none")
                    .style("stroke-width", "2px")
                    .attr("d", valueline)
                    .attr("transform", 
                // "translate(" + this.margin.left + "," + 0 + ")");
                "translate(" + 0 + "," + 0 + ")");
                // define the area
                /** @type {?} */
                var area = d3.area()
                    .x((function (d) {
                    /** @type {?} */
                    var key = [Object.keys(d)[0]];
                    return thisa.x(d[key]);
                }))
                    .y0(this.height)
                    .y1((function (d) {
                    /** @type {?} */
                    var key = [Object.keys(d)[i]];
                    return thisa.y(d[key]);
                }));
                g.append("path")
                    .data([this.data])
                    .attr("d", area)
                    .attr("transform", 
                // "translate(" + this.margin.left + "," + 0 + ")")
                "translate(" + 0 + "," + 0 + ")")
                    .style("stroke", "none")
                    .attr("fill", (function (d) {
                    if (_this.colorarray.length > 0) {
                        if (_this.colorarray[i - 1]) {
                            return _this.colorarray[i - 1];
                        }
                        else {
                            return _this.predefinedcolors[i];
                        }
                    }
                    else {
                        return _this.predefinedColors[i];
                    }
                }))
                    .style("opacity", 0.5);
            };
        /**
         * @param {?} tooltipData
         * @param {?} count
         * @return {?}
         */
        MultiareaComponent.prototype.onAreaTooltipClick = /**
         * @param {?} tooltipData
         * @param {?} count
         * @return {?}
         */
            function (tooltipData, count) {
                /** @type {?} */
                var obj = {};
                obj[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
                obj[this.keyArray[count]] = tooltipData[Object.keys(tooltipData)[count]];
                this.chartClick(obj);
            };
        /**
         * @param {?} data
         * @return {?}
         */
        MultiareaComponent.prototype.findMaxData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var tempArray = [];
                /** @type {?} */
                var largeValues = [];
                /** @type {?} */
                var maxValue;
                //logic to search 3 largest values 
                data.forEach((function (element) {
                    /** @type {?} */
                    var value;
                    try {
                        for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var _c = __read(_b.value, 2), key = _c[0], value_1 = _c[1];
                            //exempts first column of data as it is treated as x-axis
                            if (key != _this.keyArray[0]) {
                                tempArray.push(value_1);
                            }
                        } //for loop end
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (_b && !_b.done && (_d = _a.return))
                                _d.call(_a);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                    value = _this.findLargestValue(tempArray);
                    largeValues.push(value);
                    var e_1, _d;
                }));
                maxValue = this.findLargestValue(largeValues);
                return maxValue;
            };
        /**
         * @param {?} array
         * @return {?}
         */
        MultiareaComponent.prototype.findLargestValue = /**
         * @param {?} array
         * @return {?}
         */
            function (array) {
                /** @type {?} */
                var i;
                /** @type {?} */
                var max = 0;
                for (i = 0; i < array.length; i++) {
                    if (array[i] > max) {
                        max = array[i];
                    } //if ends 
                } //max ends
                return max;
            };
        //covert data
        //covert data
        /**
         * @param {?} data
         * @return {?}
         */
        MultiareaComponent.prototype.transformData =
            //covert data
            /**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                var _this = this;
                this.transformeddata = [];
                this.keyArray = data[0];
                data.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var DummyObject_1 = {};
                        element.forEach((function (individualvalue, keyindex) {
                            DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                        })); //inner for loop ends
                        _this.transformeddata.push(DummyObject_1);
                    } //if ends
                })); //outer for loop ends
                //outer for loop ends
                /** @type {?} */
                var parsedtransformeddata = JSON.parse(JSON.stringify(this.transformeddata));
                this.data = parsedtransformeddata;
            };
        /**
         * @return {?}
         */
        MultiareaComponent.prototype.formLegendData = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.legendArray = [];
                /** @type {?} */
                var counter = 0;
                this.keyArray.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var legendobject = {};
                        legendobject['label'] = element;
                        if ((_this.colorarray.length > 0) && (_this.colorarray[counter])) {
                            legendobject['color'] = _this.colorarray[counter];
                        }
                        else {
                            legendobject['color'] = _this.predefinedColors[counter + 1];
                        }
                        _this.legendArray.push(legendobject);
                        counter++;
                    }
                }));
            };
        /**
         * @param {?} legendData
         * @return {?}
         */
        MultiareaComponent.prototype.onAreaLegendClick = /**
         * @param {?} legendData
         * @return {?}
         */
            function (legendData) {
                /** @type {?} */
                var obj = {};
                obj["label"] = legendData.label;
                /** @type {?} */
                var data = [];
                this.data.forEach((function (element) {
                    try {
                        for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                            if (key == legendData.label) {
                                /** @type {?} */
                                var object = {};
                                object[key] = value;
                                data.push(object);
                            } //inner if ends
                        } //inner forloop ends
                    }
                    catch (e_2_1) {
                        e_2 = { error: e_2_1 };
                    }
                    finally {
                        try {
                            if (_b && !_b.done && (_d = _a.return))
                                _d.call(_a);
                        }
                        finally {
                            if (e_2)
                                throw e_2.error;
                        }
                    }
                    var e_2, _d;
                })); //outer foreach ends
                obj["data"] = data;
                this.onLegendClick.emit(obj);
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        MultiareaComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_3_1) {
                        e_3 = { error: e_3_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_3)
                                throw e_3.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_3, _a;
            };
        /**
         * @return {?}
         */
        MultiareaComponent.prototype.resize = /**
         * @return {?}
         */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    // this.resizewt = this.chartId.nativeElement.offsetWidth;
                    // console.log("", new Date().getTime(), " ", this.resizewt);
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.initAreaChart();
                this.plotD3Chart();
            };
        /**
         * @param {?} tooltipData
         * @param {?} count
         * @return {?}
         */
        MultiareaComponent.prototype.formTooltipData = /**
         * @param {?} tooltipData
         * @param {?} count
         * @return {?}
         */
            function (tooltipData, count) {
                /** @type {?} */
                var obj = {};
                obj[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
                obj[this.keyArray[count]] = tooltipData[Object.keys(tooltipData)[count]];
                return this.toolTipForBar(obj);
            };
        /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        MultiareaComponent.prototype.plotLine = /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (g, x, y, height, width) {
                if (this.hScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y)
                        .tickSize(-width).tickFormat('').ticks(this.tickscount));
                }
            };
        /**
         * @return {?}
         */
        MultiareaComponent.prototype.validateData = /**
         * @return {?}
         */
            function () {
                if (this.data) ;
                else {
                    return "lmask";
                }
            };
        MultiareaComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-multiarea',
                        template: "\n<div #chartId *ngIf=\"drillableFlag\" #divid (window:resize)=\"validateresize()\">\n<table [ngClass]=\"validateData()\" style=\"width: 100%;\">\n  <tr *ngIf = \"title.length > 0\">\n      <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n  </tr>\n  <tr>\n      <td>\n          <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n          </svg>\n      </td>\n  </tr>\n  <tr *ngIf=\"legend\" >\n      <td style=\"display: block; padding: 5px;\">\n          <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onAreaLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n          </amexio-d3-legend>\n      </td>\n  </tr>\n</table>\n<!-- <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div> -->\n</div>",
                        styles: [""]
                    },] },
        ];
        MultiareaComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        MultiareaComponent.propDecorators = {
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            colorarray: [{ type: i0.Input, args: ['color',] }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }],
            onLegendClick: [{ type: i0.Output }],
            onTooltipClick: [{ type: i0.Output }]
        };
        return MultiareaComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CandlestickComponent = (function (_super) {
        __extends(CandlestickComponent, _super);
        function CandlestickComponent(myservice, cdf, device) {
            var _this = _super.call(this, "candlestickwaterfallchart") || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.svgheight = 300;
            _this.showzeroflag = true;
            _this.onLegendClick = new i0.EventEmitter();
            _this.predefinedColor = [];
            _this.keyArray = [];
            _this.margin = {};
            _this.legendArray = [];
            return _this;
        }
        /**
         * @return {?}
         */
        CandlestickComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                this.predefinedColor = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
                if (this.level <= 1) {
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            //this.data = response;
                            _this.httpresponse = response;
                            _this.data = _this.getResponseData(response);
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.transformData(_this.data);
                                _this.initializeData();
                                _this.plotXYAxis();
                                _this.plotD3Chart();
                            }), 0);
                        }));
                    }
                    else if (this.data) {
                        setTimeout((function () {
                            _this.transformData(_this.data);
                            _this.initializeData();
                            _this.plotXYAxis();
                            _this.plotD3Chart();
                        }), 0);
                    }
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        CandlestickComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        _this.httpresponse = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            //this.data = this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        CandlestickComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.data = _this.getResponseData(_this.httpresponse);
                    _this.transformData(_this.data);
                    _this.initializeData();
                    _this.plotXYAxis();
                    _this.plotD3Chart();
                }), 0);
            };
        /**
         * @return {?}
         */
        CandlestickComponent.prototype.initializeData = /**
         * @return {?}
         */
            function () {
                this.tooltip = this.toolTip(d3);
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE 
                }
                this.margin = { top: 20, right: 30, bottom: 50, left: 60 },
                    this.width = this.svgwidth - this.margin.left - this.margin.right,
                    this.height = this.svgheight - this.margin.top - this.margin.bottom;
            };
        /**
         * @return {?}
         */
        CandlestickComponent.prototype.plotXYAxis = /**
         * @return {?}
         */
            function () {
                // set the ranges
                this.x = d3.scaleBand().range([0, this.width]);
                this.y = d3.scaleLinear()
                    .rangeRound([this.height, 0]);
                // scale the range of the data
                /** @type {?} */
                var candlestickArray = this.data.map((function (d) {
                    return d[Object.keys(d)[0]];
                }));
                this.x.domain(candlestickArray);
                /** @type {?} */
                var max = d3.max(this.data, (function (d) { return d.end; }));
                this.y.domain([0, max]);
                // this.svg = d3.select("#" + this.componentId)
                //RESIZE STEP 2 START
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                    .attr("width", this.width + this.margin.left + this.margin.right)
                    .attr("height", this.height + this.margin.top + this.margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
                // add the X Axis
                if (this.device.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + this.height + ")")
                            .call(d3.axisBottom(this.x)).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + this.height + ")")
                            .call(d3.axisBottom(this.x));
                    }
                }
                else {
                    this.svg.append("g")
                        .attr("transform", "translate(0," + this.height + ")")
                        .call(d3.axisBottom(this.x)).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                // this.svg.append("g")
                //   .attr("transform", "translate(0," + this.height + ")")
                //   .call(d3.axisBottom(this.x));
                // add the Y Axis
                this.svg.append("g")
                    .call(d3.axisLeft(this.y).ticks(this.tickscount));
                this.plotLine(this.svg, this.x, this.y, this.height, this.width);
            };
        /**
         * @return {?}
         */
        CandlestickComponent.prototype.plotD3Chart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var bar = this.svg.selectAll(".bar")
                    .data(this.data)
                    .enter().append("g")
                    .attr("class", (function (d) { return "bar " + d.class; }))
                    .attr("transform", (function (d) {
                    return "translate(" + _this.x(d[Object.keys(d)[0]]) + ",0)";
                }));
                bar.append("rect")
                    .attr("y", (function (d) { return _this.y(Math.max(d.start, d.end)); }))
                    .attr("height", (function (d) { return Math.abs(_this.y(d.start) - _this.y(d.end)); }))
                    .attr("width", this.x.bandwidth())
                    .attr("fill", (function (d, i) {
                    return _this.predefinedColor[i];
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (function (d) {
                    _this.formTooltipData(d);
                    return _this.tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return _this.tooltip.html(_this.formTooltipData(d))
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                }))
                    .on("mouseout", (function (d) {
                    return _this.tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    _this.onCandlestickClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return _this.tooltip.style("visibility", "hidden");
                }));
                if (this.labelflag) {
                    bar.append("text")
                        .style("font-weight", "bold")
                        .style("font-size", "1vw")
                        .attr("text-anchor", "middle")
                        .attr("fill", (function (d) {
                        if (_this.labelcolor && _this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else {
                            return "black";
                        }
                    }))
                        .attr("x", (function (d) {
                        return (_this.x.bandwidth()) / 2;
                    }))
                        .attr("y", (function (d, index) {
                        return _this.y(Math.max(d.start, d.end)) + 20;
                    }))
                        .text((function (d) {
                        // return d[Object.keys(d)[1]]
                        if (_this.showzeroflag) {
                            return d[Object.keys(d)[1]];
                        }
                        else if (!_this.showzeroflag) {
                            if (d[Object.keys(d)[1]] > 0) {
                                return d[Object.keys(d)[1]];
                            }
                        }
                    }))
                        .attr("cursor", "pointer")
                        .on("mouseover", (function (d) {
                        _this.formTooltipData(d);
                        return _this.tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return _this.tooltip.html(_this.formTooltipData(d))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return _this.tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.onCandlestickClick(d);
                        _this.fordrillableClick(_this, d, event);
                        return _this.tooltip.style("visibility", "hidden");
                    }));
                }
            };
        /**
         * @param {?} svg
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        CandlestickComponent.prototype.plotLine = /**
         * @param {?} svg
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (svg, x, y, height, width) {
                if (this.hScale) {
                    svg.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y)
                        .tickSize(-width).tickFormat('').ticks(this.tickscount));
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        CandlestickComponent.prototype.transformData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                this.transformeddata = [];
                this.keyArray = [];
                this.keyArray = data[0];
                data.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var DummyObject_1 = {};
                        element.forEach((function (individualvalue, keyindex) {
                            DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                        })); //inner for loop ends
                        _this.transformeddata.push(DummyObject_1);
                    } //if ends
                })); //outer for loop ends 
                this.data = this.transformeddata;
                this.addDataKeys();
                this.formLegendData();
            };
        /**
         * @return {?}
         */
        CandlestickComponent.prototype.addDataKeys = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var cumulative = 0;
                for (var i = 0; i < this.data.length; i++) {
                    this.data[i]["start"] = cumulative;
                    cumulative += this.data[i][this.keyArray[1]];
                    this.data[i]["end"] = cumulative;
                    this.data[i]["class"] = (this.data[i][this.keyArray[1]] >= 0) ? 'positive' : 'negative';
                }
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        CandlestickComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        /**
         * @param {?} tooltipData
         * @return {?}
         */
        CandlestickComponent.prototype.formTooltipData = /**
         * @param {?} tooltipData
         * @return {?}
         */
            function (tooltipData) {
                /** @type {?} */
                var object = {};
                object[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
                object[this.keyArray[1]] = tooltipData[Object.keys(tooltipData)[1]];
                return this.toolTipForBar(object);
            };
        /**
         * @param {?} chartData
         * @return {?}
         */
        CandlestickComponent.prototype.onCandlestickClick = /**
         * @param {?} chartData
         * @return {?}
         */
            function (chartData) {
                /** @type {?} */
                var object = {};
                object[this.keyArray[0]] = chartData[Object.keys(chartData)[0]];
                object[this.keyArray[1]] = chartData[Object.keys(chartData)[1]];
                this.chartClick(object);
            };
        /**
         * @return {?}
         */
        CandlestickComponent.prototype.formLegendData = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.legendArray = [];
                this.data.forEach((function (element, index) {
                    try {
                        for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                            if (key == _this.keyArray[0]) {
                                /** @type {?} */
                                var object = {};
                                object["label"] = value;
                                object["color"] = _this.predefinedColor[index];
                                _this.legendArray.push(object);
                            }
                        }
                    }
                    catch (e_2_1) {
                        e_2 = { error: e_2_1 };
                    }
                    finally {
                        try {
                            if (_b && !_b.done && (_d = _a.return))
                                _d.call(_a);
                        }
                        finally {
                            if (e_2)
                                throw e_2.error;
                        }
                    }
                    var e_2, _d;
                }));
            };
        /**
         * @param {?} chartData
         * @return {?}
         */
        CandlestickComponent.prototype.onCandlestickLegendClick = /**
         * @param {?} chartData
         * @return {?}
         */
            function (chartData) {
                /** @type {?} */
                var object = {};
                this.data.forEach((function (element) {
                    try {
                        for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                            if (value == chartData.label) {
                                object[chartData.label] = element[Object.keys(element)[1]];
                            }
                        }
                    }
                    catch (e_3_1) {
                        e_3 = { error: e_3_1 };
                    }
                    finally {
                        try {
                            if (_b && !_b.done && (_d = _a.return))
                                _d.call(_a);
                        }
                        finally {
                            if (e_3)
                                throw e_3.error;
                        }
                    }
                    var e_3, _d;
                }));
                this.onLegendClick.emit(object);
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        CandlestickComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 4 ENDS
        /**
         * @return {?}
         */
        CandlestickComponent.prototype.resize =
            //RESIZE STEP 4 ENDS
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    // this.resizewt = this.chartId.nativeElement.offsetWidth;
                    // console.log("", new Date().getTime(), " ", this.resizewt);
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.initializeData();
                this.plotXYAxis();
                this.plotD3Chart();
            };
        CandlestickComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-waterfall',
                        template: "\n<div #chartId *ngIf=\"drillableFlag\"  (window:resize)=\"validateresize()\" >\n<table *ngIf=\"data.length > 0\" style=\"width: 100%;\" >\n  <tr *ngIf = \"title.length > 0\">\n      <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n  </tr>\n  <tr>\n      <td>\n          <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n          </svg>\n      </td>\n  </tr>\n  <tr *ngIf=\"legend\">\n      <td style=\"display: block; padding: 5px;\">\n          <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onCandlestickLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n          </amexio-d3-legend>\n      </td>\n  </tr>\n</table>\n<div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n</div>",
                        styles: [""]
                    },] },
        ];
        CandlestickComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        CandlestickComponent.propDecorators = {
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            data: [{ type: i0.Input }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            showzeroflag: [{ type: i0.Input, args: ['show-zero-values',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }],
            onLegendClick: [{ type: i0.Output }]
        };
        return CandlestickComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BubbleComponent = (function (_super) {
        __extends(BubbleComponent, _super);
        function BubbleComponent(myservice, cdf, device) {
            var _this = _super.call(this, 'bubble') || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.svgheight = 300;
            _this.color = "blue";
            _this.zoomflag = false;
            _this.zoominitiated = false;
            _this.keyArray = [];
            _this.transformeddata = [];
            _this.colors = [];
            _this.xaxisArray = [];
            _this.xarray = [];
            _this.legends = [];
            _this.legendarray = [];
            _this.resizebtnflag = false;
            _this.legendData = [];
            _this.minxvalue = 0;
            _this.maxxvalue = 0;
            _this.bubblechartdata = [];
            _this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
            return _this;
        }
        /**
         * @return {?}
         */
        BubbleComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                this.data1 = [];
                if (this.level <= 1) {
                    /** @type {?} */
                    var resp_1;
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            resp_1 = response;
                            _this.httpresponse = resp_1;
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.data = _this.getResponseData(resp_1);
                                _this.data1 = _this.data;
                                _this.xaxisData();
                                _this.transformData(_this.data1);
                                _this.transformdata();
                                _this.colorGeneration();
                                _this.formLegendData();
                                _this.plotBubbleChart();
                            }), 0);
                        }));
                    }
                    else if (this.data) {
                        setTimeout((function () {
                            _this.data1 = _this.data;
                            _this.data = _this.getResponseData(_this.data);
                            _this.xaxisData();
                            _this.transformData(_this.data);
                            _this.transformdata();
                            _this.colorGeneration();
                            _this.formLegendData();
                            _this.plotBubbleChart();
                        }), 0);
                    }
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        BubbleComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        _this.httpresponse = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            //this.data = this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        BubbleComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.data = _this.getResponseData(_this.httpresponse);
                    _this.data1 = _this.data;
                    _this.xaxisData();
                    _this.transformData(_this.data1);
                    _this.transformdata();
                    _this.colorGeneration();
                    _this.formLegendData();
                    _this.plotBubbleChart();
                }), 0);
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        BubbleComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        /**
         * @param {?} data
         * @return {?}
         */
        BubbleComponent.prototype.transformData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                this.colordata = [];
                this.keyArray = data[0];
                data.forEach((function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var DummyObject_1 = {};
                        element.forEach((function (individualvalue, keyindex) {
                            DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                        }));
                        _this.transformeddata.push(DummyObject_1);
                    }
                }));
                this.data = this.transformeddata;
                this.colordata = this.transformeddata;
            };
        /**
         * @return {?}
         */
        BubbleComponent.prototype.plotBubbleChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var colors = this.predefinedcolors;
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE
                }
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                /** @type {?} */
                var margin = { top: 20, right: 60, bottom: 50, left: 60 };
                /** @type {?} */
                var width = this.svgwidth - margin.left - margin.right;
                /** @type {?} */
                var height = this.svgheight - margin.top - margin.bottom;
                /** @type {?} */
                var x;
                /** @type {?} */
                var y;
                x = d3.scaleLinear()
                    .rangeRound([0, width]);
                y = d3.scaleLinear()
                    .rangeRound([height, 0]);
                /** @type {?} */
                var xAxis = d3.axisBottom(x).ticks(this.xtickscount);
                /** @type {?} */
                var yAxis = d3.axisLeft(y).ticks(this.tickscount);
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                y.domain([0, d3.max(this.data, (function (d) { return d[Object.keys(d)[2]]; }))]);
                x.domain([this.minxvalue, this.maxxvalue]);
                /** @type {?} */
                var rScale = d3.scaleSqrt().rangeRound([6, 30]);
                rScale.domain([d3.min(this.data, (function (d) { return d[Object.keys(d)[4]]; })), d3.max(this.data, (function (d, i) { return d[Object.keys(d)[4]]; }))]);
                if (this.device.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(xAxis)
                            .append("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(xAxis)
                            .append("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .style("text-anchor", "start");
                    }
                }
                else {
                    this.svg.append("g")
                        .attr("class", "x axis")
                        .attr("transform", "translate(0," + height + ")")
                        .call(xAxis).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                this.svg.append("g")
                    .attr("class", "y axis")
                    .call(yAxis)
                    .append("text")
                    .attr("class", "label")
                    .attr("transform", "rotate(-90)")
                    .attr("y", 6)
                    .attr("dy", ".71em")
                    .style("text-anchor", "end");
                this.plotLine(this.svg, x, y, height, width);
                this.node = this.svg.selectAll(".dot")
                    .data(this.bubblechartdata)
                    .enter().append("circle")
                    .attr("class", "dot")
                    .attr("r", (function (d) { return rScale(d[Object.keys(d)[4]]); }))
                    .attr("cursor", "pointer")
                    .attr("cx", (function (d) {
                    return x(d[Object.keys(d)[1]]);
                }))
                    .attr("cy", (function (d) { return y(d[Object.keys(d)[2]]); }))
                    .attr("fill", (function (d) { return d[Object.keys(d)[5]]; }))
                    .attr('opacity', 0.7)
                    .on("mouseover", (function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return tooltip.html(_this.formTooltipData(d))
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                }))
                    .on("mouseout", (function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    // if(!this.zoominitiated) {
                    _this.bubbleChartClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                    // }
                }));
                //label
                if (this.labelflag) {
                    this.nodelabel = this.svg.selectAll("labels")
                        .data(this.bubblechartdata)
                        .enter().append("text")
                        .style("font-weight", "bold")
                        .style("font-size", (function (d) {
                        return rScale(d[Object.keys(d)[4]]) - 4;
                    }))
                        .attr("text-anchor", "middle")
                        .attr("fill", (function (d) {
                        if (_this.labelcolor && _this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else {
                            return "black";
                        }
                    }))
                        .attr("x", (function (d) {
                        return x(d[Object.keys(d)[1]]);
                    }))
                        .attr("y", (function (d) { return y(d[Object.keys(d)[2]]); }))
                        .text((function (d) {
                        return d[Object.keys(d)[0]];
                    }))
                        .attr("cursor", "pointer")
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.formTooltipData(d))
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        // if(!this.zoominitiated) {
                        _this.bubbleChartClick(d);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                        // }
                    }));
                }
                //create zoom handler 
                if (this.zoomflag) {
                    this.zoominitiated = true;
                    /** @type {?} */
                    var zoom_handler = d3.zoom()
                        .on("zoom", this.zoom_actions.bind(this));
                    zoom_handler(this.svg);
                }
            };
        /**
         * @return {?}
         */
        BubbleComponent.prototype.togglebtnflag = /**
         * @return {?}
         */
            function () {
                this.resizebtnflag = true;
            };
        /**
         * @return {?}
         */
        BubbleComponent.prototype.zoom_actions = /**
         * @return {?}
         */
            function () {
                this.node.attr("transform", d3.event.transform);
                if (this.labelflag) {
                    this.nodelabel.attr("transform", d3.event.transform);
                }
                this.resizebtnflag = true;
                this.zoominitiated = false;
            };
        /**
         * @return {?}
         */
        BubbleComponent.prototype.resizesvg = /**
         * @return {?}
         */
            function () {
                // this.svg = null;
                this.svg.selectAll("*").remove();
                this.plotBubbleChart();
                this.resizebtnflag = false;
            };
        /**
         * @param {?} tooltipData
         * @return {?}
         */
        BubbleComponent.prototype.formTooltipData = /**
         * @param {?} tooltipData
         * @return {?}
         */
            function (tooltipData) {
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key != 'color') {
                            object[key] = value;
                        }
                    }
                }
                catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_2)
                            throw e_2.error;
                    }
                }
                return this.toolTipForBar(object);
                var e_2, _d;
            };
        // Method on chart click
        // Method on chart click
        /**
         * @param {?} event
         * @return {?}
         */
        BubbleComponent.prototype.bubbleChartClick =
            // Method on chart click
            /**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                /** @type {?} */
                var object = {};
                try {
                    for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key !== 'color') {
                            object[key] = value;
                        }
                    }
                }
                catch (e_3_1) {
                    e_3 = { error: e_3_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_3)
                            throw e_3.error;
                    }
                }
                this.chartClick(object);
                var e_3, _d;
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        BubbleComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 4 ENDS
        /**
         * @return {?}
         */
        BubbleComponent.prototype.resize =
            //RESIZE STEP 4 ENDS
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.plotBubbleChart();
            };
        /**
         * @return {?}
         */
        BubbleComponent.prototype.xaxisData = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var array = [];
                this.minxvalue = 0;
                this.maxxvalue = 0;
                this.xaxisArray = [];
                this.xarray = [];
                this.data1.forEach((function (element) {
                    array.push(element[1]);
                }));
                for (var i = 1; i < array.length; i++) {
                    this.xaxisArray.push(array[i]);
                }
                /** @type {?} */
                var minvalue = Math.floor(d3.min(this.xaxisArray));
                /** @type {?} */
                var maxvalue = Math.ceil(d3.max(this.xaxisArray));
                this.minxvalue = 5 * (Math.floor(Math.abs(minvalue / 5)));
                this.maxxvalue = 5 * (Math.ceil(Math.abs(maxvalue / 5)));
            };
        /**
         * @return {?}
         */
        BubbleComponent.prototype.colorGeneration = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.legendarray = [];
                /** @type {?} */
                var i = 0;
                /** @type {?} */
                var names = this.data1
                    .map((function (e) { return e[3]; }))
                    .filter((function (e, i, a) { return a.indexOf(e) === i; }));
                var _loop_1 = function (j) {
                    /** @type {?} */
                    var value = [];
                    /** @type {?} */
                    var obj = { "label": "", "color": "", "value": [] };
                    this_1.colordata.forEach((function (element) {
                        if (element[Object.keys(element)[3]] == names[j]) {
                            element['color'] = _this.predefinedcolors[i];
                            value.push(element);
                        }
                    }));
                    obj["value"] = value;
                    obj["label"] = names[j];
                    obj["color"] = this_1.predefinedcolors[i];
                    this_1.legendarray.push(obj);
                    i++;
                };
                var this_1 = this;
                for (var j = 1; j < names.length; j++) {
                    _loop_1(j);
                }
            };
        /**
         * @return {?}
         */
        BubbleComponent.prototype.formLegendData = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.legendData = [];
                this.legendarray.forEach((function (element) {
                    /** @type {?} */
                    var legendobject = {};
                    legendobject['label'] = element.label;
                    legendobject['color'] = element.color;
                    _this.legendData.push(legendobject);
                }));
            };
        /**
         * @param {?} legendevent
         * @return {?}
         */
        BubbleComponent.prototype.onBubbleLegendClick = /**
         * @param {?} legendevent
         * @return {?}
         */
            function (legendevent) {
                var _this = this;
                this.legendarray.forEach((function (element) {
                    /** @type {?} */
                    var obj = {};
                    /** @type {?} */
                    var temparr = [];
                    if (legendevent.label == element.label) {
                        /** @type {?} */
                        var arr = element.value;
                        arr.forEach((function (element) {
                            try {
                                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                                    if (key !== 'color') {
                                        obj[key] = value;
                                    }
                                } // for ends
                            }
                            catch (e_4_1) {
                                e_4 = { error: e_4_1 };
                            }
                            finally {
                                try {
                                    if (_b && !_b.done && (_d = _a.return))
                                        _d.call(_a);
                                }
                                finally {
                                    if (e_4)
                                        throw e_4.error;
                                }
                            }
                            temparr.push(obj);
                            var e_4, _d;
                        })); // for each ends
                        _this.legendClick(temparr);
                    }
                }));
            };
        /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
        BubbleComponent.prototype.plotLine = /**
         * @param {?} g
         * @param {?} x
         * @param {?} y
         * @param {?} height
         * @param {?} width
         * @return {?}
         */
            function (g, x, y, height, width) {
                if (this.vScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .attr('transform', 'translate(0,' + height + ')')
                        .call(d3.axisBottom(x).
                        tickSize(-this.width).tickFormat('').ticks(this.xtickscount));
                }
                if (this.hScale) {
                    g.append('g')
                        .attr("color", "lightgrey")
                        .call(d3.axisLeft(y)
                        .tickSize(-width).tickFormat('').ticks(this.tickscount));
                }
            };
        /**
         * @return {?}
         */
        BubbleComponent.prototype.transformdata = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.bubblechartdata = [];
                /** @type {?} */
                var buubledata = [];
                this.colordata.forEach((function (element, i) {
                    buubledata.push(element[Object.keys(element)[4]]);
                }));
                /** @type {?} */
                var data = buubledata.sort((function (a, b) { return b - a; }));
                var _loop_2 = function (j) {
                    this_2.colordata.forEach((function (element) {
                        if (data[j] == element[Object.keys(element)[4]])
                            _this.bubblechartdata.push(element);
                    }));
                };
                var this_2 = this;
                for (var j = 0; j <= data.length; j++) {
                    _loop_2(j);
                }
            };
        BubbleComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-bubble',
                        template: "<div #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n    <table *ngIf=\"data.length > 0\" style=\"width: 100%;\">\n        <tr>\n            <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}}\n                <span *ngIf=\"resizebtnflag\">\n                    <button type=\"reset\" class=\"fa fa-search-minus\" style=\"cursor: pointer; float:right\" (click)=\"resizesvg()\">\n                    </button>\n                </span>\n            </td>\n            <td></td>\n        </tr>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onBubbleLegendClick($event)\" [data]=\"legendData\"\n                    style=\"height:100%;\"></amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n    <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n</div>",
                        styles: [""]
                    },] },
        ];
        BubbleComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        BubbleComponent.propDecorators = {
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            color: [{ type: i0.Input, args: ['color',] }],
            zoomflag: [{ type: i0.Input, args: ['zoom-enable',] }],
            tickscount: [{ type: i0.Input, args: ['yaxis-interval',] }],
            xtickscount: [{ type: i0.Input, args: ['xaxis-interval',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }]
        };
        return BubbleComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AmexioD3TimelineChartComponent = (function (_super) {
        __extends(AmexioD3TimelineChartComponent, _super);
        function AmexioD3TimelineChartComponent(myservice, cdf, device) {
            var _this = _super.call(this, 'timeline') || this;
            _this.myservice = myservice;
            _this.cdf = cdf;
            _this.device = device;
            _this.svgheight = 200;
            _this.level = 0;
            _this.drillabledatakey = [];
            _this.labelcolor = "black";
            _this.labelflag = false;
            _this.lanes = [];
            _this.timelinechartData = [];
            _this.drillableFlag = true;
            _this.resizeflag = false;
            _this.monthlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
            return _this;
        }
        /**
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.wt = this.svgwidth;
                if (this.level <= 1) {
                    /** @type {?} */
                    var resp_1;
                    if (this.httpmethod && this.httpurl) {
                        this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((function (response) {
                            resp_1 = response;
                        }), (function (error) {
                        }), (function () {
                            setTimeout((function () {
                                _this.data = _this.getResponseData(resp_1);
                                _this.transformTODate(_this.data);
                                _this.transformData(_this.urldata);
                                _this.plotChart();
                            }), 0);
                        }));
                    }
                    else if (this.data) {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(_this.data);
                            _this.transformData(_this.data);
                            _this.plotChart();
                        }), 0);
                    }
                }
            };
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.fetchData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                /** @type {?} */
                var requestJson;
                /** @type {?} */
                var key = this.drillabledatakey;
                /** @type {?} */
                var resp;
                if (this.drillabledatakey.length) {
                    /** @type {?} */
                    var drillabledata = this.getMultipleDrillbleKeyData(data, key);
                    requestJson = drillabledata;
                }
                else {
                    requestJson = data;
                }
                if (this.httpmethod && this.httpurl) {
                    this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((function (response) {
                        resp = response;
                    }), (function (error) {
                    }), (function () {
                        setTimeout((function () {
                            _this.data = _this.getResponseData(resp);
                            _this.drawChart();
                        }), 0);
                    }));
                }
            };
        /**
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.drawChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout((function () {
                    _this.transformTODate(_this.data);
                    _this.transformData(_this.urldata);
                    _this.plotChart();
                }), 0);
            };
        /**
         * @param {?} httpResponse
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.getResponseData = /**
         * @param {?} httpResponse
         * @return {?}
         */
            function (httpResponse) {
                /** @type {?} */
                var responsedata = httpResponse;
                if (this.datareader != null) {
                    /** @type {?} */
                    var dr = this.datareader.split('.');
                    try {
                        for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                            var ir = dr_1_1.value;
                            responsedata = responsedata[ir];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return))
                                _a.call(dr_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                else {
                    responsedata = httpResponse;
                }
                return responsedata;
                var e_1, _a;
            };
        /**
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.plotChart = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var laneLength = this.lanes.length;
                /** @type {?} */
                var tooltip = this.toolTip(d3);
                if (this.resizeflag == false) {
                    //RESIZE STEP 1
                    if (this.wt) {
                        this.svgwidth = this.wt;
                    }
                    else if (this.chartId) {
                        this.svgwidth = this.chartId.nativeElement.offsetWidth;
                    }
                    //RESIZE STEP 1 ENDS HERE 
                }
                /** @type {?} */
                var m = [20, 25, 15, 120];
                /** @type {?} */
                var //top right bottom left
                width = this.svgwidth - m[1] - m[3];
                /** @type {?} */
                var height = this.svgheight - m[0] - m[2];
                /** @type {?} */
                var miniHeight = laneLength * 12 + 50;
                /** @type {?} */
                var mainHeight = height - miniHeight - 50;
                /** @type {?} */
                var mindate;
                /** @type {?} */
                var maxdate;
                /** @type {?} */
                var barheight = 20;
                if (this.httpurl && this.httpmethod) {
                    mindate = this.urldata[0][1].getFullYear(),
                        maxdate = this.urldata[this.urldata.length - 1][2].getFullYear();
                }
                else {
                    mindate = this.data[0][1].getFullYear(),
                        maxdate = this.data[this.data.length - 1][2].getFullYear();
                }
                /** @type {?} */
                var x = d3.scaleTime()
                    .domain([this.mindate, this.maxdate])
                    .range([0, width]);
                /** @type {?} */
                var x1 = d3.scaleLinear()
                    .domain([mindate, maxdate])
                    .range([m[3], width + m[3]]);
                /** @type {?} */
                var y1 = d3.scaleLinear()
                    .domain([0, laneLength])
                    .range([0, miniHeight]);
                this.svg = d3.select("#" + this.componentId)
                    .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                    .attr("width", width + m[1] + m[3])
                    .attr("height", height + m[0] + m[2]);
                if (this.device.IsDesktop() == true) {
                    if (this.svgwidth <= 400) {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(d3.axisBottom(x1).ticks(this.xtickscount)).
                            selectAll("text")
                            .attr("y", 0)
                            .attr("x", 9)
                            .attr("dy", ".35em")
                            .attr("transform", "rotate(60)")
                            .style("text-anchor", "start");
                    }
                    else {
                        this.svg.append("g")
                            .attr("transform", "translate(0," + height + ")")
                            .call(d3.axisBottom(x1).ticks(this.xtickscount));
                    }
                }
                else {
                    this.svg.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(d3.axisBottom(x1).ticks(this.xtickscount)).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                /** @type {?} */
                var mini = this.svg.append("g")
                    .attr("transform", "translate(" + m[3] + "," + (mainHeight + m[0]) + ")")
                    .attr("width", width)
                    .attr("height", mainHeight)
                    .attr("class", "mini");
                //mini lanes and texts
                mini.append("g").selectAll(".laneLines")
                    .data(this.timelinechartData)
                    .enter().append("line")
                    .attr("y1", (function (d) { return y1(d.lane); }))
                    .attr("x2", width)
                    .attr("y2", (function (d) { return y1(d.lane); }))
                    .attr("stroke", "lightgray");
                mini.append("g").selectAll(".laneText")
                    .data(this.lanes)
                    .enter().append("text")
                    .text((function (d) { return d; }))
                    .attr("x", -m[1])
                    .attr("y", (function (d, i) { return y1(i + .5); }))
                    .attr("dy", ".5ex")
                    .attr("text-anchor", "end")
                    .attr("class", "laneText");
                //mini item rects
                mini.append("g").selectAll("miniItems")
                    .data(this.timelinechartData)
                    .enter().append("rect")
                    .attr("class", (function (d) { return "miniItem" + d.lane; }))
                    .attr("fill", (function (d, index) { return _this.predefinedcolors[index]; }))
                    .attr("x", (function (d) { return x(d.start); }))
                    .attr("y", (function (d) { return (y1(d.lane + .5) - 5); }))
                    .attr("width", (function (d) {
                    return Math.abs(x(d.end) - x(d.start));
                }))
                    .attr("height", barheight)
                    .attr("cursor", "pointer")
                    .on("mouseover", (function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (function (d) {
                    return tooltip.html(_this.formTooltipData(d)
                    //  this.toolTipForBar(d)
                    // this.toolTipContent(d)
                    )
                        .style("top", (d3.event.pageY - 10) + "px")
                        .style("left", (d3.event.pageX + 10) + "px");
                }))
                    .on("mouseout", (function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (function (d) {
                    _this.timelineChartClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
                /** @type {?} */
                var barwidth;
                //mini labels
                /** @type {?} */
                var monthlist1 = this.monthlist;
                if (this.labelflag) {
                    mini.append("g").selectAll(".miniLabels")
                        .data(this.timelinechartData)
                        .enter().append("text")
                        .style("font-weight", "bold")
                        .attr("fill", (function (d) {
                        if (_this.labelcolor.length > 0) {
                            return _this.labelcolor;
                        }
                        else {
                            return "black";
                        }
                    }))
                        .style("font-size", (function (d) {
                        barwidth = Math.min(Math.abs(x(d.end) - x(d.start)));
                        return barwidth / 20 + "px";
                    }))
                        .text((function (d) {
                        if (d.id) {
                            /** @type {?} */
                            var startfullyear = d.start.getFullYear();
                            /** @type {?} */
                            var startMonth = monthlist1[d.start.getMonth()];
                            /** @type {?} */
                            var endfullyear = d.end.getFullYear();
                            /** @type {?} */
                            var endMonth = monthlist1[d.end.getMonth()];
                            /** @type {?} */
                            var date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
                            return date;
                        }
                    }))
                        .attr("x", (function (d) {
                        return x(d.start);
                    }))
                        .attr("y", (function (d) { return y1(d.lane + .5); }))
                        .attr("dy", "1.2ex")
                        .attr("dx", "9ex")
                        .attr("cursor", "pointer")
                        .on("mouseover", (function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (function (d) {
                        return tooltip.html(_this.formTooltipData(d)
                        //  this.toolTipForBar(d)
                        // this.toolTipContent(d)
                        )
                            .style("top", (d3.event.pageY - 10) + "px")
                            .style("left", (d3.event.pageX + 10) + "px");
                    }))
                        .on("mouseout", (function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (function (d) {
                        _this.timelineChartClick(d);
                        _this.fordrillableClick(_this, d, event);
                        return tooltip.style("visibility", "hidden");
                    }));
                }
            };
        /**
         * @param {?} tooltipData
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.formTooltipData = /**
         * @param {?} tooltipData
         * @return {?}
         */
            function (tooltipData) {
                /** @type {?} */
                var object = {};
                /** @type {?} */
                var mlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
                /** @type {?} */
                var label1 = "Duration";
                /** @type {?} */
                var label2 = "Name";
                /** @type {?} */
                var startfullyear = tooltipData.start.getFullYear();
                /** @type {?} */
                var startMonth = mlist[tooltipData.start.getMonth()];
                /** @type {?} */
                var endfullyear = tooltipData.end.getFullYear();
                /** @type {?} */
                var endMonth = mlist[tooltipData.end.getMonth()];
                /** @type {?} */
                var date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
                object[label2 + ":"] = tooltipData.id;
                object[label1 + ":"] = date;
                return this.toolTipForBar(object);
            };
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.transformTODate = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                this.urldata = [];
                data.forEach((function (element) {
                    /** @type {?} */
                    var dataobj = [];
                    /** @type {?} */
                    var startdate = new Date(element[1]);
                    /** @type {?} */
                    var enddate = new Date(element[2]);
                    dataobj.push(element[0]);
                    dataobj.push(startdate);
                    dataobj.push(enddate);
                    _this.urldata.push(dataobj);
                }));
            };
        /**
         * @param {?} data
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.transformData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                this.lanes = [];
                this.timelinechartData = [];
                this.legends = [];
                /** @type {?} */
                var datalength = data.length - 1;
                /** @type {?} */
                var length = data.length;
                this.mindate = data[0][1];
                this.maxdate = data[datalength][2];
                /** @type {?} */
                var mlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
                data.forEach((function (element, i) {
                    /** @type {?} */
                    var dataObj = { "lane": "", "id": "", "start": "", "end": "" };
                    _this.lanes.push(element[0]);
                    dataObj["lane"] = i;
                    dataObj["id"] = element[0];
                    dataObj["start"] = element[1];
                    dataObj["end"] = element[2];
                    _this.timelinechartData.push(dataObj);
                }));
                this.timelinechartData.forEach((function (element, i) {
                    /** @type {?} */
                    var startfullyear = element.start.getFullYear();
                    /** @type {?} */
                    var startMonth = mlist[element.start.getMonth()];
                    /** @type {?} */
                    var endfullyear = element.end.getFullYear();
                    /** @type {?} */
                    var endMonth = mlist[element.end.getMonth()];
                    /** @type {?} */
                    var date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
                    /** @type {?} */
                    var object = { 'label': _this.lanes[i], 'color': _this.predefinedcolors[i], 'Duration': date };
                    _this.legends.push(object);
                }));
                /** @type {?} */
                var Obj = { "lane": "", "id": "", "start": "", "end": "" };
                Obj["lane"] = length;
                this.timelinechartData.push(Obj);
            };
        /**
         * @param {?} event
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.timelineChartClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var object = {};
                /** @type {?} */
                var mlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
                /** @type {?} */
                var startfullyear = event.start.getFullYear();
                /** @type {?} */
                var startMonth = mlist[event.start.getMonth()];
                /** @type {?} */
                var endfullyear = event.end.getFullYear();
                /** @type {?} */
                var endMonth = mlist[event.end.getMonth()];
                /** @type {?} */
                var date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
                object["Name"] = event.id;
                object["Duration"] = date;
                this.chartClick(object);
            };
        //RESIZE STEP 4 STARTS
        //RESIZE STEP 4 STARTS
        /**
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.validateresize =
            //RESIZE STEP 4 STARTS
            /**
             * @return {?}
             */
            function () {
                var _this = this;
                setTimeout((function () {
                    if (_this.wt) ;
                    else {
                        _this.resize();
                    }
                }), 0);
            };
        //RESIZE STEP 4 ENDS
        //RESIZE STEP 4 ENDS
        /**
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.resize =
            //RESIZE STEP 4 ENDS
            /**
             * @return {?}
             */
            function () {
                this.svg.selectAll("*").remove();
                this.resizeflag = true;
                if (this.wt) {
                    this.svgwidth = this.wt;
                }
                else if (this.chartId) {
                    // this.resizewt = this.chartId.nativeElement.offsetWidth;
                    // console.log("", new Date().getTime(), " ", this.resizewt);
                    this.svgwidth = this.chartId.nativeElement.offsetWidth;
                }
                this.cdf.detectChanges();
                this.plotChart();
            };
        /**
         * @param {?} event
         * @return {?}
         */
        AmexioD3TimelineChartComponent.prototype.timelinelegendClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var obj = {};
                try {
                    for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key !== 'color') {
                            obj[key] = value;
                        }
                    }
                }
                catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return))
                            _d.call(_a);
                    }
                    finally {
                        if (e_2)
                            throw e_2.error;
                    }
                }
                this.onLegendClick.emit(obj);
                var e_2, _d;
            };
        AmexioD3TimelineChartComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-d3-chart-timeline',
                        template: "\n<div  #chartId *ngIf=\"drillableFlag\"  (window:resize)=\"validateresize()\" >\n    <table style=\"width: 100%;\" position=\" relative\">\n        <tr *ngIf = \"title.length > 0\">\n            <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n        </tr>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\" \n              >\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"timelinelegendClick($event)\" [data]=\"legends\" style=\"height:100%;\">\n                </amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n    </div>"
                    },] },
        ];
        AmexioD3TimelineChartComponent.ctorParameters = function () {
            return [
                { type: CommanDataService },
                { type: i0.ChangeDetectorRef },
                { type: DeviceQueryService }
            ];
        };
        AmexioD3TimelineChartComponent.propDecorators = {
            data: [{ type: i0.Input, args: ['data',] }],
            chartId: [{ type: i0.ViewChild, args: ['chartId',] }],
            divid: [{ type: i0.ViewChild, args: ['divid',] }],
            svgwidth: [{ type: i0.Input, args: ['width',] }],
            svgheight: [{ type: i0.Input, args: ['height',] }],
            datareader: [{ type: i0.Input, args: ['data-reader',] }],
            level: [{ type: i0.Input, args: ['level',] }],
            target: [{ type: i0.Input, args: ['target',] }],
            drillabledatakey: [{ type: i0.Input, args: ['drillable-data',] }],
            labelcolor: [{ type: i0.Input, args: ['label-color',] }],
            labelflag: [{ type: i0.Input, args: ['label',] }],
            xtickscount: [{ type: i0.Input, args: ['xaxis-interval',] }]
        };
        return AmexioD3TimelineChartComponent;
    }(AmexioD3BaseChartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ViewDrillableComponent = (function () {
        function ViewDrillableComponent() {
        }
        /**
         * @return {?}
         */
        ViewDrillableComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @return {?}
         */
        ViewDrillableComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                return this.getComponentData();
            };
        /**
         * @return {?}
         */
        ViewDrillableComponent.prototype.getComponentData = /**
         * @return {?}
         */
            function () {
                this.chartInputArray = [];
                this.barchartinput = this.queryBarchartinput.toArray();
                this.groupbarchartinput = this.QueryGroupbarchartinput.toArray();
                this.linechartinput = this.QueryLinechartinput.toArray();
                this.donutchartinput = this.QueryDonutchartinput.toArray();
                this.piechartinput = this.QueryPiechartinput.toArray();
                this.barstackchartinput = this.QueryBarStackchartinput.toArray();
                this.combochartinput = this.QueryCombochartinput.toArray();
                this.histogramchartinput = this.QueryHistogramchartinput.toArray();
                this.scatterchartinput = this.QuerySatterchartinput.toArray();
                this.multiareachartinput = this.QueryMultiareachartinput.toArray();
                this.candlestickchartinput = this.QueryCandlestickchartinput.toArray();
                this.bubblechartinput = this.QueryBubblechartinput.toArray();
                this.timelinechartinput = this.QueryTimechartinput.toArray();
                this.chartInputArray = this.chartInputArray.concat(this.barchartinput, this.groupbarchartinput, this.linechartinput, this.donutchartinput, this.piechartinput, this.barstackchartinput, this.combochartinput, this.histogramchartinput, this.scatterchartinput, this.multiareachartinput, this.candlestickchartinput, this.bubblechartinput, this.timelinechartinput);
                return this.chartInputArray;
            };
        ViewDrillableComponent.propDecorators = {
            queryBarchartinput: [{ type: i0.ContentChildren, args: [AmexioD3BarChartComponent, { descendants: true },] }],
            QueryGroupbarchartinput: [{ type: i0.ContentChildren, args: [GroupbarComponent, { descendants: true },] }],
            QueryLinechartinput: [{ type: i0.ContentChildren, args: [AmexioD3LineComponent, { descendants: true },] }],
            QueryPiechartinput: [{ type: i0.ContentChildren, args: [AmexioD3PieChartComponent, { descendants: true },] }],
            QueryDonutchartinput: [{ type: i0.ContentChildren, args: [AmexioD3DounutChartComponent, { descendants: true },] }],
            QueryBarStackchartinput: [{ type: i0.ContentChildren, args: [BarstackComponent, { descendants: true },] }],
            QueryCombochartinput: [{ type: i0.ContentChildren, args: [CombochartComponent, { descendants: true },] }],
            QueryHistogramchartinput: [{ type: i0.ContentChildren, args: [HistogramComponent, { descendants: true },] }],
            QuerySatterchartinput: [{ type: i0.ContentChildren, args: [ScatterchartComponent, { descendants: true },] }],
            QueryMultiareachartinput: [{ type: i0.ContentChildren, args: [MultiareaComponent, { descendants: true },] }],
            QueryCandlestickchartinput: [{ type: i0.ContentChildren, args: [CandlestickComponent, { descendants: true },] }],
            QueryBubblechartinput: [{ type: i0.ContentChildren, args: [BubbleComponent, { descendants: true },] }],
            QueryTimechartinput: [{ type: i0.ContentChildren, args: [AmexioD3TimelineChartComponent, { descendants: true },] }]
        };
        return ViewDrillableComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DrillableComponent = (function (_super) {
        __extends(DrillableComponent, _super);
        function DrillableComponent() {
            var _this = _super.call(this) || this;
            _this.mouseLocation = { left: 0, top: 0 };
            _this.componentcounter = 1;
            _this.disableFlag = false;
            return _this;
        }
        /**
         * @return {?}
         */
        DrillableComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @return {?}
         */
        DrillableComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                this.ComponentDataArray = this.getComponentData();
                this.getData(this.ComponentDataArray);
            };
        /**
         * @param {?} data
         * @return {?}
         */
        DrillableComponent.prototype.getData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                data.forEach((function (element) {
                    if (element.level !== 1) {
                        element.drillableFlag = false;
                        element.drillableEvent.subscribe((function (eventdata) {
                            _this.hideUI(eventdata);
                            _this.sameLevelChart(eventdata);
                            _this.ShowUI(eventdata);
                        }));
                    }
                    else {
                        _this.disableFlag = false;
                        element.drillableEvent.subscribe((function (eventdata) {
                            _this.hideUI(eventdata);
                            _this.sameLevelChart(eventdata);
                            _this.ShowUI(eventdata);
                        }));
                    }
                }));
            };
        /**
         * @param {?} eventRef
         * @return {?}
         */
        DrillableComponent.prototype.hideUI = /**
         * @param {?} eventRef
         * @return {?}
         */
            function (eventRef) {
                this.ComponentDataArray.forEach((function (element) {
                    if (element.level == eventRef.ref.level) {
                        eventRef.ref.drillableFlag = false;
                    }
                }));
            };
        /**
         * @param {?} eventRef
         * @return {?}
         */
        DrillableComponent.prototype.ShowUI = /**
         * @param {?} eventRef
         * @return {?}
         */
            function (eventRef) {
                var _this = this;
                this.eventData = [];
                this.eventData = eventRef;
                this.ComponentDataArray.forEach((function (element) {
                    if (eventRef.ref.target == element.level) {
                        if (_this.arrayofsameLevel.length == 1) {
                            _this.disableFlag = true;
                            element.drillableFlag = true;
                            element.fetchData(eventRef.node);
                            _this.componentcounter = element.level;
                        }
                        else {
                            _this.contextmenuFlag = true;
                            _this.mouseLocation.left = eventRef.event.clientX;
                            _this.mouseLocation.top = eventRef.event.clientY;
                            _this.contextStyle = _this.getContextMenuStyle();
                        }
                    }
                }));
                if (this.componentcounter == eventRef.ref.level) {
                    eventRef.ref.drillableFlag = true;
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        DrillableComponent.prototype.previouschartClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                var _this = this;
                /** @type {?} */
                var chartLevel = this.componentcounter - 1;
                this.ComponentDataArray.forEach((function (element) {
                    if (chartLevel == element.level) {
                        element.drillableFlag = true;
                        element.drawChart();
                    }
                    else if (_this.componentcounter == element.level) {
                        element.drillableFlag = false;
                    }
                }));
                if (this.componentcounter == 2) {
                    this.disableFlag = false;
                }
                this.componentcounter = chartLevel;
            };
        /**
         * @param {?} eventRef
         * @return {?}
         */
        DrillableComponent.prototype.sameLevelChart = /**
         * @param {?} eventRef
         * @return {?}
         */
            function (eventRef) {
                var _this = this;
                this.arrayofsameLevel = [];
                this.ComponentDataArray.forEach((function (element) {
                    if (eventRef.ref.target == element.level) {
                        _this.arrayofsameLevel = _this.arrayofsameLevel.concat(element);
                    }
                }));
            };
        //Method Creates style if two same targets found.
        //Method Creates style if two same targets found.
        /**
         * @return {?}
         */
        DrillableComponent.prototype.getContextMenuStyle =
            //Method Creates style if two same targets found.
            /**
             * @return {?}
             */
            function () {
                return {
                    'cursor': 'default',
                    'position': 'fixed',
                    'display': this.contextmenuFlag ? 'block' : 'none',
                    'left': this.mouseLocation.left + 'px',
                    'top': this.mouseLocation.top + 'px',
                    'box-shadow': '1px 1px 2px #000000',
                    'width': '15%',
                };
            };
        /**
         * @param {?} elementRef
         * @return {?}
         */
        DrillableComponent.prototype.getListPosition = /**
         * @param {?} elementRef
         * @return {?}
         */
            function (elementRef) {
                /** @type {?} */
                var height = 240;
                if ((window.screen.height - elementRef.getBoundingClientRect().bottom) < height) {
                    return true;
                }
                else {
                    return false;
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        DrillableComponent.prototype.onContextNodeClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.componentcounter = 0;
                this.contextmenuFlag = false;
                this.eventData.ref.drillableFlag = false;
                this.disableFlag = true;
                event.drillableFlag = true;
                event.fetchData(this.eventData.node);
                this.componentcounter = event.level;
                if (this.componentcounter == this.eventData.ref.level) {
                    this.eventData.ref.drillableFlag = true;
                }
            };
        /**
         * @return {?}
         */
        DrillableComponent.prototype.onCloseClick = /**
         * @return {?}
         */
            function () {
                this.contextmenuFlag = false;
            };
        DrillableComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amexio-drillable',
                        template: "\n<div > \n    <ng-container *ngIf=\"disableFlag\">\n            <button type=\"button\" class=\"button\"\n             (click)=\"previouschartClick($event)\">\n             <i class=\"fa fa-arrow-left\"></i> \n             \n            </button>\n</ng-container>\n\n<ng-content></ng-content>\n\n</div>\n\n<span [ngStyle]=\"contextStyle\" >\n  <ul *ngIf=\"contextmenuFlag\" class=\"close-thik\" class=\"context-menu-list\"  >\n    <span (click)=\"onCloseClick()\" class=\"close\"><i class=\"fa fa-close\"></i></span>\n  <li (click)=\"onContextNodeClick(itemConfig)\" class=\"context-menu-list-items\" \n  *ngFor=\"let itemConfig of arrayofsameLevel\">\n  <em [ngStyle]=\"{'padding-left': itemConfig.icon ? '5px':'19px'}\"></em>\n  <span style=\"white-space: nowrap;display: inline ; padding-left:5px\">{{itemConfig.title}}\n  </span>\n  </li>\n  </ul>\n  </span>\n  ",
                        styles: [".button{position:relative;border:1px solid #555;font-weight:400;color:#000;padding:.5rem 1rem;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;border-radius:3px}.button:after{content:\"\";background:#000;display:block;position:absolute;padding-top:300%;padding-left:350%;margin-left:-20px!important;margin-top:-120%;opacity:0;transition:.8s}.button:active:after{padding:0;margin:0;opacity:1;transition:none}.context-menu-list{display:block;position:absolute;flex-direction:column;min-width:180px;cursor:pointer;max-height:150px;z-index:1;padding:10px 0;overflow-y:auto;background-color:#fff!important;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.context-menu-list .context-menu-list-items{text-decoration:none;font-size:14px!important;padding:5px;display:block}.close{float:right;padding-right:8px;cursor:pointer}"]
                    },] },
        ];
        DrillableComponent.ctorParameters = function () { return []; };
        return DrillableComponent;
    }(ViewDrillableComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var D3_COMPONENTS = [
        AmexioD3Legend,
        AmexioD3DounutChartComponent,
        AmexioD3BarChartComponent,
        AmexioD3PieChartComponent,
        AmexioD3LineComponent,
        BarstackComponent,
        GroupbarComponent,
        CombochartComponent,
        DrillableComponent,
        HistogramComponent,
        MultiareaComponent,
        ScatterchartComponent,
        CandlestickComponent,
        BubbleComponent,
        AmexioD3TimelineChartComponent
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AmexioChartD3Module = (function () {
        function AmexioChartD3Module() {
        }
        AmexioChartD3Module.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            forms.FormsModule,
                            common.CommonModule
                        ],
                        declarations: D3_COMPONENTS,
                        providers: [DeviceQueryService],
                        exports: D3_COMPONENTS
                    },] },
        ];
        return AmexioChartD3Module;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    exports.AmexioChartD3Module = AmexioChartD3Module;
    exports.DeviceQueryService = DeviceQueryService;
    exports.AmexioD3DounutChartComponent = AmexioD3DounutChartComponent;
    exports.AmexioD3PieChartComponent = AmexioD3PieChartComponent;
    exports.AmexioD3BarChartComponent = AmexioD3BarChartComponent;
    exports.AmexioD3LineComponent = AmexioD3LineComponent;
    exports.BarstackComponent = BarstackComponent;
    exports.GroupbarComponent = GroupbarComponent;
    exports.ɵa = D3_COMPONENTS;
    exports.ɵc = AmexioD3BaseChartComponent;
    exports.ɵh = ViewDrillableComponent;
    exports.ɵm = BubbleComponent;
    exports.ɵl = CandlestickComponent;
    exports.ɵf = CombochartComponent;
    exports.ɵg = DrillableComponent;
    exports.ɵi = HistogramComponent;
    exports.ɵb = AmexioD3Legend;
    exports.ɵe = AmexioD3BaseLineComponent;
    exports.ɵk = MultiareaComponent;
    exports.ɵj = ScatterchartComponent;
    exports.ɵd = CommanDataService;
    exports.ɵn = AmexioD3TimelineChartComponent;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1leGlvLWNoYXJ0LWQzLnVtZC5qcy5tYXAiLCJzb3VyY2VzIjpbbnVsbCwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2Jhc2UvYmFzZS5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZS50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZS50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9kb3VudXQvZG91bnV0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9waWUvcGllLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9sZWdlbmQvbGVnZW5kLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9iYXIvYmFyLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9saW5lL2Jhc2VsaW5lLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9saW5lL2xpbmUuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2JhcnN0YWNrL2JhcnN0YWNrLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9ncm91cGJhci9ncm91cGJhci5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvY29tYm9jaGFydC9jb21ib2NoYXJ0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9zY2F0dGVyY2hhcnQvc2NhdHRlcmNoYXJ0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9tdWx0aWFyZWEvbXVsdGlhcmVhLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9jYW5kbGVzdGljay9jYW5kbGVzdGljay5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvYnViYmxlL2J1YmJsZS9idWJibGUuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL3RpbWVsaW5lL3RpbWVsaW5lLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9iYXNlL3ZpZXcuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2RyaWxsYWJsZS9kcmlsbGFibGUvZHJpbGxhYmxlLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9hbWV4aW8tY2hhcnQtZDMtY29tcG9uZW50cy50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9hbWV4aW8tY2hhcnQtZDMubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudHtcblxuICAgIEBPdXRwdXQoKSBvbkxlZ2VuZENsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIEBPdXRwdXQoKSBvbkNoYXJ0Q2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgQE91dHB1dCgpIG9uTGluZUNsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgIFxuICAgIEBPdXRwdXQoKSBkcmlsbGFibGVFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICBcbiAgICBASW5wdXQoJ2RhdGEnKSBkYXRhOiBhbnkgPSBbXTtcblxuICAgIEBJbnB1dCgnaHR0cC11cmwnKSBodHRwdXJsOiBhbnk7XG4gICAgXG4gICAgQElucHV0KCdodHRwLW1ldGhvZCcpIGh0dHBtZXRob2Q6IGFueTtcblxuICAgIEBJbnB1dCgnbGVnZW5kJykgbGVnZW5kOiBib29sZWFuID0gdHJ1ZSA7XG5cbiAgICBASW5wdXQoJ2NvbG9yJykgY29sb3JzOiBhbnk7XG5cbiAgICBASW5wdXQoJ2hlaWdodCcpIGhlaWdodDogYW55ID0gXCIzMDBcIjtcblxuICAgIEBJbnB1dCgnd2lkdGgnKSB3aWR0aCA6IGFueSA9IFwiMzAwXCI7XG5cbiAgICBASW5wdXQoJ3RpdGxlJykgdGl0bGU6IGFueSA9IFwiXCI7XG5cbiAgICBASW5wdXQoJ2xhYmVsLWNvbG9yJykgbGFiZWxjb2xvcjogc3RyaW5nID0gXCJibGFja1wiO1xuXG4gICAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIGFkZGVkIGxhdGVyIG9uXG4gICAgQElucHV0KCdkYXRhLXJlYWRlcicpIGRhdGFyZWFkZXI6IHN0cmluZztcbiAgICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gICAgQElucHV0KCd0YXJnZXQnKSB0YXJnZXQ6IG51bWJlcjtcbiAgICBASW5wdXQoJ2RyaWxsYWJsZS1kYXRhJykgZHJpbGxhYmxlZGF0YWtleTogYW55W10gPSBbXTtcbiAgICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlOyAgIFxuICAgIEBJbnB1dCgndmVydGljYWwtc2NhbGUnKSAgIHZTY2FsZSA6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGRyaWxsYWJsZUZsYWc6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICBwcmVkZWZpbmVkY29sb3JzOiBzdHJpbmdbXTtcbiAgICBcbiAgICBjb21wb25lbnRJZCA6IHN0cmluZztcblxuICAgIHByaXZhdGUgIHBvc3NpYmxlIDogc3RyaW5nID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RkZWZnaGlqa2xtb25wcXJzdHV2d3h5elwiO1xuXG4gICAgY29sb3JJbmRleDogbnVtYmVyID0gMDtcblxuICAgIGNoYXJ0dHlwZSA6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGNoYXJ0dHlwZTpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jaGFydHR5cGUgPSBjaGFydHR5cGU7XG4gICAgICAgIHRoaXMucHJlZGVmaW5lZGNvbG9ycyA9IFtcIiMzMzY2Y2NcIiwgXCIjZGMzOTEyXCIsIFwiI2ZmOTkwMFwiLCBcIiMxMDk2MThcIiwgXCIjOTkwMDk5XCIsIFwiIzAwOTljNlwiLCBcIiNkZDQ0NzdcIiwgXCIjNjZhYTAwXCIsIFwiI2I4MmUyZVwiLCBcIiMzMTYzOTVcIiwgXCIjOTk0NDk5XCIsIFwiIzIyYWE5OVwiLCBcIiNhYWFhMTFcIiwgXCIjNjYzM2NjXCIsIFwiI2U2NzMwMFwiLCBcIiM4YjA3MDdcIiwgXCIjNjUxMDY3XCIsIFwiIzMyOTI2MlwiLCBcIiM1NTc0YTZcIiwgXCIjM2IzZWFjXCJdO1xuICAgICAgICB0aGlzLmNvbXBvbmVudElkID0gdGhpcy5jaGFydHR5cGUgICsgXCItXCIgKyB0aGlzLmdlbmVyYXRlSWQoKTtcbiAgICB9XG4gIFxuICAgIHByb3RlY3RlZCBpbml0aWFsaXplRGF0YSgpIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgICAgdGhpcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgZWxlbWVudC5jb2xvciA9IHRoaXMuZ2V0Q29sb3IoZWxlbWVudCk7XG4gICAgICAgICAgIH0pO1xuICAgICB9XG5cbiAgICAgIHByb3RlY3RlZCBnZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhOmFueSxkcmlsbGFibGVrZXlzOmFueSlcbiAgICAgIHtcbiAgICAgICBcbiAgICAgICAgICBsZXQgbm9kZU9iamVjdD17fTtcbiAgICAgICAgICBpZihkYXRhKVxuICAgICAgICAgIHtcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkcmlsbGFibGVrZXlzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICBsZXQgZWxlbWVudCA9IGRyaWxsYWJsZWtleXNbaW5kZXhdO1xuICAgICAgICAgICBmb3IgKGxldCBba2V5LHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gZWxlbWVudCkgXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVPYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbm9kZU9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICBcbiB9XG4gICAgIFxuIHByaXZhdGUgZ2VuZXJhdGVJZCgpe1xuICAgICAgIGxldCBpZCA9IFwiXCI7XG4gICAgICAgZm9yKGxldCBpID0gMDsgaTw1OyBpKyspe1xuICAgICAgICBpZCA9IGlkICsgdGhpcy5wb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdGhpcy5wb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgICB9XG4gICAgICAgaWQgPSBpZCArIFwiLVwiK25ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBwcml2YXRlICBnZXRDb2xvcihvYmplY3QgOiBhbnkpe1xuICAgICAgICBpZiAob2JqZWN0LmNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0LmNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY29sb3JzLmxlbmd0aCA+IHRoaXMuY29sb3JJbmRleCkge1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLmNvbG9yc1t0aGlzLmNvbG9ySW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5jb2xvckluZGV4Kys7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHRoaXMuY29sb3JzLmxlbmd0aCA+IDApICYmICh0aGlzLmNvbG9ycy5sZW5ndGggPD0gdGhpcy5jb2xvckluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy5jb2xvckluZGV4ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5jb2xvcnNbdGhpcy5jb2xvckluZGV4XTtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW3RoaXMuY29sb3JJbmRleF07XG4gICAgICAgICAgICB0aGlzLmNvbG9ySW5kZXgrKztcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbGVnZW5kQ2xpY2sobm9kZTphbnkpe1xuICAgICAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChub2RlKTtcbiAgICB9XG5cbiAgICBjaGFydENsaWNrKG5vZGU6YW55KXtcbiAgICAgICAgdGhpcy5vbkNoYXJ0Q2xpY2suZW1pdChub2RlKTtcbiAgICB9XG4gICAgXG4gICAgY29tYm9MaW5lQ2xpY2sobm9kZTogYW55KXtcbiAgICAgICAgdGhpcy5vbkxpbmVDbGljay5lbWl0KG5vZGUpO1xuICAgIH1cbiAgICBmb3JkcmlsbGFibGVDbGljayhyZWY6IGFueSxub2RlOiBhbnksZXZlbnQ6IGFueSlcbiAgICAge1xuICAgICAgICB0aGlzLmRyaWxsYWJsZUV2ZW50LmVtaXQoe3JlZjogcmVmLG5vZGU6IG5vZGUsZXZlbnQ6IGV2ZW50fSk7XG4gICAgfVxuICAgIHByb3RlY3RlZCB0b29sVGlwIChkMzphbnkpIDphbnl7XG4gICAgICAgcmV0dXJuICBkMy5zZWxlY3QoXCJib2R5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcImRpdlwiKVxuICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsJ3Rvb2x0aXBpZCcpXG4gICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywnYW1leGlvZDN0b29sdGlwJylcbiAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiei1pbmRleFwiLCBcIjEwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLFwiYmxhY2tcIilcbiAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b29sVGlwQ29udGVudCh0b29sdGlwZGF0YTphbnkpIDphbnl7XG4gICAgICAgbGV0IHRvb2x0aXBodG1sID0gXCI8dGFibGU+XCI7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0b29sdGlwZGF0YSkge1xuICAgICAgICBpZiAodG9vbHRpcGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdG9vbHRpcGRhdGFba2V5XTtcbiAgICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8dHI+XCI7XG4vLy0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjx0ZD5cIjtcbiAgICAgICAgLy8gICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsga2V5Kyc6JztcbiAgICAgICAgLy8gICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L3RkPlwiO1xuLy8tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8dGQ+XCI7XG4gICAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIHZhbHVlO1xuICAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjwvdGQ+XCI7XG4gICAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPC90cj5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPC90YWJsZT5cIjtcblxuICAgICAgcmV0dXJuIHRvb2x0aXBodG1sO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b29sVGlwV2l0aExlZ2VuZGFuZEF4aXMobGVnZW5kOiBzdHJpbmcsIHhheGlzOnN0cmluZywgeWF4aXM6IHN0cmluZykgOmFueXtcbiAgICAgICAgbGV0IHRvb2x0aXBodG1sID0gXCI8ZGl2PlwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8Yj5cIit4YXhpcytcIjwvYj4sIFwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgbGVnZW5kK1wiPC9iPiBcIjtcbiAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPGI+XCIreWF4aXMrXCI8L2I+IFwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBodG1sO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b29sVGlwRm9yQmFyKHRvb2x0aXBEYXRhOiBhbnkpOiBhbnl7XG4gICAgICAgICBsZXQgdG9vbHRpcGh0bWw9IFwiPGRpdj5cIjtcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgICAgICAgbGV0IHNpZGVTdHlsZT1cImZsb2F0OmxlZnRcIjtcbiAgICAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjxkaXY+XCI7XG4gICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8c3BhbiBzdHlsZSA9XCIrc2lkZVN0eWxlK1wiID48Yj5cIiArIGtleSArXCIgXCIrIFwiPC9iPlwiICt2YWx1ZSArIFwiPC9icj48L3NwYW4+XCI7XG4gICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgICByZXR1cm4gdG9vbHRpcGh0bWw7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCxIdHRwQ2xpZW50TW9kdWxlLEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMvaW5kZXgnO1xuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgQ29tbWFuRGF0YVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaHR0cDpIdHRwQ2xpZW50KSB7IH1cbiAgc2VydmljZVVybDogc3RyaW5nO1xuXG4gIGZldGNoVXJsRGF0YShzZXJ2aWNlVXJsOiBzdHJpbmcsIG1ldGhvZFR5cGU6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgY29uc3QgcmVxdWVzdEpzb24gPSB7fTtcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04Jyk7XG4gICAgaWYgKG1ldGhvZFR5cGUgPT09ICdwb3N0Jykge1xuICAgIHJldHVybiB0aGlzLmh0dHAucG9zdChzZXJ2aWNlVXJsLCByZXF1ZXN0SnNvbiwge2hlYWRlcnN9KTtcbiAgICB9ZWxzZSBpZiAobWV0aG9kVHlwZSA9PT0gJ2dldCcpIHtcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldChzZXJ2aWNlVXJsLCB7aGVhZGVyc30pO1xuICAgIH1cbn1cblxuXG5wb3N0ZmV0Y2hEYXRhKHNlcnZpY2VVcmw6IHN0cmluZywgbWV0aG9kVHlwZTogc3RyaW5nLHJlcXVlc3RKc29uOmFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gXG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnKTtcbiAgaWYgKG1ldGhvZFR5cGUgPT09ICdwb3N0Jykge1xuICByZXR1cm4gdGhpcy5odHRwLnBvc3Qoc2VydmljZVVybCwgcmVxdWVzdEpzb24sIHtoZWFkZXJzfSk7XG4gIH1lbHNlIGlmIChtZXRob2RUeXBlID09PSAnZ2V0Jykge1xuICByZXR1cm4gdGhpcy5odHRwLmdldChzZXJ2aWNlVXJsLCB7aGVhZGVyc30pO1xuICB9XG59XG5cblxuXG5cblxuXG59IiwiXG5pbXBvcnQgeyBpc1BsYXRmb3JtQnJvd3NlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIFBMQVRGT1JNX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LEh0dHBDbGllbnRNb2R1bGUsSHR0cEhlYWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERldmljZVF1ZXJ5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoIEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogYW55KSB7XG5cbiAgfVxuXG4gIHJ1bGVzID0ge1xuICAgIHByaW50OiAncHJpbnQnLFxuICAgIHNjcmVlbjogJ3NjcmVlbicsXG4gICAgcGhvbmU6ICcobWF4LXdpZHRoOiA3NjdweCknLFxuICAgIHRhYmxldDogJyhtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1heC13aWR0aDogMTAyNHB4KScsXG4gICAgZGVza3RvcDogJyhtaW4td2lkdGg6IDEwMjVweCknLFxuICAgIHBvcnRyYWl0OiAnKG9yaWVudGF0aW9uOiBwb3J0cmFpdCknLFxuICAgIGxhbmRzY2FwZTogJyhvcmllbnRhdGlvbjogbGFuZHNjYXBlKScsXG4gICAgcmV0aW5hOiAnKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMikgYW5kIChtaW4tcmVzb2x1dGlvbjogMTkyZHBpKScsXG4gIH07XG5cbiAgQ2hlY2sgPSBmdW5jdGlvbihtcTogYW55KSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIGlmICghbXEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKG1xKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICBNRVRIT0RTIEZPUiBDSEVDS0lORyBUWVBFXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBJc1Bob25lKCkge1xuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEodGhpcy5ydWxlcy5waG9uZSkubWF0Y2hlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgSXNUYWJsZXQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMudGFibGV0KS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNEZXNrdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmRlc2t0b3ApLm1hdGNoZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICBJc1BvcnRyYWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnBvcnRyYWl0KS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNMYW5kc2NhcGUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMubGFuZHNjYXBlKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNSZXRpbmEgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucmV0aW5hKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgYnJvd3NlcldpbmRvdyA9ICgpID0+IHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgIEVWRU5UIExJU1RFTkVSUyBCWSBUWVBFXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBPblBob25lKGNhbGxCYWNrOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGNhbGxCYWNrID09PSAnZnVuY3Rpb24nICYmIGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgICAgY29uc3QgbXFsOiBNZWRpYVF1ZXJ5TGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucGhvbmUpO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPblRhYmxldChjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnRhYmxldCk7XG4gICAgICAgIHRoaXMubXFsTWV0aG9kKGNhbGxCYWNrLCBtcWwpO1xuICAgIH1cbiAgfVxuXG4gIE9uRGVza3RvcChjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmRlc2t0b3ApO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPblBvcnRyYWl0KGNhbGxCYWNrOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGNhbGxCYWNrID09PSAnZnVuY3Rpb24nICYmIGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgICAgY29uc3QgbXFsOiBNZWRpYVF1ZXJ5TGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucG9ydHJhaXQpO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPbkxhbmRzY2FwZShjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmxhbmRzY2FwZSk7XG4gICAgICAgIHRoaXMubXFsTWV0aG9kKGNhbGxCYWNrLCBtcWwpO1xuICAgIH1cbiAgfVxuXG4gIG1xbE1ldGhvZChjYWxsQmFjazogYW55LCBtcWw6IGFueSkge1xuICAgIG1xbC5hZGRMaXN0ZW5lcigobXFsMTogTWVkaWFRdWVyeUxpc3QpID0+IHtcbiAgICAgIGlmIChtcWwxLm1hdGNoZXMpIHtcbiAgICAgICAgY2FsbEJhY2sobXFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSAnLi4vYmFzZS9jaGFydC5jb21wb25lbnQnO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1kb251dCcsXG4gIHRlbXBsYXRlOiBgPGRpdiAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjY2hhcnRJZCAod2luZG93OnJlc2l6ZSk9XCJyZXNpemUoJGV2ZW50KVwiPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA+IDBcIj5cblxuICBcbiAgICA8ZGl2IGNvbHNwYW49XCIyXCIgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj5cbiAgICAgICAge3t0aXRsZX19XG4gICAgPC9kaXY+XG4gICAgPGRpdiBbbmdDbGFzc109XCInZG9udXRjc3MnXCI+XG4gICAgICAgIDxzdmcgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaW5ZTWluIG1lZXRcIiB2aWV3Qm94PVwiMCAwIDMwMCAzMDBcIiBbYXR0ci5oZWlnaHRdPVwiaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwid2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgPGRpdj5cblxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiAxJTtcIj5cbiAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZGVza3RvcGxlZ2VuZFwiPlxuICAgICAgICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIChvbkNsaWNrKT1cIm9uRG9udXRMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kQXJyYXlcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPjwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwibW9iaWxlbGVnZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uRG9udXRMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kQXJyYXlcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPjwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPCEtLSAgLS0+XG4gICAgICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PmAsXG4gIHN0eWxlczogW2AuZG9udXRjc3N7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvd31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjEwMjRweCl7LmRvbnV0Y3Nze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59fWBdXG59KVxuZXhwb3J0IGNsYXNzIEFtZXhpb0QzRG91bnV0Q2hhcnRDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0IHtcblxuICBASW5wdXQoJ3BpZScpIHBpZTogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RyaWxsaWQnKSBkcmlsbGlkOiBhbnk7XG4gIGRlc2t0b3BsZWdlbmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgbW9iaWxlbGVnZW5kOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGRyaWxsRGF0YTogYW55O1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ0RPTlVUQ0hBUlQnKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuXG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcblxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcblxuICAgICAgfSBlbHNlXG4gICAgICAgIGlmICh0aGlzLmRhdGEpIHtcblxuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuXG4gICAgICB0aGlzLmZldGNoRGF0YSh0aGlzLmRyaWxsRGF0YSk7XG4gICAgfVxuICB9XG5cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuXG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcDtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcblxuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG5cbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgIH0sIDApO1xuXG4gIH1cblxuICBnZXRSZXNwb25zZURhdGEoaHR0cFJlc3BvbnNlOiBhbnkpIHtcbiAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICB9XG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICAvL3RoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgIC8vICB0aGlzLmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgICBsZXQgb3V0ZXJSYWRpdXMgPSAwO1xuICAgIGxldCBpbm5lclJhZGl1cyA9IDA7XG5cbiAgICBvdXRlclJhZGl1cyA9IHRoaXMuc3Znd2lkdGggLyAyO1xuICAgIGlubmVyUmFkaXVzID0gdGhpcy5zdmd3aWR0aCAvIDQ7XG5cbiAgICBpZiAodGhpcy5waWUpIHtcbiAgICAgIGlubmVyUmFkaXVzID0gMDtcbiAgICB9XG5cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcblxuICAgIGNvbnN0IGFyYyA9IGQzLmFyYygpXG4gICAgICAub3V0ZXJSYWRpdXMob3V0ZXJSYWRpdXMpXG4gICAgICAuaW5uZXJSYWRpdXMoaW5uZXJSYWRpdXMpO1xuXG4gICAgY29uc3QgcGllID0gZDMucGllKClcbiAgICAgIC52YWx1ZSgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgIC8vICByZXR1cm4gZC52YWx1ZVxuICAgICAgfSk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB0aGlzLnN2Z3dpZHRoIC8gMiArICcsJyArIHRoaXMuc3ZnaGVpZ2h0IC8gMiArICcpJylcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEocGllKHRoaXMuZGF0YSkpXG4gICAgICAuZW50ZXIoKTtcblxuICAgIGlmICh0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKSA9PSB0cnVlKSB7XG4gICAgICB0aGlzLmRlc2t0b3BsZWdlbmQgPSB0cnVlO1xuICAgICAgdGhpcy5tb2JpbGVsZWdlbmQgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gZWxzZXtcbiAgICAvLyAgICAgICAgaWYodGhpcy5kZXZpY2UuSXNQaG9uZSgpPT10cnVlICYmIHRoaXMuZGV2aWNlLklzVGFibGV0KCk9PXRydWUpXG4gICAgLy8gICAgICAgIHtcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmRlc2t0b3BsZWdlbmQ9ZmFsc2U7XG4gICAgLy8gICAgICAgICAgICAgdGhpcy5tb2JpbGVsZWdlbmQ9dHJ1ZTtcbiAgICAvLyAgICAgICAgfVxuICAgIC8vIH1cblxuICAgIGNvbnN0IHBhdGggPSB0aGlzLnN2Zy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2QnLCBhcmMpXG4gICAgICAuYXR0cignZmlsbCcsIChkLCBpKSA9PiB7XG4gICAgICAgIGlmIChkLmRhdGEuY29sb3IpIHtcbiAgICAgICAgICByZXR1cm4gZC5kYXRhLmNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIHJldHVybiAoZCAmJiBkLmRhdGEgJiYgZC5kYXRhLmNvbG9yKSA/IGQuZGF0YS5jb2xvciA6IFwiYmxhY2tcIlxuICAgICAgfSlcbiAgICAgIC5hdHRyKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLmRhdGEpXG5cbiAgICAgICAgICAvLyAgdGhpcy5mb3JtTGVnZW5kRGF0YShkLmRhdGEpXG4gICAgICAgICAgLy8gdGhpcy50b29sVGlwQ29udGVudChkLmRhdGEpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5Eb251dENoYXJ0Q2xpY2soZC5kYXRhKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLmRhdGEsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAvL3RoaXMuY2hhcnRDbGljayhkLmRhdGEpO1xuICAgICAgfSk7XG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gdGhpcy5zdmcuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigyMDApXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgYXJjLmNlbnRyb2lkKGQpICsgXCIpXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLnRleHQoKGQpID0+IHtcblxuICAgICAgICAgIHJldHVybiBkLmRhdGFbT2JqZWN0LmtleXMoZC5kYXRhKVsxXV1cblxuICAgICAgICAgIC8vcmV0dXJuIGQuZGF0YS52YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yICYmIHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyByZXR1cm4gKGQgJiYgZC5kYXRhICYmIGQuZGF0YS50ZXh0Y29sb3IpID8gZC5kYXRhLnRleHRjb2xvciA6IFwiYmxhY2tcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTJweCcpO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgIHRoaXMubGVnZW5kQXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMF1dO1xuICAgICAgbGVnZW5kb2JqZWN0Wyd2YWx1ZSddID0gZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVsxXV07XG4gICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSBlbGVtZW50LmNvbG9yO1xuICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBvbkRvbnV0TGVnZW5kQ2xpY2sobGVnZW5kZXZlbnQ6IGFueSkge1xuICAgIGxldCBvYmogPSB7fTtcblxuICAgIC8vICBvYmpbJ2xhYmVsJ10gPSBsZWdlbmRldmVudC5sYWJlbDtcbiAgICAvLyAgb2JqWyd2YWx1ZSddID0gbGVnZW5kZXZlbnQudmFsdWUgXG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMF1dID0gbGVnZW5kZXZlbnQubGFiZWw7XG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMV1dID0gbGVnZW5kZXZlbnQudmFsdWU7XG4gICAgLy9kZWxldGUgZXZlbnQuY29sb3I7XG4gICAgdGhpcy5sZWdlbmRDbGljayhvYmopO1xuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gZGF0YVswXTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBEdW1teU9iamVjdCA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICBEdW1teU9iamVjdFt0aGlzLmtleUFycmF5W2tleWluZGV4XV0gPSBpbmRpdmlkdWFsdmFsdWU7XG4gICAgICAgIH0pOy8vaW5uZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgIH0vL2lmIGVuZHNcbiAgICB9KTsvL291dGVyIGZvciBsb29wIGVuZHNcbiAgICB0aGlzLmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIGZvcm1Ub29sdGlwRGF0YSh0b29sdGlwRGF0YTogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0b29sdGlwRGF0YSkpIHtcbiAgICAgIGlmIChrZXkgIT0gJ2NvbG9yJyAmJiBrZXkgIT0gJ3RleHRjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgRG9udXRDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgcmVzaXplKGRhdGE6IGFueSkge1xuXG4gICAgdGhpcy5kZXNrdG9wbGVnZW5kID0gZmFsc2U7XG4gICAgdGhpcy5tb2JpbGVsZWdlbmQgPSB0cnVlO1xuICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1waWUnLFxuICB0ZW1wbGF0ZTogYDxkaXYgICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIj5cbjxhbWV4aW8tZDMtY2hhcnQtZG9udXQgI2lkIChvbkxlZ2VuZENsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgKG9uQ2hhcnRDbGljayk9XCJjaGFydENsaWNrKCRldmVudClcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgKGRyaWxsYWJsZUV2ZW50KT1cIiBmb3JkcmlsbGFibGVDbGljaygkZXZlbnQpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtoZWlnaHRdPVwiaGVpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt3aWR0aF09XCJ3aWR0aFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGl0bGVdPVwidGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFdID0gXCJkYXRhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtwaWVdICA9IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtodHRwLXVybF09XCJodHRwdXJsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtodHRwLW1ldGhvZF09XCJodHRwbWV0aG9kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhLXJlYWRlcl09XCJkYXRhcmVhZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtsYWJlbF09XCJsYWJlbGZsYWdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2xhYmVsLWNvbG9yXT1cImxhYmVsY29sb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2xldmVsXT1cImxldmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0YXJnZXRdPVwidGFyZ2V0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkcmlsbGFibGUtZGF0YV09XCJkcmlsbGFibGVkYXRha2V5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkcmlsbERhdGFdPVwiZHJpbGxEYXRhXCI+XG48L2FtZXhpby1kMy1jaGFydC1kb251dD5cbjwvZGl2PlxuYFxufSlcbmV4cG9ydCBjbGFzcyBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoJ2RhdGEnKSBkYXRhOiBhbnkgPSBbXTtcblxuICBAT3V0cHV0KCkgb25MZWdlbmRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgpIG9uQ2hhcnRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgpIGRyaWxsYWJsZUV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBWaWV3Q2hpbGQoJ2lkJykgZG9udXRyZWY6IGFueTtcblxuICBASW5wdXQoKSBsZWdlbmQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcnM6IGFueSA9IFtdO1xuXG4gIEBJbnB1dCgnd2lkdGgnKSB3aWR0aDogYW55ID0gXCIzMDBcIjtcblxuICBASW5wdXQoJ2hlaWdodCcpIGhlaWdodDogYW55ID0gXCIzMDBcIjtcblxuICBASW5wdXQoKSB0aXRsZTogYW55ID0gXCJcIjtcblxuICBASW5wdXQoJ2h0dHAtdXJsJykgaHR0cHVybDogYW55O1xuXG4gIEBJbnB1dCgnaHR0cC1tZXRob2QnKSBodHRwbWV0aG9kOiBhbnk7XG5cbiAgQElucHV0KCdkYXRhLXJlYWRlcicpIGRhdGFyZWFkZXI6IHN0cmluZztcblxuICBASW5wdXQoJ2xldmVsJykgbGV2ZWwgPSAwO1xuXG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG5cbiAgQElucHV0KCdkcmlsbGFibGUtZGF0YScpIGRyaWxsYWJsZWRhdGFrZXk6IGFueVxuXG4gIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG5cbiAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGRyaWxsYWJsZUZsYWc6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGRyaWxsRGF0YTogYW55O1xuXG5cbiAgbmdPbkluaXQoKSB7XG5cbiAgfVxuXG4gIGxlZ2VuZENsaWNrKG5vZGU6IGFueSkge1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG5vZGUpO1xuICB9XG5cbiAgY2hhcnRDbGljayhub2RlOiBhbnkpIHtcbiAgICB0aGlzLm9uQ2hhcnRDbGljay5lbWl0KG5vZGUpO1xuICB9XG5cblxuICBmb3JkcmlsbGFibGVDbGljayhyZWY6IGFueSkge1xuICAgIHRoaXMuZHJpbGxhYmxlRXZlbnQuZW1pdChyZWYpO1xuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMuZHJpbGxEYXRhID0gZGF0YTtcbiAgfVxuXG4gIGRyYXdDaGFydCgpIHtcblxuICAgIHRoaXMuZG9udXRyZWYuZHJpbGxhYmxlRmxhZyA9IHRydWU7XG4gICAgdGhpcy5kb251dHJlZi5kcmF3Q2hhcnQoKTtcblxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgT25DaGFuZ2VzLCBPbkluaXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvciA6ICdhbWV4aW8tZDMtbGVnZW5kJyxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgc3R5bGUgPVwiIHdpZHRoOiAxMDAlIDsgcGFkZGluZy1sZWZ0OiAyMHB4OyBwYWRkaW5nLXRvcDogOHB4OyBcIj5cbjx0YWJsZSAqbmdJZj1cIiFob3Jpem9udGFsXCIgc3R5bGU9XCJoZWlnaHQ6IDEwMCU7XCI+XG4gICAgPHRyICpuZ0ZvciA9IFwibGV0IG5vZGUgb2YgZGF0YVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyO1wiIChjbGljayk9XCJvbkxlZ2VuZENsaWNrKG5vZGUpXCI+XG4gICAgICAgIDx0ZCBzdHlsZT1cImhlaWdodDogMTBweDsgd2lkdGg6IDIzcHg7IHBhZGRpbmctbGVmdDogMnB4O1wiXG4gICAgICAgICAgICBbbmdTdHlsZV09XCJ7J2JhY2tncm91bmQtY29sb3InOiBub2RlLmNvbG9yfVwiPjwvdGQ+XG4gICAgICAgIDx0ZD57e25vZGUubGFiZWx9fTwvdGQ+XG4gICAgPC90cj5cbjwvdGFibGU+XG48L2Rpdj5cblxuPHRhYmxlICpuZ0lmPVwiaG9yaXpvbnRhbFwiIHN0eWxlPVwiaGVpZ2h0OiAxMDAlO1wiPlxuICAgIDx0cj5cbiAgICAgICAgPHRkICpuZ0ZvciA9IFwibGV0IG5vZGUgb2YgZGF0YVwiIFxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25MZWdlbmRDbGljayhub2RlKVwiIFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjtcIj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cIiBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgcGFkZGluZzogMnB4O1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiIHdpZHRoOiAxMHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHBhZGRpbmc6IDJweDsgXCIgXG4gICAgICAgICAgICAgICAgICAgIFtuZ1N0eWxlXT1cInsnYmFja2dyb3VuZC1jb2xvcic6IG5vZGUuY29sb3J9XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAge3tub2RlLmxhYmVsfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L3RkPlxuICAgICAgICBcbiAgICA8L3RyPlxuPC90YWJsZT5cblxuPGJyPlxuIGBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNMZWdlbmQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdFxue1xuXG4gICAgQElucHV0KCdkYXRhJykgZGF0YSA6IGFueTtcblxuICAgIEBJbnB1dCgnaG9yaXpvbnRhbCcpIGhvcml6b250YWwgOiBib29sZWFuID0gZmFsc2U7XG4gICAgdGVtcGFycjogYW55W10gPSBbXTtcbiAgICBAT3V0cHV0KCkgb25DbGljayA6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgY29uc3RydWN0b3IoKXtcbiAgIFxuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuXG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgdGhpcy50ZW1wYXJyID0gdGhpcy5kYXRhO1xuICAgIH1cbiAgICBuZ09uQ2hhbmdlcygpIHtcbiAgICAgICAgLy8gZGVidWdnZXI7XG4gICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLnRlbXBhcnIgPSB0aGlzLmRhdGE7XG4gICAgfVxuXG4gICAgb25MZWdlbmRDbGljayhub2RlOmFueSl7XG4gICAgICAgIHRoaXMub25DbGljay5lbWl0KG5vZGUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIENoYW5nZURldGVjdG9yUmVmLCBPbkNoYW5nZXMsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBkZWJ1ZyB9IGZyb20gXCJ1dGlsXCI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1iYXInLFxuICB0ZW1wbGF0ZTogYDxkaXYgI2NoYXJ0SWQgKm5nSWY9XCJkcmlsbGFibGVGbGFnIFwiICNkaXZpZCAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlIFtuZ0NsYXNzXT1cInZhbGlkYXRlRGF0YSgpXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIiBwb3NpdGlvbj1cIiByZWxhdGl2ZVwiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwidGl0bGUubGVuZ3RoID4gMFwiPlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQmFyTGVnZW5kQ2xpY2soJGV2ZW50KVwiIFtkYXRhXT1cImxlZ2VuZEFycmF5XCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICAgICAgICA8L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgIDwvdGFibGU+XG4gICAgPCEtLSA8dGFibGUgKm5nSWY9XCIhKGRhdGEgJiYgZGF0YS5sZW5ndGggPjApXCIgY2xhc3M9XCJsbWFza1wiPlxuICAgICAgICBcbiAgICA8L3RhYmxlID4gLS0+XG4gICAgPCEtLSA8ZGl2ICpuZ0lmPVwiZGF0YS5sZW5ndGggPCAxXCIgY2xhc3M9XCJsbWFza1wiIHN0eWxlPVwicGFkZGluZy10b3A6NTAlXCI+XG4gICAgPC9kaXY+IC0tPlxuXG48L2Rpdj5gXG59KVxuXG5leHBvcnQgY2xhc3MgQW1leGlvRDNCYXJDaGFydENvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgUGxvdENhcnQsIE9uQ2hhbmdlcyB7XG5cbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgpIGhvcml6b250YWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCdsYWJlbC1jb2xvcicpIGxhYmVsY29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIjtcbiAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZHJpbGxpZCcpIGRyaWxsaWQ6IGFueTtcbiAgQFZpZXdDaGlsZCgnZG9tcmVmJykgRE9NOiBFbGVtZW50UmVmO1xuICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG4gIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdO1xuICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoJ3lheGlzLWludGVydmFsJykgdGlja3Njb3VudDogbnVtYmVyO1xuICBASW5wdXQoJ3hheGlzLWludGVydmFsJykgeHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCdzaG93LXplcm8tdmFsdWVzJykgc2hvd3plcm9mbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCdkYXRhJykgX2RhdGE6IGFueSA9IFtdO1xuXG4gIHd0OiBudW1iZXI7XG4gIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY2hlY2ttb2I6IGJvb2xlYW47XG4gIHJlc2l6ZWc6IGFueTtcbiAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gIC8vIGRhdGE6IGFueTtcbiAgeGF4aXM6IGFueTtcbiAgeWF4aXM6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIGNvbG9yZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBvYmplY3Q6IGFueTtcbiAgbGVnZW5kQXJyYXk6IGFueVtdID0gW107XG4gIGZpcnN0bG9hZGluZyA9IGZhbHNlO1xuICBpbmMgPSAwXG4gIC8vIHByaXZhdGUgX2RhdGE6IGFueSA9IFtdO1xuICBzZXQgZGF0YSh2OiBhbnkpIHtcblxuICAgIGlmICh2ICYmICh2Lmxlbmd0aCA+IDApKSB7XG4gICAgICB0aGlzLl9kYXRhID0gdjtcbiAgICAgIC8vIGlmKHRoaXMuaXNDaGFydEluaXQpe1xuICAgICAgLy8gICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgLy8gfVxuICAgICAgLy8gaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgIC8vICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSlcbiAgICAgIC8vICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgLy8gICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAvLyB9LCAwKTtcbiAgICAgIC8vIH1cbiAgICAgIC8vIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcblxuICAgICAgLy8gdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgIH1cblxuICB9XG5cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignYmFyJyk7XG4gIH1cblxuICBpc0NoYXJ0SW5pdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEpIHtcbiAgICAgIGxldCByZXNwOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKVxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuXG4gICAgICAgICAgICB0aGlzLmlzQ2hhcnRJbml0ID0gdHJ1ZTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKVxuICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgdGhpcy5pc0NoYXJ0SW5pdCA9IHRydWU7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEZldGNoIERhdGFcbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuXG5cbiAgICAgIH0pO1xuXG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgfSwgMCk7XG5cbiAgfVxuXG4gIG5nT25DaGFuZ2VzKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwicmVwZWF0XCIpO1xuICAgIGlmICh0aGlzLmluYyA+IDEpIHtcbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgNTAwKTtcblxuICAgICAgfVxuXG4gICAgICB0aGlzLmZvcm1MZWdlbmREYXRhKCk7XG4gICAgfSB0aGlzLmluYysrXG5cbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICBwbG90RDNDaGFydCgpOiBhbnkge1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuXG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG5cbiAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiA2MCwgYm90dG9tOiA0MCwgbGVmdDogNjAgfTtcblxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gICAgLy9SRVNJWkUgU1RFUCAyIFNUQVJUXG4gICAgLy8gdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXR0cigndmlld0JveCcsICcwIDAgJyArIHRoaXMuc3Znd2lkdGggKyAnICcgKyB0aGlzLnN2Z2hlaWdodCk7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAvLyB0aGlzLnN2Zy5leGl0KCkucmVtb3ZlKCk7Ly9yZW1vdmUgdW5uZWVkZWQgY2lyY2xlc1xuICAgIC8vUkVTSVpFIFNURVAgMiBFTkRTIEhFUkVcbiAgICBsZXQgeCwgeTtcbiAgICBjb25zdCBnID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcbiAgICAvLyB2ZXJ0aWNhbCBiYXJcbiAgICBpZiAodGhpcy5ob3Jpem9udGFsID09IGZhbHNlKSB7XG4gICAgICAvLyB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgeCA9IGQzLnNjYWxlQmFuZCgpXG4gICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgICAgICAucGFkZGluZygwLjEpO1xuXG4gICAgICAgIC8vc2V0dGluZyBjb250ZW50IGZvciB4IGFuZCB5IGF4aXNcbiAgICAgICAgeC5kb21haW4odGhpcy5kYXRhLm1hcCgoZCkgPT4ge1xuXG4gICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMF1dO1xuICAgICAgICAgIC8vICAgIHJldHVybiBkLmxhYmVsXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG4gICAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgodGhpcy5kYXRhLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAvL3JldHVybiBkLnZhbHVlO1xuICAgICAgICB9KV0pO1xuXG4gICAgICB9XG4gICAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuICAgICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWxzZSB7XG4gICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcblxuICAgICAgfVxuXG4gICAgICAvL2FkZCB5IGF4aXMgdG8gc3ZnXG4gICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja3ModGhpcy50aWNrc2NvdW50KSlcblxuICAgICAgdGhpcy5wbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgICAgLy9hZGQgYmFyIGNoYXJ0XG4gICAgICBnLnNlbGVjdEFsbChcIi5iYXJcIilcbiAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmFyXCIpXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICAvLyByZXR1cm4geChkLmxhYmVsKTsgXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKTtcbiAgICAgICAgICAvLyByZXR1cm4geShkLnZhbHVlKTsgXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIHguYmFuZHdpZHRoKCkpXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KGRbT2JqZWN0LmtleXMoZClbMV1dKTsgfSlcblxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgLy8gcmV0dXJuIFwiYmx1ZVwiO1xuICAgICAgICAgIHJldHVybiBkLmNvbG9yO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICAgIC8vICB0aGlzLnRvb2xUaXBGb3JCYXIoZClcbiAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICAgIHZhciB5VGV4dFBhZGRpbmcgPSA0MDtcbiAgICAgICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmxhYmVsXCIpXG4gICAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxdndcIilcbiAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaWYgKCh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkgJiYgZFtPYmplY3Qua2V5cyhkKVsxXV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pICsgbWFyZ2luLmxlZnQgKyB4LmJhbmR3aWR0aCgpIC8gMjtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pICsgeVRleHRQYWRkaW5nO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIChkW09iamVjdC5rZXlzKGQpWzFdXSA+IDApIHtcbiAgICAgICAgICAgIC8vICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMV1dO1xuICAgICAgICAgICAgLy8gfS5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICAgICAgaWYgKGRbT2JqZWN0LmtleXMoZClbMV1dID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfS8vaWYgZW5kcyBmciBcbiAgICB9XG4gICAgLy8gaG9yaXpvbnRhbCBiYXJcbiAgICBlbHNlIGlmICh0aGlzLmhvcml6b250YWwgPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICB4ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAgIC5yYW5nZVJvdW5kKFswLCB3aWR0aF0pXG4gICAgICAgICAgO1xuXG5cbiAgICAgICAgLy9zZXR0aW5nIGNvbnRlbnQgZm9yIHggYW5kIHkgYXhpc1xuICAgICAgICB4LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZGF0YSxcbiAgICAgICAgICAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KFxuICAgICAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzFdXVxuICAgICAgICAgICAgICAvLyBkLnZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXSk7XG4gICAgICAgIC8vIGRbT2JqZWN0LmtleXMoZClbMV1dXG4gICAgICAgIHkgPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgICAgIC5yYW5nZVJvdW5kKFtoZWlnaHQsIDBdKS5wYWRkaW5nKDAuMSk7XG4gICAgICAgIHkuZG9tYWluKHRoaXMuZGF0YS5tYXAoKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAvL3JldHVybiBkLmxhYmVsO1xuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICAgIC8vIGFkZCB4IGF4aXMgdG8gc3ZnXG4gICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLnRpY2tzKHRoaXMueHRpY2tzY291bnQpKTtcblxuICAgICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpXG5cbiAgICAgIHRoaXMucGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCk7XG4gICAgICAvL2FkZCBiYXIgY2hhcnRcbiAgICAgIGcuc2VsZWN0QWxsKFwiLmJhclwiKVxuICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJiYXJcIilcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDApXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAgIC8vIGQubGFiZWxcbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVsxXV1cbiAgICAgICAgICAgIC8vIGQudmFsdWVcbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIHkuYmFuZHdpZHRoKCkpXG4gICAgICAgIC5zdHlsZShcImZpbGxcIiwgKGQpID0+IHsgcmV0dXJuIGQuY29sb3I7IH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgLy8gdGhpcy5mb3JtTGVnZW5kRGF0YShkKVxuICAgICAgICAgICAgLy8gdGhpcy50b29sVGlwQ29udGVudChkKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuYmFyQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgLy90aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgbGV0IHlUZXh0UGFkZGluZyA9IDQwO1xuICAgICAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIubGFiZWxcIilcbiAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcInZlcnRpY2FsLWFsaWduXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJtYXJnaW4tdG9wXCIsIG1hcmdpbi50b3ApXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInhcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMV1dKSArIHlUZXh0UGFkZGluZztcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVswXV0pXG4gICAgICAgICAgICAgICsgbWFyZ2luLnRvcCArIHkuYmFuZHdpZHRoKCkgLyAyO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIC8vIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICAgICAgaWYgKGRbT2JqZWN0LmtleXMoZClbMV1dID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgICAvLyB0aGlzLmZvcm1MZWdlbmREYXRhKGQpXG4gICAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfVxuICAgIC8vZWxzZSBlbmRzKGhvcml6b250YWwgYmFyIGxvZ2ljIGVuZHMpXG5cbiAgfVxuXG4gIHBsb3RMaW5lKGcsIHgsIHksIGhlaWdodCwgd2lkdGgpIHtcblxuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudClcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnZTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyArIGhlaWdodCArICcpJylcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KS5cbiAgICAgICAgICB0aWNrU2l6ZSgtdGhpcy53aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy54dGlja3Njb3VudClcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmb3JtVG9vbHRpcERhdGEodG9vbHRpcERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModG9vbHRpcERhdGEpKSB7XG4gICAgICBpZiAoa2V5ICE9ICdjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICBpZiAoZGF0YSAmJiAoZGF0YS5sZW5ndGggPiAwKSkge1xuICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICAgIHRoaXMua2V5QXJyYXkgPSBkYXRhWzBdO1xuICAgICAgaWYgKGRhdGEgJiYgKGRhdGEubGVuZ3RoID4gMCkpIHtcblxuICAgICAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgbGV0IER1bW15T2JqZWN0ID0ge307XG4gICAgICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgICAgICB9Ly9pZiBlbmRzXG4gICAgICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgfVxuICAgICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgfS8vXG4gIH1cblxuICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgdGhpcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICBsZWdlbmRvYmplY3RbJ2xhYmVsJ10gPSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzBdXTtcbiAgICAgIGxlZ2VuZG9iamVjdFsndmFsdWUnXSA9IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMV1dO1xuICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gZWxlbWVudC5jb2xvcjtcbiAgICAgIHRoaXMubGVnZW5kQXJyYXkucHVzaChsZWdlbmRvYmplY3QpO1xuICAgIH0pO1xuICAgIHRoaXMubGVnZW5kQXJyYXk7XG4gIH1cblxuICBvbkJhckxlZ2VuZENsaWNrKGxlZ2VuZGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgLy8gIG9ialsnbGFiZWwnXSA9IGxlZ2VuZGV2ZW50LmxhYmVsO1xuICAgIC8vICBvYmpbJ3ZhbHVlJ10gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVswXV0gPSBsZWdlbmRldmVudC5sYWJlbDtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVsxXV0gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICAvL29ialtsZWdlbmRldmVudC5sYWJlbF0gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICAvL2RlbGV0ZSBldmVudC5jb2xvcjtcbiAgICB0aGlzLmxlZ2VuZENsaWNrKG9iaik7XG4gIH1cblxuICBiYXJDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIC8vUkVTSVpFIFNURVAgNSBTVEFSVFNcbiAgcmVzaXplKCkge1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICBpZiAodGhpcy53dCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMud3Q7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB9XG4gICAgdGhpcy5jZGYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgfVxuICAvLyAvL1JFU0laRSBTVEVQIDUgU1RBUlRTXG4gIC8vICAgaW5pdGlhbHJlc2l6ZSgpIHtcbiAgLy8gICAgIGlmICh0aGlzLnd0KSB7XG4gIC8vICAgICAgIC8vUkVTSVpFIFNURVAgMyBTVEFSVFxuICAvLyAgICAgICAvLyBpZih0aGlzLmZpcnN0bG9hZGluZylcbiAgLy8gICAgICAgLy8gdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcblxuICAvLyAgICAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAvLyAgICAgICBpZiAodGhpcy5zdmd3aWR0aCkge1xuICAvLyAgICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnN2Z3dpZHRoO1xuXG4gIC8vICAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gIC8vICAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuXG4gIC8vICAgICAgIH1cbiAgLy8gICAgICAgLy9SRVNJWkUgU1RFUCAzIEVORFNcbiAgLy8gICAgICAgLy8gdGhpcy5zdmd3aWR0aCA9IHRoaXMuZGl2aWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcblxuICAvLyAgICAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gIC8vICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICAvLyAgICAgfVxuICAvLyAgICAgdGhpcy5maXJzdGxvYWRpbmcgPSBmYWxzZTtcbiAgLy8gICB9XG4gIC8vIC8vUkVTSVpFIFNURVAgNSBFTkRTXG4gIHZhbGlkYXRlRGF0YSgpIHtcbiAgICBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibG1hc2tcIlxuICAgIH1cbiAgfVxuXG5cbn0iLCJpbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCB9IGZyb20gXCIuLi9iYXNlL2Jhc2UuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5pbXBvcnQgeyBuZWFyZXIgfSBmcm9tIFwicVwiO1xuXG5leHBvcnQgY2xhc3MgQW1leGlvRDNCYXNlTGluZUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IHtcbiAgICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9kYXRhOiBhbnkgPSBbXTtcbiAgICBwcml2YXRlIHhheGlzZGF0YTogYW55W107XG4gICAgcHJpdmF0ZSB4YXhpc2RhdGExOiBhbnlbXTtcbiAgICBwcml2YXRlIHlheGlzZGF0YTogYW55W107XG4gICAgcHJpdmF0ZSBsZWdlbmRkYXRhOiBhbnlbXTtcbiAgICBsZWdlbmRzOiBhbnlbXTtcbiAgICBsaW5lbGVnZW5kczogYW55W107XG4gICAgeGFycjogYW55W10gPSBbXTtcbiAgICBwcm90ZWN0ZWQgeGF4aXNuYW1lOiBhbnk7XG4gICAgcHJvdGVjdGVkIG11bHRpc2VyaWVzZGF0YTogYW55W107XG4gICAgc3ZnOiBhbnk7XG4gICAgZGlzcGxheWluZGV4OiBudW1iZXIgPSAwO1xuICAgIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0ID0gMzAwO1xuXG4gICAgQElucHV0KCdkYXRhJylcblxuICAgIEBJbnB1dCgneGF4aXMtaW50ZXJ2YWwnKSB4aW50ZXJ2YWw6IG51bWJlcjtcblxuICAgIEBJbnB1dCgnaHR0cC11cmwnKSBodHRwdXJsOiBhbnk7XG5cbiAgICBASW5wdXQoJ2h0dHAtbWV0aG9kJykgaHR0cG1ldGhvZDogYW55O1xuXG4gICAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgICAvLyBASW5wdXQoJ3hheGlzLWludGVydmFsJykgeHRpY2tzY291bnQ6IG51bWJlciA9IDM7XG4gICAgQElucHV0KCdjb2xvcicpIGxpbmVjb2xvciA9IFtdO1xuXG4gICAgQElucHV0KCdkaXNwbGF5LWZpZWxkJykgZGlzcGxheWZpZWxkOiBzdHJpbmc7XG5cbiAgICBASW5wdXQoJ3JvdGF0ZScpIHNsYW50ID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGV2aWNlUXVlcnlTZXJ2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoJ2xpbmUnKTtcbiAgICB9XG5cbiAgICBzZXQgZGF0YSh2OiBhbnkpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IHY7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhICYmICh0aGlzLl9kYXRhLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVhZQXhpc0RhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjcmVhdGVYWUF4aXNEYXRhKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxhYmVsY29sb3JcbiAgICAgICAgdGhpcy54YXhpc2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy55YXhpc2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5tdWx0aXNlcmllc2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5sZWdlbmRkYXRhID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kcyA9IFtdO1xuICAgICAgICB0aGlzLnhheGlzbmFtZSA9IHRoaXMuZGF0YVswXVswXS5sYWJlbDtcbiAgICAgICAgY29uc3QgbXNkYXJyYXk6IGFueVtdID0gW107XG4gICAgICAgIGxldCBjb3VudCA9IDBcbiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlmaWVsZCkge1xuICAgICAgICAgICAgLy8gZmluZCBkaXNwbGF5ZmllbGQgaW5kZXhcblxuICAgICAgICAgICAgdGhpcy5fZGF0YVswXS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubGFiZWwgPT0gdGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5aW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX2RhdGFbMF0ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsZWdlbmQgPSB0aGlzLl9kYXRhWzBdW2luZGV4XTtcbiAgICAgICAgICAgIG1zZGFycmF5W2luZGV4XSA9IFtdO1xuICAgICAgICAgICAgbGV0IG9iaiA9IHt9O1xuICAgICAgICAgICAgb2JqWydsYWJlbCddID0gbGVnZW5kLmxhYmVsO1xuICAgICAgICAgICAgaWYgKCh0aGlzLmxpbmVjb2xvci5sZW5ndGggPiAwKSAmJiB0aGlzLmxpbmVjb2xvcltpbmRleF0pIHtcbiAgICAgICAgICAgICAgICBvYmpbJ2NvbG9yJ10gPSB0aGlzLmxpbmVjb2xvcltpbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbJ2NvbG9yJ10gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sZWdlbmRkYXRhLnB1c2gob2JqKTtcbiAgICAgICAgICAgIC8vIHRoaXMubGVnZW5kZGF0YS5wdXNoKHsnbGFiZWwnOmxlZ2VuZC5sYWJlbCwnY29sb3InOnRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleCsxXX0pO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgICAgICBvYmpbJ2xhYmVsJ10gPSBsZWdlbmQubGFiZWw7XG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLmxpbmVjb2xvci5sZW5ndGggPiAwKSAmJiB0aGlzLmxpbmVjb2xvcltjb3VudF0pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqWydjb2xvciddID0gdGhpcy5saW5lY29sb3JbY291bnRdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialsnY29sb3InXSA9IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tjb3VudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmxlZ2VuZHMucHVzaCh7J2xhYmVsJzpsZWdlbmQubGFiZWwsJ2NvbG9yJzp0aGlzLnByZWRlZmluZWRjb2xvcnNbaW5kZXhdfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgLy8geGF4aXNkYXRhIHlheGlzZGF0YSBtc2RhcnJheSBpcyBmb3JtZWQgaGVyZVxuXG4gICAgICAgIHRoaXMuX2RhdGEuZm9yRWFjaChvYmplY3QgPT4ge1xuXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgaiA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHhvYmogPSB7fTtcbiAgICAgICAgICAgICAgICBvYmplY3QuZm9yRWFjaChhID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy54YXhpc2RhdGEucHVzaCh7ICdsYWJlbCc6IGEsICd2YWx1ZSc6IGEgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnlheGlzZGF0YS5wdXNoKHsgJ2xhYmVsJzogYSwgJ3ZhbHVlJzogYSB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoaiA+IDApICYmIChqICE9PSB0aGlzLmRpc3BsYXlpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueWF4aXNkYXRhLnB1c2goeyAnbGFiZWwnOiBhLCAndmFsdWUnOiBhIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeG9ialsndmFsdWUnXSA9IGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PSB0aGlzLmRpc3BsYXlpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeG9ialsnbGFiZWwnXSA9IGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIG1zZGFycmF5W2pdLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLnB1c2goeG9iaik7XG5cblxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtc2RhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcblxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG1zZGFycmF5W2luZGV4XTtcblxuICAgICAgICAgICAgaWYgKChpbmRleCA+IDApICYmIChpbmRleCAhPT0gdGhpcy5kaXNwbGF5aW5kZXgpKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgbWQ6IGFueVtdID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbGVtZW50Lmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IGVsZW1lbnRbal07XG4gICAgICAgICAgICAgICAgICAgIG1kLnB1c2goeyAnbGVnZW5kJzogdGhpcy5sZWdlbmRkYXRhW2luZGV4XS5sYWJlbCwgJ2xhYmVsJzogdGhpcy54YXhpc2RhdGFbal0ubGFiZWwsICd2YWx1ZSc6IHYgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXNlcmllc2RhdGEucHVzaChtZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWdlbmRzW2luZGV4IC0gMV0uZGF0YSA9IG1kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVjYWxjdWxhdGVzY2FsZSh3aWR0aDogYW55KSB7XG5cbiAgICAgICAgLy8gY29uc2lkZXIgZm9udHNpemUgdG8gYmUgMTBcbiAgICAgICAgdGhpcy54YXhpc2RhdGE7XG4gICAgICAgIGxldCBzdW1tYXRpb253aWR0aCA9IDA7XG4gICAgICAgIGlmICghdGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZWxlbWVudC5sYWJlbCkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VtbWF0aW9ud2lkdGggPSBzdW1tYXRpb253aWR0aCArIChlbGVtZW50LmxhYmVsLmxlbmd0aCAqIDEwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZWxlbWVudC5sYWJlbCkgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSB0aGlzLmZpbmREaWdpdENvdW50KGVsZW1lbnQubGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICBzdW1tYXRpb253aWR0aCA9IHN1bW1hdGlvbndpZHRoICsgKG4gKiAxMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiAoZWxlbWVudC5sYWJlbCkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzdW1tYXRpb253aWR0aCA9IHN1bW1hdGlvbndpZHRoICsgKGVsZW1lbnQubGFiZWwubGVuZ3RoICogMTApO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheWZpZWxkICYmIHRoaXMuc2xhbnQpIHtcbiAgICAgICAgICAgIHN1bW1hdGlvbndpZHRoID0gdGhpcy54YXhpc2RhdGEubGVuZ3RoICogMTA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3VtbWF0aW9ud2lkdGggPiB3aWR0aCkge1xuICAgICAgICAgICAgLy8gIGZ1bmN0aW9uIGNhbGxcblxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGV4YXhpc2FycmF5KHN1bW1hdGlvbndpZHRoLCB3aWR0aCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNhbGN1bGF0ZXhheGlzYXJyYXkoc3VtbWF0aW9ud2lkdGg6IGFueSwgd2lkdGg6IGFueSkge1xuXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IE1hdGgucm91bmQoc3VtbWF0aW9ud2lkdGggLyB3aWR0aCk7XG4gICAgICAgICB0aGlzLmdlbmVyYXRlTmV3QXhpcyhpbnRlcnZhbCwgd2lkdGgpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlTmV3QXhpcyhpbnRlcnZhbCwgYXZsd2lkdGgpIHtcbiAgICAgICAgdGhpcy54YXhpc2RhdGFcblxuICAgICAgICBsZXQgYXJyID0gW107XG4gICAgICAgIGxldCBuZXdhcnIgPSBbXTtcbiAgICAgICAgbGV0IG1pbjtcbiAgICAgICAgbGV0IG1heDtcbiAgICAgICAgLy8gICAgbWFrZSBBcnJheSBvdXQgb2YgdGhpcy54YXhpc2RhdGFcbiAgICAgICAgdGhpcy54YXhpc2RhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgKGVsZW1lbnQubGFiZWwpID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBhcnIucHVzaChlbGVtZW50LmxhYmVsKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9udWxsIGNoZWNrIG9uIGFyclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGZpbmQgbWluXG5cbiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluLmFwcGx5KG51bGwsIGFycik7XG4gICAgICAgICAgICAvL2ZpbmQgbWF4XG4gICAgICAgICAgICBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCBhcnIpO1xuXG4gICAgICAgICAgICBsZXQgdGVtcCA9IE1hdGgucm91bmQoYXZsd2lkdGggLyAxMClcbiAgICAgICAgICAgIGxldCBkaWZmZXJlbnRpYWwgPSAodGVtcCAtICh0ZW1wICogMC4yKSkgLyA0O1xuXG4gICAgICAgICAgICAvL2Zvcm0gbmV3IGFyclxuXG4gICAgICAgICAgICBsZXQgaiA9IE1hdGgucm91bmQoZGlmZmVyZW50aWFsKTtcbiAgICAgICAgICAgIC8vICAgaGpsa2xsbGxcbiAgICAgICAgICAgIGxldCBpO1xuICAgICAgICAgICAgbGV0IGlzcmVkdW5kYW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgICAgICBuZXdhcnJbMF0gPSBtaW47XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxOyBqIDwgdGhpcy54YXhpc2RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaiA9IE1hdGgucm91bmQoKGRpZmZlcmVudGlhbCAqIGkpICsgaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaXNyZWR1bmRhbnQgPSB0aGlzLmNoZWNrQXJyYXlSZWR1bmRhbmN5KG5ld2FyciwgTWF0aC5yb3VuZChqKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc3JlZHVuZGFudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gTWF0aC5yb3VuZChqICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdhcnJbaV0gPSBNYXRoLnJvdW5kKGopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0YXJyKG5ld2Fycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BsYXlmaWVsZCkge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGogPCB0aGlzLnhheGlzZGF0YS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgIGogPSBNYXRoLnJvdW5kKChkaWZmZXJlbnRpYWwgKiBpKSArIGkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnhheGlzZGF0YVtqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gdGhpcy54YXhpc2RhdGFbal0ubGFiZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy54YXhpc2RhdGFbaiArIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gdGhpcy54YXhpc2RhdGFbaiArIDFdLmxhYmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy54YXJyID0gbmV3YXJyO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVja0FycmF5UmVkdW5kYW5jeShuZXdhcnIsIGNoa251bSkge1xuICAgICAgICBsZXQgaW5jID0gMFxuICAgICAgICBuZXdhcnIuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChjaGtudW0gPT0gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGluYysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5jID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc29ydGFycihuZXdhcnI6IGFueSkge1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IGo7XG4gICAgICAgIGxldCB0ZW1wO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3YXJyLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgbmV3YXJyLmxlbmd0aDsgKytqKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3YXJyW2ldID4gbmV3YXJyW2pdKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IG5ld2FycltpXTtcbiAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gbmV3YXJyW2pdO1xuICAgICAgICAgICAgICAgICAgICBuZXdhcnJbal0gPSB0ZW1wO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICAgIG5ld2FycjtcbiAgICAgICAgdGhpcy5zZXRYYXhpc0RhdGEobmV3YXJyKVxuICAgIH1cblxuICAgIHNldFhheGlzRGF0YShuZXdhcnI6IGFueSkge1xuXG4gICAgICAgIHRoaXMueGFyciA9IG5ld2FycjtcblxuICAgICAgICAvLyB0aGlzLnhheGlzZGF0YS5wdXNoKHtsYWJlbDogMTI1LCB2YWx1ZTogMTI1fSk7XG5cbiAgICAgICAgLy8gY2hrIGlmIG5ld2FyciBlbGVtZW50cyBhcmUgcHJlc2VudCBpbiB4YXhpc2RhdGFcbiAgICAgICAgbGV0IGlzcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICBuZXdhcnIuZm9yRWFjaChhcnJlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goeGF4aXNlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyZWxlbWVudCA9PSB4YXhpc2VsZW1lbnQubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNwcmVzZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFpc3ByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZSAmIHB1c2ggYW4gb2JqIGluIHhheGlzZGF0YVxuICAgICAgICAgICAgICAgIGxldCBvYmogPSB7IGxhYmVsOiBhcnJlbGVtZW50LCB2YWx1ZTogYXJyZWxlbWVudCB9O1xuICAgICAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLnB1c2gob2JqKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXNwcmVzZW50ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICBcblxuICAgICAgICAvLyBjaGFuZ2UgYXJyIHRvIGFyciBvZiBvYmpzXG4gICAgICAgIGxldCB4ZGF0YSA9IFtdO1xuICAgICAgICBuZXdhcnIuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgICAgICBsZXQgb2JqID0geyBsYWJlbDogZWxlbWVudCwgdmFsdWU6IGVsZW1lbnQgfVxuICAgICAgICAgICAgeGRhdGEucHVzaChvYmopO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy54YXhpc2RhdGE7XG4gICAgICAgIHRoaXMueGF4aXNkYXRhMSA9IHhkYXRhO1xuICAgICAgICAvL2luaXRpYWxpemUgeGF4aXMgZGF0YVxuICAgIH1cblxuICAgIGZpbmREaWdpdENvdW50KG46IG51bWJlcikge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBpZiAobiA+PSAxKSsrY291bnQ7XG5cbiAgICAgICAgd2hpbGUgKG4gLyAxMCA+PSAxKSB7XG4gICAgICAgICAgICBuIC89IDEwO1xuICAgICAgICAgICAgKytjb3VudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuXG4gICAgc2V0WGludGVydmFsKHdpZHRoOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGludGVydmFsID0gTWF0aC5yb3VuZCh0aGlzLnhheGlzZGF0YS5sZW5ndGggLyB0aGlzLnhpbnRlcnZhbCk7XG5cbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBsZXQgbmV3YXJyID0gW107XG4gICAgICAgIC8vICAgIG1ha2UgQXJyYXkgb3V0IG9mIHRoaXMueGF4aXNkYXRhXG4gICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIChlbGVtZW50LmxhYmVsKSA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKGVsZW1lbnQubGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIGxldCBtaW4gPSBNYXRoLm1pbi5hcHBseShudWxsLCBhcnIpO1xuICAgICAgICAvL2ZpbmQgbWF4XG4gICAgICAgIGxldCBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCBhcnIpO1xuICAgICAgICBsZXQgaiA9IGludGVydmFsO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IGlzcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICBuZXdhcnJbMF0gPSBtaW47XG4gICAgICAgIC8vIGFzc2FcbiAgICAgICAgZm9yIChpID0gMTsgaiA8IG1heDsgaSsrKSB7XG4gICAgICAgICAgICBqID0gaW50ZXJ2YWwgKiBpO1xuICAgICAgICAgICAgbmV3YXJyW2ldID0gajtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5ld2FycltpXSA9IG1heDtcblxuICAgICAgICAvL2luc2V0IG51bWJlcnMgd2hpY2ggYXJlIG5vdCBwcmVzZW50IGluIHhheGlzIGRvbWFpbiBidXQgcHJlc2VudCBpbiBuZXdhcnJcblxuICAgICAgICBuZXdhcnIuZm9yRWFjaChhcnJlbGVtZW50ID0+IHtcblxuICAgICAgICAgICAgdGhpcy54YXhpc2RhdGEuZm9yRWFjaCh4YXhpc2VsZW1lbnQgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHhheGlzZWxlbWVudC5sYWJlbCA9PSBhcnJlbGVtZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaXNwcmVzZW50ID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIWlzcHJlc2VudCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IHsgbGFiZWw6IGFycmVsZW1lbnQsIHZhbHVlOiBhcnJlbGVtZW50IH1cbiAgICAgICAgICAgICAgICB0aGlzLnhheGlzZGF0YS5wdXNoKG9iaik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlzcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0aGlzLnNvcnRhcnIobmV3YXJyKTtcblxuICAgICAgICAvLyBuZXdhcnI7XG4gICAgICAgIC8vIHRoaXMueGF4aXNkYXRhO1xuICAgICAgICB0aGlzLnhhcnIgPSBuZXdhcnI7XG5cbiAgICB9XG5cbiAgICBzZXREaXNwbGF5ZmllbGRYaW50ZXJ2YWwod2lkdGgpIHtcbiAgICAgICAgbGV0IGludGVydmFsID0gTWF0aC5yb3VuZCh0aGlzLnhheGlzZGF0YS5sZW5ndGggLyB0aGlzLnhpbnRlcnZhbCk7XG5cbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBsZXQgbmV3YXJyID0gW107XG4gICAgICAgIC8vICAgIG1ha2UgQXJyYXkgb3V0IG9mIHRoaXMueGF4aXNkYXRhXG4gICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBhcnIucHVzaChlbGVtZW50LmxhYmVsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBtaW4gPSAwO1xuICAgICAgICBsZXQgbWF4ID0gdGhpcy54YXhpc2RhdGEubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IGogPSBpbnRlcnZhbDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIG5ld2FyclswXSA9IHRoaXMueGF4aXNkYXRhW21pbl0ubGFiZWw7XG4gICAgICAgIGZvciAoaSA9IDE7IGogPCBtYXg7IGkrKykge1xuICAgICAgICAgICAgbmV3YXJyW2ldID0gdGhpcy54YXhpc2RhdGFbal0ubGFiZWw7XG4gICAgICAgICAgICBqID0gaW50ZXJ2YWwgKiBpO1xuICAgICAgICB9XG4gICAgICAgIG5ld2Fyci5wdXNoKHRoaXMueGF4aXNkYXRhW21heF0ubGFiZWwpXG4gICAgICAgIHRoaXMueGFyciA9IG5ld2FycjtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXR4YXhpc2FycigpIHtcbiAgICAvLyAgICAgbGV0IGZvcm1hdHRlZGFyciA9IFtdO1xuICAgIC8vICAgICBsZXQgdGVtcCA9ICcnO1xuXG4gICAgLy8gICAgIGlmKHRoaXMueGFycikge1xuXG4gICAgLy8gICAgIGlmICh0eXBlb2YgKHRoaXMueGFyclswXSkgPT0gJ3N0cmluZycpIHtcbiAgICAvLyAgICAgICAgIC8vIHRyZWF0IHN0cmluZ1xuICAgIC8vICAgICAgICAgdGhpcy54YXJyLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIFxuICAgIC8vICAgICAgICAgICAgIGlmICh0eXBlb2YgKGVsZW1lbnQpID09ICdzdHJpbmcnKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRlbXAgPSAnJztcbiAgICAvLyAgICAgICAgICAgICAgICAgdGVtcCA9IGVsZW1lbnRbMF0gKyBlbGVtZW50WzFdICsgJy4uJ1xuICAgIC8vICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRhcnIucHVzaCh0ZW1wKVxuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICAgICAgIHRoaXMueGFyciA9IGZvcm1hdHRlZGFycjtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGlmICh0eXBlb2YgKHRoaXMueGFyclswXSkgPT0gJ251bWJlcicpIHtcbiAgICAvLyAgICAgICAgIC8vIHRyZWF0IG51bWVyaWFsc1xuICAgIC8vICAgICAgICAgLy8gd3JhcCBudW1iZXJzXG5cbiAgICAvLyAgICAgfVxuICAgIC8vICAgICAgICAgICAgICB9XG4gICAgLy8gfVxuXG5cbiAgICBwcm90ZWN0ZWQgaW5pdENoYXJ0KCk6IGFueSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgICAgICAvL1JFU0laRSBTVEVQIDIgU1RBUlRcbiAgICAgICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgICAgICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpO1xuICAgICAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuXG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiA0MCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA0MCB9O1xuICAgICAgICAvL1JFU0laRSBTVEVQIDIgRU5EUyBIRVJFXG4gICAgICAgIGNvbnN0IHdpZHRoID0gK3RoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICAgICAgLy8gdGhpcy54YXhpc2RhdGE7XG5cbiAgICAgICAgaWYgKHRoaXMueGludGVydmFsKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzcGxheWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRYaW50ZXJ2YWwod2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGxheWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXREaXNwbGF5ZmllbGRYaW50ZXJ2YWwod2lkdGgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVzY2FsZSh3aWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoZWlnaHQgPSArdGhpcy5zdmdoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgICAgICAgY29uc3QgZyA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICAgICAgY29uc3QgeCA9IGQzLnNjYWxlUG9pbnQoKVxuICAgICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgICAgICAgIC5wYWRkaW5nKDAuMSk7XG5cbiAgICAgICAgY29uc3QgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5yYW5nZVJvdW5kKFtoZWlnaHQsIDBdKTtcbiAgICAgICAgbGV0IHhkb21haW47XG4gICAgICAgIGlmICh0aGlzLnhheGlzZGF0YSkge1xuXG4gICAgICAgICAgICB4LmRvbWFpbih0aGlzLnhheGlzZGF0YS5tYXAoKGQpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGQubGFiZWwpID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmxhYmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGQudmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMueWF4aXNkYXRhKSB7XG4gICAgICAgICAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRoaXMueWF4aXNkYXRhLCAoZCkgPT4geyByZXR1cm4gZC52YWx1ZTsgfSldKTtcbiAgICAgICAgfVxuICAgICAgICAvL2FkZCBheGlzXG4gICAgICAgIGxldCB4YXhpc2JvdHRvbSA9IGQzLmF4aXNCb3R0b20oeCk7XG4gICAgICAgIGlmICh0aGlzLnhhcnIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gaWYodGhpcy5zbGFudCkge1xuICAgICAgICAgICAgLy8gdGhpcy5mb3JtYXR4YXhpc2FycigpO1xuICAgICAgICAgICAgLy8gIH1cbiAgICAgICAgICAgICB4YXhpc2JvdHRvbS50aWNrVmFsdWVzKHRoaXMueGFycilcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXZpY2VRdWVyeVNlcnZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG5cbiAgICAgICAgICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgICAgICAuY2FsbCh4YXhpc2JvdHRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZDMuYXhpc0JvdHRvbSh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLnRpY2tWYWx1ZXModGhpcy54YXJyKVxuICAgICAgICAgICAgICAgICAgICApLlxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG5cbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgYm90dG9tYXhpcyA9IGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgICAgIC5jYWxsKHhheGlzYm90dG9tKVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2xhbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtYXR4YXhpc2FycigpOyBcblxuICAgICAgICAgICAgICAgICAgICBib3R0b21heGlzLnNlbGVjdEFsbChcInRleHRcIilcblxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFhheGlzVG9vbHRpcChkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDkwKVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIDEwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLy8gICAuYXR0cihcImNvbG9yXCIsIFwiZ3JleVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKHhheGlzYm90dG9tKS5cbiAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCAxMCk7XG4gICAgICAgICAgICA7XG4gICAgICAgIH1cblxuICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC8vIC5hdHRyKFwiY29sb3JcIiwgXCJncmV5XCIpXG4gICAgICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrcyh0aGlzLnRpY2tzY291bnQpKVxuICAgICAgICAvLyB0aWNrU2l6ZSgwLDEwKSk7XG4gICAgICAgIGxldCByYXdkYXRhID0gdGhpcy5fZGF0YTtcblxuXG4gICAgICAgIC8vIGNhbGwgZnVuY3Rpb24gdG8gYWx0ZXIgbGVnZW5kcyBpZiBkaXNwbGF5ZmllbGQgY29uZG4gc2F0aXNmeVxuICAgICAgICB0aGlzLmFsdGVyTGVnZW5kKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGcsIHgsIHksIGhlaWdodCwgd2lkdGgsIHJhd2RhdGFcbiAgICAgICAgfVxuICAgICAgICAvLyBcblxuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIHBsb3RTY2FsZShnOiBhbnksIHg6IGFueSwgeTogYW55LCBoZWlnaHQ6IGFueSwgd2lkdGg6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy52U2NhbGUpIHtcbiAgICAgICAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkuXG4gICAgICAgICAgICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICAgICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudClcbiAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGVnZW5kQ2xpY2sobm9kZTogYW55KSB7XG5cbiAgICAgICAgLy8gY29uc3QgbGVnZW5kTm9kZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobm9kZSkpO1xuICAgICAgICAvLyBkZWxldGUgbGVnZW5kTm9kZS5jb2xvcjtcbiAgICAgICAgLy8gbGVnZW5kTm9kZS5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIC8vICAgICBkZWxldGUgZWxlbWVudC5sZWdlbmQ7XG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW1wibGFiZWxcIl0gPSBub2RlLmxhYmVsO1xuICAgICAgICBsZXQgZGF0YSA9IFtdO1xuICAgICAgICBub2RlLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGxldCBvYmplY3QgPSB7fTtcblxuICAgICAgICAgICAgb2JqZWN0W2VsZW1lbnQubGVnZW5kXSA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgICBvYmplY3RbdGhpcy54YXhpc25hbWVdID0gZWxlbWVudC5sYWJlbDtcbiAgICAgICAgICAgIC8vICAgb2JqZWN0W2VsZW1lbnQubGFiZWxdID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgIGRhdGEucHVzaChvYmplY3QpO1xuICAgICAgICB9KTtcbiAgICAgICAgb2JqW1wiZGF0YVwiXSA9IGRhdGE7XG4gICAgICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG9iaik7XG5cbiAgICAgICAgLy8gdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQobGVnZW5kTm9kZSk7XG4gICAgfVxuXG5cbiAgICBhbHRlckxlZ2VuZCgpIHtcbiAgICAgICAgdGhpcy5saW5lbGVnZW5kcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5kaXNwbGF5ZmllbGQpIHtcblxuICAgICAgICAgICAgdGhpcy5sZWdlbmRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubGFiZWwgIT09IHRoaXMuZGlzcGxheWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZWxlZ2VuZHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGluZWxlZ2VuZHMgPSB0aGlzLmxlZ2VuZHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxsWGF4aXNUb29sdGlwKHRvb2x0aXBkYXRhOiBhbnkpIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICBvYmpbJ3gtYXhpcyddID0gdG9vbHRpcGRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIElucHV0LCBDaGFuZ2VEZXRlY3RvclJlZiwgT25DaGFuZ2VzIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUxpbmVDb21wb25lbnQgfSBmcm9tIFwiLi9iYXNlbGluZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCB7IERldmljZVF1ZXJ5U2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZVwiO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1saW5lJyxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICNkaXZpZCAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+IFxuICAgIDx0YWJsZSBbbmdDbGFzc109XCJ2YWxpZGF0ZURhdGEoKVwiICBzdHlsZT1cIndpZHRoOiAxMDAlO1wiID4gXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICAgICAgICA8dHI+PHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPjwvdHI+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHIgICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFdPVwibGluZWxlZ2VuZHNcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwvdHI+XG4gICAgPC90YWJsZT5cbiAgICA8IS0tIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICAgICAgPC9kaXY+IC0tPlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDwhLS0ge3tsZWdlbmRzIHwganNvbn19IC0tPmBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNMaW5lQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlTGluZUNvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0LCBPbkNoYW5nZXMge1xuICAgIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yID0gJyc7XG4gICAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gICAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgICBAVmlld0NoaWxkKCdkcmlsbGlkJykgZHJpbGxpZDogYW55O1xuICAgIHd0OiBudW1iZXI7XG4gICAgcmF3ZGF0YTogYW55O1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkZXZpY2VRdWVyeVNlcnZpY2U6IERldmljZVF1ZXJ5U2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwdWJsaWMgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSkge1xuICAgICAgICBzdXBlcihkZXZpY2VRdWVyeVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgICAgICAgbGV0IHJlc3A6IGFueVxuICAgICAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBuZ09uQ2hhbmdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhbGlkYXRlRGF0YSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJsbWFza1wiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RKc29uO1xuICAgICAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICAgICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXdDaGFydCgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIC8vUkVTSVpFIFNURVAgNSBTVEFSVFNcbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMucmVzaXpld3QgPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICB9XG4gICAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gICAgfVxuXG4gICAgcGxvdEQzQ2hhcnQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vUkVTSVpFIFNURVAgMVxuICAgICAgICAgICAgaWYgKHRoaXMud3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1JFU0laRSBTVEVQIDEgRU5EUyBIRVJFIFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuXG4gICAgICAgIGNvbnN0IGxpbmVjaGFydCA9IHRoaXMuaW5pdENoYXJ0KCk7XG5cbiAgICAgICAgdGhpcy5yYXdkYXRhID0gbGluZWNoYXJ0LnJhd2RhdGE7XG4gICAgICAgIC8vIHRoaXMuc3Znd2lkdGggPSBsaW5lY2hhcnQud2lkdGg7XG4gICAgICAgIHRoaXMucGxvdFNjYWxlKGxpbmVjaGFydC5nLCBsaW5lY2hhcnQueCwgbGluZWNoYXJ0LnksIGxpbmVjaGFydC5oZWlnaHQsIGxpbmVjaGFydC53aWR0aCk7XG5cbiAgICAgICAgdGhpcy5wbG90TGluZShsaW5lY2hhcnQuZywgbGluZWNoYXJ0LngsIGxpbmVjaGFydC55LCBsaW5lY2hhcnQuaGVpZ2h0LFxuICAgICAgICAgICAgbGluZWNoYXJ0LndpZHRoLCBbXSwgdG9vbHRpcCwgKDEpKTtcbiAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMubXVsdGlzZXJpZXNkYXRhKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5tdWx0aXNlcmllc2RhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbG90TGluZShsaW5lY2hhcnQuZywgbGluZWNoYXJ0LngsIGxpbmVjaGFydC55LCBsaW5lY2hhcnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lY2hhcnQud2lkdGgsIHRoaXMubXVsdGlzZXJpZXNkYXRhW2luZGV4XSwgdG9vbHRpcCwgKGluZGV4ICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgXG5cbiAgICB9XG5cblxuICAgIC8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbiAgICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApXG4gICAgfVxuICAgIC8vUkVTSVpFIFNURVAgNCBFTkRTXG5cbiAgICBwcml2YXRlIHBsb3RMaW5lKGc6IGFueSwgeDogYW55LCB5OiBhbnksIGhlaWdodDogYW55LCB3aWR0aDogYW55LCBkYXRhOiBhbnksIHRvb2x0aXA6IGFueSwgaTogbnVtYmVyKTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgbGluZSA9IGQzLmxpbmUoKVxuICAgICAgICAgICAgLngoKGQpID0+IHsgcmV0dXJuIHgoZC5sYWJlbCk7IH0pXG4gICAgICAgICAgICAueSgoZCkgPT4geyByZXR1cm4geShkLnZhbHVlKTsgfSk7XG4gICAgICAgIGNvbnN0IHRlbXBjb2xvciA9IFwiYmxhY2tcIjtcbiAgICAgICAgZy5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgICAuZGF0dW0oZGF0YSlcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yW2kgLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZWNvbG9yW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIC8vICByZXR1cm4gdGVtcGNvbG9yO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDEuNSlcbiAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBsaW5lKVxuICAgICAgICAgICAgLy8gLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAzNyArIFwiLFwiICsgMCArIFwiKVwiKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgICBcbiAgICAgICAgZy5zZWxlY3RBbGwoJ2RvdCcpXG4gICAgICAgICAgICAuZGF0YShkYXRhKVxuICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7ICByZXR1cm4geChkLmxhYmVsKTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgIHJldHVybiB5KGQudmFsdWUpOyB9KVxuICAgICAgICAgICAgLmF0dHIoJ3InLCAyKVxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yW2kgLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZWNvbG9yW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gIHJldHVybiB0ZW1wY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgIC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgMzcgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVG9vbHRpcChkKSlcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvL2xldHMgcGxvdCBsYWJlbHMgaGVyZVxuICAgICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgICAgIGcuc2VsZWN0QWxsKCdsYWJlbCcpXG4gICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5saW5lY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yW2kgLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVjb2xvcltpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmxpbmVjb2xvci5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgcmV0dXJuIHRlbXBjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgoZC5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHkoZC52YWx1ZSkgLSAxMDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIDM3ICsgXCIsXCIgKyAwICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRvb2x0aXAoZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgbGluZUNoYXJ0Q2xpY2soZDogYW55KSB7XG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW2QubGVnZW5kXSA9IGQudmFsdWU7XG4gICAgICAgIG9ialt0aGlzLnhheGlzbmFtZV0gPSBkLmxhYmVsO1xuICAgICAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqKTtcbiAgICB9XG5cbiAgICBjYWxsVG9vbHRpcCh0b29sdGlwZGF0YTogYW55KSB7XG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW3Rvb2x0aXBkYXRhLmxlZ2VuZF0gPSB0b29sdGlwZGF0YS52YWx1ZTtcbiAgICAgICAgb2JqW3RoaXMueGF4aXNuYW1lXSA9IHRvb2x0aXBkYXRhLmxhYmVsO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sVGlwRm9yQmFyKG9iaik7XG4gICAgfVxuXG5cbiAgXG59IiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1iYXJzdGFjaycsXG4gIHRlbXBsYXRlOiBgPGRpdiAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlICpuZ0lmPVwiZGF0YTEubGVuZ3RoID4gMFwiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICAgICAgICA8L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgICAgICA8L3RkPlxuXG4gICAgICAgIDwvdHI+XG4gICAgPC90YWJsZT5cbiAgICA8ZGl2ICpuZ0lmPVwiZGF0YTEubGVuZ3RoIDwgMVwiIGNsYXNzPVwibG1hc2tcIiBzdHlsZT1cInBhZGRpbmctdG9wOjUwJVwiPlxuICAgIDwvZGl2PlxuPC9kaXY+YCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuZXhwb3J0IGNsYXNzIEJhcnN0YWNrQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBsZWdlbmRBcnJheTogYW55W107XG4gIG1heFlWYWx1ZTogbnVtYmVyID0gMDtcbiAga2V5QXJyYXk6IGFueVtdO1xuICBwcmVkZWZpbmVkY29sb3JzOiBhbnlbXTtcbiAgbGVnZW5kczogYW55W107XG4gIGNoYXJ0dHlwZTogc3RyaW5nO1xuICBkYXRhOiBhbnkgPSBbXTtcbiAgZGF0YXJlYWRlcmRhdGE6IGFueVtdO1xuICB4YXhpczogYW55O1xuICB3dDogbnVtYmVyO1xuICBASW5wdXQoJ2RhdGEnKSBkYXRhMTogYW55XG4gIEBJbnB1dCgpIGJhcndpZHRoOiBudW1iZXIgPSAwO1xuICBASW5wdXQoKSB0aXRsZTogU3RyaW5nID0gXCJcIjtcbiAgQElucHV0KCkgbGVnZW5kOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCkgY29sb3I6IHN0cmluZ1tdID0gW107XG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ3lheGlzLWludGVydmFsJykgdGlja3Njb3VudDogbnVtYmVyO1xuIFxuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZHJpbGxpZCcpIGRyaWxsaWQ6IGFueTtcbiAgQE91dHB1dCgpIG9uTGVnZW5kQ2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBodHRwcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIG9mZnNldGhlaWdodDogYW55O1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgY2RmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkZXZpY2U6IERldmljZVF1ZXJ5U2VydmljZSkge1xuICAgIHN1cGVyKCdiYXJzdGFjaycpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy53dCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlcztcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHRoaXMuaHR0cHJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcG9uc2UpO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhMSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhMSk7XG4gICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cblxuICB0cmFuc2Zvcm1EYXRhKGRhdGExOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5sZWdlbmRBcnJheSA9IFtdO1xuXG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZEFycmF5W2lubmVyZWxlbWVudF0gPSB7ICdkYXRhJzogW10gfTtcbiAgICAgICAgICAgIHRoaXMua2V5QXJyYXkucHVzaChpbm5lcmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnhheGlzID0gaW5uZXJlbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgdGVtcGlubmVyYXJyYXk6IGFueVtdO1xuICAgIHRlbXBpbm5lcmFycmF5ID0gW107XG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IG9iajogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbm5lcmluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGlubmVyaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlBcnJheVtpbm5lcmluZGV4IC0gMV07XG4gICAgICAgICAgICBvYmpba2V5XSA9IGVsZW1lbnRbaW5uZXJpbmRleF07XG4gICAgICAgICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtrZXldO1xuICAgICAgICAgICAgaWYgKGxlZ2VuZGRhdGEpIHtcbiAgICAgICAgICAgICAgbGVnZW5kZGF0YS5kYXRhLnB1c2goeyAndmFsdWUnOiBlbGVtZW50W2lubmVyaW5kZXhdLCAnbGFiZWwnOiBlbGVtZW50WzBdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBpbm5lcmFycmF5LnB1c2gob2JqKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHRlbXBpbm5lcmFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmRhdGEucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICBsZXQgbWF4WTogYW55ID0gMDtcbiAgICBsZXQgeWF4aXNtYXhBcnJheSA9IFtdO1xuICAgIC8vZmluZCBtYXggZm9yIHlheGlzXG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuXG4gICAgICAgIHRoaXMua2V5QXJyYXkuZm9yRWFjaChrZXkxID0+IHtcbiAgICAgICAgICBpZiAoa2V5ID09IGtleTEpIHtcbiAgICAgICAgICAgIG1heFkgPSBtYXhZICsgdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTsvL2tleWFycmF5IGxvb3AgZW5kcyBoZXJlXG5cbiAgICAgIH0vL2ZvciBlbmRzIGhlcmVcbiAgICAgIHlheGlzbWF4QXJyYXkucHVzaChtYXhZKTtcbiAgICAgIG1heFkgPSAwO1xuICAgIH0pOy8vIGZvcmVhY2ggZW5kc1xuICAgIGxldCB0ZW1wTGFyZ2UgPSAwLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB5YXhpc21heEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoeWF4aXNtYXhBcnJheVtpXSA+IHRlbXBMYXJnZSkge1xuICAgICAgICB0aGlzLm1heFlWYWx1ZSA9IHlheGlzbWF4QXJyYXlbaV07XG4gICAgICB9Ly9pZiBlbmRzXG4gICAgfS8vIGZvciBlbmRzXG5cbiAgICB0aGlzLmxlZ2VuZHMgPSBbXVxuICAgIHRoaXMua2V5QXJyYXkuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGxlZ2VuZGRhdGEgPSB0aGlzLmxlZ2VuZEFycmF5W2VsZW1lbnRdO1xuICAgICAgaWYgKHRoaXMuY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50LCAnY29sb3InOiB0aGlzLmNvbG9yW2luZGV4XSwgJ2RhdGEnOiBsZWdlbmRkYXRhLmRhdGEgfTtcbiAgICAgICAgdGhpcy5sZWdlbmRzLnB1c2gob2JqZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnQsICdjb2xvcic6IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF0sICdkYXRhJzogbGVnZW5kZGF0YS5kYXRhIH07XG4gICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwbG90Q2hhcnQoKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG4gICAgbGV0IG1hcmdpbiA9IHsgdG9wOiAzMCwgcmlnaHQ6IDMwLCBib3R0b206IDkwLCBsZWZ0OiA2MCB9O1xuICAgIGxldCBjb2xvcnMgPSB0aGlzLnByZWRlZmluZWRjb2xvcnM7XG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIC8vdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIGxldCBkYXRhO1xuICAgIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgbGV0IGtleXNldGFycmF5OiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5kYXRhWzBdKSkge1xuICAgICAgICBrZXlzZXRhcnJheS5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgICB0aGlzLmtleUFycmF5ID0ga2V5c2V0YXJyYXk7XG4gICAgICB0aGlzLmtleUFycmF5LnNwbGljZSgwLCAxKTtcbiAgICB9XG4gXG5cbiAgICBsZXQgc2VyaWVzID0gZDMuc3RhY2soKS5rZXlzKHRoaXMua2V5QXJyYXkpXG4gICAgICAub2Zmc2V0KGQzLnN0YWNrT2Zmc2V0RGl2ZXJnaW5nKVxuICAgICAgKHRoaXMuZGF0YSk7XG5cbiAgICAgbGV0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGxldCBoZWlnaHRcbiAgICAvLyAgPSB0aGlzLnN2Z2hlaWdodCAtIG1hcmdpbi5ib3R0b20gLSBtYXJnaW4udG9wO1xuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgICAgICAgICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAgICAgICAgICAgXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpKSB7XG5cbiAgICAgIHRoaXMub2Zmc2V0aGVpZ2h0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgICAvLyAgLSBtYXJnaW4uYm90dG9tIC1tYXJnaW4udG9wO1xuICAgICAgaGVpZ2h0ID0gdGhpcy5vZmZzZXRoZWlnaHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGVpZ2h0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gMTA7XG4gICAgfVxuXG4gICAgbGV0IHggPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgLmRvbWFpbihkYXRhLm1hcCgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICB9KSlcbiAgICAgIC5yYW5nZVJvdW5kKFttYXJnaW4ubGVmdCwgdGhpcy5zdmd3aWR0aC1tYXJnaW4ucmlnaHRdKVxuICAgICAgLnBhZGRpbmcoMC4zNSk7XG5cbiAgICBsZXQgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5kb21haW4oW2QzLm1pbih0aGlzLnN0YWNrTWluKHNlcmllcykpLFxuICAgICAgdGhpcy5tYXhZVmFsdWVcbiAgICAgICAgLy8gZDMubWF4KHRoaXMuc3RhY2tNYXgoc2VyaWVzKSlcbiAgICAgIF0pXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0IC0gbWFyZ2luLmJvdHRvbSwgbWFyZ2luLnRvcF0pO1xuICAgIGlmICh0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKSA9PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5zdmd3aWR0aCA8PSA0MDApIHtcbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB5KDApICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkuXG4gICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB5KDApICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpO1xuICAgICAgfVxuXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgeSgwKSArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsMClcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuXG4gICAgdGhpcy5wbG90TGluZSh0aGlzLnN2ZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCwgbWFyZ2luLmxlZnQpXG5cbiAgICBsZXQgc3ZnUmVjdCA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAuZGF0YShzZXJpZXMpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAodGhpcy5jb2xvcltpbmRleF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JzW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc2VsZWN0QWxsKFwicmVjdFwiKVxuICAgICAgLmRhdGEoKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9KVxuXG4gICAgc3ZnUmVjdC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgeC5iYW5kd2lkdGgoKSkuYXR0cignaWQnLCAoZCwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gZC5kYXRhW2ldO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4geCgrZC5kYXRhW09iamVjdC5rZXlzKGQuZGF0YSlbMF1dKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcInlcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiB5KGRbMV0pO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiB5KGRbMF0pIC0geShkWzFdKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQ6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKHRoaXMuc2V0S2V5KGQpKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICB0aGlzLnNldEJhckNsaWNrVGV4dChkKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgLy8gdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgfSk7XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgc3ZnUmVjdC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxdndcIilcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yICYmIHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ4XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHgoK2QuZGF0YVtPYmplY3Qua2V5cyhkLmRhdGEpWzBdXSkgKyB4LmJhbmR3aWR0aCgpIC8gMjtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KGRbMV0pICsgMjA7XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgaWYoKGRbT2JqZWN0LmtleXMoZClbMV1dIC0gZFtPYmplY3Qua2V5cyhkKVswXV0pID4gMCkge1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXSAtIGRbT2JqZWN0LmtleXMoZClbMF1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZDogYW55KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbCh0aGlzLnNldEtleShkKSlcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0QmFyQ2xpY2tUZXh0KGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAvLyB0aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHN0YWNrTWluKHNlcmllKSB7XG4gICAgcmV0dXJuIGQzLm1pbihzZXJpZSwgKGQpID0+IHsgcmV0dXJuIGRbMF07IH0pO1xuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLnBsb3RDaGFydCgpO1xuICB9XG5cbiAgcGxvdExpbmUoc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoLCBtKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBzdmcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtICsgXCIsMClcIilcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrcyh0aGlzLnRpY2tzY291bnQpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgIH1cbiAgfVxuXG4gIGxlZ2VuZENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgb2JqW1wibGFiZWxcIl0gPSBldmVudC5sYWJlbDtcbiAgICBsZXQgZGF0YSA9IFtdO1xuICAgIGV2ZW50LmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgIG9iamVjdFtlbGVtZW50LmxhYmVsXSA9IGVsZW1lbnQudmFsdWU7XG4gICAgICBkYXRhLnB1c2gob2JqZWN0KTtcbiAgICB9KTtcbiAgICBvYmpbXCJkYXRhXCJdID0gZGF0YTtcbiAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICB9XG5cbiAgc2V0S2V5KGQ6IGFueSkge1xuICAgIGxldCBkaWZmID0gZFswXSAtIGRbMV07XG4gICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICBkaWZmID0gKGRpZmYgKiAoLTEpKTtcbiAgICB9XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGQuZGF0YSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBkaWZmKSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgb2JqZWN0W3RoaXMueGF4aXNdID0gZC5kYXRhW09iamVjdC5rZXlzKGQuZGF0YSlbMF1dO1xuICAgICAgICByZXR1cm4gKHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRCYXJDbGlja1RleHQoZDogYW55KSB7XG4gICAgbGV0IGRpZmYgPSBkWzBdIC0gZFsxXTtcbiAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgIGRpZmYgPSAoZGlmZiAqICgtMSkpO1xuICAgIH1cbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGQuZGF0YSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBkaWZmKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIG9iamVjdFt0aGlzLnhheGlzXSA9IGQuZGF0YVtPYmplY3Qua2V5cyhkLmRhdGEpWzBdXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICBnZXRSZXNwb25zZURhdGEoaHR0cFJlc3BvbnNlOiBhbnkpIHtcbiAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICB9XG5cbn1cbiIsIlxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS9iYXNlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJ1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LW11bHRpc2VyaWVzJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+IFxuPHRhYmxlICpuZ0lmPVwiZGF0YS5sZW5ndGggPiAwXCIgIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgPHRyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCIgPlxuICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgICAgPHRkPlxuICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwiaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwid2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj48L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbjwvdGFibGU+XG48ZGl2ICpuZ0lmPVwiZGF0YS5sZW5ndGggPCAxXCIgY2xhc3M9XCJsbWFza1wiIHN0eWxlPVwicGFkZGluZy10b3A6NTAlXCI+XG4gICAgPC9kaXY+XG48L2Rpdj5cblxuXG5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgR3JvdXBiYXJDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RyaWxsaWQnKSBkcmlsbGlkOiBhbnk7XG4gIEBJbnB1dCgnZGF0YScpIGRhdGE6IGFueSA9IFtdO1xuICBASW5wdXQoKSBsZWdlbmQ6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoKSBiYXJ3aWR0aDogbnVtYmVyID0gMDtcbiAgQE91dHB1dCgpIG9uTGVnZW5kQ2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCdzaG93LXplcm8tdmFsdWVzJykgc2hvd3plcm9mbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgZ3JvdXBiYXJjaGFydEFycmF5OiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55O1xuICB4YXhpc0RhdGE6IGFueTtcbiAga2V5QXJyYXk6IGFueTtcbiAgbGVnZW5kczogYW55O1xuICB5ZWFyczogYW55O1xuICB1cmxsZWdlbmRBcnJheSA9IFtdO1xuICBzdmc6IGFueTtcbiAgd3Q6IGFueTtcbiAgZGVmdWFsdENvbG9yczogYW55ID0gW107XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ211bHRpYmFyJyk7XG4gICAgdGhpcy5wcmVkZWZpbmVkY29sb3JzID0gW1wiIzMzNjZjY1wiLCBcIiNkYzM5MTJcIiwgXCIjZmY5OTAwXCIsIFwiIzEwOTYxOFwiLCBcIiM5OTAwOTlcIiwgXCIjMDA5OWM2XCIsIFwiI2RkNDQ3N1wiLCBcIiM2NmFhMDBcIiwgXCIjYjgyZTJlXCIsIFwiIzMxNjM5NVwiLCBcIiM5OTQ0OTlcIiwgXCIjMjJhYTk5XCIsIFwiI2FhYWExMVwiLCBcIiM2NjMzY2NcIiwgXCIjZTY3MzAwXCIsIFwiIzhiMDcwN1wiLCBcIiM2NTEwNjdcIiwgXCIjMzI5MjYyXCIsIFwiIzU1NzRhNlwiLCBcIiMzYjNlYWNcIl07XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBsZXQgcmVzOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXMgPSByZXNwb25zZTtcblxuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXMpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICB9LCAwKTtcblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZldGNoRGF0YShkYXRhOiBhbnkpIHtcbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG5cbiAgICB9LCAwKTtcblxuICB9XG5cbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG4gIHBsb3REM0NoYXJ0KCk6IHZvaWQge1xuICAgIHRoaXMuY29udmVydFRvSlNPTigpO1xuICAgIHRoaXMucGxvdEdyb3VwQmFyQ2hhcnQoKTtcbiAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgfVxuXG4gIHByaXZhdGUgcGxvdEdyb3VwQmFyQ2hhcnQoKTogdm9pZCB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG4gICAgdGhpcy5kZWZ1YWx0Q29sb3JzID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzO1xuICAgIC8vIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDUwLCBsZWZ0OiA0MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXR0cigndmlld0JveCcsICcwIDAgJyArIHRoaXMuc3Znd2lkdGggKyAnICcgKyB0aGlzLnN2Z2hlaWdodClcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cblxuICAgIGNvbnN0IHgwID0gZDMuc2NhbGVCYW5kKClcbiAgICAgIC5yYW5nZVJvdW5kKFswLCB3aWR0aF0pXG4gICAgICAucGFkZGluZygwLjIpO1xuXG4gICAgY29uc3QgeDEgPSBkMy5zY2FsZUJhbmQoKS5wYWRkaW5nKDAuMSk7XG5cbiAgICBjb25zdCB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pO1xuXG4gICAgLy9zZXR0aW5nIHggYW5kIHkgZG9tYWluc1xuICAgIHRoaXMueWVhcnMgPSB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheS5tYXAoKGQpID0+IHsgcmV0dXJuIGQubGFiZWxzOyB9KTtcbiAgICBsZXQgbGFiZWwgPSB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheVswXS52YWx1ZXMubWFwKChkKSA9PiB7IHJldHVybiBkLmxhYmVsOyB9KTtcblxuICAgIHgwLmRvbWFpbih0aGlzLnllYXJzKTtcbiAgICB4MS5kb21haW4obGFiZWwpLnJhbmdlUm91bmQoWzAsIHgwLmJhbmR3aWR0aCgpXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmdyb3VwYmFyY2hhcnRBcnJheSwgKGxhYmVscykgPT4geyByZXR1cm4gZDMubWF4KGxhYmVscy52YWx1ZXMsIChkKSA9PiB7IHJldHVybiBkLnZhbHVlOyB9KTsgfSldKTtcblxuICAgIC8vZHluYW1pYyBiYXJ3aWR0aFxuICAgIGlmICh0aGlzLmJhcndpZHRoID4gMCkge1xuICAgICAgdGhpcy5iYXJ3aWR0aCA9IHRoaXMuYmFyd2lkdGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5iYXJ3aWR0aCA9IHgwLmJhbmR3aWR0aDtcbiAgICB9XG5cbiAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuXG5cblxuICAgIGlmICh0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKSA9PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5zdmd3aWR0aCA8PSA0MDApIHtcbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgwKSkuXG4gICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgwKSkuXG4gICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG5cbiAgICB9XG5cblxuXG4gICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgIC50aWNrcygxMCkudGlja3ModGhpcy50aWNrc2NvdW50KSlcblxuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHksIGhlaWdodCwgd2lkdGgpO1xuXG4gICAgLy8gc3ZnLnNlbGVjdCgnLnknKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKS5kZWxheSgxMzAwKS5zdHlsZSgnb3BhY2l0eScsICcxJyk7XG4gICAgLy9hZGRpbmcgYmFyc1xuIFxuICAgIGxldCBzbGljZSA9IHRoaXMuc3ZnLnNlbGVjdEFsbChcIi5zbGljZVwiKVxuICAgICAgLmRhdGEodGhpcy5ncm91cGJhcmNoYXJ0QXJyYXkpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgKGQpID0+IHsgXG4gICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xuICAgICAgICAoZC52YWx1ZXMpLmZvckVhY2goKGVsZW1lbnQsaW5kZXgpID0+IHtcbiAgICAgICAgICAvL3NwbGljZSAwIFxuICAgICAgICAgIGlmKGVsZW1lbnQudmFsdWUgJiYgKGVsZW1lbnQudmFsdWUgPCAxKSkge1xuICAgICAgICAgIGQudmFsdWVzLnNwbGljZSgwLGluZGV4KTtcbiAgICAgICAgICB9IFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgeDAoZC5sYWJlbHMpICsgXCIsMClcIjsgfSk7XG5cbiAgICAgc2xpY2Uuc2VsZWN0QWxsKFwicmVjdFwiKVxuICAgICAgLmRhdGEoKGQpID0+IHsgcmV0dXJuIGQudmFsdWVzOyB9KVxuICAgICAgLmVudGVyKCkuXG4gICAgICBhcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHgxLmJhbmR3aWR0aFxuICAgIClcbiAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4geDEoZC5sYWJlbClcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoXCJmaWxsXCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jb2xvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmICh0aGlzLmNvbG9yc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yc1tpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmdWFsdENvbG9yc1tpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmRlZnVhbHRDb2xvcnNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgfSlcbiAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4geSgwKTsgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KDApOyB9KVxuICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLnNldEtleShkKSlcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuZ3JvdXBiYXJDbGljayhkKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICB9KVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgc2xpY2Uuc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuZGF0YSgoZCkgPT4geyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB4MS5iYW5kd2lkdGgpXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4MShkLmxhYmVsKSArIHgxLmJhbmR3aWR0aCgpIC8gMlxuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInlcIiwgKGQpID0+IHsgcmV0dXJuIHkoZC52YWx1ZSk7IH0pXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KDApOyB9KVxuICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMXZ3XCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgLy8gaWYoKGQudmFsdWUgPiAwKSApIHtcbiAgICAgICAgICAvLyByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgaWYodGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZighdGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICAgIGlmKGQudmFsdWUgPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLnNldEtleShkKVxuICAgICAgICAgICAgLy8gIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KS5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuZ3JvdXBiYXJDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgLy8gdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBzbGljZS5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcInlcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHkoZC52YWx1ZSk7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHsgcmV0dXJuIGhlaWdodCAtIHkoZC52YWx1ZSk7IH0pO1xuICB9XG5cbiAgZ3JvdXBiYXJDbGljayhkOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgb2JqZWN0W2QubGFiZWxdID0gZC52YWx1ZTtcbiAgICBvYmplY3RbdGhpcy54YXhpc0RhdGFdID0gZC54YXhpcztcbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gIC8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbiAgdmFsaWRhdGVyZXNpemUoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICByZXNpemUoKSB7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5wbG90R3JvdXBCYXJDaGFydCgpO1xuICB9XG5cbiAgbGVnZW5kQ2xpY2soZXZlbnQ6IGFueSkge1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbXCJsYWJlbFwiXSA9IGV2ZW50LmxhYmVsO1xuICAgIGxldCBkYXRhID0gW107XG4gICAgZXZlbnQuZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGV0IG9iamVjdCA9IHt9O1xuICAgICAgb2JqZWN0W2VsZW1lbnQubGFiZWxdID0gZWxlbWVudC52YWx1ZTtcbiAgICAgIGRhdGEucHVzaChvYmplY3QpO1xuICAgIH0pO1xuICAgIG9ialtcImRhdGFcIl0gPSBkYXRhO1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG9iaik7IFxuICB9XG5cbiAgLy8yZCBhcnJheSB0byBqc29uIGNvbnZlcnNpb25cbiAgY29udmVydFRvSlNPTigpIHtcbiAgICBsZXQgZ3JvdXBDaGFydE9iaiA9IHsgXCJsYWJlbHNcIjogXCJcIiwgdmFsdWVzOiBbXSB9O1xuICAgIGxldCBmaXJzdFJvd09mRGF0YSA9IHRoaXMuZGF0YVswXTtcbiAgICB0aGlzLnhheGlzRGF0YSA9IHRoaXMuZGF0YVswXVswXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbXVsdGlTZXJpZXNBcnJheSA9IFtdO1xuICAgICAgbGV0IHZhbHVlT2ZKOiBhbnk7XG5cbiAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgdGhpcy5kYXRhW2ldLmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgdmFsdWVPZkogPSB0aGlzLmRhdGFbaV1bMF07XG4gICAgICAgIGxldCBzaW5nbGVCYXJPYmogPSB7fTtcbiAgICAgICAgc2luZ2xlQmFyT2JqW1widmFsdWVcIl0gPSB0aGlzLmRhdGFbaV1bal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcInhheGlzXCJdID0gdGhpcy5kYXRhW2ldWzBdO1xuICAgICAgICBtdWx0aVNlcmllc0FycmF5LnB1c2goc2luZ2xlQmFyT2JqKTtcbiAgICAgIH1cbiAgICAgIGlmIChtdWx0aVNlcmllc0FycmF5Lmxlbmd0aCkge1xuICAgICAgICBncm91cENoYXJ0T2JqW1widmFsdWVzXCJdID0gbXVsdGlTZXJpZXNBcnJheTtcbiAgICAgICAgbGV0IG5ld0xhYmVsc1ZhbHVlczogYW55ID0gdmFsdWVPZko7XG4gICAgICAgIGxldCBuZXdHcm91cERhdGFPYmogPSBPYmplY3QuYXNzaWduKHt9LCBncm91cENoYXJ0T2JqKTtcbiAgICAgICAgbmV3R3JvdXBEYXRhT2JqWydsYWJlbHMnXSA9IG5ld0xhYmVsc1ZhbHVlcyArICcnO1xuICAgICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheS5wdXNoKG5ld0dyb3VwRGF0YU9iaik7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuXG4gIHRyYW5zZm9ybXRvMmRBcnJheSgpIHtcbiAgICBsZXQgaSA9IDBcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgcmVzdWx0LnB1c2goXCJ5ZWFyc1wiKTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LnZhbHVlcy5mb3JFYWNoKGVsZW1lbnQyID0+IHtcbiAgICAgICAgICByZXN1bHQucHVzaChlbGVtZW50Mi5sYWJlbCk7XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgICB0aGlzLnVybGxlZ2VuZEFycmF5LnB1c2gocmVzdWx0KTtcblxuICAgIGxldCB0ZW1wYXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRlbXBhcnJheSA9IFtdO1xuICAgICAgbGV0IHZhbHVlczogYW55O1xuICAgICAgbGV0IHllYXIgPSBlbGVtZW50LmxhYmVscztcbiAgICAgIHRlbXBhcnJheS5wdXNoKHllYXIpO1xuICAgICAgZWxlbWVudC52YWx1ZXMuZm9yRWFjaChlbGVtZW50MiA9PiB7XG4gICAgICAgIHZhbHVlcyA9IGVsZW1lbnQyLnZhbHVlO1xuICAgICAgICB0ZW1wYXJyYXkucHVzaCh2YWx1ZXMpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVybGxlZ2VuZEFycmF5LnB1c2godGVtcGFycmF5KTtcbiAgICB9KVxuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5sZWdlbmRBcnJheSA9IFtdO1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZEFycmF5W2lubmVyZWxlbWVudF0gPSB7ICdkYXRhJzogW10gfTtcbiAgICAgICAgICAgIHRoaXMua2V5QXJyYXkucHVzaChpbm5lcmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgb2JqOiBhbnkgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbm5lcmVsZW1lbnQsIGlubmVyaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5uZXJpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmtleUFycmF5W2lubmVyaW5kZXggLSAxXTtcbiAgICAgICAgICAgIG9ialtrZXldID0gZWxlbWVudFtpbm5lcmluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGxlZ2VuZGRhdGEgPSB0aGlzLmxlZ2VuZEFycmF5W2tleV07XG4gICAgICAgICAgICBpZiAobGVnZW5kZGF0YSkge1xuICAgICAgICAgICAgICBsZWdlbmRkYXRhLmRhdGEucHVzaCh7ICd2YWx1ZSc6IGVsZW1lbnRbaW5uZXJpbmRleF0sICdsYWJlbCc6IGVsZW1lbnRbMF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgdGhpcy5rZXlBcnJheS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbGVnZW5kZGF0YSA9IHRoaXMubGVnZW5kQXJyYXlbZWxlbWVudF07XG4gICAgICBsZXQgb2JqZWN0O1xuICAgICAgaWYgKHRoaXMuY29sb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50LCAnY29sb3InOiB0aGlzLmNvbG9yc1tpbmRleF0sICdkYXRhJzogbGVnZW5kZGF0YS5kYXRhIH07XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgIG9iamVjdCA9IHsgJ2xhYmVsJzogZWxlbWVudCwgJ2NvbG9yJzogdGhpcy5wcmVkZWZpbmVkY29sb3JzW2luZGV4XSwgJ2RhdGEnOiBsZWdlbmRkYXRhLmRhdGEgfTtcbiAgICAgICB9XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0S2V5KGQ6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBvYmplY3RbZC5sYWJlbF0gPSBkLnZhbHVlO1xuICAgIG9iamVjdFt0aGlzLnhheGlzRGF0YV0gPSBkLnhheGlzO1xuICAgIHJldHVybiAodGhpcy50b29sVGlwRm9yQmFyKG9iamVjdCkpO1xuICB9XG5cbiAgcGxvdExpbmUoZywgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgQ2hhbmdlRGV0ZWN0b3JSZWYsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmUvc3JjL3JlbmRlcjMvdXRpbFwiO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNvbWJvY2hhcnQnLFxuICB0ZW1wbGF0ZTogYCBcbjxkaXYgI2NoYXJ0SWQgKm5nSWY9XCJkcmlsbGFibGVGbGFnXCIgKHdpbmRvdzpyZXNpemUpPVwidmFsaWRhdGVyZXNpemUoKVwiPlxuICAgIDx0YWJsZSAqbmdJZj1cImRhdGEubGVuZ3RoID4gMFwiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgICA8dHIgKm5nSWYgPSBcInRpdGxlLmxlbmd0aCA+IDBcIj5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj4ge3t0aXRsZX19IDwvdGQ+XG4gICAgICA8L3RyPlxuICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICAgIDx0ciAqbmdJZj1cImxlZ2VuZFwiPlxuICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPiBcbiAgICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgQ29tYm9jaGFydENvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgUGxvdENhcnQge1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCdsaW5lLWNvbG9yJykgbGluZUNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG4gIEBJbnB1dCgpIGxhYmVsOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGhvcml6b250YWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgYmFyd2lkdGg6IG51bWJlciA9IDA7XG4gIC8vICAgQElucHV0KCdsaW5lLWRhdGEtaW5kZXgnKSBsaW5lSW5wdXQ6IGFueTtcbiAgQElucHV0KCdsaW5lLWRhdGEtaW5kZXgnKSBsaW5lSW5wdXQ6IGFueVtdID0gW107XG4gIEBJbnB1dCgnYmFyLWRhdGEtaW5kZXgnKSBiYXJJbnB1dDogYW55W10gPSBbXTtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCdzaG93LXplcm8tdmFsdWVzJykgc2hvd3plcm9mbGFnOiBib29sZWFuID0gdHJ1ZTtcblxuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgc2ltcGxlQ29tYm9GbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbXBsZXRlY29udmVydGVkZGF0YTogYW55W10gPSBbXTtcbiAgc2ltcGxlQ29tYm9kYXRhOiBhbnlbXSA9IFtdO1xuICBmaXJzdHJvdzogYW55W107XG4gIHllYXJzOiBhbnk7XG4gIGRhdGE6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIHRvdGFsQ29sdW1uczogbnVtYmVyO1xuICBncm91cGJhcmNoYXJ0QXJyYXk6IGFueVtdID0gW107XG4gIGhpZ2hlcmNvbG9yaW5kZXg6IG51bWJlciA9IDA7XG4gIGxlZ2VuZGNvbG9yaW5kZXg6IGFueTtcbiAgeGF4aXNEYXRhOiBhbnk7XG4gIGNvbG9yZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBvYmplY3Q6IGFueTtcbiAgbGVnZW5kQXJyYXk6IGFueVtdID0gW107XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBvZmZzZXRoZWlnaHQ6IGFueTtcbiAgbGluZVJhbmdlOiBhbnk7XG4gIGxlZ2VuZHM6IGFueVtdID0gW107XG5cbiAgdG90YWxjb2x1bW5zXG4gIHNjMTogYm9vbGVhbjtcbiAgc2MyOiBib29sZWFuO1xuICBzYzJiYXJmbGFnOiBib29sZWFuO1xuICBzYzM6IGJvb2xlYW47XG4gIHNjNDogYm9vbGVhbjtcbiAgTGluZUFycmF5OiBhbnkgPSBbXTtcbiAgb3V0cHV0RGF0YTogYW55ID0gW107XG4gIGxpbmVmbGFnOiBib29sZWFuO1xuICBoaWdoZXJkb3QxY29sb3JpbmRleCA9IDA7XG4gIHd0OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ2NvbWJvY2hhcnQnKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEpIHtcbiAgICAgIGxldCByZXNwOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhKCkge1xuICAgIHRoaXMuZm9ybURhdGFzdHJ1Y3R1cmUoKTtcbiAgICB0aGlzLnRyYW5hc2ZvcnNpbXBsZWpzb24oKTtcbiAgfVxuXG4gIGZvcm1EYXRhc3RydWN0dXJlKCkge1xuXG4gICAgLy8gZm9yIGxpbmVcbiAgICAvL2NhbGwgY3JlYXRlanNvbigpIGZvciBjb21wbGV0ZSBkYXRhIGZvciBsaW5lXG4gICAgdGhpcy5saW5lZmxhZyA9IHRydWU7XG4gICAgdGhpcy5jcmVhdGVqc29uKHRoaXMuZGF0YSk7XG5cbiAgICAvL3ZhbGlkYXRlIHNjZW5hcmlvc1xuICAgIC8vdmFsaWRhdGUgc2NlbmFyaW8xOiBiYXIgKyBsaW5lICsgZGF0YVxuICAgIGlmICgodGhpcy5iYXJJbnB1dC5sZW5ndGggPiAwKSAmJiAodGhpcy5saW5lSW5wdXQubGVuZ3RoID4gMCkgJiZcbiAgICAgICh0aGlzLmRhdGFbMF0ubGVuZ3RoID4gMikpIHtcbiAgICAgIHRoaXMuc2MxID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3JlYXRlRGF0YTEodGhpcy5iYXJJbnB1dCwgdGhpcy5kYXRhKTtcbiAgICB9XG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzI6IGxpbmUgKyBkYXRhXG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzIuMSBsaW5lICsgZGF0YSBjb2x1bW5zIG9ubHkgdHdvIHRoZW4gb25seSBsaW5lIHdpbGwgYmUgcGxvdFxuICAgIGVsc2UgaWYgKCh0aGlzLmxpbmVJbnB1dC5sZW5ndGggPiAwKSAmJlxuICAgICAgLy8jI2dldCBpdCBjaGVja2VkXG4gICAgICAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDEpKSB7XG4gICAgICB0aGlzLnNjMiA9IHRydWU7XG4gICAgICAvL2RlY2lkZSB3aGV0aGVyIG9ubHkgbGluZSB3aWxsIGJlIHBsb3Qgb3IgYmFyIGFsc29cblxuICAgICAgLy9jaGsgaWYgZGF0YVswXSBoYXMgYW55IGV4dHJhIGNvbHVtbiBsZWF2aW5nIGxpbmVpbnB1dCBhcnJheVxuICAgICAgbGV0IGJhcmZsYWc6IGJvb2xlYW47XG4gICAgICAvL2lmIHNvIHNldCBzYzJiYXJmbGFnXG4gICAgICB0aGlzLmRhdGFbMF0uZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgICB0aGlzLmxpbmVJbnB1dC5mb3JFYWNoKGxpbmVuYW1lID0+IHtcbiAgICAgICAgICBpZiAoY29sdW1uICE9PSBsaW5lbmFtZSkge1xuICAgICAgICAgICAgdGhpcy5zYzJiYXJmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHUgY2FuIHBsb3QgYmFyIG5vd1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5jcmVhdGVEYXRhMShudWxsLCB0aGlzLmRhdGEpO1xuXG4gICAgICAvL2NoayBpZiBzYzJiYXJmbGFnIGlzIHNldCBvciByZXNldFxuICAgICAgaWYgKHRoaXMuc2MyYmFyZmxhZyA9PSB0cnVlKSB7XG4gICAgICAgIC8vcGxvdCBiYXIgICsgbGluZVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwbG90IG9ubHkgbGluZVxuICAgICAgfVxuXG4gICAgfS8vZWxzZSBpZiBvZiBzYzIgZW5kc1xuXG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzM6IGJhciArIGRhdGFcbiAgICBlbHNlIGlmICgodGhpcy5iYXJJbnB1dC5sZW5ndGggPiAwKSAmJiAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDEpKSB7XG4gICAgICB0aGlzLnNjMyA9IHRydWU7XG4gICAgICB0aGlzLmNyZWF0ZURhdGExKHRoaXMuYmFySW5wdXQsIHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzQ6IGRhdGFcbiAgICBlbHNlIGlmICgodGhpcy5iYXJJbnB1dC5sZW5ndGggPCAxKSAmJiAodGhpcy5saW5lSW5wdXQubGVuZ3RoIDwgMSkgJiYgdGhpcy5kYXRhWzBdLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuc2M0ID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3JlYXRlRGF0YTEobnVsbCwgdGhpcy5kYXRhKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVEYXRhMShpbnBkYXRhOiBhbnlbXSwgZnVsbGRhdGE6IGFueVtdKSB7XG4gICAgbGV0IGxpbmVhcnIgPSBbXTtcbiAgICB0aGlzLmxpbmVJbnB1dC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGluZWFyci5wdXNoKGVsZW1lbnQuY29sdW1uKTtcbiAgICB9KTtcbiAgICB0aGlzLmZpcnN0cm93ID0gdGhpcy5kYXRhWzBdXG5cbiAgICBsZXQgZHVtbXlBcnJheSA9IFtdO1xuICAgIGR1bW15QXJyYXkucHVzaCgwKTtcbiAgICBmdWxsZGF0YS5mb3JFYWNoKChyZWNvcmQ6IGFueVtdLCBpbmRleDogYW55KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgLy8gVEhJUyBMT0dJQyBJUyBVU0VEIEZPUiBGSU5ESU5HIElOREVYUyBBTkQgQUREIElOVE8gZHVtbXlBcnJheSBBUlJBWVxuICAgICAgICByZWNvcmQuZm9yRWFjaCgoaW5uZXJPYmplY3Q6IGFueSwgaW5uZXJJbmRleDogYW55KSA9PiB7XG4gICAgICAgICAgLy92YWxpZGF0ZXMgc2NlbmFyaW8xIGFuZCAzXG4gICAgICAgICAgaWYgKHRoaXMuc2MxID09IHRydWUgfHwgdGhpcy5zYzMgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5iYXJJbnB1dC5mb3JFYWNoKChlbGVtZW50T2ZJbnB1dERhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAvL2FqYVxuICAgICAgICAgICAgICBpZiAoaW5uZXJPYmplY3QgPT09IGVsZW1lbnRPZklucHV0RGF0YS5jb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAvL2R1bW15YXJyYXkgaGFzIGluZGV4IHN0YWNrXG4gICAgICAgICAgICAgICAgZHVtbXlBcnJheS5wdXNoKGlubmVySW5kZXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9Ly9zYzEgYW5kIHNjMyB2YWxpZGF0aW9uIGRvbmVcbiAgICAgICAgICAvL3ZhbGlkYXRlcyBzY2VuYXJpbyAyXG4gICAgICAgICAgaWYgKHRoaXMuc2MyID09IHRydWUpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2MyYmFyZmxhZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgdGhpcy5saW5lSW5wdXQuZm9yRWFjaCgoZWxlbWVudE9mTGluZURhdGE6IGFueSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKChpbm5lck9iamVjdCAhPT0gZWxlbWVudE9mTGluZURhdGEuY29sdW1uKSAmJiAoaW5uZXJJbmRleCAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgIC8vZHVtbXlhcnJheSBoYXMgaW5kZXggc3RhY2tcbiAgICAgICAgICAgICAgICAgIC8vIGR1bW15QXJyYXkuZm9yRWFjaChkdW1teWVsZW1lbnQgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAvLyAgIGlmKGR1bW15ZWxlbWVudCAhPT0gaW5uZXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgLy8gaWYgKCAobGluZWFyci5pbmNsdWRlcyhpbm5lck9iamVjdCkgPT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICBsaW5lYXJyLmluY2x1ZGVzKGlubmVyT2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgIGlmIChsaW5lYXJyLmluY2x1ZGVzKGlubmVyT2JqZWN0KSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHVtbXlBcnJheS5pbmNsdWRlcyhpbm5lckluZGV4KSkge1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgZHVtbXlBcnJheS5wdXNoKGlubmVySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSAgLy8gfVxuICAgICAgICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vdmFsaWRhdGVzIHNjZW5hcmlvIDRcbiAgICAgICAgaWYgKHRoaXMuc2M0ID09IHRydWUpIHtcbiAgICAgICAgICAvLyBjaGsgaWYgYmFyZmxhZyBpcyBzZXRcbiAgICAgICAgICBsZXQgY29sdW1ucyA9IHRoaXMuZGF0YVswXS5sZW5ndGg7XG4gICAgICAgICAgaWYgKGNvbHVtbnMgPiAxKSB7XG4gICAgICAgICAgICBkdW1teUFycmF5LnB1c2goMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZHVtbXlBcnJheS5wdXNoKDApO1xuICAgICAgICBsZXQgZmlyc3RBcnJheSA9IFtdO1xuICAgICAgICAvLyBGT1IgRklSU1QgUkVDT1JEXG4gICAgICAgIGR1bW15QXJyYXkuZm9yRWFjaCgob2JqZWN0OiBhbnksIGR1bW15SW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgIGZpcnN0QXJyYXkucHVzaChyZWNvcmRbb2JqZWN0XSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm91dHB1dERhdGEucHVzaChmaXJzdEFycmF5KTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5ld0RhdGEgPSBbXTtcbiAgICAgICAgcmVjb3JkLmZvckVhY2goKGlubmVyT2JqZWN0OiBhbnksIGlubmVySW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgIGR1bW15QXJyYXkuZm9yRWFjaCgob2JqZWN0OiBhbnksIGR1bW15SW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlubmVySW5kZXggPT09IG9iamVjdCkge1xuICAgICAgICAgICAgICBuZXdEYXRhLnB1c2goaW5uZXJPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhLnB1c2gobmV3RGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNyZWF0ZWpzb24odGhpcy5vdXRwdXREYXRhKTtcbiAgICAvLyB0aGlzLmZvcm1MZWdlbmREYXRhKHRoaXMub3V0cHV0RGF0YSk7XG4gIH1cblxuICBjcmVhdGVqc29uKGFycmF5ZGF0YTogYW55W10pIHtcbiAgICBsZXQgZ3JvdXBDaGFydE9iaiA9IHsgXCJsYWJlbHNcIjogXCJcIiwgdmFsdWVzOiBbXSB9O1xuXG4gICAgdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXkgPSBbXTtcbiAgICBsZXQgZmlyc3RSb3dPZkRhdGEgPSBhcnJheWRhdGFbMF07XG4gICAgdGhpcy54YXhpc0RhdGEgPSB0aGlzLmRhdGFbMF1bMF07XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFycmF5ZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG11bHRpU2VyaWVzQXJyYXkgPSBbXTtcbiAgICAgIGxldCB2YWx1ZU9mSjogYW55O1xuICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCBhcnJheWRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFsdWVPZkogPSBhcnJheWRhdGFbaV1bMF07XG4gICAgICAgIGxldCBzaW5nbGVCYXJPYmogPSB7fTtcbiAgICAgICAgc2luZ2xlQmFyT2JqW1widmFsdWVcIl0gPSBhcnJheWRhdGFbaV1bal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcInhheGlzXCJdID0gYXJyYXlkYXRhW2ldWzBdO1xuICAgICAgICBzaW5nbGVCYXJPYmo7XG4gICAgICAgIG11bHRpU2VyaWVzQXJyYXkucHVzaChzaW5nbGVCYXJPYmopO1xuICAgICAgfVxuICAgICAgaWYgKG11bHRpU2VyaWVzQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIGdyb3VwQ2hhcnRPYmpbXCJ2YWx1ZXNcIl0gPSBtdWx0aVNlcmllc0FycmF5O1xuICAgICAgICBsZXQgbmV3TGFiZWxzVmFsdWVzOiBhbnkgPSB2YWx1ZU9mSjtcbiAgICAgICAgbGV0IG5ld0dyb3VwRGF0YU9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGdyb3VwQ2hhcnRPYmopO1xuICAgICAgICBuZXdHcm91cERhdGFPYmpbJ2xhYmVscyddID0gbmV3TGFiZWxzVmFsdWVzICsgJyc7XG4gICAgICAgIHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5LnB1c2gobmV3R3JvdXBEYXRhT2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMubGluZWZsYWcpIHtcblxuICAgICAgdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXk7XG5cbiAgICAgIHRoaXMuTGluZUFycmF5ID0gdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheSA9IFtdO1xuXG4gICAgICBsZXQgZmlyc3RSb3dPZkRhdGEgPSBhcnJheWRhdGFbMF07XG4gICAgICAvLyB0aGlzLnhheGlzRGF0YSA9IHRoaXMuZGF0YVswXVswXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnJheWRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG11bHRpU2VyaWVzQXJyYXkgPSBbXTtcbiAgICAgICAgbGV0IHZhbHVlT2ZKOiBhbnk7XG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgYXJyYXlkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFsdWVPZkogPSBhcnJheWRhdGFbaV1bMF07XG4gICAgICAgICAgbGV0IHNpbmdsZUJhck9iaiA9IHt9O1xuICAgICAgICAgIHNpbmdsZUJhck9ialtcInZhbHVlXCJdID0gYXJyYXlkYXRhW2ldW2pdO1xuICAgICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgICAgc2luZ2xlQmFyT2JqW1wieGF4aXNcIl0gPSBhcnJheWRhdGFbaV1bMF07XG4gICAgICAgICAgc2luZ2xlQmFyT2JqO1xuICAgICAgICAgIG11bHRpU2VyaWVzQXJyYXkucHVzaChzaW5nbGVCYXJPYmopO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtdWx0aVNlcmllc0FycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGdyb3VwQ2hhcnRPYmpbXCJ2YWx1ZXNcIl0gPSBtdWx0aVNlcmllc0FycmF5O1xuICAgICAgICAgIGxldCBuZXdMYWJlbHNWYWx1ZXM6IGFueSA9IHZhbHVlT2ZKO1xuICAgICAgICAgIGxldCBuZXdHcm91cERhdGFPYmogPSBPYmplY3QuYXNzaWduKHt9LCBncm91cENoYXJ0T2JqKTtcbiAgICAgICAgICBuZXdHcm91cERhdGFPYmpbJ2xhYmVscyddID0gbmV3TGFiZWxzVmFsdWVzICsgJyc7XG4gICAgICAgICAgdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXkucHVzaChuZXdHcm91cERhdGFPYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheTtcbiAgICB9XG5cbiAgfVxuXG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIC8vcGxvdCBtdWx0aXNlcmllcyBjaGFydFxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGxldCBjb2xvcnMgPSB0aGlzLnByZWRlZmluZWRjb2xvcnM7XG4gICAgaWYgKHRoaXMucmVzaXplZmxhZyA9PSBmYWxzZSkge1xuICAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgICBpZiAodGhpcy53dCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuXG4gICAgICB9XG4gICAgICAvL1JFU0laRSBTVEVQIDEgRU5EUyBIRVJFIFxuICAgIH1cbiAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA1MCwgbGVmdDogNDAgfTtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnN2Z2hlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgY29uc3QgeDAgPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgIC5wYWRkaW5nKDAuMik7XG5cbiAgICBjb25zdCB4MSA9IGQzLnNjYWxlQmFuZCgpLnBhZGRpbmcoMC4xKTtcblxuICAgIGNvbnN0IHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cbiAgICAvL3NldHRpbmcgeCBhbmQgeSBkb21haW5zXG4gICAgdGhpcy55ZWFycyA9IHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5Lm1hcCgoZCkgPT4geyByZXR1cm4gZC5sYWJlbHM7IH0pO1xuICAgIGxldCBsYWJlbCA9IHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5WzBdLnZhbHVlcy5tYXAoKGQpID0+IHsgcmV0dXJuIGQubGFiZWw7IH0pO1xuXG4gICAgeDAuZG9tYWluKHRoaXMueWVhcnMpO1xuICAgIHgxLmRvbWFpbihsYWJlbCkucmFuZ2VSb3VuZChbMCwgeDAuYmFuZHdpZHRoKCldKTtcbiAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5LCAobGFiZWxzKSA9PiB7IHJldHVybiBkMy5tYXgobGFiZWxzLnZhbHVlcywgKGQpID0+IHsgcmV0dXJuIGQudmFsdWU7IH0pOyB9KV0pO1xuXG4gICAgLy9keW5hbWljIGJhcndpZHRoXG4gICAgaWYgKHRoaXMuYmFyd2lkdGggPiAwKSB7XG4gICAgICB0aGlzLmJhcndpZHRoID0gdGhpcy5iYXJ3aWR0aDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmJhcndpZHRoID0geDAuYmFuZHdpZHRoO1xuICAgIH1cblxuICAgIC8vIGFkZCB4IGF4aXMgdG8gc3ZnXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKS5cbiAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4MCkpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICB9XG5cbiAgICAvL2FkZCB5IGF4aXMgdG8gc3ZnXG4gICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgLnRpY2tzKHRoaXMudGlja3Njb3VudCkpXG5cbiAgICB0aGlzLnBsb3RMaW5lRm9yTXVsdGlTZXJpZXModGhpcy5zdmcsIHksIGhlaWdodCwgd2lkdGgpO1xuICAgIC8vYWRkaW5nIGJhcnNcbiAgICBsZXQgc2xpY2UgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuc2xpY2VcIilcbiAgICAgIC5kYXRhKHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5KVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7IHJldHVybiBcInRyYW5zbGF0ZShcIiArIHgwKGQubGFiZWxzKSArIFwiLDApXCI7IH0pO1xuXG5cbiAgICBzbGljZS5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4geyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHgxLmJhbmR3aWR0aClcbiAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4geDEoZC5sYWJlbClcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoXCJmaWxsXCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICB0aGlzLmhpZ2hlcmRvdDFjb2xvcmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMubGVnZW5kY29sb3JpbmRleCA9IGluZGV4O1xuICAgICAgICByZXR1cm4gY29sb3JzW2luZGV4XVxuICAgICAgfSlcbiAgICAgIC5hdHRyKFwieVwiLCAoZCwgaW5kKSA9PiB7IHJldHVybiB5KGQudmFsdWUpOyB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQsIGluZCkgPT4ge1xuICAgICAgICByZXR1cm4gaGVpZ2h0IC0geShkLnZhbHVlKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgIHRoaXMuc2V0S2V5KGQpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuZ3JvdXBiYXJDbGljayhkKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9iYXIgbGFiZWxcbiAgICAvLyBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICBzbGljZS5zZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4geyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcIm9wYWNpdHlcIixcbiAgICAgICAgKGQpID0+IHtcbiAgICAgICAgICBsZXQgdmlzaWJpbGl0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKHRoaXMuYmFySW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5iYXJJbnB1dC5mb3JFYWNoKChiYXJuYW1lOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgaWYgKChiYXJuYW1lLmNvbHVtbiA9PSBkLmxhYmVsKSAmJiAoYmFybmFtZS5sYWJlbCA9PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh2aXNpYmlsaXR5KSB7XG4gICAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0vLyBvdXRlciBpZiBcbiAgICAgICAgICAvLyB2YWxpZGF0aW9uIG9mIHNjZW5hcmlvNFxuICAgICAgICAgIGVsc2UgaWYgKCh0aGlzLnNjNCA9PSB0cnVlKSAmJiAodGhpcy5sYWJlbCA9PSB0cnVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB4MS5iYW5kd2lkdGgpXG4gICAgICAuYXR0cihcInhcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHgxKGQubGFiZWwpICsgeDEuYmFuZHdpZHRoKCkgLyAyXG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7IHJldHVybiB5KGQudmFsdWUpOyB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHsgcmV0dXJuIGhlaWdodCAtIHkoMCk7IH0pXG4gICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjF2d1wiKVxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgfVxuICAgICAgfSkvL2JhciBsYWJlbFxuICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgaWYodGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKCF0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgIGlmKGQudmFsdWUgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIGQudmFsdWU7XG4gICAgICB9KVxuICAgICAgLy9iYXIgbGFiZWwgY2xpY2sgbG9naWNcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgdGhpcy5zZXRLZXkoZClcbiAgICAgICAgKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSkub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5ncm91cGJhckNsaWNrKGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAvLyB9XG4gICAgc2xpY2Uuc2VsZWN0QWxsKFwicmVjdFwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB5KGQudmFsdWUpO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KGQudmFsdWUpOyB9KTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vc2lnbGUgLyBtdWx0aSBsaW5lIGNvZGUgc3RhcnRzIGhlcmVcbiAgICAvL2NvZGUgaGVyZSBmciBtdWx0aSBsaW5lXG4gICAgbGV0IGk7XG4gICAgLy8gbGV0IGxpbmVOYW1lO1xuICAgIGxldCBzbGljZTEgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuc2xpY2VcIilcbiAgICAgIC5kYXRhKHRoaXMudHJhbnNmb3JtZWRkYXRhKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImdcIilcbiAgICB0aGlzLmhpZ2hlcmRvdDFjb2xvcmluZGV4KytcbiAgICB0aGlzLmxpbmVJbnB1dC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuY29sb3IpIHtcblxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnRbXCJjb2xvclwiXSA9IGNvbG9yc1t0aGlzLmhpZ2hlcmRvdDFjb2xvcmluZGV4XTtcbiAgICAgICAgdGhpcy5oaWdoZXJkb3QxY29sb3JpbmRleCsrO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy9saW5lIHZhbGlkYXRpb24gZm9yIHNjZW5hcmlvIDEgYW5kIDJcbiAgICBpZiAodGhpcy5saW5lSW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGluZUlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjb2xvcmluY3JlbWVudGVyID0gMTtcbiAgICAgICAgbGV0IGxpbmVOYW1lID0gdGhpcy5saW5lSW5wdXRbaV07XG4gICAgICAgIGxldCB2YWx1ZWxpbmUgPSBkMy5saW5lKClcbiAgICAgICAgICAueCgoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgwKGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC55KChkKSA9PiB7IHJldHVybiB5KGRbbGluZU5hbWUuY29sdW1uXSk7IH0pO1xuXG4gICAgICAgIGxldCBzaGlmdCA9IG1hcmdpbi5sZWZ0ICsgeDEuYmFuZHdpZHRoKCkgLyAyO1xuXG4gICAgICAgIHNsaWNlMS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgLmRhdGEoW3RoaXMudHJhbnNmb3JtZWRkYXRhXSlcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJub25lXCIpXG4gICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsXG4gICAgICAgICAgICAoZCkgPT4ge1xuICAgICAgICAgICAgICBpZiAobGluZU5hbWUuY29sb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluZU5hbWUuY29sb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMS41KVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKCBcIiArIHgxLmJhbmR3aWR0aCgpIC8gMiArIFwiLCAwIClcIilcbiAgICAgICAgICAuYXR0cihcImRcIiwgdmFsdWVsaW5lKTtcbiAgICAgICAgLy8gcG9pbnRzMVxuICAgICAgICBsZXQgZG90c2xpY2UgPSBzbGljZTEuc2VsZWN0QWxsKFwiZG90XCIpXG4gICAgICAgICAgLmRhdGEodGhpcy50cmFuc2Zvcm1lZGRhdGEpXG4gICAgICAgICAgLmVudGVyKClcblxuICAgICAgICAgIC5hcHBlbmQoXCJjaXJjbGVcIilcbiAgICAgICAgICAvLyAubWVyZ2UocG9pbnRzMSlcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwicG9pbnQxXCIpXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLFxuICAgICAgICAgICAgKGQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGxpbmVOYW1lLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmVOYW1lLmNvbG9yXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geDAoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJjeVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHkoZFtsaW5lTmFtZS5jb2x1bW5dKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwiclwiLCAoZCkgPT4geyByZXR1cm4gNTsgfSlcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgKyB4MS5iYW5kd2lkdGgoKSAvIDIgKyBcIiwgMCApXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwTGluZURhdGEoZCwgbGluZU5hbWUsIGZhbHNlKSlcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tYm9MaW5lQ2xpY2soZCwgbGluZU5hbWUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gXG4gICAgICB9Ly8gbGluZSBjb2RlIGVuZHNcblxuICAgIH0vL2xpbmVpbnB1dCBpZiBjb25kaXRpb24gZW5kcyBoZXJlXG4gICAgLy9zY2VuYXJpbyA0IHZhbGlkYXRpb24gZm9yIGxpbmUgYXNzdW1wdGlvblxuICAgIGVsc2UgaWYgKCh0aGlzLnNjNCA9PSB0cnVlKSAmJiAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDIpKSB7XG5cbiAgICAgIC8vICBsaW5lTmFtZSA9IHRoaXMubGluZUlucHV0W2ldO1xuICAgICAgbGV0IHZhbHVlbGluZSA9IGQzLmxpbmUoKVxuICAgICAgICAvLyB2YWx1ZWxpbmUuZGF0YSh0aGlzLmNvbXBsZXRlY29udmVydGVkZGF0YSlcbiAgICAgICAgLngoKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4geDAoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICAgIC8vICByZXR1cm4geDEoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICB9KVxuICAgICAgICAueSgoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVsyXV1cbiAgICAgICAgICAgIC8vIGRbbGluZU5hbWVdXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGxldCBzaGlmdCA9IG1hcmdpbi5sZWZ0ICsgeDEuYmFuZHdpZHRoKCkgLyAyO1xuICAgICAgc2xpY2UxLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgLmRhdGEoW3RoaXMudHJhbnNmb3JtZWRkYXRhXSlcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxuICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5saW5lQ29sb3IgIT09IFwiYmxhY2tcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbMl07XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAxLjUpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKCBcIiArIHgxLmJhbmR3aWR0aCgpIC8gMiArIFwiLCAwIClcIilcbiAgICAgICAgLmF0dHIoXCJkXCIsIHZhbHVlbGluZSk7XG5cbiAgICAgIC8vIHBvaW50czFcbiAgICAgIHNsaWNlMS5zZWxlY3RBbGwoXCJkb3RcIilcbiAgICAgICAgLmRhdGEodGhpcy50cmFuc2Zvcm1lZGRhdGEpLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC8vIC5tZXJnZShwb2ludHMxKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwicG9pbnQxXCIpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5saW5lQ29sb3IgIT09IFwiYmxhY2tcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbMl07XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGluZUNvbG9yICE9PSBcImJsYWNrXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JzWzJdXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHgwKGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjeVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVsyXV1cbiAgICAgICAgICAgIC8vIGRbbGluZU5hbWVdXG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJyXCIsIChkKSA9PiB7IHJldHVybiA1OyB9KVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgKyB4MS5iYW5kd2lkdGgoKSAvIDIgKyBcIiwgMCApXCIpXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwTGluZURhdGEoZCwgbnVsbCwgdHJ1ZSkpXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLm9uQ29tYm9MaW5lQ2xpY2soZCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vbGluZSBsYWJlbCB2YWxpZGF0aW9uIGZvciBzY2VuYXJpbyAxIGFuZCAyXG4gICAgaWYgKHRoaXMubGluZUlucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgIC8vaXRlcmF0aW9uIG9uIGxpbmVpbnB1dFxuICAgICAgbGV0IGxhYmVscG9zdG9nZ2xlID0gZmFsc2U7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5saW5lSW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGxpbmVOYW1lMSA9IHRoaXMubGluZUlucHV0W2ldO1xuICAgICAgICBpZiAobGluZU5hbWUxLmxhYmVsKSB7XG4gICAgICAgICAgaWYgKGxpbmVOYW1lMS5sYWJlbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICBzbGljZTEuc2VsZWN0QWxsKFwibGFiZWxzXCIpXG4gICAgICAgICAgICAgIC5kYXRhKHRoaXMudHJhbnNmb3JtZWRkYXRhKVxuICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsaW5lTmFtZTEubGFiZWxjb2xvcikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmVOYW1lMS5sYWJlbGNvbG9yO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHgwKGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZFtsaW5lTmFtZTEuY29sdW1uXSlcblxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGV4dCgoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW2xpbmVOYW1lMS5jb2x1bW5dO1xuICAgICAgICAgICAgICAgIC8vIGRbbGluZU5hbWVdO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgK1xuICAgICAgICAgICAgICAgIC8vIG1hcmdpbi5sZWZ0XG4gICAgICAgICAgICAgICAgeDEuYmFuZHdpZHRoKCkgLyAyXG4gICAgICAgICAgICAgICAgLy8gc2hpZnRcbiAgICAgICAgICAgICAgICArIFwiLCAxOSApXCIpXG4gICAgICAgICAgICAgIC8vbGluZSBsYWJlbCBjbGljayBsb2dpYyBzdGFydHMgaGVyZVxuICAgICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBMaW5lRGF0YShkLCBsaW5lTmFtZTEsIGZhbHNlKSlcbiAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21ib0xpbmVDbGljayhkLCBsaW5lTmFtZTEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH1cblxuICAgIC8vbGluZSBsYWJlbCB2YWxpZGF0aW9uIGZvciBzY2VuYXJpbyA0XG4gICAgZWxzZSBpZiAoKHRoaXMuc2M0ID09IHRydWUpICYmICh0aGlzLmRhdGFbMF0ubGVuZ3RoID4gMikgJiYgKHRoaXMubGFiZWwgPT0gdHJ1ZSkpIHtcbiAgICAgIC8vdHJpYWwgbGluZSBsYWJlbCBmb3IgNHRoIHNjZW5hcmlvXG4gICAgICBzbGljZTEuc2VsZWN0QWxsKFwibGFiZWxzXCIpXG4gICAgICAgIC5kYXRhKHRoaXMudHJhbnNmb3JtZWRkYXRhKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4MChkW09iamVjdC5rZXlzKGQpWzBdXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuXG4gICAgICAgICAgcmV0dXJuIHkoXG4gICAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzJdXVxuICAgICAgICAgICAgLy8gZFtsaW5lTmFtZV1cbiAgICAgICAgICApXG4gICAgICAgICAgLy8gICsgNTA7XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMl1dO1xuICAgICAgICAgIC8vIGRbbGluZU5hbWVdO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgK1xuICAgICAgICAgIC8vIG1hcmdpbi5sZWZ0XG4gICAgICAgICAgeDEuYmFuZHdpZHRoKCkgLyAyXG4gICAgICAgICAgLy8gc2hpZnRcbiAgICAgICAgICArIFwiLCAxOSApXCIpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAvLyBsaW5lIGxhYmVsIGNsaWNrIGxvZ2ljXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwTGluZURhdGEoZCwgbnVsbCwgdHJ1ZSkpXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLm9uQ29tYm9MaW5lQ2xpY2soZCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgdGhpcy5mb3JtTGVnZW5kRGF0YSh0aGlzLm91dHB1dERhdGEpXG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKS50aWNrcyh0aGlzLnRpY2tzY291bnQpKTtcbiAgICB9XG4gIH1cblxuICBzZXRLZXkoZDogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFtkLmxhYmVsXSA9IGQudmFsdWU7XG4gICAgb2JqZWN0W3RoaXMueGF4aXNEYXRhXSA9IGQueGF4aXM7XG4gICAgcmV0dXJuICh0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KSk7XG4gIH1cblxuICBmaW5NYXhMaW5lVmFsdWUoKSB7XG4gICAgbGV0IGxpbmVWYWx1ZXMgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnQpKSB7XG4gICAgICAgIHRoaXMubGluZUlucHV0LmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgICBpZiAobGluZSA9PSBrZXkpIHtcbiAgICAgICAgICAgIGxpbmVWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBtYXggPSAwLCBqO1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGxpbmVWYWx1ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChsaW5lVmFsdWVzW2pdID4gbWF4KSB7XG4gICAgICAgIG1heCA9IGxpbmVWYWx1ZXNbal07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubGluZVJhbmdlID0gbWF4O1xuICB9XG5cbiAgZ3JvdXBiYXJDbGljayhkOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgb2JqZWN0W2QubGFiZWxdID0gZC52YWx1ZTtcbiAgICBvYmplY3RbdGhpcy54YXhpc0RhdGFdID0gZC54YXhpcztcbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gIHBsb3RMaW5lRm9yTXVsdGlTZXJpZXMoZywgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gIH1cblxuICB0cmFuYXNmb3JzaW1wbGVqc29uKCkge1xuICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IHRoaXMuZGF0YVswXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IER1bW15T2JqZWN0ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgIER1bW15T2JqZWN0W3RoaXMua2V5QXJyYXlba2V5aW5kZXhdXSA9IGluZGl2aWR1YWx2YWx1ZTtcbiAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgfS8vaWYgZW5kc1xuICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuICB9XG5cbiAgZm9ybVRvb2x0aXBMaW5lRGF0YShkYXRhOiBhbnksIGxpbmU6IGFueSwgZmxhZzogYm9vbGVhbikge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgIC8vZmxhZyBpcyBjb25zaWRlcmVkIHRydWUgZm9yIGZvcnRoIHNjZW5hcmlvXG4gICAgICBpZiAoZmxhZyA9PSB0cnVlKSB7XG4gICAgICAgIGlmIChrZXkgPT0gdGhpcy5kYXRhWzBdWzJdKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfS8vIGlmIGZvZSB0cnVlIGZsYWcgZW5kcyBoZXJlXG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGtleSA9PSBsaW5lLmNvbHVtbikge1xuICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0vL2Vsc2UgZm9yIGZhbHNlIGZsYWcgZW5kcyBoZXJlXG5cbiAgICB9XG5cblxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIG9uQ29tYm9MaW5lQ2xpY2soZGF0YTogYW55LCBsaW5lOiBhbnksIGZsYWc6IGJvb2xlYW4pIHtcbiAgICAvLyBmbGFnIGlzIGNvbnNpZGVyZWQgdHJ1ZSBmb3IgNHRoIHNjZW5hcmlvXG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgIGlmIChpID09IDAgfHwgaSA9PSAxKSB7XG4gICAgICAgIGlmIChrZXkgIT0gXCJjb2xvclwiKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmxhZyA9PSB0cnVlKSB7XG4gICAgICAgIGlmIChrZXkgPT0gdGhpcy5kYXRhWzBdWzJdKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGtleSA9PSBsaW5lLmNvbHVtbikge1xuICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaSsrO1xuICAgIH1cbiAgICAvL3RoaXMgY2FsbHMgYmFzZSBjbGFzcyBmdW5jdGlvblxuICAgIHRoaXMuY29tYm9MaW5lQ2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMua2V5QXJyYXkgPSBbXTtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kQXJyYXlbaW5uZXJlbGVtZW50XSA9IHsgJ2RhdGEnOiBbXSB9O1xuICAgICAgICAgICAgdGhpcy5rZXlBcnJheS5wdXNoKGlubmVyZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBvYmo6IGFueSA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5uZXJpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbm5lcmluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXMua2V5QXJyYXlbaW5uZXJpbmRleCAtIDFdO1xuICAgICAgICAgICAgb2JqW2tleV0gPSBlbGVtZW50W2lubmVyaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgbGVnZW5kZGF0YSA9IHRoaXMubGVnZW5kQXJyYXlba2V5XTtcbiAgICAgICAgICAgIGlmIChsZWdlbmRkYXRhKSB7XG4gICAgICAgICAgICAgIGxlZ2VuZGRhdGEuZGF0YS5wdXNoKHsgJ2xhYmVsJzogZWxlbWVudFswXSwgJ3ZhbHVlJzogZWxlbWVudFtpbm5lcmluZGV4XSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5LmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtlbGVtZW50XTtcbiAgICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnQsICdjb2xvcic6IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF0sICdkYXRhJzogbGVnZW5kZGF0YS5kYXRhIH07XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLy90aGlzIGxvZ2ljIHdpbGwgd3JrIGZyIHNjMSBhbmQgc2MyXG4gICAgaWYgKHRoaXMubGluZUlucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBpbmMgPSAxO1xuICAgICAgdGhpcy5saW5lSW5wdXQuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgb2JqZWN0W1wibGFiZWxcIl0gPSBlbGVtZW50LmNvbHVtbjtcbiAgICAgICAgaWYgKGVsZW1lbnQuY29sb3IpIHtcbiAgICAgICAgICBvYmplY3RbXCJjb2xvclwiXSA9IGVsZW1lbnQuY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbdGhpcy5sZWdlbmRjb2xvcmluZGV4ICsgaW5jXTtcbiAgICAgICAgICBpbmMrKztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3RbXCJkYXRhXCJdID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubGVnZW5kc1xuICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgICBsZXQgdGVtcGRhdGFhcnJheSA9IFtdO1xuXG4gICAgICB0aGlzLmxlZ2VuZHMuZm9yRWFjaChsZWdlbmRlbGVtZW50ID0+IHtcbiAgICAgICAgdGhpcy5saW5lSW5wdXQuZm9yRWFjaChsaW5lZWxlbWVudCA9PiB7XG4gICAgICAgICAgaWYgKGxpbmVlbGVtZW50LmNvbHVtbiA9PSBsZWdlbmRlbGVtZW50LmxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5mb3JFYWNoKHNpbmdsZXJvdyA9PiB7XG4gICAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgICAgLy8gZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAgICAgb2JqW1wibGFiZWxcIl0gPSBzaW5nbGVyb3dbT2JqZWN0LmtleXMoc2luZ2xlcm93KVswXV07XG4gICAgICAgICAgICAgIG9ialtcInZhbHVlXCJdID0gc2luZ2xlcm93W2xlZ2VuZGVsZW1lbnQubGFiZWxdO1xuICAgICAgICAgICAgICBsZWdlbmRlbGVtZW50LmRhdGEucHVzaChvYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vdGhpcyBsb2dpYyB3b3JrcyBmb3Igc2M0XG4gICAgLy8gY2hrIGlmIGxpbmUgY29sdW1uIGV4aXN0IGluIGRhdGExXG4gICAgaWYgKCh0aGlzLnNjNCA9PSB0cnVlKSAmJiAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDIpKSB7XG5cbiAgICAgIGxldCBvYmplY3QgPSBbXTtcbiAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gdGhpcy5kYXRhWzBdWzJdO1xuICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbMl07XG4gICAgICBvYmplY3RbXCJkYXRhXCJdID0gW107XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgICAgbGV0IHRlbXBhcnJheSA9IFtdO1xuICAgICAgLy9sb2dpYyB0byBwdXNoIGRhdGFcbiAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgbGV0IG9iamVjdCA9IFtdO1xuICAgICAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gZWxlbWVudFswXTtcbiAgICAgICAgICBvYmplY3RbXCJ2YWx1ZVwiXSA9IGVsZW1lbnRbMl07XG4gICAgICAgICAgdGhpcy5sZWdlbmRzWzFdLmRhdGEucHVzaChvYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBsZWdlbmRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IG9iaiA9IHt9O1xuICAgIG9ialtcImxhYmVsXCJdID0gZXZlbnQubGFiZWw7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICBldmVudC5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICBvYmplY3RbZWxlbWVudC5sYWJlbF0gPSBlbGVtZW50LnZhbHVlO1xuICAgICAgZGF0YS5wdXNoKG9iamVjdCk7XG4gICAgfSk7XG4gICAgb2JqW1wiZGF0YVwiXSA9IGRhdGE7XG4gICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQob2JqKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBPbkluaXQsIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LWhpc3RvZ3JhbScsXG4gIHRlbXBsYXRlOiBgPGRpdiAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlICpuZ0lmPVwiZGF0YWhpc3RvLmxlbmd0aCA+IDBcIiBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxuICAgICAgICA8dHIgKm5nSWY9XCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0ciAqbmdJZj1cImxlZ2VuZFwiPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJsZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhaGlzdG8ubGVuZ3RoIDwgMVwiIGNsYXNzPVwibG1hc2tcIiBzdHlsZT1cInBhZGRpbmctdG9wOjUwJVwiPlxuICAgICAgICA8L2Rpdj5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2AuYmFye2JhY2tncm91bmQtY29sb3I6IzM5NDNjZjtwYWRkaW5nOi4wMnB4fWBdXG59KVxuZXhwb3J0IGNsYXNzIEhpc3RvZ3JhbUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSA0MDA7XG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcjogc3RyaW5nID0gXCJibHVlXCI7XG4gIEBJbnB1dCgnZGF0YScpIGRhdGFoaXN0bzogYW55ID0gW107XG4gIEBJbnB1dCgneWF4aXMtaW50ZXJ2YWwnKSB0aWNrc2NvdW50OiBudW1iZXI7XG4gXG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICB3dDogbnVtYmVyO1xuICBodHRwcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIGRhdGExOiBhbnk7XG4gIHZhbHVlczogYW55W10gPSBbXTtcbiAgYXJyYXk6IGFueVtdID0gW107XG4gIHhheGlzQXJyYXk6IGFueVtdID0gW107XG4gIHlheGlzQXJyYXk6IGFueVtdID0gW107XG4gIHlheGlzRGF0YTogYW55W10gPSBbXTtcbiAgaGlzdG9ncmFtYXJyYXk6IGFueVtdID0gW107XG4gIGhpc3RvZ3JhbWRhdGE6IGFueVtdID0gW11cbiAgbGVuZ3RoYXJyYXk6IGFueVtdID0gW107XG4gIGFycmF5b2ZMZW5ndGg6IGFueVtdID0gW107XG4gIGNoYXJ0RGF0YTogYW55W10gPSBbXTtcbiAgZmluYWxkYXRhYXJyYXk6IGFueVtdID0gW107XG4gIGxlZ2VuZEFycmF5OiBhbnlbXTtcbiAga2V5QXJyYXk6IGFueVtdO1xuICBwcmVkZWZpbmVkY29sb3JzOiBhbnlbXTtcbiAgbGVnZW5kczogYW55W107XG4gIGNoYXJ0dHlwZTogc3RyaW5nO1xuICBkYXRhOiBhbnlbXTtcbiAgZGF0YXJlYWRlcmRhdGE6IGFueVtdO1xuICB4YXhpczogYW55O1xuICB0ZW1wcDogYW55O1xuICB0b29sdGlwQXJyYXk6IGFueVtdID0gW107XG4gIGluZGV4ID0gMDtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignaGlzdG9ncmFtJyk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICBsZXQgcmVzOiBhbnlcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXMgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhaGlzdG8gPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZGF0YWhpc3RvID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSgpXG4gICAgICAgICAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgICAgICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcERhdGEoKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YWhpc3RvKSB7XG5cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGFoaXN0byA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YWhpc3RvKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEoKVxuICAgICAgICAgIHRoaXMucGxvdFhheGlzKCk7XG4gICAgICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgICAgICB0aGlzLnRvb2x0aXBEYXRhKCk7XG4gICAgICAgICAgdGhpcy5kYXRhZm9yQ2hhcnQoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgICAgIHRoaXMucGxvdENoYXJ0KCk7XG5cbiAgICAgICAgfSwgMCk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuXG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRhdGFoaXN0byA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuaHR0cHJlc3BvbnNlKTtcbiAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSgpXG4gICAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgIHRoaXMudG9vbHRpcERhdGEoKTtcbiAgICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhMShkYXRhMTogYW55KSB7XG4gICAgdGhpcy5rZXlBcnJheSA9IFtdO1xuICAgIHRoaXMubGVnZW5kQXJyYXkgPSBbXTtcbiAgICBkYXRhMS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kQXJyYXlbaW5uZXJlbGVtZW50XSA9IHsgJ2RhdGEnOiBbXSB9O1xuICAgICAgICAgICAgdGhpcy5rZXlBcnJheS5wdXNoKGlubmVyZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID09IDApIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXMgPSBpbm5lcmVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgdGVtcGlubmVyYXJyYXk6IGFueVtdO1xuICAgIHRlbXBpbm5lcmFycmF5ID0gW107XG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IG9iajogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbm5lcmluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGlubmVyaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlBcnJheVtpbm5lcmluZGV4IC0gMV07XG4gICAgICAgICAgICBvYmpba2V5XSA9IGVsZW1lbnRbaW5uZXJpbmRleF07XG4gICAgICAgICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtrZXldO1xuICAgICAgICAgICAgaWYgKGxlZ2VuZGRhdGEpIHtcbiAgICAgICAgICAgICAgbGVnZW5kZGF0YS5kYXRhLnB1c2goeyAndmFsdWUnOiBlbGVtZW50W2lubmVyaW5kZXhdLCAnbGFiZWwnOiBlbGVtZW50WzBdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBpbm5lcmFycmF5LnB1c2gob2JqKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHRlbXBpbm5lcmFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmRhdGEucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICBsZXQgZWxlbWVudCA9IHRoaXMuZGF0YWhpc3RvWzBdO1xuICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnRbMV0gKyBcIiBcIiArIFwib2ZcIiArIFwiIFwiICsgZWxlbWVudFswXSwgJ2NvbG9yJzogdGhpcy5jb2xvciB9O1xuICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gIH1cblxuICBwbG90Q2hhcnQoKSB7XG5cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBsZXQgZGF0YTtcbiAgICBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBrZXlzZXRhcnJheTogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgc2VyaWVzO1xuICAgIHNlcmllcyA9IFtdO1xuICAgIHNlcmllcyA9IGQzLnN0YWNrKCkua2V5cyh0aGlzLmtleUFycmF5KVxuICAgICAgLm9mZnNldChkMy5zdGFja09mZnNldERpdmVyZ2luZylcbiAgICAgICh0aGlzLmRhdGEpO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgdGVtcGRhdGE7XG4gICAgdGVtcGRhdGEgPSBbXTtcbiAgICB0ZW1wZGF0YSA9IHNlcmllcztcbiAgICB0ZW1wZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgZWxlbWVudC5mb3JFYWNoKGlubmVyZWxlbWVudCA9PiB7XG4gICAgICAgIGxldCBzaW5nbGV0b29sdGlwID0gW107XG4gICAgICAgIHNpbmdsZXRvb2x0aXAucHVzaChpbm5lcmVsZW1lbnQuZGF0YS50b29sdGlwZGF0YVtpXSk7XG4gICAgICAgIGlubmVyZWxlbWVudC5wdXNoKHNpbmdsZXRvb2x0aXApO1xuICAgICAgfSk7XG4gICAgICBpKys7XG4gICAgfSk7XG5cbiAgICBsZXQgY2hhcnRkYXRhID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IHRlbXBkYXRhLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY2hhcnRkYXRhLnB1c2godGVtcGRhdGFbaV0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkVcbiAgICB9XG4gICAgY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNTAsIGxlZnQ6IDYwIH07XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLnN2Z3dpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zdmdoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgIC8vY29uc3QgaGVpZ2h0ID0gK3N2Zy5hdHRyKFwiaGVpZ2h0XCIpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBsZXQgeCwgeTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgIC5hdHRyKCd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmd3aWR0aCArICcgJyArIHRoaXMuc3ZnaGVpZ2h0KVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXG4gICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgIGxldCBiYXJXaWR0aCA9ICh3aWR0aCAvIHRoaXMuY2hhcnREYXRhLmxlbmd0aCk7XG4gICAgbGV0IGluYyA9IGJhcldpZHRoIC8gMjtcbiAgICB4ID0gZDMuc2NhbGVQb2ludCgpXG4gICAgICAuZG9tYWluKHRoaXMueGF4aXNBcnJheSwgKGQpID0+IHsgcmV0dXJuIGQ7IH0pXG4gICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcblxuXG4gICAgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmFycmF5b2ZMZW5ndGgpXSk7XG5cbiAgICBsZXQgeiA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTEwKTtcbiAgICB0aGlzLmFycmF5b2ZMZW5ndGggPSBbXTtcbiAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpLlxuICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkuXG4gICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG5cbiAgICB9XG5cbiAgICBsZXQgaG9yaXpvbnRhbHBhZGRpbmcgPSAwLjA1O1xuICAgIC8vYWRkIHkgYXhpcyB0byBzdmdcbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrcyh0aGlzLnRpY2tzY291bnQpKTtcblxuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHgsIHksIGhlaWdodCwgd2lkdGgpO1xuXG4gICAgbGV0IGhpc3RvZ3JhbUJhciA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAuZGF0YShjaGFydGRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgdGhpcy5jb2xvcilcbiAgICAgIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0pXG5cbiAgICBsZXQgaGlzdG9ncmFtQmFyMSA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAuZGF0YShjaGFydGRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAvLyAuYXR0cihcImZpbGxcIiwgdGhpcy5jb2xvcilcbiAgICAgIC5zZWxlY3RBbGwoXCJsYWJlbHNcIilcbiAgICAgIC5kYXRhKChkKSA9PiB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSlcbiAgICBsZXQgY250ID0gMDtcblxuXG4gICAgaGlzdG9ncmFtQmFyLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBiYXJXaWR0aCAtIDEpXG4gICAgICAuYXR0cihcInlcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNudCsrO1xuICAgICAgICByZXR1cm4geShkWzFdKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoeShkWzBdKSAtIHkoZFsxXSAtIGhvcml6b250YWxwYWRkaW5nKSk7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgKGQsIGkpID0+IHtcbiAgICAgICAgbGV0IHRyYW5zbGF0ZSA9IFtiYXJXaWR0aCAqIGksIDBdO1xuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0cmFuc2xhdGUgKyBcIilcIjtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pLm9uKFwibW91c2Vtb3ZlXCIsXG4gICAgICAgIChkOiBhbnkpID0+IHtcbiAgICAgICAgICBsZXQgZGF0YSA9IGRbMl07XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbCh0aGlzLnNldEtleShkYXRhWzBdKSlcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG5cbiAgICAgICAgfSkub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIGxldCBjbGlja2RhdGEgPSBkWzJdO1xuICAgICAgICB0aGlzLmhpc3RvZ3JhbUNsaWNrKGNsaWNrZGF0YVswXSk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KTtcbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIGhpc3RvZ3JhbUJhcjEuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yICYmIHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHkoZFsxXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG5cbiAgICAgICAgICBsZXQgZGF0YTogYW55O1xuICAgICAgICAgIGxldCBkYXRhMjogYW55O1xuICAgICAgICAgIGRhdGEgPSBkWzJdO1xuICAgICAgICAgIGRhdGEyID0gZGF0YVswXTtcbiAgICAgICAgICBpZiAoZGF0YTIpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhMi52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgbGV0IHRyYW5zbGF0ZSA9IFsoKGJhcldpZHRoICogaSkgKyBiYXJXaWR0aCAvIDIpLCAoTWF0aC5hYnMoeShkWzBdKSAtIHkoZFsxXSAtIGhvcml6b250YWxwYWRkaW5nKSkpXTtcbiAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0cmFuc2xhdGUgKyBcIilcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLy9sYWJlbCBjbGljayBsb2dpY1xuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KS5vbihcIm1vdXNlbW92ZVwiLFxuICAgICAgICAgIChkOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gZFsyXTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwodGhpcy5zZXRLZXkoZGF0YVswXSkpXG4gICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcblxuICAgICAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIGxldCBjbGlja2RhdGEgPSBkWzJdO1xuICAgICAgICAgIHRoaXMuaGlzdG9ncmFtQ2xpY2soY2xpY2tkYXRhWzBdKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuXG4gICAgfVxuICB9XG5cbiAgaGlzdG9ncmFtQ2xpY2sob2JqOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFoaXN0b1swXTtcbiAgICBsZXQgbGFiZWwxID0gZGF0YVsxXTtcbiAgICBsZXQgbGFiZWwyID0gZGF0YVswXTtcbiAgICBpZiAob2JqLmxhYmVsLmxlbmd0aCkge1xuICAgICAgb2JqZWN0W2xhYmVsMiArIFwiOlwiXSA9IG9iai5sYWJlbDtcbiAgICAgIG9iamVjdFtsYWJlbDEgKyBcIjpcIl0gPSBvYmoudmFsdWU7XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgbGVnZW5kQ2xpY2soZXZlbnQ6IGFueSkge1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KHRoaXMuZGF0YWhpc3RvKTtcbiAgfVxuXG4gIHRyYW5zZm9ybURhdGEoKSB7XG4gICAgdGhpcy5hcnJheSA9IFtdO1xuICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgdGhpcy5kYXRhaGlzdG8uZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMudmFsdWVzLnB1c2goZWxlbWVudFsxXSk7XG4gICAgfSk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcnJheS5wdXNoKHRoaXMudmFsdWVzW2ldKTtcbiAgICB9XG4gIH1cblxuICBwbG90WGF4aXMoKSB7XG4gICAgdGhpcy54YXhpc0FycmF5ID0gW107XG4gICAgdGhpcy54YXhpc0FycmF5LnB1c2goMCk7XG4gICAgbGV0IG5ld3ZhbHVlOiBudW1iZXIgPSAwO1xuICAgIGxldCB2YWx1ZSA9IE1hdGguY2VpbChkMy5tYXgodGhpcy5hcnJheSkpO1xuICAgIGlmICh2YWx1ZSAlIDEwID09IDApIHtcbiAgICAgIHZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gKDEwIC0gdmFsdWUgJSAxMCkgKyB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IHF1b3RpZW50ID0gdmFsdWUgLyA1O1xuICAgIHdoaWxlIChuZXd2YWx1ZSA8IHZhbHVlKSB7XG4gICAgICBuZXd2YWx1ZSA9IG5ld3ZhbHVlICsgcXVvdGllbnQ7XG4gICAgICB0aGlzLnhheGlzQXJyYXkucHVzaChuZXd2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcGxvdFlheGlzKCkge1xuICAgIGxldCB0ZW1wdmFsdWUgPSAwO1xuICAgIGxldCBsZW5ndGhvZkFycmF5ID0gMDtcbiAgICBsZXQgbGVuZ3RoY291bnQgPSAwO1xuICAgIGxldCB0ZW1wbGVuZ3RoID0gMDtcbiAgICBsZXQgbmV3dmFsdWU6IG51bWJlciA9IDA7XG4gICAgdGhpcy55YXhpc0FycmF5ID0gW107XG4gICAgdGhpcy5oaXN0b2dyYW1hcnJheSA9IFtdO1xuICAgIHRoaXMubGVuZ3RoYXJyYXkgPSBbXTtcbiAgICB0aGlzLmhpc3RvZ3JhbWRhdGEgPSBbXTtcbiAgICB0aGlzLmFycmF5b2ZMZW5ndGggPSBbXTtcbiAgICB0aGlzLmNoYXJ0RGF0YSA9IFtdO1xuICAgIHRoaXMueGF4aXNBcnJheS5mb3JFYWNoKGVsZW1lbnQxID0+IHtcbiAgICAgIHRoaXMueWF4aXNBcnJheSA9IFtdO1xuICAgICAgdGhpcy5hcnJheS5mb3JFYWNoKGVsZW1lbnQyID0+IHtcbiAgICAgICAgaWYgKHRlbXB2YWx1ZSA8IGVsZW1lbnQyICYmIGVsZW1lbnQyIDw9IGVsZW1lbnQxKSB7XG4gICAgICAgICAgdGhpcy55YXhpc0FycmF5LnB1c2goZWxlbWVudDIpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aG9mQXJyYXkgPSB0aGlzLnlheGlzQXJyYXkubGVuZ3RoO1xuICAgICAgfSk7XG4gICAgICBpZiAodGVtcGxlbmd0aCA+IGxlbmd0aG9mQXJyYXkpIHtcbiAgICAgICAgbGVuZ3RoY291bnQgPSB0ZW1wbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxlbmd0aGNvdW50ID0gbGVuZ3Rob2ZBcnJheTtcbiAgICAgIH1cbiAgICAgIHRlbXBsZW5ndGggPSBsZW5ndGhjb3VudDtcbiAgICAgIHRlbXB2YWx1ZSA9IGVsZW1lbnQxO1xuICAgICAgdGhpcy5sZW5ndGhhcnJheS5wdXNoKGxlbmd0aG9mQXJyYXkpO1xuICAgIH0pO1xuXG4gICAgbGV0IHZhbHVlID0gTWF0aC5jZWlsKHRlbXBsZW5ndGgpO1xuICAgIGxldCBxdW90aWVudCA9IHZhbHVlIC8gNTtcbiAgICB3aGlsZSAobmV3dmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgIG5ld3ZhbHVlID0gbmV3dmFsdWUgKyBxdW90aWVudDtcbiAgICAgIHRoaXMueWF4aXNEYXRhLnB1c2gobmV3dmFsdWUpXG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmhpc3RvZ3JhbWFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmhpc3RvZ3JhbWRhdGEucHVzaCh0aGlzLmhpc3RvZ3JhbWFycmF5W2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMubGVuZ3RoYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXJyYXlvZkxlbmd0aC5wdXNoKHRoaXMubGVuZ3RoYXJyYXlbaV0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXJyYXlvZkxlbmd0aC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgIGRhdGFbXCJ2YWx1ZVwiXSA9IHRoaXMuYXJyYXlvZkxlbmd0aFtpXTtcbiAgICAgIHRoaXMuY2hhcnREYXRhLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIHRoaXMuYXJyYXkgPSBbXTtcblxuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTsgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgIHRoaXMucGxvdFlheGlzKCk7XG4gICAgdGhpcy50b29sdGlwRGF0YSgpO1xuICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgdGhpcy50cmFuc2Zvcm1EYXRhMSh0aGlzLmZpbmFsZGF0YWFycmF5KTtcbiAgICB0aGlzLnBsb3RDaGFydCgpO1xuICB9XG5cbiAgZGF0YWZvckNoYXJ0KCkge1xuICAgIHRoaXMuZmluYWxkYXRhYXJyYXkgPSBbXSA9IFtdO1xuICAgIGxldCBpbml0aWFsQXJyYXk6IGFueVtdID0gW107XG4gICAgbGV0IHRlbXBhcnJheTogYW55W10gPSBbXTtcbiAgICBpbml0aWFsQXJyYXkucHVzaCgnbGV2ZWwnKTtcbiAgICBsZXQgbWF4RWxlbWVudCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHRoaXMuYXJyYXlvZkxlbmd0aCk7XG4gICAgbGV0IG1heGxlbmd0aCA9IG1heEVsZW1lbnQ7XG4gICAgbGV0IG4gPSAxO1xuICAgIHdoaWxlIChuIDw9IG1heEVsZW1lbnQpIHtcbiAgICAgIGluaXRpYWxBcnJheS5wdXNoKCcnICsgbilcbiAgICAgIG4rKztcbiAgICB9XG4gICAgaW5pdGlhbEFycmF5LnB1c2goJ3Rvb2x0aXBkYXRhJyk7XG4gICAgbGV0IGxlbmd0aCA9IHRoaXMuYXJyYXlvZkxlbmd0aC5sZW5ndGg7XG4gICAgbGV0IG51bSA9IDE7XG4gICAgbGV0IG51bWJlciA9IDE7XG4gICAgbGV0IGogPSAwO1xuICAgIHRoaXMuZmluYWxkYXRhYXJyYXkucHVzaChpbml0aWFsQXJyYXkpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFycmF5b2ZMZW5ndGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuYXJyYXlvZkxlbmd0aFtpXTtcbiAgICAgIGxldCB0ZW1wdmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRlbXBhcnJheSA9IFtdO1xuICAgICAgdGVtcGFycmF5LnB1c2goJycgKyBpKTtcbiAgICAgIG1heEVsZW1lbnQgPSBtYXhsZW5ndGg7XG4gICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgIHdoaWxlICh2YWx1ZSAhPSAwKSB7XG4gICAgICAgICAgdGVtcGFycmF5LnB1c2gobnVtYmVyKTtcbiAgICAgICAgICB2YWx1ZS0tXG4gICAgICAgIH1cbiAgICAgICAgbWF4RWxlbWVudCA9IG1heEVsZW1lbnQgLSB0ZW1wdmFsdWU7XG5cbiAgICAgICAgd2hpbGUgKG1heEVsZW1lbnQgIT0gMCkge1xuICAgICAgICAgIHRlbXBhcnJheS5wdXNoKDApO1xuICAgICAgICAgIG1heEVsZW1lbnQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdoaWxlIChtYXhFbGVtZW50ICE9IDApIHtcbiAgICAgICAgICB0ZW1wYXJyYXkucHVzaCgwKTtcbiAgICAgICAgICBtYXhFbGVtZW50LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRlbXBhcnJheS5wdXNoKHRoaXMudG9vbHRpcEFycmF5W2pdKVxuICAgICAgdGhpcy5maW5hbGRhdGFhcnJheS5wdXNoKHRlbXBhcnJheSk7XG4gICAgICBqKys7XG4gICAgfVxuICB9XG5cblxuICB0b29sdGlwRGF0YSgpIHtcbiAgICBsZXQgYXJyYXlvZlRvb2x0aXA6IGFueVtdID0gW107XG4gICAgbGV0IG9iaiA9IHsgXCJsYWJlbFwiOiBcIlwiLCBcInZhbHVlXCI6IFwiXCIgfTtcbiAgICB0aGlzLmRhdGFoaXN0by5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgb2JqID0geyBcImxhYmVsXCI6IFwiXCIsIFwidmFsdWVcIjogXCJcIiB9O1xuICAgICAgb2JqW1wibGFiZWxcIl0gPSBlbGVtZW50WzBdO1xuICAgICAgb2JqW1widmFsdWVcIl0gPSBlbGVtZW50WzFdO1xuICAgICAgYXJyYXlvZlRvb2x0aXAucHVzaChvYmopO1xuICAgIH0pO1xuXG4gICAgbGV0IHZhbHVlMSA9IHRoaXMueGF4aXNBcnJheVswXTtcblxuICAgIGxldCB0b29sdGlwZGF0YTogYW55W10gPSBbXTtcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IHRoaXMueGF4aXNBcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgdG9vbHRpcGRhdGEgPSBbXTtcbiAgICAgIGxldCB2YWx1ZTIgPSB0aGlzLnhheGlzQXJyYXlbal07XG5cbiAgICAgIGFycmF5b2ZUb29sdGlwLmZvckVhY2goZWxlbWVudCA9PiB7XG5cbiAgICAgICAgaWYgKHZhbHVlMSA8PSBlbGVtZW50LnZhbHVlICYmIGVsZW1lbnQudmFsdWUgPD0gdmFsdWUyKSB7XG5cbiAgICAgICAgICBsZXQgdG9vbHRpcG9iaiA9IHsgXCJsYWJlbFwiOiBcIlwiLCBcInZhbHVlXCI6IFwiXCIgfVxuICAgICAgICAgIHRvb2x0aXBvYmpbXCJsYWJlbFwiXSA9IGVsZW1lbnRbXCJsYWJlbFwiXTtcbiAgICAgICAgICB0b29sdGlwb2JqW1widmFsdWVcIl0gPSBlbGVtZW50W1widmFsdWVcIl07XG4gICAgICAgICAgdG9vbHRpcGRhdGEucHVzaCh0b29sdGlwb2JqKTtcblxuXG4gICAgICAgIH1cblxuICAgICAgfSk7XG4gICAgICB0aGlzLnRvb2x0aXBBcnJheS5wdXNoKHRvb2x0aXBkYXRhKTtcbiAgICAgIHZhbHVlMSA9IHZhbHVlMjtcbiAgICB9XG4gIH1cblxuXG4gIHNldEtleShvYmo6IGFueSkge1xuXG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGxldCBkYXRhID0gdGhpcy5kYXRhaGlzdG9bMF07XG4gICAgbGV0IGxhYmVsMSA9IGRhdGFbMV07XG4gICAgbGV0IGxhYmVsMiA9IGRhdGFbMF07XG5cbiAgICBvYmplY3RbbGFiZWwyICsgXCI6XCJdID0gb2JqLmxhYmVsO1xuICAgIG9iamVjdFtsYWJlbDEgKyBcIjpcIl0gPSBvYmoudmFsdWU7XG5cbiAgICByZXR1cm4gKHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpKVxuICB9XG5cbiAgcGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBPbkluaXQsIFZpZXdDaGlsZCwgQ2hhbmdlRGV0ZWN0b3JSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1zY2F0dGVyJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICNjaGFydElkICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgICAgIDx0YWJsZSAqbmdJZj1cImRhdGEubGVuZ3RoID4gMFwiICBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxuICAgICAgICAgICAgPHRyID5cbiAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX1cbiAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJyZXNpemVidG5mbGFnXCI+XG4gICAgICAgICAgICAgICA8YnV0dG9uICB0eXBlPVwicmVzZXRcIiBjbGFzcz1cImZhIGZhLXNlYXJjaC1taW51c1wiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmbG9hdDpyaWdodFwiIChjbGljayk9XCJyZXNpemVzdmcoKVwiPlxuICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICA8L3NwYW4+ICAgICBcbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJvblNjYXR0ZXJMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8ZGl2ICpuZ0lmPVwiZGF0YS5sZW5ndGggPCAxXCIgY2xhc3M9XCJsbWFza1wiIHN0eWxlPVwicGFkZGluZy10b3A6NTAlXCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgU2NhdHRlcmNoYXJ0Q29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2NvbG9yJykgY29sb3I6IGFueSA9IFwiYmx1ZVwiO1xuICBASW5wdXQoJ3pvb20tZW5hYmxlJykgem9vbWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIHd0OiBhbnk7XG4gIHpvb21pbml0aWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3ZnOiBhbnk7XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueVtdID0gW107XG4gIGRhdGE6IGFueTtcbiAgZGF0YUZvcm1hdHRlZDogYW55O1xuICBjb2xvcmRhdGE6IGFueTtcbiAgbGVnZW5kczogYW55W107XG4gIGxlZ2VuZGFycmF5OiBhbnlbXSA9IFtdO1xuICBsZWdlbmREYXRhOiBhbnk7XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBub2RlOiBhbnk7XG4gIG5vZGVsYWJlbDogYW55O1xuICByZXNpemVidG5mbGFnID0gZmFsc2U7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ3NjYXR0ZXInKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgIHRoaXMuZGF0YUZvcm1hdHRlZCA9IFtdO1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEpIHtcbiAgICAgIGxldCByZXNwOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFGb3JtYXR0ZWQgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhRm9ybWF0dGVkKTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZENyZWF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3RTY2F0dGVyQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhRm9ybWF0dGVkID0gdGhpcy5kYXRhO1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgICAgIHRoaXMubGVnZW5kQ3JlYXRpb24oKTtcbiAgICAgICAgICB0aGlzLnBsb3RTY2F0dGVyQ2hhcnQoKTtcblxuICAgICAgICB9LCAwKTtcblxuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuXG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cblxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy5kYXRhRm9ybWF0dGVkID0gdGhpcy5kYXRhO1xuXG5cbiAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgdGhpcy5jb2xvckdlbmVyYXRpb24oKTtcbiAgICAgIHRoaXMubGVnZW5kQ3JlYXRpb24oKTtcbiAgICAgIHRoaXMucGxvdFNjYXR0ZXJDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgLy8gTWV0aG9kIHRvIHRyYW5zZm9ybSBkYXRhIGluIGtleSB2YWx1ZSBwYWlyIFxuICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMua2V5QXJyYXkgPSBkYXRhWzBdO1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IER1bW15T2JqZWN0ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgIER1bW15T2JqZWN0W3RoaXMua2V5QXJyYXlba2V5aW5kZXhdXSA9IGluZGl2aWR1YWx2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IHRoaXMudHJhbnNmb3JtZWRkYXRhO1xuICB9XG5cbiAgLy8gTWV0aG9kIGdldCByZXNwb25zZSBkYXRhIHVzaW5nIGRhdGEgcmVhZGVyXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gcGxvdCBkMyBjaGFydFxuICBwbG90U2NhdHRlckNoYXJ0KCkge1xuICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA2MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBsZXQgeCwgeTtcblxuICAgIHggPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcblxuICAgIHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cbiAgICBsZXQgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpO1xuXG4gICAgbGV0IHlBeGlzID0gZDMuYXhpc0xlZnQoeSkudGlja3ModGhpcy50aWNrc2NvdW50KTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAuYXR0cigndmlld0JveCcsICcwIDAgJyArIHRoaXMuc3Znd2lkdGggKyAnICcgKyB0aGlzLnN2Z2hlaWdodClcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICB4LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZGF0YSwgKGQpID0+IHsgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMF1dIH0pXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmRhdGEsIChkKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXSB9KV0pO1xuXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKHhBeGlzKS5cbiAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgIH1cblxuXG5cbiAgICAvLyB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgLy8gICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgLy8gICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgLy8gICAuY2FsbCh4QXhpcylcbiAgICAvLyAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgLy8gICAuYXR0cihcImNsYXNzXCIsIFwibGFiZWxcIilcbiAgICAvLyAgIC5hdHRyKFwieFwiLCB3aWR0aClcbiAgICAvLyAgIC5hdHRyKFwieVwiLCAtNilcbiAgICAvLyAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpO1xuXG4gICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInkgYXhpc1wiKVxuICAgICAgLmNhbGwoeUF4aXMpXG4gICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSgtOTApXCIpXG4gICAgICAuYXR0cihcInlcIiwgNilcbiAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNzFlbVwiKVxuICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcblxuICAgIGlmICh0aGlzLmRhdGFGb3JtYXR0ZWRbMF0ubGVuZ3RoID09IDIpIHtcbiAgICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHgsIHksIGhlaWdodCwgd2lkdGgpO1xuXG4gICAgICB0aGlzLm5vZGUgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuZG90XCIpXG4gICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIHRoaXMuY29sb3IpXG4gICAgICAgIC5hdHRyKFwiclwiLCA0LjUpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcImN5XCIsIChkKSA9PiB7IHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKTsgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgdGhpcy5zY2F0dGVyQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pO1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgdGhpcy5ub2RlbGFiZWwgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCJsYWJlbHNcIilcbiAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcInZlcnRpY2FsLWFsaWduXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJtYXJnaW4tdG9wXCIsIG1hcmdpbi50b3ApXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInhcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKSArIDExO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzFdXSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgfSlcbiAgICAgICAgICAvL2xhYmVsIGNsaWNrIGxvZ2ljXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2NhdHRlckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgICAgdGhpcy5ub2RlID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmRvdFwiKVxuICAgICAgICAuZGF0YSh0aGlzLnRyYW5zZm9ybWVkZGF0YSlcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RcIilcbiAgICAgICAgLmF0dHIoXCJyXCIsIDQuNSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4geChkW09iamVjdC5rZXlzKGQpWzBdXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pOyB9KVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHsgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbNF1dIH0pXG5cbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgdGhpcy5zY2F0dGVyQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG5cbiAgICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgICB0aGlzLm5vZGVsYWJlbCA9IHRoaXMuc3ZnLnNlbGVjdEFsbChcImxhYmVsc1wiKVxuICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAgIC5hdHRyKFwidmVydGljYWwtYWxpZ25cIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcIm1hcmdpbi10b3BcIiwgbWFyZ2luLnRvcClcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pICsgMTE7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInlcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC8vd3JpdGUgbGFiZWwgY2xpY2sgbG9naWMgaGVyZVxuICAgICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjYXR0ZXJDaGFydENsaWNrKGQpO1xuICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgfSlcbiAgICAgIH1cblxuICAgIH1cblxuICAgIC8vY3JlYXRlIHpvb20gaGFuZGxlciBcbiAgICBpZiAodGhpcy56b29tZmxhZykge1xuICAgICAgdGhpcy56b29taW5pdGlhdGVkID0gdHJ1ZTtcbiAgICAgIGxldCB6b29tX2hhbmRsZXIgPSBkMy56b29tKClcbiAgICAgICAgLm9uKFwiem9vbVwiLCB0aGlzLnpvb21fYWN0aW9ucy5iaW5kKHRoaXMpKTtcbiAgICAgIHpvb21faGFuZGxlcih0aGlzLnN2Zyk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlYnRuZmxhZygpIHtcbiAgICB0aGlzLnJlc2l6ZWJ0bmZsYWcgPSB0cnVlO1xuICB9XG5cbiAgem9vbV9hY3Rpb25zKCkge1xuICAgIHRoaXMubm9kZS5hdHRyKFwidHJhbnNmb3JtXCIsIGQzLmV2ZW50LnRyYW5zZm9ybSk7XG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICB0aGlzLm5vZGVsYWJlbC5hdHRyKFwidHJhbnNmb3JtXCIsIGQzLmV2ZW50LnRyYW5zZm9ybSk7XG4gICAgfVxuICAgIHRoaXMucmVzaXplYnRuZmxhZyA9IHRydWU7XG4gICAgdGhpcy56b29taW5pdGlhdGVkID0gZmFsc2U7XG4gIH1cblxuICByZXNpemVzdmcoKSB7XG4gICAgLy8gdGhpcy5zdmcgPSBudWxsO1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5wbG90U2NhdHRlckNoYXJ0KCk7XG4gICAgdGhpcy5yZXNpemVidG5mbGFnID0gZmFsc2U7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gZm9ybSB0b29sdGlwIGRhdGFcbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIC8vIE1ldGhvZCBvbiBjaGFydCBjbGlja1xuICBzY2F0dGVyQ2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhldmVudCkpIHtcbiAgICAgIGlmIChrZXkgIT09ICdjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICAvLyBtZXRob2QgdG8gY3JlYXRlIExlZ2VuZFxuICBsZWdlbmRDcmVhdGlvbigpIHtcbiAgICBpZiAodGhpcy5kYXRhRm9ybWF0dGVkWzBdLmxlbmd0aCA9PSAyKSB7XG4gICAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5kYXRhRm9ybWF0dGVkWzBdO1xuXG4gICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50WzBdICsgXCIgXCIgKyBcInZzXCIgKyBcIiBcIiArIGVsZW1lbnRbMV0sICdjb2xvcic6IHRoaXMuY29sb3IgfTtcbiAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgICB0aGlzLmxlZ2VuZGFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgICAgbGVnZW5kb2JqZWN0WydsYWJlbCddID0gZWxlbWVudC5sYWJlbDtcbiAgICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gZWxlbWVudC5jb2xvcjtcbiAgICAgICAgdGhpcy5sZWdlbmRzLnB1c2gobGVnZW5kb2JqZWN0KTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gIH1cblxuICAvLyBNZXRob2Qgb24gTGVnZW5kIENsaWNrXG4gIG9uU2NhdHRlckxlZ2VuZENsaWNrKGxlZ2VuZGV2ZW50OiBhbnkpIHtcbiAgICBpZiAodGhpcy5kYXRhRm9ybWF0dGVkWzBdLmxlbmd0aCA9PSAyKSB7XG4gICAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdCh0aGlzLmRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxlZ2VuZGFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChsZWdlbmRldmVudC5sYWJlbCA9PSBlbGVtZW50LmxhYmVsKSB7XG4gICAgICAgICAgbGV0IGFyciA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgbGV0IHRlbXBhcnIgPSBbXTtcbiAgICAgICAgICBhcnIuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS8vZm9yIGVuZFxuICAgICAgICAgICAgdGVtcGFyci5wdXNoKG9iaik7XG4gICAgICAgICAgfSk7Ly9mb3IgZWFjaCBlbmRzXG4gICAgICAgICAgdGhpcy5sZWdlbmRDbGljayh0ZW1wYXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbi8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbnZhbGlkYXRlcmVzaXplKCkge1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgaWYgKHRoaXMud3QpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH1cbiAgfSwgMClcbn1cbi8vUkVTSVpFIFNURVAgNCBFTkRTXG5cbiAgLy8gTWV0aG9kIGZvciByZXNwb25zaXZlbmVzc1xuICByZXNpemUoKSB7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5wbG90U2NhdHRlckNoYXJ0KCk7XG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMudlNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLlxuICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKVxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5oU2NhbGUpIHtcbiAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIH1cbiAgfVxuXG4gIGNvbG9yR2VuZXJhdGlvbigpIHtcbiAgICB0aGlzLmxlZ2VuZGFycmF5ID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBuYW1lcyA9IHRoaXMuZGF0YUZvcm1hdHRlZFxuICAgICAgLm1hcChlID0+IGVbMl0pXG4gICAgICAuZmlsdGVyKChlLCBpLCBhKSA9PiBhLmluZGV4T2YoZSkgPT09IGkpO1xuICAgIGZvciAobGV0IGogPSAxOyBqIDwgbmFtZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IFtdO1xuICAgICAgbGV0IG9iaiA9IHsgXCJsYWJlbFwiOiBcIlwiLCBcImNvbG9yXCI6IFwiXCIsIFwidmFsdWVcIjogW10gfTtcbiAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzJdXSA9PSBuYW1lc1tqXSkge1xuICAgICAgICAgIGVsZW1lbnRbJ2NvbG9yJ10gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV07XG4gICAgICAgICAgdmFsdWUucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvYmpbXCJ2YWx1ZVwiXSA9IHZhbHVlO1xuICAgICAgb2JqW1wibGFiZWxcIl0gPSBuYW1lc1tqXTtcbiAgICAgIG9ialtcImNvbG9yXCJdID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgdGhpcy5sZWdlbmRhcnJheS5wdXNoKG9iaik7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZm9ybUxlZ2VuZERhdGEoKSB7XG4gICAgdGhpcy5sZWdlbmREYXRhID0gW107XG4gICAgdGhpcy5sZWdlbmRhcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGV0IGxlZ2VuZG9iamVjdCA9IHt9O1xuICAgICAgbGVnZW5kb2JqZWN0WydsYWJlbCddID0gZWxlbWVudC5sYWJlbDtcbiAgICAgIGxlZ2VuZG9iamVjdFsnY29sb3InXSA9IGVsZW1lbnQuY29sb3I7XG4gICAgICB0aGlzLmxlZ2VuZERhdGEucHVzaChsZWdlbmRvYmplY3QpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBPbkluaXQsIENoYW5nZURldGVjdG9yUmVmLCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCB9IGZyb20gXCIuLi9iYXNlL2Jhc2UuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBQbG90Q2FydCB9IGZyb20gXCIuLi9iYXNlL2NoYXJ0LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEtleSB9IGZyb20gJ3NlbGVuaXVtLXdlYmRyaXZlcic7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1tdWx0aWFyZWEnLFxuICB0ZW1wbGF0ZTogYFxuPGRpdiAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjZGl2aWQgKHdpbmRvdzpyZXNpemUpPVwidmFsaWRhdGVyZXNpemUoKVwiPlxuPHRhYmxlIFtuZ0NsYXNzXT1cInZhbGlkYXRlRGF0YSgpXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj5cbiAgPHRyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICA8dGQgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj4ge3t0aXRsZX19IDwvdGQ+XG4gIDwvdHI+XG4gIDx0cj5cbiAgICAgIDx0ZD5cbiAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICA8L3RkPlxuICA8L3RyPlxuICA8dHIgKm5nSWY9XCJsZWdlbmRcIiA+XG4gICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQXJlYUxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRBcnJheVwiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbjwvdGFibGU+XG48IS0tIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICA8L2Rpdj4gLS0+XG48L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgTXVsdGlhcmVhQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBQbG90Q2FydCwgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzNTA7XG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcmFycmF5ID0gW107XG4gIEBJbnB1dCgneWF4aXMtaW50ZXJ2YWwnKSB0aWNrc2NvdW50OiBudW1iZXI7XG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICBAT3V0cHV0KCkgb25MZWdlbmRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBvblRvb2x0aXBDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIGh0dHByZXNwb25zZTogYW55O1xuICB0b2dnbGVsYWJlbDogYm9vbGVhbiA9IGZhbHNlO1xuICBzdmc6IGFueTtcbiAgeDogYW55O1xuICB5OiBhbnk7XG4gIHo6IGFueTtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIG1hcmdpbjogYW55ID0ge307XG4gIGk6IG51bWJlcjtcbiAgcGFyc2VUaW1lOiBhbnk7XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICBtYXhpbXVtVmFsdWU6IG51bWJlcjtcbiAgcHJlZGVmaW5lZENvbG9yczogYW55W107XG4gIGFyZWFBcnJheTogYW55O1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueVtdID0gW107XG4gIGRhdGExOiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgdG9vbHRpcDogYW55O1xuICB3dDogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgY2RmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkZXZpY2U6IERldmljZVF1ZXJ5U2VydmljZSkge1xuICAgIHN1cGVyKFwiYXJlYWNoYXJ0XCIpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy53dCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgdGhpcy50b2dnbGVsYWJlbCA9IGZhbHNlO1xuICAgIGxldCByZXM7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwb25zZSk7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdEFyZWFDaGFydCgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhMSkge1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMuaW5pdEFyZWFDaGFydCgpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cblxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICB0aGlzLmluaXRBcmVhQ2hhcnQoKTtcbiAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICAgIH0sIDApO1xuICB9XG5cbiAgaW5pdEFyZWFDaGFydCgpIHtcbiAgICB0aGlzLnRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICB9XG4gICAgLy9SRVNJWkUgU1RFUCAxIEVORFMgSEVSRSBcbiAgICB9XG5cbiAgICB0aGlzLm1hcmdpbiA9IHsgdG9wOiAzMCwgcmlnaHQ6IDQ0LCBib3R0b206IDUwLCBsZWZ0OiAzMCB9LFxuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc3Znd2lkdGggLSB0aGlzLm1hcmdpbi5sZWZ0IC0gdGhpcy5tYXJnaW4ucmlnaHQsXG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gdGhpcy5tYXJnaW4udG9wIC0gdGhpcy5tYXJnaW4uYm90dG9tO1xuICAgIC8vZmluZCBtYXggYW5kIGluaXRpYWxpemUgbWF4XG4gICAgdGhpcy5tYXhpbXVtVmFsdWUgPSB0aGlzLmZpbmRNYXhEYXRhKHRoaXMuZGF0YSk7XG5cbiAgICB0aGlzLnggPSBkMy5zY2FsZVBvaW50KClcbiAgICAgIC5yYW5nZShbMCwgdGhpcy53aWR0aF0pXG4gICAgLy8gLnBhZGRpbmcoMC4xKTtcblxuICAgIHRoaXMueSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZVJvdW5kKFt0aGlzLmhlaWdodCwgMF0pO1xuICAgIHRoaXMuYXJlYUFycmF5ID0gW107XG4gICAgLy9zZXQgeCB5IGRvbWFpblxuICAgIHRoaXMuYXJlYUFycmF5ID0gdGhpcy5kYXRhLm1hcCgoZCkgPT4geyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07IH0pO1xuICAgIHRoaXMueC5kb21haW4odGhpcy5hcmVhQXJyYXkpO1xuICAgIHRoaXMueS5kb21haW4oWzAsIHRoaXMubWF4aW11bVZhbHVlXSk7XG4gICAgLy9pbml0aWFsaXplIHN2Z1xuICAgIHRoaXMuc3ZnID1cbiAgICAgIGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpIFxuICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgdGhpcy53aWR0aCArIHRoaXMubWFyZ2luLmxlZnQgKyB0aGlzLm1hcmdpbi5yaWdodClcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQgKyB0aGlzLm1hcmdpbi50b3AgKyB0aGlzLm1hcmdpbi5ib3R0b20pXG4gICAgdGhpcy5wcmVkZWZpbmVkQ29sb3JzID0gW1wiIzMzNjZjY1wiLCBcIiNkYzM5MTJcIiwgXCIjZmY5OTAwXCIsIFwiIzEwOTYxOFwiLCBcIiM5OTAwOTlcIiwgXCIjMDA5OWM2XCIsIFwiI2RkNDQ3N1wiLCBcIiM2NmFhMDBcIiwgXCIjYjgyZTJlXCIsIFwiIzMxNjM5NVwiLCBcIiM5OTQ0OTlcIiwgXCIjMjJhYTk5XCIsIFwiI2FhYWExMVwiLCBcIiM2NjMzY2NcIiwgXCIjZTY3MzAwXCIsIFwiIzhiMDcwN1wiLCBcIiM2NTEwNjdcIiwgXCIjMzI5MjYyXCIsIFwiIzU1NzRhNlwiLCBcIiMzYjNlYWNcIl07XG4gIH1cblxuICBwbG90RDNDaGFydCgpIHtcbiAgICB0aGlzLmZvcm1MZWdlbmREYXRhKCk7XG4gICAgbGV0IGNvdW50ZXI6IG51bWJlcjtcbiAgICBsZXQgZyA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcbiAgICAvLyBhZGQgdGhlIFggXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpLlxuICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh0aGlzLngpKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh0aGlzLngpKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcblxuICAgIH1cbiAgICAvLyBhZGQgdGhlIFkgQXhpc1xuICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQodGhpcy55KS50aWNrcyh0aGlzLnRpY2tzY291bnQpKTtcblxuICAgIHRoaXMucGxvdExpbmUoZywgdGhpcy54LCB0aGlzLnksIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoKTtcblxuICAgIGZvciAoY291bnRlciA9IDE7IGNvdW50ZXIgPCB0aGlzLmtleUFycmF5Lmxlbmd0aDsgY291bnRlcisrKSB7XG4gICAgICBsZXQgaW5uZXJHcm91cCA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgICAgdGhpcy5wbG90QXJlYUNoYXJ0KGlubmVyR3JvdXAsIGNvdW50ZXIsIHRoaXMpO1xuICAgIH1cbiAgICAvL2NhbGwgbWV0aG9kIHRvIHBsb3QgcG9pbnRzXG4gICAgbGV0IGluY3JlbWVudDtcbiAgICBmb3IgKGluY3JlbWVudCA9IDE7IGluY3JlbWVudCA8IHRoaXMua2V5QXJyYXkubGVuZ3RoOyBpbmNyZW1lbnQrKykge1xuICAgICAgLy9wbG90IGxpbmVcbiAgICAgIGxldCBpbm5lckdyb3VwID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgdGhpcy5tYXJnaW4udG9wICsgXCIpXCIpO1xuICAgICAgdGhpcy5QbG90TGluZURvdChpbm5lckdyb3VwLCBpbmNyZW1lbnQsIHRoaXMpO1xuICAgIH0vL2luY3JlbWVudCBmb3IgZW5kc1xuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICBQbG90TGluZURvdChnOiBhbnksIGk6IG51bWJlciwgdGhpc2E6IHRoaXMpIHtcbiAgICBsZXQgZmxhZyA9IHRoaXMudG9nZ2xlbGFiZWw7XG4gICAgY29uc3QgbGluZSA9IGQzLmxpbmUoKVxuICAgICAgLngoKGQpID0+IHsgcmV0dXJuIHRoaXNhLngoZFtPYmplY3Qua2V5cyhkKVswXV0pOyB9KVxuICAgICAgLnkoKGQpID0+IHsgcmV0dXJuIHRoaXNhLnkoZFtPYmplY3Qua2V5cyhkKVtpXV0pOyB9KTtcbiAgICBnLmFwcGVuZChcInBhdGhcIilcbiAgICAgIC5kYXRhKFt0aGlzYS5kYXRhXSlcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFxuICAgICAgKGQpPT57XG4gICAgICAgIGlmKHRoaXMuY29sb3JhcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYodGhpcy5jb2xvcmFycmF5W2ktMV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yYXJyYXlbaS0xXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldOyAgICAgICAgICAgIFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXNhLnByZWRlZmluZWRjb2xvcnNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHRoaXNhLnByZWRlZmluZWRjb2xvcnNbaV1cbiAgICApXG4gICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAxLjUpXG4gICAgICAuYXR0cihcImRcIiwgbGluZSlcbiAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwLjIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFxuICAgICAgICAvLyBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIDAgKyBcIilcIik7XG4gICAgICAgIFwidHJhbnNsYXRlKFwiICsgMCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAvLy0tLS0tLS0tLS1cblxuICAgIGcuc2VsZWN0QWxsKCdkb3QnKVxuICAgICAgLmRhdGEodGhpc2EuZGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ29wYWNpdHknLCAwKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIFxuICAgICAgKGQpPT57XG4gICAgICAgIGlmKHRoaXMuY29sb3JhcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYodGhpcy5jb2xvcmFycmF5W2ktMV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yYXJyYXlbaS0xXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldOyAgICAgICAgICAgIFxuICAgICAgICAgIH0gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldXG4gICAgKVxuICAgICAgLmF0dHIoXCJjeFwiLCAoZCkgPT4geyByZXR1cm4gdGhpc2EueChkW09iamVjdC5rZXlzKGQpWzBdXSk7IH0pXG4gICAgICAuYXR0cihcImN5XCIsIChkKSA9PiB7IHJldHVybiB0aGlzYS55KGRbT2JqZWN0LmtleXMoZClbaV1dKTsgfSlcbiAgICAgIC5hdHRyKCdyJywgNClcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQsIGkpO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG5cbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5odG1sKFxuICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQsIGkpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG5cbiAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMub25BcmVhVG9vbHRpcENsaWNrKGQsIGkpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAwICsgXCIsXCIgKyAwICsgXCIpXCIpO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIGcuc2VsZWN0QWxsKCdsYWJlbHMnKVxuICAgICAgICAuZGF0YSh0aGlzYS5kYXRhKVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIC8vIGxldCBsZW5ndGggPSBTdHJpbmcoZFtPYmplY3Qua2V5cyhkKVtpXV0pLmxlbmd0aFxuICAgICAgICAgIHJldHVybiB0aGlzYS54KGRbT2JqZWN0LmtleXMoZClbMF1dKSArIDIwO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInlcIiwgKGQpID0+IHtcbiAgICAgICAgICBsZXQga2V5OiBhbnkgPSBbT2JqZWN0LmtleXMoZClbaV1dO1xuICAgICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc2EueShkW2tleV0pIC0gNTsvLyBmciB1cFxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSkgKyAxNTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gcmV0dXJuIHRoaXNhLnkoZFtPYmplY3Qua2V5cyhkKVtpXV0pO1xuICAgICAgICAgIC8vICByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzFdXSkreVRleHRQYWRkaW5nO1xuICAgICAgICB9KVxuICAgICAgICAudGV4dCgoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpW2ldXTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICBcInRyYW5zbGF0ZShcIiArIDAgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgICAgLy9sYWJlbCBjbGljayBsb2dpY1xuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLCBpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuXG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLCBpKVxuICAgICAgICApXG4gICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5vbkFyZWFUb29sdGlwQ2xpY2soZCwgaSk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgLy90aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAodGhpcy50b2dnbGVsYWJlbCkge1xuICAgICAgdGhpcy50b2dnbGVsYWJlbCA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMudG9nZ2xlbGFiZWwgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHBsb3RBcmVhQ2hhcnQoZzogYW55LCBpOiBudW1iZXIsIHRoaXNhOiB0aGlzKSB7XG4gICAgLy8gY2FsY3VsYXRlIGFyZWEgYW5kIHZhbHVlbGluZVxuICAgIC8vIGRlZmluZSB0aGUgbGluZVxuICAgIGNvbnN0IHZhbHVlbGluZSA9IGQzLmxpbmUoKVxuICAgICAgLngoKGQpID0+IHtcbiAgICAgICAgbGV0IGtleTogYW55ID0gW09iamVjdC5rZXlzKGQpWzBdXTtcbiAgICAgICAgcmV0dXJuIHRoaXNhLngoZFtrZXldKTtcbiAgICAgIH0pXG4gICAgICAueSgoZCkgPT4ge1xuICAgICAgICBsZXQga2V5OiBhbnkgPSBbT2JqZWN0LmtleXMoZClbaV1dO1xuICAgICAgICByZXR1cm4gdGhpc2EueShkW2tleV0pO1xuICAgICAgfSk7XG5cbiAgICAvLyBhZGQgdGhlIHZhbHVlbGluZSBwYXRoLlxuICAgIGcuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgLmRhdGEoW3RoaXMuZGF0YV0pXG4gICAgICAuc3R5bGUoXCJzdHJva2VcIixcbiAgICAgIChkKT0+e1xuICAgICAgICBpZih0aGlzLmNvbG9yYXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyAgcmV0dXJuIHRoaXMuY29sb3JhcnJheVtpLTFdO1xuICAgICAgICBpZih0aGlzLmNvbG9yYXJyYXlbaS0xXSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yYXJyYXlbaS0xXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV07ICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZGVmaW5lZENvbG9yc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICAvLyB0aGlzLnByZWRlZmluZWRDb2xvcnNbaV1cbiAgICAgIClcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgIC5zdHlsZShcInN0cm9rZS13aWR0aFwiLCBcIjJweFwiKVxuICAgICAgLmF0dHIoXCJkXCIsIHZhbHVlbGluZSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAwICsgXCIsXCIgKyAwICsgXCIpXCIpO1xuXG4gICAgLy8gZGVmaW5lIHRoZSBhcmVhXG4gICAgbGV0IGFyZWEgPSBkMy5hcmVhKClcbiAgICAgIC54KChkKSA9PiB7XG4gICAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICAgIHJldHVybiB0aGlzYS54KGRba2V5XSk7XG4gICAgICB9KVxuICAgICAgLnkwKHRoaXMuaGVpZ2h0KVxuICAgICAgLnkxKChkKSA9PiB7XG4gICAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVtpXV07XG4gICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSk7XG4gICAgICB9KTtcblxuICAgIGcuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgLmRhdGEoW3RoaXMuZGF0YV0pXG4gICAgICAuYXR0cihcImRcIiwgYXJlYSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKVxuICAgICAgICBcInRyYW5zbGF0ZShcIiArIDAgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcIm5vbmVcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcbiAgICAgIChkKT0+e1xuICAgICAgICBpZih0aGlzLmNvbG9yYXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmKHRoaXMuY29sb3JhcnJheVtpLTFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvcmFycmF5W2ktMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldOyAgICAgICAgICAgIFxuICAgICAgICAgIH0gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRDb2xvcnNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHRoaXMucHJlZGVmaW5lZENvbG9yc1tpXVxuICAgICAgKVxuICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAwLjUpXG4gIH1cblxuICBvbkFyZWFUb29sdGlwQ2xpY2sodG9vbHRpcERhdGE6IGFueSwgY291bnQ6IG51bWJlcikge1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVswXV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbMF1dO1xuICAgIG9ialt0aGlzLmtleUFycmF5W2NvdW50XV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbY291bnRdXTtcbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqKTtcbiAgfVxuXG4gIGZpbmRNYXhEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCB0ZW1wQXJyYXkgPSBbXTtcbiAgICBsZXQgbGFyZ2VWYWx1ZXMgPSBbXTtcbiAgICBsZXQgbWF4VmFsdWU7XG4gICAgLy9sb2dpYyB0byBzZWFyY2ggMyBsYXJnZXN0IHZhbHVlcyBcbiAgICBkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgdGVtcCA9IFtdO1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnQpKSB7XG4gICAgICAgIC8vZXhlbXB0cyBmaXJzdCBjb2x1bW4gb2YgZGF0YSBhcyBpdCBpcyB0cmVhdGVkIGFzIHgtYXhpc1xuICAgICAgICBpZiAoa2V5ICE9IHRoaXMua2V5QXJyYXlbMF0pIHtcbiAgICAgICAgICB0ZW1wQXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0vL2ZvciBsb29wIGVuZFxuICAgICAgdmFsdWUgPSB0aGlzLmZpbmRMYXJnZXN0VmFsdWUodGVtcEFycmF5KTtcbiAgICAgIGxhcmdlVmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIG1heFZhbHVlID0gdGhpcy5maW5kTGFyZ2VzdFZhbHVlKGxhcmdlVmFsdWVzKTtcbiAgICByZXR1cm4gbWF4VmFsdWU7XG4gIH1cblxuICBmaW5kTGFyZ2VzdFZhbHVlKGFycmF5OiBhbnlbXSkge1xuICAgIGxldCBpO1xuICAgIGxldCBtYXggPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldID4gbWF4KSB7XG4gICAgICAgIG1heCA9IGFycmF5W2ldO1xuICAgICAgfS8vaWYgZW5kcyBcbiAgICB9Ly9tYXggZW5kc1xuICAgIHJldHVybiBtYXg7XG4gIH1cblxuICAvL2NvdmVydCBkYXRhXG4gIHRyYW5zZm9ybURhdGEoZGF0YTogYW55KSB7XG4gICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5ID0gZGF0YVswXTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBEdW1teU9iamVjdDogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgIER1bW15T2JqZWN0W3RoaXMua2V5QXJyYXlba2V5aW5kZXhdXSA9IGluZGl2aWR1YWx2YWx1ZTtcbiAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgfS8vaWYgZW5kc1xuICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuXG4gICAgbGV0IHBhcnNlZHRyYW5zZm9ybWVkZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy50cmFuc2Zvcm1lZGRhdGEpKTtcblxuICAgIHRoaXMuZGF0YSA9IHBhcnNlZHRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgbGV0IGNvdW50ZXIgPSAwXG4gICAgdGhpcy5rZXlBcnJheS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnQ7XG4gICAgICAgIGlmKCh0aGlzLmNvbG9yYXJyYXkubGVuZ3RoID4gMCkgJiYgKHRoaXMuY29sb3JhcnJheVtjb3VudGVyXSkpIHtcbiAgICAgICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSB0aGlzLmNvbG9yYXJyYXlbY291bnRlcl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gdGhpcy5wcmVkZWZpbmVkQ29sb3JzW2NvdW50ZXIgKyAxXTtcbiAgICAgICAgIH1cbiAgICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgICAgIGNvdW50ZXIrKztcblxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25BcmVhTGVnZW5kQ2xpY2sobGVnZW5kRGF0YTogYW55KSB7XG4gICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbXCJsYWJlbFwiXSA9IGxlZ2VuZERhdGEubGFiZWw7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICBpZiAoa2V5ID09IGxlZ2VuZERhdGEubGFiZWwpIHtcbiAgICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBkYXRhLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfS8vaW5uZXIgaWYgZW5kc1xuICAgICAgfS8vaW5uZXIgZm9ybG9vcCBlbmRzXG4gICAgfSk7Ly9vdXRlciBmb3JlYWNoIGVuZHNcbiAgICBvYmpbXCJkYXRhXCJdID0gZGF0YTtcbiAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICB9XG5cbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICAvLyB0aGlzLnJlc2l6ZXd0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIlwiLCBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgXCIgXCIsIHRoaXMucmVzaXpld3QpO1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5pbml0QXJlYUNoYXJ0KCk7XG4gICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICB9XG5cbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnksIGNvdW50OiBudW1iZXIpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMF1dID0gdG9vbHRpcERhdGFbT2JqZWN0LmtleXModG9vbHRpcERhdGEpWzBdXTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVtjb3VudF1dID0gdG9vbHRpcERhdGFbT2JqZWN0LmtleXModG9vbHRpcERhdGEpW2NvdW50XV07XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmopO1xuICB9XG5cbiAgcGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVEYXRhKCkge1xuICAgIGlmICh0aGlzLmRhdGEpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcImxtYXNrXCJcbiAgICB9XG59XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIE9uSW5pdCwgQ2hhbmdlRGV0ZWN0b3JSZWYsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LXdhdGVyZmFsbCcsXG4gIHRlbXBsYXRlOiBgXG48ZGl2ICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCIgPlxuPHRhYmxlICpuZ0lmPVwiZGF0YS5sZW5ndGggPiAwXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIiA+XG4gIDx0ciAqbmdJZiA9IFwidGl0bGUubGVuZ3RoID4gMFwiPlxuICAgICAgPHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICA8L3RyPlxuICA8dHI+XG4gICAgICA8dGQ+XG4gICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbiAgPHRyICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQ2FuZGxlc3RpY2tMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kQXJyYXlcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPlxuICAgICAgICAgIDwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgIDwvdGQ+XG4gIDwvdHI+XG48L3RhYmxlPlxuPGRpdiAqbmdJZj1cImRhdGEubGVuZ3RoIDwgMVwiIGNsYXNzPVwibG1hc2tcIiBzdHlsZT1cInBhZGRpbmctdG9wOjUwJVwiPlxuICAgIDwvZGl2PlxuPC9kaXY+YCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuXG5leHBvcnQgY2xhc3MgQ2FuZGxlc3RpY2tDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0LCBPbkluaXQge1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCkgZGF0YTogYW55W10gW107XG4gIEBJbnB1dCgneWF4aXMtaW50ZXJ2YWwnKSB0aWNrc2NvdW50OiBudW1iZXI7XG4gIEBJbnB1dCgnc2hvdy16ZXJvLXZhbHVlcycpIHNob3d6ZXJvZmxhZzogYm9vbGVhbiA9IHRydWU7XG5cbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBPdXRwdXQoKSBvbkxlZ2VuZENsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgcHJlZGVmaW5lZENvbG9yID0gW107XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueTtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIG1hcmdpbjogYW55ID0ge307XG4gIHg6IGFueTtcbiAgeTogYW55O1xuICBzdmc6IGFueTtcbiAgdG9vbHRpcDogYW55O1xuICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgaHR0cHJlc3BvbnNlOiBhbnk7XG4gIHd0OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoXCJjYW5kbGVzdGlja3dhdGVyZmFsbGNoYXJ0XCIpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy53dCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgdGhpcy5wcmVkZWZpbmVkQ29sb3IgPSBbXCIjMzM2NmNjXCIsIFwiI2RjMzkxMlwiLCBcIiNmZjk5MDBcIiwgXCIjMTA5NjE4XCIsIFwiIzk5MDA5OVwiLCBcIiMwMDk5YzZcIiwgXCIjZGQ0NDc3XCIsIFwiIzY2YWEwMFwiLCBcIiNiODJlMmVcIiwgXCIjMzE2Mzk1XCIsIFwiIzk5NDQ5OVwiLCBcIiMyMmFhOTlcIiwgXCIjYWFhYTExXCIsIFwiIzY2MzNjY1wiLCBcIiNlNjczMDBcIiwgXCIjOGIwNzA3XCIsIFwiIzY1MTA2N1wiLCBcIiMzMjkyNjJcIiwgXCIjNTU3NGE2XCIsIFwiIzNiM2VhY1wiXTtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBsZXQgcmVzO1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgLy90aGlzLmRhdGEgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3BvbnNlKTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90WFlBeGlzKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdFhZQXhpcygpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG5cbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmh0dHByZXNwb25zZSk7XG4gICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgIHRoaXMucGxvdFhZQXhpcygpO1xuICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgaW5pdGlhbGl6ZURhdGEoKSB7XG4gICAgdGhpcy50b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIHRoaXMubWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMzAsIGJvdHRvbTogNTAsIGxlZnQ6IDYwIH0sXG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5zdmd3aWR0aCAtIHRoaXMubWFyZ2luLmxlZnQgLSB0aGlzLm1hcmdpbi5yaWdodCxcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5zdmdoZWlnaHQgLSB0aGlzLm1hcmdpbi50b3AgLSB0aGlzLm1hcmdpbi5ib3R0b207XG4gIH1cblxuICBwbG90WFlBeGlzKCkge1xuICAgIC8vIHNldCB0aGUgcmFuZ2VzXG4gICAgdGhpcy54ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHRoaXMud2lkdGhdKTtcbiAgICB0aGlzLnkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbdGhpcy5oZWlnaHQsIDBdKTtcbiAgICAvLyBzY2FsZSB0aGUgcmFuZ2Ugb2YgdGhlIGRhdGFcbiAgICBsZXQgY2FuZGxlc3RpY2tBcnJheSA9IHRoaXMuZGF0YS5tYXAoKGQpID0+IHtcbiAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzBdXTtcbiAgICB9KTtcbiAgICB0aGlzLnguZG9tYWluKGNhbmRsZXN0aWNrQXJyYXkpO1xuICAgIGxldCBtYXggPSBkMy5tYXgodGhpcy5kYXRhLCAoZCkgPT4geyByZXR1cm4gZC5lbmQ7IH0pO1xuICAgIHRoaXMueS5kb21haW4oWzAsIG1heF0pO1xuXG4gICAgLy8gdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgIC8vUkVTSVpFIFNURVAgMiBTVEFSVFxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgIC5hdHRyKCd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmd3aWR0aCArICcgJyArIHRoaXMuc3ZnaGVpZ2h0KVxuICAgIC8vUkVTSVpFIFNURVAgMiBFTkRTIEhFUkVcbiAgICAgICAuYXR0cihcIndpZHRoXCIsIHRoaXMud2lkdGggKyB0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCB0aGlzLmhlaWdodCArIHRoaXMubWFyZ2luLnRvcCArIHRoaXMubWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFxuICAgICAgICBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgIC8vIGFkZCB0aGUgWCBBeGlzXG5cbiAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpLlxuICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfSBcbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB0aGlzLmhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpXG4gICAgICB9XG5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB0aGlzLmhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuXG4gICAgfVxuXG4gICAgLy8gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgIC8vICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIHRoaXMuaGVpZ2h0ICsgXCIpXCIpXG4gICAgLy8gICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpO1xuXG4gICAgLy8gYWRkIHRoZSBZIEF4aXNcbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuY2FsbChkMy5heGlzTGVmdCh0aGlzLnkpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHRoaXMueCwgdGhpcy55LCB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCk7XG4gIH1cblxuXG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIGxldCBiYXIgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuYmFyXCIpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIChkKSA9PiB7IHJldHVybiBcImJhciBcIiArIGQuY2xhc3MgfSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRoaXMueChcbiAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzBdXVxuICAgICAgICApICsgXCIsMClcIjtcbiAgICAgIH0pO1xuXG4gICAgYmFyLmFwcGVuZChcInJlY3RcIilcbiAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4gdGhpcy55KE1hdGgubWF4KGQuc3RhcnQsIGQuZW5kKSk7IH0pXG4gICAgICAuYXR0cihcImhlaWdodFwiLCAoZCkgPT4geyByZXR1cm4gTWF0aC5hYnModGhpcy55KGQuc3RhcnQpIC0gdGhpcy55KGQuZW5kKSk7IH0pXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHRoaXMueC5iYW5kd2lkdGgoKSlcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVkQ29sb3JbaV07XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcblxuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLmh0bWwoXG4gICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMub25DYW5kbGVzdGlja0NsaWNrKGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuXG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICBiYXIuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMXZ3XCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiAodGhpcy54LmJhbmR3aWR0aCgpKSAvIDI7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy55KE1hdGgubWF4KGQuc3RhcnQsIGQuZW5kKSkgKyAyMDtcbiAgICAgICAgfSlcbiAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAvLyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV1cbiAgICAgICAgICBpZih0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMV1dO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKCF0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgaWYoZFtPYmplY3Qua2V5cyhkKVsxXV0gPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG5cbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMub25DYW5kbGVzdGlja0NsaWNrKGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuXG4gICAgfVxuICB9XG5cbiAgcGxvdExpbmUoc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBzdmcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybURhdGEoZGF0YTogYW55KSB7XG4gICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgRHVtbXlPYmplY3Q6IGFueSA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICBEdW1teU9iamVjdFt0aGlzLmtleUFycmF5W2tleWluZGV4XV0gPSBpbmRpdmlkdWFsdmFsdWU7XG4gICAgICAgIH0pOy8vaW5uZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgIH0vL2lmIGVuZHNcbiAgICB9KTsvL291dGVyIGZvciBsb29wIGVuZHMgXG4gICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgdGhpcy5hZGREYXRhS2V5cygpO1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgfVxuXG4gIGFkZERhdGFLZXlzKCkge1xuICAgIGxldCBjdW11bGF0aXZlOiBhbnkgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmRhdGFbaV1bXCJzdGFydFwiXSA9IGN1bXVsYXRpdmU7XG4gICAgICBjdW11bGF0aXZlICs9IHRoaXMuZGF0YVtpXVt0aGlzLmtleUFycmF5WzFdXTtcbiAgICAgIHRoaXMuZGF0YVtpXVtcImVuZFwiXSA9IGN1bXVsYXRpdmU7XG4gICAgICB0aGlzLmRhdGFbaV1bXCJjbGFzc1wiXSA9ICh0aGlzLmRhdGFbaV1bdGhpcy5rZXlBcnJheVsxXV0gPj0gMCkgPyAncG9zaXRpdmUnIDogJ25lZ2F0aXZlJ1xuICAgIH1cbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICBmb3JtVG9vbHRpcERhdGEodG9vbHRpcERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBvYmplY3RbdGhpcy5rZXlBcnJheVswXV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbMF1dO1xuICAgIG9iamVjdFt0aGlzLmtleUFycmF5WzFdXSA9IHRvb2x0aXBEYXRhW09iamVjdC5rZXlzKHRvb2x0aXBEYXRhKVsxXV07XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgb25DYW5kbGVzdGlja0NsaWNrKGNoYXJ0RGF0YTogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFt0aGlzLmtleUFycmF5WzBdXSA9IGNoYXJ0RGF0YVtPYmplY3Qua2V5cyhjaGFydERhdGEpWzBdXTtcbiAgICBvYmplY3RbdGhpcy5rZXlBcnJheVsxXV0gPSBjaGFydERhdGFbT2JqZWN0LmtleXMoY2hhcnREYXRhKVsxXV07XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZWxlbWVudCkpIHtcbiAgICAgICAgaWYgKGtleSA9PSB0aGlzLmtleUFycmF5WzBdKSB7XG4gICAgICAgICAgbGV0IG9iamVjdCA9IHt9O1xuICAgICAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gdmFsdWU7XG4gICAgICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRDb2xvcltpbmRleF07XG4gICAgICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uQ2FuZGxlc3RpY2tMZWdlbmRDbGljayhjaGFydERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gY2hhcnREYXRhLmxhYmVsKSB7XG4gICAgICAgICAgb2JqZWN0W2NoYXJ0RGF0YS5sYWJlbF0gPSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzFdXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG9iamVjdCk7XG4gIH1cblxuXG4gIC8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbiAgdmFsaWRhdGVyZXNpemUoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgaWYgKHRoaXMud3QpIHtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgIH1cbiAgICB9LCAwKVxuICB9XG4gIC8vUkVTSVpFIFNURVAgNCBFTkRTXG5cbiAgcmVzaXplKCkge1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICBpZiAodGhpcy53dCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMud3Q7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgIC8vIHRoaXMucmVzaXpld3QgPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiXCIsIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBcIiBcIiwgdGhpcy5yZXNpemV3dCk7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgdGhpcy5wbG90WFlBeGlzKCk7XG4gICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIE9uSW5pdCwgVmlld0NoaWxkLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhbWV4aW8tZDMtY2hhcnQtYnViYmxlJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICh3aW5kb3c6cmVzaXplKT1cInZhbGlkYXRlcmVzaXplKClcIj5cbiAgICA8dGFibGUgKm5nSWY9XCJkYXRhLmxlbmd0aCA+IDBcIiBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX1cbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInJlc2l6ZWJ0bmZsYWdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwicmVzZXRcIiBjbGFzcz1cImZhIGZhLXNlYXJjaC1taW51c1wiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmbG9hdDpyaWdodFwiIChjbGljayk9XCJyZXNpemVzdmcoKVwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgPGFtZXhpby1kMy1sZWdlbmQgKm5nSWY9XCJsZWdlbmRcIiBbaG9yaXpvbnRhbF09XCJ0cnVlXCIgKG9uQ2xpY2spPVwib25CdWJibGVMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kRGF0YVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICA8L2Rpdj5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2BgXVxufSlcbmV4cG9ydCBjbGFzcyBCdWJibGVDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2NvbG9yJykgY29sb3I6IGFueSA9IFwiYmx1ZVwiO1xuICBASW5wdXQoJ3pvb20tZW5hYmxlJykgem9vbWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCd4YXhpcy1pbnRlcnZhbCcpIHh0aWNrc2NvdW50OiBudW1iZXI7XG5cbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIHd0Om51bWJlcjtcbiAgem9vbWluaXRpYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBjb2xvcnM6IGFueVtdID0gW107XG4gIGRhdGExOiBhbnk7XG4gIHhheGlzQXJyYXk6IGFueVtdID0gW107XG4gIHhhcnJheTogYW55W10gPSBbXTtcbiAgbGVnZW5kczogYW55W10gPSBbXTtcbiAgbGVnZW5kYXJyYXk6IGFueVtdID0gW107XG4gIG5vZGU6IGFueTtcbiAgbm9kZWxhYmVsOiBhbnk7XG4gIHJlc2l6ZWJ0bmZsYWcgPSBmYWxzZTtcbiAgbGVnZW5kRGF0YTogYW55W10gPSBbXTtcbiAgbWlueHZhbHVlOiBudW1iZXIgPSAwO1xuICBtYXh4dmFsdWU6IG51bWJlciA9IDA7XG4gIGNvbG9yZGF0YTogYW55O1xuICBidWJibGVjaGFydGRhdGE6IGFueVtdID0gW107XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBzdmc6IGFueTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignYnViYmxlJyk7XG4gICAgdGhpcy5wcmVkZWZpbmVkY29sb3JzID0gW1wiIzMzNjZjY1wiLCBcIiNkYzM5MTJcIiwgXCIjZmY5OTAwXCIsIFwiIzEwOTYxOFwiLCBcIiM5OTAwOTlcIiwgXCIjMDA5OWM2XCIsIFwiI2RkNDQ3N1wiLCBcIiM2NmFhMDBcIiwgXCIjYjgyZTJlXCIsIFwiIzMxNjM5NVwiLCBcIiM5OTQ0OTlcIiwgXCIjMjJhYTk5XCIsIFwiI2FhYWExMVwiLCBcIiM2NjMzY2NcIiwgXCIjZTY3MzAwXCIsIFwiIzhiMDcwN1wiLCBcIiM2NTEwNjdcIiwgXCIjMzI5MjYyXCIsIFwiIzU1NzRhNlwiLCBcIiMzYjNlYWNcIl07XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICB0aGlzLmRhdGExID0gW107XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3A7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YTEpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1kYXRhKCk7XG4gICAgICAgICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90QnViYmxlQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtZGF0YSgpO1xuICAgICAgICAgIHRoaXMuY29sb3JHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdEJ1YmJsZUNoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZldGNoRGF0YShkYXRhOiBhbnkpIHtcbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICB0aGlzLm15c2VydmljZS5wb3N0ZmV0Y2hEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kLCByZXF1ZXN0SnNvbikuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgIHRoaXMuaHR0cHJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy90aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdDaGFydCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuaHR0cHJlc3BvbnNlKTtcbiAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YTEpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1kYXRhKCk7XG4gICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgdGhpcy5wbG90QnViYmxlQ2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMuY29sb3JkYXRhID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgRHVtbXlPYmplY3QgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbmRpdmlkdWFsdmFsdWUsIGtleWluZGV4KSA9PiB7XG4gICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEucHVzaChEdW1teU9iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgdGhpcy5jb2xvcmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIHBsb3RCdWJibGVDaGFydCgpIHtcbiAgICAgbGV0IGNvbG9ycyA9IHRoaXMucHJlZGVmaW5lZGNvbG9ycztcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgICAgaWYgKHRoaXMud3QpIHtcbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMud3Q7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcblxuICAgICAgfVxuICAgICAgLy9SRVNJWkUgU1RFUCAxIEVORFMgSEVSRVxuICAgIH1cblxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDYwLCBib3R0b206IDUwLCBsZWZ0OiA2MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBsZXQgeCwgeTtcbiAgICB4ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSk7XG5cbiAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pO1xuXG4gICAgbGV0IHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4KS50aWNrcyh0aGlzLnh0aWNrc2NvdW50KTtcblxuICAgIGxldCB5QXhpcyA9IGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudCk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmRhdGEsIChkKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzJdXSB9KV0pO1xuXG4gICAgeC5kb21haW4oW3RoaXMubWlueHZhbHVlLCB0aGlzLm1heHh2YWx1ZV0pO1xuXG4gICAgbGV0IHJTY2FsZSA9IGQzLnNjYWxlU3FydCgpLnJhbmdlUm91bmQoWzYsIDMwXSk7XG5cbiAgICByU2NhbGUuZG9tYWluKFtkMy5taW4odGhpcy5kYXRhLCAoZCkgPT4geyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVs0XV0gfSksIGQzLm1heCh0aGlzLmRhdGEsIChkLCBpKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzRdXSB9KV0pXG5cbiAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbCh4QXhpcylcbiAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgIH1cblxuICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ5IGF4aXNcIilcbiAgICAgIC5jYWxsKHlBeGlzKVxuICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoLTkwKVwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIDYpXG4gICAgICAuYXR0cihcImR5XCIsIFwiLjcxZW1cIilcbiAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG5cbiAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgIHRoaXMubm9kZSA9IHRoaXMuc3ZnLnNlbGVjdEFsbChcIi5kb3RcIilcbiAgICAgIC5kYXRhKHRoaXMuYnViYmxlY2hhcnRkYXRhKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiZG90XCIpXG4gICAgICAuYXR0cihcInJcIiwgKGQpID0+IHsgcmV0dXJuIHJTY2FsZShkW09iamVjdC5rZXlzKGQpWzRdXSk7IH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5hdHRyKFwiY3hcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVsxXV0pO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsyXV0pOyB9KVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzVdXSB9KVxuICAgICAgLmF0dHIoJ29wYWNpdHknLCAwLjcpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICApXG4gICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIC8vIGlmKCF0aGlzLnpvb21pbml0aWF0ZWQpIHtcbiAgICAgICAgdGhpcy5idWJibGVDaGFydENsaWNrKGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAvLyB9XG4gICAgICB9KTtcblxuICAgIC8vbGFiZWxcbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIHRoaXMubm9kZWxhYmVsID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwibGFiZWxzXCIpXG4gICAgICAgIC5kYXRhKHRoaXMuYnViYmxlY2hhcnRkYXRhKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gclNjYWxlKGRbT2JqZWN0LmtleXMoZClbNF1dKSAtIDQ7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMV1dKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7IHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMl1dKTsgfSlcbiAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICAvLyBpZighdGhpcy56b29taW5pdGlhdGVkKSB7XG4gICAgICAgICAgdGhpcy5idWJibGVDaGFydENsaWNrKGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy9jcmVhdGUgem9vbSBoYW5kbGVyIFxuICAgIGlmICh0aGlzLnpvb21mbGFnKSB7XG4gICAgICB0aGlzLnpvb21pbml0aWF0ZWQgPSB0cnVlO1xuICAgICAgbGV0IHpvb21faGFuZGxlciA9IGQzLnpvb20oKVxuICAgICAgICAub24oXCJ6b29tXCIsIHRoaXMuem9vbV9hY3Rpb25zLmJpbmQodGhpcykpO1xuICAgICAgem9vbV9oYW5kbGVyKHRoaXMuc3ZnKTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVidG5mbGFnKCkge1xuICAgIHRoaXMucmVzaXplYnRuZmxhZyA9IHRydWU7XG4gIH1cblxuICB6b29tX2FjdGlvbnMoKSB7XG4gICAgdGhpcy5ub2RlLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZDMuZXZlbnQudHJhbnNmb3JtKTtcbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIHRoaXMubm9kZWxhYmVsLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZDMuZXZlbnQudHJhbnNmb3JtKTtcbiAgICB9XG4gICAgdGhpcy5yZXNpemVidG5mbGFnID0gdHJ1ZTtcbiAgICB0aGlzLnpvb21pbml0aWF0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHJlc2l6ZXN2ZygpIHtcbiAgICAvLyB0aGlzLnN2ZyA9IG51bGw7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnBsb3RCdWJibGVDaGFydCgpO1xuICAgIHRoaXMucmVzaXplYnRuZmxhZyA9IGZhbHNlO1xuICB9XG5cbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIC8vIE1ldGhvZCBvbiBjaGFydCBjbGlja1xuICBidWJibGVDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPT0gJ2NvbG9yJykge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gICAvL1JFU0laRSBTVEVQIDQgU1RBUlRTXG4gICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICByZXNpemUoKSB7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5wbG90QnViYmxlQ2hhcnQoKTtcbiAgfVxuXG4gIHhheGlzRGF0YSgpIHtcblxuICAgIGxldCBhcnJheSA9IFtdO1xuICAgIHRoaXMubWlueHZhbHVlID0gMDtcbiAgICB0aGlzLm1heHh2YWx1ZSA9IDA7XG4gICAgdGhpcy54YXhpc0FycmF5ID0gW107XG4gICAgdGhpcy54YXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGExLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBhcnJheS5wdXNoKGVsZW1lbnRbMV0pO1xuICAgIH0pO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMueGF4aXNBcnJheS5wdXNoKGFycmF5W2ldKTtcbiAgICB9XG5cbiAgICBsZXQgbWludmFsdWUgPSBNYXRoLmZsb29yKGQzLm1pbih0aGlzLnhheGlzQXJyYXkpKTtcbiAgICBsZXQgbWF4dmFsdWUgPSBNYXRoLmNlaWwoZDMubWF4KHRoaXMueGF4aXNBcnJheSkpO1xuICAgIHRoaXMubWlueHZhbHVlID0gNSAqIChNYXRoLmZsb29yKE1hdGguYWJzKG1pbnZhbHVlIC8gNSkpKTtcbiAgICB0aGlzLm1heHh2YWx1ZSA9IDUgKiAoTWF0aC5jZWlsKE1hdGguYWJzKG1heHZhbHVlIC8gNSkpKTtcblxuICB9XG5cbiAgY29sb3JHZW5lcmF0aW9uKCkge1xuXG4gICAgdGhpcy5sZWdlbmRhcnJheSA9IFtdO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbmFtZXMgPSB0aGlzLmRhdGExXG4gICAgICAubWFwKGUgPT4gZVszXSlcbiAgICAgIC5maWx0ZXIoKGUsIGksIGEpID0+IGEuaW5kZXhPZihlKSA9PT0gaSk7XG5cbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IG5hbWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBsZXQgdmFsdWUgPSBbXTtcbiAgICAgIGxldCBvYmogPSB7IFwibGFiZWxcIjogXCJcIiwgXCJjb2xvclwiOiBcIlwiLCBcInZhbHVlXCI6IFtdIH07XG4gICAgICB0aGlzLmNvbG9yZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVszXV0gPT0gbmFtZXNbal0pIHtcbiAgICAgICAgICBlbGVtZW50Wydjb2xvciddID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgICAgIHZhbHVlLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb2JqW1widmFsdWVcIl0gPSB2YWx1ZTtcbiAgICAgIG9ialtcImxhYmVsXCJdID0gbmFtZXNbal07XG4gICAgICBvYmpbXCJjb2xvclwiXSA9IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpXTtcbiAgICAgIHRoaXMubGVnZW5kYXJyYXkucHVzaChvYmopO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgIHRoaXMubGVnZW5kRGF0YSA9IFtdO1xuICAgIHRoaXMubGVnZW5kYXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnQubGFiZWw7XG4gICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSBlbGVtZW50LmNvbG9yO1xuICAgICAgdGhpcy5sZWdlbmREYXRhLnB1c2gobGVnZW5kb2JqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uQnViYmxlTGVnZW5kQ2xpY2sobGVnZW5kZXZlbnQ6IGFueSkge1xuICAgIHRoaXMubGVnZW5kYXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgIGxldCB0ZW1wYXJyID0gW107XG4gICAgICBpZiAobGVnZW5kZXZlbnQubGFiZWwgPT0gZWxlbWVudC5sYWJlbCkge1xuICAgICAgICBsZXQgYXJyID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgYXJyLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfS8vIGZvciBlbmRzXG4gICAgICAgICAgdGVtcGFyci5wdXNoKG9iaik7XG4gICAgICAgIH0pOy8vIGZvciBlYWNoIGVuZHNcbiAgICAgICAgdGhpcy5sZWdlbmRDbGljayh0ZW1wYXJyKVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMudlNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLlxuICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKS50aWNrcyh0aGlzLnh0aWNrc2NvdW50KVxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5oU2NhbGUpIHtcbiAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybWRhdGEoKSB7XG4gICAgdGhpcy5idWJibGVjaGFydGRhdGEgPSBbXVxuICAgIGxldCBidXVibGVkYXRhID0gW107XG4gICAgdGhpcy5jb2xvcmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuXG4gICAgICBidXVibGVkYXRhLnB1c2goZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVs0XV0pO1xuXG4gICAgfSk7XG5cbiAgICBsZXQgZGF0YSA9IGJ1dWJsZWRhdGEuc29ydCgoYSwgYikgPT4geyByZXR1cm4gYiAtIGEgfSk7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBkYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICB0aGlzLmNvbG9yZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZGF0YVtqXSA9PSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzRdXSlcbiAgICAgICAgICB0aGlzLmJ1YmJsZWNoYXJ0ZGF0YS5wdXNoKGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiwgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS9iYXNlLmNvbXBvbmVudFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCB7IERldmljZVF1ZXJ5U2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2RldmljZS5xdWVyeS5zZXJ2aWNlJztcblxuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC10aW1lbGluZScsXG4gICAgdGVtcGxhdGU6IGBcbjxkaXYgICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCIgPlxuICAgIDx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiIHBvc2l0aW9uPVwiIHJlbGF0aXZlXCI+XG4gICAgICAgIDx0ciAqbmdJZiA9IFwidGl0bGUubGVuZ3RoID4gMFwiPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiIFxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgPGFtZXhpby1kMy1sZWdlbmQgKm5nSWY9XCJsZWdlbmRcIiBbaG9yaXpvbnRhbF09XCJ0cnVlXCIgKG9uQ2xpY2spPVwidGltZWxpbmVsZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDwvZGl2PmBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNUaW1lbGluZUNoYXJ0Q29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQge1xuXG4gICAgQElucHV0KCdkYXRhJykgZGF0YTogYW55O1xuICAgIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICAgIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gICAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gICAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDIwMDtcbiAgICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICAgIEBJbnB1dCgnbGV2ZWwnKSBsZXZlbDogbnVtYmVyID0gMDtcbiAgICBASW5wdXQoJ3RhcmdldCcpIHRhcmdldDogbnVtYmVyO1xuICAgIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdO1xuICAgIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG4gICAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIEBJbnB1dCgneGF4aXMtaW50ZXJ2YWwnKSB4dGlja3Njb3VudDogbnVtYmVyO1xuXG4gICAgbGFuZXM6IGFueVtdID0gW107XG4gICAgdGltZWxpbmVjaGFydERhdGE6IGFueVtdID0gW107XG4gICAgbWluZGF0ZTogYW55O1xuICAgIG1heGRhdGU6IGFueTtcbiAgICBsZWdlbmRzOiBhbnk7XG4gICAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gICAgcmVzaXplZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN2ZzogYW55O1xuICAgIHVybGRhdGE6IGFueTtcbiAgICBtb250aGxpc3QgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXB0XCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xuICAgIHd0OiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoJ3RpbWVsaW5lJyk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgICAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICAgICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtVE9EYXRlKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy51cmxkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdENoYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICAgICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3Q2hhcnQoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1UT0RhdGUodGhpcy5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLnVybGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgICAgICB9LCAwKTtcblxuICAgIH1cblxuICAgIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgICAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgICAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICAgIH1cblxuICAgIHBsb3RDaGFydCgpIHtcbiAgICAgICAgbGV0IGxhbmVMZW5ndGggPSB0aGlzLmxhbmVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVzaXplZmxhZyA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbSA9IFsyMCwgMjUsIDE1LCAxMjBdLCAvL3RvcCByaWdodCBib3R0b20gbGVmdFxuICAgICAgICAgICAgd2lkdGggPSB0aGlzLnN2Z3dpZHRoIC0gbVsxXSAtIG1bM10sXG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnN2Z2hlaWdodCAtIG1bMF0gLSBtWzJdLFxuICAgICAgICAgICAgbWluaUhlaWdodCA9IGxhbmVMZW5ndGggKiAxMiArIDUwLFxuICAgICAgICAgICAgbWFpbkhlaWdodCA9IGhlaWdodCAtIG1pbmlIZWlnaHQgLSA1MDtcblxuICAgICAgICBsZXQgbWluZGF0ZTtcbiAgICAgICAgbGV0IG1heGRhdGU7XG4gICAgICAgIGxldCBiYXJoZWlnaHQgPSAyMDtcbiAgICAgICAgaWYgKHRoaXMuaHR0cHVybCAmJiB0aGlzLmh0dHBtZXRob2QpIHtcblxuICAgICAgICAgICAgbWluZGF0ZSA9IHRoaXMudXJsZGF0YVswXVsxXS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgIG1heGRhdGUgPSB0aGlzLnVybGRhdGFbdGhpcy51cmxkYXRhLmxlbmd0aCAtIDFdWzJdLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtaW5kYXRlID0gdGhpcy5kYXRhWzBdWzFdLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgbWF4ZGF0ZSA9IHRoaXMuZGF0YVt0aGlzLmRhdGEubGVuZ3RoIC0gMV1bMl0uZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgbGV0IHggPSBkMy5zY2FsZVRpbWUoKVxuICAgICAgICAgICAgLmRvbWFpbihbdGhpcy5taW5kYXRlLCB0aGlzLm1heGRhdGVdKVxuICAgICAgICAgICAgLnJhbmdlKFswLCB3aWR0aF0pO1xuXG5cbiAgICAgICAgbGV0IHgxID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgLmRvbWFpbihbbWluZGF0ZSwgbWF4ZGF0ZV0pXG4gICAgICAgICAgICAucmFuZ2UoW21bM10sIHdpZHRoICsgbVszXV0pO1xuXG4gICAgICAgIGxldCB5MSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5kb21haW4oWzAsIGxhbmVMZW5ndGhdKVxuICAgICAgICAgICAgLnJhbmdlKFswLCBtaW5pSGVpZ2h0XSk7XG5cblxuICAgICAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAgIC5hdHRyKCd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmd3aWR0aCArICcgJyArIHRoaXMuc3ZnaGVpZ2h0KVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1bMV0gKyBtWzNdKVxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbVswXSArIG1bMl0pXG5cblxuICAgICAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4MSkudGlja3ModGhpcy54dGlja3Njb3VudCkpLlxuICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4MSkudGlja3ModGhpcy54dGlja3Njb3VudCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDEpLnRpY2tzKHRoaXMueHRpY2tzY291bnQpKS5cbiAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtaW5pID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtWzNdICsgXCIsXCIgKyAobWFpbkhlaWdodCArIG1bMF0pICsgXCIpXCIpXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoKVxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgbWFpbkhlaWdodClcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJtaW5pXCIpO1xuXG4gICAgICAgIC8vbWluaSBsYW5lcyBhbmQgdGV4dHNcbiAgICAgICAgbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5sYW5lTGluZXNcIilcbiAgICAgICAgICAgIC5kYXRhKHRoaXMudGltZWxpbmVjaGFydERhdGEpXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJsaW5lXCIpXG4gICAgICAgICAgICAvLyAuYXR0cihcIngxXCIsIG1bMV0pXG4gICAgICAgICAgICAuYXR0cihcInkxXCIsIChkKSA9PiB7IHJldHVybiB5MShkLmxhbmUpOyB9KVxuICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCB3aWR0aClcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgKGQpID0+IHsgcmV0dXJuIHkxKGQubGFuZSk7IH0pXG4gICAgICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBcImxpZ2h0Z3JheVwiKTtcblxuXG4gICAgICAgIG1pbmkuYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIubGFuZVRleHRcIilcbiAgICAgICAgICAgIC5kYXRhKHRoaXMubGFuZXMpXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAudGV4dCgoZCkgPT4geyByZXR1cm4gZDsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtbVsxXSlcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4geyByZXR1cm4geTEoaSArIC41KTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNWV4XCIpXG4gICAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibGFuZVRleHRcIik7XG5cbiAgICAgICAgLy9taW5pIGl0ZW0gcmVjdHNcbiAgICAgICAgbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIm1pbmlJdGVtc1wiKVxuICAgICAgICAgICAgLmRhdGEodGhpcy50aW1lbGluZWNoYXJ0RGF0YSlcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgKGQpID0+IHsgcmV0dXJuIFwibWluaUl0ZW1cIiArIGQubGFuZTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCwgaW5kZXgpID0+IHsgcmV0dXJuIHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF0gfSlcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4geyByZXR1cm4geChkLnN0YXJ0KTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4gKHkxKGQubGFuZSArIC41KSAtIDUpOyB9KVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh4KGQuZW5kKSAtIHgoZC5zdGFydCkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGJhcmhlaWdodClcbiAgICAgICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZWxpbmVDaGFydENsaWNrKGQpXG4gICAgICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldCBiYXJ3aWR0aDtcblxuICAgICAgICAvL21pbmkgbGFiZWxzXG4gICAgICAgIGxldCBtb250aGxpc3QxID0gdGhpcy5tb250aGxpc3Q7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgICAgICAgbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5taW5pTGFiZWxzXCIpXG4gICAgICAgICAgICAgICAgLmRhdGEodGhpcy50aW1lbGluZWNoYXJ0RGF0YSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBiYXJ3aWR0aCA9IE1hdGgubWluKE1hdGguYWJzKHgoZC5lbmQpIC0geChkLnN0YXJ0KSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXJ3aWR0aCAvIDIwICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydGZ1bGx5ZWFyID0gZC5zdGFydC5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0TW9udGggPSBtb250aGxpc3QxW2Quc3RhcnQuZ2V0TW9udGgoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5kZnVsbHllYXIgPSBkLmVuZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZE1vbnRoID0gbW9udGhsaXN0MVtkLmVuZC5nZXRNb250aCgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRlID0gc3RhcnRNb250aCArIFwiIFwiICsgc3RhcnRmdWxseWVhciArIFwiLVwiICsgZW5kTW9udGggKyBcIiBcIiArIGVuZGZ1bGx5ZWFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geChkLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4geTEoZC5sYW5lICsgLjUpOyB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIxLjJleFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZHhcIiwgXCI5ZXhcIilcbiAgICAgICAgICAgICAgICAvL3dyaXRlIHBvaW50ZXIgYW5kIGNsaWNrIGZuXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnRvb2xUaXBDb250ZW50KGQpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVsaW5lQ2hhcnRDbGljayhkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcm1Ub29sdGlwRGF0YSh0b29sdGlwRGF0YTogYW55KSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcblxuICAgICAgICBsZXQgbWxpc3QgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXB0XCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xuICAgICAgICBsZXQgbGFiZWwxID0gXCJEdXJhdGlvblwiO1xuICAgICAgICBsZXQgbGFiZWwyID0gXCJOYW1lXCI7XG4gICAgICAgIGxldCBzdGFydGZ1bGx5ZWFyID0gdG9vbHRpcERhdGEuc3RhcnQuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgbGV0IHN0YXJ0TW9udGggPSBtbGlzdFt0b29sdGlwRGF0YS5zdGFydC5nZXRNb250aCgpXVxuICAgICAgICBsZXQgZW5kZnVsbHllYXIgPSB0b29sdGlwRGF0YS5lbmQuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgbGV0IGVuZE1vbnRoID0gbWxpc3RbdG9vbHRpcERhdGEuZW5kLmdldE1vbnRoKCldXG4gICAgICAgIGxldCBkYXRlID0gc3RhcnRNb250aCArIFwiIFwiICsgc3RhcnRmdWxseWVhciArIFwiLVwiICsgZW5kTW9udGggKyBcIiBcIiArIGVuZGZ1bGx5ZWFyO1xuXG4gICAgICAgIG9iamVjdFtsYWJlbDIgKyBcIjpcIl0gPSB0b29sdGlwRGF0YS5pZDtcbiAgICAgICAgb2JqZWN0W2xhYmVsMSArIFwiOlwiXSA9IGRhdGU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuXG4gICAgfVxuXG4gICAgdHJhbnNmb3JtVE9EYXRlKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLnVybGRhdGEgPSBbXTtcblxuICAgICAgICBkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YW9iaiA9IFtdO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ZGF0ZSA9IG5ldyBEYXRlKGVsZW1lbnRbMV0pO1xuICAgICAgICAgICAgbGV0IGVuZGRhdGUgPSBuZXcgRGF0ZShlbGVtZW50WzJdKVxuICAgICAgICAgICAgZGF0YW9iai5wdXNoKGVsZW1lbnRbMF0pO1xuICAgICAgICAgICAgZGF0YW9iai5wdXNoKHN0YXJ0ZGF0ZSk7XG4gICAgICAgICAgICBkYXRhb2JqLnB1c2goZW5kZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnVybGRhdGEucHVzaChkYXRhb2JqKTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLmxhbmVzID0gW107XG4gICAgICAgIHRoaXMudGltZWxpbmVjaGFydERhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgICAgIGxldCBkYXRhbGVuZ3RoID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHRoaXMubWluZGF0ZSA9IGRhdGFbMF1bMV07XG4gICAgICAgIHRoaXMubWF4ZGF0ZSA9IGRhdGFbZGF0YWxlbmd0aF1bMl07XG4gICAgICAgIGxldCBtbGlzdCA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcHRcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XG5cbiAgICAgICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YU9iaiA9IHsgXCJsYW5lXCI6IFwiXCIsIFwiaWRcIjogXCJcIiwgXCJzdGFydFwiOiBcIlwiLCBcImVuZFwiOiBcIlwiIH07XG4gICAgICAgICAgICB0aGlzLmxhbmVzLnB1c2goZWxlbWVudFswXSk7XG4gICAgICAgICAgICBkYXRhT2JqW1wibGFuZVwiXSA9IGk7XG4gICAgICAgICAgICBkYXRhT2JqW1wiaWRcIl0gPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgZGF0YU9ialtcInN0YXJ0XCJdID0gZWxlbWVudFsxXTtcbiAgICAgICAgICAgIGRhdGFPYmpbXCJlbmRcIl0gPSBlbGVtZW50WzJdO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZWNoYXJ0RGF0YS5wdXNoKGRhdGFPYmopO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRpbWVsaW5lY2hhcnREYXRhLmZvckVhY2goKGVsZW1lbnQsIGkpID0+IHtcblxuICAgICAgICAgICAgbGV0IHN0YXJ0ZnVsbHllYXIgPSBlbGVtZW50LnN0YXJ0LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBsZXQgc3RhcnRNb250aCA9IG1saXN0W2VsZW1lbnQuc3RhcnQuZ2V0TW9udGgoKV1cbiAgICAgICAgICAgIGxldCBlbmRmdWxseWVhciA9IGVsZW1lbnQuZW5kLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBsZXQgZW5kTW9udGggPSBtbGlzdFtlbGVtZW50LmVuZC5nZXRNb250aCgpXVxuICAgICAgICAgICAgbGV0IGRhdGUgPSBzdGFydE1vbnRoICsgXCIgXCIgKyBzdGFydGZ1bGx5ZWFyICsgXCItXCIgKyBlbmRNb250aCArIFwiIFwiICsgZW5kZnVsbHllYXI7XG4gICAgICAgICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiB0aGlzLmxhbmVzW2ldLCAnY29sb3InOiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV0sICdEdXJhdGlvbic6IGRhdGUgfTtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBPYmogPSB7IFwibGFuZVwiOiBcIlwiLCBcImlkXCI6IFwiXCIsIFwic3RhcnRcIjogXCJcIiwgXCJlbmRcIjogXCJcIiB9O1xuICAgICAgICBPYmpbXCJsYW5lXCJdID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnRpbWVsaW5lY2hhcnREYXRhLnB1c2goT2JqKTtcbiAgICB9XG5cblxuICAgIHRpbWVsaW5lQ2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgbGV0IG1saXN0ID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwdFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcbiAgICAgICAgbGV0IHN0YXJ0ZnVsbHllYXIgPSBldmVudC5zdGFydC5nZXRGdWxsWWVhcigpO1xuICAgICAgICBsZXQgc3RhcnRNb250aCA9IG1saXN0W2V2ZW50LnN0YXJ0LmdldE1vbnRoKCldXG4gICAgICAgIGxldCBlbmRmdWxseWVhciA9IGV2ZW50LmVuZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICBsZXQgZW5kTW9udGggPSBtbGlzdFtldmVudC5lbmQuZ2V0TW9udGgoKV07XG4gICAgICAgIGxldCBkYXRlID0gc3RhcnRNb250aCArIFwiIFwiICsgc3RhcnRmdWxseWVhciArIFwiLVwiICsgZW5kTW9udGggKyBcIiBcIiArIGVuZGZ1bGx5ZWFyO1xuICAgICAgICBvYmplY3RbXCJOYW1lXCJdID0gZXZlbnQuaWQ7XG4gICAgICAgIG9iamVjdFtcIkR1cmF0aW9uXCJdID0gZGF0ZTtcbiAgICAgICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMud3QpIHtcbiAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgICAvLyB0aGlzLnJlc2l6ZXd0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJcIiwgbmV3IERhdGUoKS5nZXRUaW1lKCksIFwiIFwiLCB0aGlzLnJlc2l6ZXd0KTtcbiAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jZGYuZGV0ZWN0Q2hhbmdlcygpOyBcbiAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgIH1cbiAgICB0aW1lbGluZWxlZ2VuZENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgbGV0IG9iaiA9IHt9O1xuICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZXZlbnQpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICAgIH1cblxufVxuXG5cblxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEdyb3VwYmFyQ29tcG9uZW50IH0gZnJvbSAnLi4vZ3JvdXBiYXIvZ3JvdXBiYXIuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzQmFyQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXIvYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi4vZG91bnV0L2RvdW51dC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQW1leGlvRDNQaWVDaGFydENvbXBvbmVudCB9IGZyb20gJy4uL3BpZS9waWUuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzTGluZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpbmUvbGluZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQmFyc3RhY2tDb21wb25lbnQgfSBmcm9tICcuLi9iYXJzdGFjay9iYXJzdGFjay5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29tYm9jaGFydENvbXBvbmVudCB9IGZyb20gJy4uL2NvbWJvY2hhcnQvY29tYm9jaGFydC5jb21wb25lbnQnXG5pbXBvcnQgeyBIaXN0b2dyYW1Db21wb25lbnQgfSBmcm9tICcuLi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudCdcbmltcG9ydCB7IFNjYXR0ZXJjaGFydENvbXBvbmVudCB9IGZyb20gJy4uL3NjYXR0ZXJjaGFydC9zY2F0dGVyY2hhcnQuY29tcG9uZW50J1xuaW1wb3J0IHsgTXVsdGlhcmVhQ29tcG9uZW50IH0gZnJvbSAnLi4vbXVsdGlhcmVhL211bHRpYXJlYS5jb21wb25lbnQnXG5pbXBvcnQgeyBDYW5kbGVzdGlja0NvbXBvbmVudCB9IGZyb20gJy4uL2NhbmRsZXN0aWNrL2NhbmRsZXN0aWNrLmNvbXBvbmVudCdcbmltcG9ydCB7IEJ1YmJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2J1YmJsZS9idWJibGUvYnViYmxlLmNvbXBvbmVudCdcbmltcG9ydCB7IEFtZXhpb0QzVGltZWxpbmVDaGFydENvbXBvbmVudCB9IGZyb20gJy4uL3RpbWVsaW5lL3RpbWVsaW5lLmNvbXBvbmVudCdcbmltcG9ydCB7XG4gIEFmdGVyQ29udGVudEluaXQsIEFmdGVyVmlld0luaXQsIENvbnRlbnRDaGlsZHJlbixcbiAgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBRdWVyeUxpc3QsIFZpZXdDaGlsZCxcbiAgVmlld0NoaWxkcmVuXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgVmlld0RyaWxsYWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIHF1ZXJ5QmFyY2hhcnRpbnB1dDogUXVlcnlMaXN0PEFtZXhpb0QzQmFyQ2hhcnRDb21wb25lbnQ+O1xuICBiYXJjaGFydGlucHV0OiBBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihHcm91cGJhckNvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUdyb3VwYmFyY2hhcnRpbnB1dDogUXVlcnlMaXN0PEdyb3VwYmFyQ29tcG9uZW50PjtcbiAgZ3JvdXBiYXJjaGFydGlucHV0OiBHcm91cGJhckNvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQW1leGlvRDNMaW5lQ29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5TGluZWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxBbWV4aW9EM0xpbmVDb21wb25lbnQ+O1xuICBsaW5lY2hhcnRpbnB1dDogQW1leGlvRDNMaW5lQ29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5UGllY2hhcnRpbnB1dDogUXVlcnlMaXN0PEFtZXhpb0QzUGllQ2hhcnRDb21wb25lbnQ+O1xuICBwaWVjaGFydGlucHV0OiBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5RG9udXRjaGFydGlucHV0OiBRdWVyeUxpc3Q8QW1leGlvRDNEb3VudXRDaGFydENvbXBvbmVudD47XG4gIGRvbnV0Y2hhcnRpbnB1dDogQW1leGlvRDNEb3VudXRDaGFydENvbXBvbmVudFtdO1xuXG5cbiAgQENvbnRlbnRDaGlsZHJlbihCYXJzdGFja0NvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUJhclN0YWNrY2hhcnRpbnB1dDogUXVlcnlMaXN0PEJhcnN0YWNrQ29tcG9uZW50PjtcbiAgYmFyc3RhY2tjaGFydGlucHV0OiBCYXJzdGFja0NvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQ29tYm9jaGFydENvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUNvbWJvY2hhcnRpbnB1dDogUXVlcnlMaXN0PENvbWJvY2hhcnRDb21wb25lbnQ+O1xuICBjb21ib2NoYXJ0aW5wdXQ6IENvbWJvY2hhcnRDb21wb25lbnRbXTtcblxuICBAQ29udGVudENoaWxkcmVuKEhpc3RvZ3JhbUNvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUhpc3RvZ3JhbWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxIaXN0b2dyYW1Db21wb25lbnQ+O1xuICBoaXN0b2dyYW1jaGFydGlucHV0OiBIaXN0b2dyYW1Db21wb25lbnRbXTtcblxuICBAQ29udGVudENoaWxkcmVuKFNjYXR0ZXJjaGFydENvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeVNhdHRlcmNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxTY2F0dGVyY2hhcnRDb21wb25lbnQ+O1xuICBzY2F0dGVyY2hhcnRpbnB1dDogU2NhdHRlcmNoYXJ0Q29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihNdWx0aWFyZWFDb21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgUXVlcnlNdWx0aWFyZWFjaGFydGlucHV0OiBRdWVyeUxpc3Q8TXVsdGlhcmVhQ29tcG9uZW50PjtcbiAgbXVsdGlhcmVhY2hhcnRpbnB1dDogTXVsdGlhcmVhQ29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihDYW5kbGVzdGlja0NvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUNhbmRsZXN0aWNrY2hhcnRpbnB1dDogUXVlcnlMaXN0PENhbmRsZXN0aWNrQ29tcG9uZW50PjtcbiAgY2FuZGxlc3RpY2tjaGFydGlucHV0OiBDYW5kbGVzdGlja0NvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQnViYmxlQ29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5QnViYmxlY2hhcnRpbnB1dDogUXVlcnlMaXN0PEJ1YmJsZUNvbXBvbmVudD47XG4gIGJ1YmJsZWNoYXJ0aW5wdXQ6IEJ1YmJsZUNvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQW1leGlvRDNUaW1lbGluZUNoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5VGltZWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxBbWV4aW9EM1RpbWVsaW5lQ2hhcnRDb21wb25lbnQ+O1xuICB0aW1lbGluZWNoYXJ0aW5wdXQ6IEFtZXhpb0QzVGltZWxpbmVDaGFydENvbXBvbmVudFtdO1xuXG4gIGNoYXJ0SW5wdXRBcnJheTogYW55O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuXG4gIH1cblxuICBuZ09uSW5pdCgpIHtcblxuICB9XG5cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnREYXRhKCk7XG5cbiAgfVxuXG4gIGdldENvbXBvbmVudERhdGEoKTogYW55IHtcblxuICAgIHRoaXMuY2hhcnRJbnB1dEFycmF5ID0gW107XG5cbiAgICB0aGlzLmJhcmNoYXJ0aW5wdXQgPSB0aGlzLnF1ZXJ5QmFyY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5ncm91cGJhcmNoYXJ0aW5wdXQgPSB0aGlzLlF1ZXJ5R3JvdXBiYXJjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmxpbmVjaGFydGlucHV0ID0gdGhpcy5RdWVyeUxpbmVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmRvbnV0Y2hhcnRpbnB1dCA9IHRoaXMuUXVlcnlEb251dGNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMucGllY2hhcnRpbnB1dCA9IHRoaXMuUXVlcnlQaWVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmJhcnN0YWNrY2hhcnRpbnB1dCA9IHRoaXMuUXVlcnlCYXJTdGFja2NoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMuY29tYm9jaGFydGlucHV0ID0gdGhpcy5RdWVyeUNvbWJvY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5oaXN0b2dyYW1jaGFydGlucHV0ID0gdGhpcy5RdWVyeUhpc3RvZ3JhbWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMuc2NhdHRlcmNoYXJ0aW5wdXQgPSB0aGlzLlF1ZXJ5U2F0dGVyY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5tdWx0aWFyZWFjaGFydGlucHV0ID0gdGhpcy5RdWVyeU11bHRpYXJlYWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMuY2FuZGxlc3RpY2tjaGFydGlucHV0ID0gdGhpcy5RdWVyeUNhbmRsZXN0aWNrY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5idWJibGVjaGFydGlucHV0ID0gdGhpcy5RdWVyeUJ1YmJsZWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMudGltZWxpbmVjaGFydGlucHV0ID0gdGhpcy5RdWVyeVRpbWVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmNoYXJ0SW5wdXRBcnJheSA9IHRoaXMuY2hhcnRJbnB1dEFycmF5LmNvbmNhdCh0aGlzLmJhcmNoYXJ0aW5wdXQsIHRoaXMuZ3JvdXBiYXJjaGFydGlucHV0LCB0aGlzLmxpbmVjaGFydGlucHV0LCB0aGlzLmRvbnV0Y2hhcnRpbnB1dCwgdGhpcy5waWVjaGFydGlucHV0LCB0aGlzLmJhcnN0YWNrY2hhcnRpbnB1dCwgdGhpcy5jb21ib2NoYXJ0aW5wdXQsIHRoaXMuaGlzdG9ncmFtY2hhcnRpbnB1dCwgdGhpcy5zY2F0dGVyY2hhcnRpbnB1dCwgdGhpcy5tdWx0aWFyZWFjaGFydGlucHV0LCB0aGlzLmNhbmRsZXN0aWNrY2hhcnRpbnB1dCwgdGhpcy5idWJibGVjaGFydGlucHV0LCB0aGlzLnRpbWVsaW5lY2hhcnRpbnB1dCk7XG5cbiAgICByZXR1cm4gdGhpcy5jaGFydElucHV0QXJyYXk7XG5cbiAgfVxuXG5cblxuXG5cbn1cbiIsIlxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFZpZXdEcmlsbGFibGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi9iYXNlL3ZpZXcuY29tcG9uZW50JztcblxuaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJWaWV3SW5pdCwgQ29udGVudENoaWxkcmVuLFxuICBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFF1ZXJ5TGlzdCwgVmlld0NoaWxkLFxuICBWaWV3Q2hpbGRyZW5cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIb3N0TGlzdGVuZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kcmlsbGFibGUnLFxuICB0ZW1wbGF0ZTogYFxuPGRpdiA+IFxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJkaXNhYmxlRmxhZ1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidXR0b25cIlxuICAgICAgICAgICAgIChjbGljayk9XCJwcmV2aW91c2NoYXJ0Q2xpY2soJGV2ZW50KVwiPlxuICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtYXJyb3ctbGVmdFwiPjwvaT4gXG4gICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2J1dHRvbj5cbjwvbmctY29udGFpbmVyPlxuXG48bmctY29udGVudD48L25nLWNvbnRlbnQ+XG5cbjwvZGl2PlxuXG48c3BhbiBbbmdTdHlsZV09XCJjb250ZXh0U3R5bGVcIiA+XG4gIDx1bCAqbmdJZj1cImNvbnRleHRtZW51RmxhZ1wiIGNsYXNzPVwiY2xvc2UtdGhpa1wiIGNsYXNzPVwiY29udGV4dC1tZW51LWxpc3RcIiAgPlxuICAgIDxzcGFuIChjbGljayk9XCJvbkNsb3NlQ2xpY2soKVwiIGNsYXNzPVwiY2xvc2VcIj48aSBjbGFzcz1cImZhIGZhLWNsb3NlXCI+PC9pPjwvc3Bhbj5cbiAgPGxpIChjbGljayk9XCJvbkNvbnRleHROb2RlQ2xpY2soaXRlbUNvbmZpZylcIiBjbGFzcz1cImNvbnRleHQtbWVudS1saXN0LWl0ZW1zXCIgXG4gICpuZ0Zvcj1cImxldCBpdGVtQ29uZmlnIG9mIGFycmF5b2ZzYW1lTGV2ZWxcIj5cbiAgPGVtIFtuZ1N0eWxlXT1cInsncGFkZGluZy1sZWZ0JzogaXRlbUNvbmZpZy5pY29uID8gJzVweCc6JzE5cHgnfVwiPjwvZW0+XG4gIDxzcGFuIHN0eWxlPVwid2hpdGUtc3BhY2U6IG5vd3JhcDtkaXNwbGF5OiBpbmxpbmUgOyBwYWRkaW5nLWxlZnQ6NXB4XCI+e3tpdGVtQ29uZmlnLnRpdGxlfX1cbiAgPC9zcGFuPlxuICA8L2xpPlxuICA8L3VsPlxuICA8L3NwYW4+XG4gIGAsXG4gIHN0eWxlczogW2AuYnV0dG9ue3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjoxcHggc29saWQgIzU1NTtmb250LXdlaWdodDo0MDA7Y29sb3I6IzAwMDtwYWRkaW5nOi41cmVtIDFyZW07dGV4dC1hbGlnbjpjZW50ZXI7dHJhbnNpdGlvbi1kdXJhdGlvbjouNHM7dGV4dC1kZWNvcmF0aW9uOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6M3B4fS5idXR0b246YWZ0ZXJ7Y29udGVudDpcIlwiO2JhY2tncm91bmQ6IzAwMDtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmctdG9wOjMwMCU7cGFkZGluZy1sZWZ0OjM1MCU7bWFyZ2luLWxlZnQ6LTIwcHghaW1wb3J0YW50O21hcmdpbi10b3A6LTEyMCU7b3BhY2l0eTowO3RyYW5zaXRpb246LjhzfS5idXR0b246YWN0aXZlOmFmdGVye3BhZGRpbmc6MDttYXJnaW46MDtvcGFjaXR5OjE7dHJhbnNpdGlvbjpub25lfS5jb250ZXh0LW1lbnUtbGlzdHtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjttaW4td2lkdGg6MTgwcHg7Y3Vyc29yOnBvaW50ZXI7bWF4LWhlaWdodDoxNTBweDt6LWluZGV4OjE7cGFkZGluZzoxMHB4IDA7b3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7Ym94LXNoYWRvdzowIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLC4yKSwwIDhweCAxMHB4IDFweCByZ2JhKDAsMCwwLC4xNCksMCAzcHggMTRweCAycHggcmdiYSgwLDAsMCwuMTIpfS5jb250ZXh0LW1lbnUtbGlzdCAuY29udGV4dC1tZW51LWxpc3QtaXRlbXN7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50O3BhZGRpbmc6NXB4O2Rpc3BsYXk6YmxvY2t9LmNsb3Nle2Zsb2F0OnJpZ2h0O3BhZGRpbmctcmlnaHQ6OHB4O2N1cnNvcjpwb2ludGVyfWBdXG59KVxuXG5cbmV4cG9ydCBjbGFzcyBEcmlsbGFibGVDb21wb25lbnQgZXh0ZW5kcyBWaWV3RHJpbGxhYmxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBtb3VzZUxvY2F0aW9uOiB7IGxlZnQ6IG51bWJlcjsgdG9wOiBudW1iZXIgfSA9IHsgbGVmdDogMCwgdG9wOiAwIH07XG4gIGNvbnRleHRtZW51RmxhZzogYm9vbGVhbjtcbiAgY29udGV4dFN0eWxlOiBhbnk7XG4gIENvbXBvbmVudERhdGFBcnJheTogYW55XG4gIGNvbXBvbmVudGNvdW50ZXI6IG51bWJlciA9IDE7XG4gIGRpc2FibGVGbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIGFycmF5b2ZzYW1lTGV2ZWw6IGFueTtcbiAgZXZlbnREYXRhOiBhbnk7XG4gIHJpZ2h0Q2xpY2tOb2RlRGF0YTogYW55O1xuICBwb3NpeFVwOiBib29sZWFuO1xuICBsZXZlbEFycmF5OiBhbnk7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcblxuXG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG5cbiAgICB0aGlzLkNvbXBvbmVudERhdGFBcnJheSA9IHRoaXMuZ2V0Q29tcG9uZW50RGF0YSgpO1xuICAgIHRoaXMuZ2V0RGF0YSh0aGlzLkNvbXBvbmVudERhdGFBcnJheSk7XG5cbiAgfVxuICBnZXREYXRhKGRhdGE6IGFueSkge1xuICAgIGRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcblxuICAgICAgaWYgKGVsZW1lbnQubGV2ZWwgIT09IDEpIHtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQuZHJpbGxhYmxlRXZlbnQuc3Vic2NyaWJlKChldmVudGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgIHRoaXMuaGlkZVVJKGV2ZW50ZGF0YSk7XG4gICAgICAgICAgdGhpcy5zYW1lTGV2ZWxDaGFydChldmVudGRhdGEpO1xuICAgICAgICAgIHRoaXMuU2hvd1VJKGV2ZW50ZGF0YSk7XG5cblxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUZsYWcgPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVFdmVudC5zdWJzY3JpYmUoKGV2ZW50ZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgdGhpcy5oaWRlVUkoZXZlbnRkYXRhKTtcbiAgICAgICAgICB0aGlzLnNhbWVMZXZlbENoYXJ0KGV2ZW50ZGF0YSk7XG4gICAgICAgICAgdGhpcy5TaG93VUkoZXZlbnRkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgaGlkZVVJKGV2ZW50UmVmOiBhbnkpIHtcbiAgICB0aGlzLkNvbXBvbmVudERhdGFBcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQubGV2ZWwgPT0gZXZlbnRSZWYucmVmLmxldmVsKSB7XG4gICAgICAgIGV2ZW50UmVmLnJlZi5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG4gIFNob3dVSShldmVudFJlZjogYW55KSB7XG4gICAgdGhpcy5ldmVudERhdGEgPSBbXTtcbiAgICB0aGlzLmV2ZW50RGF0YSA9IGV2ZW50UmVmO1xuICAgIHRoaXMuQ29tcG9uZW50RGF0YUFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBpZiAoZXZlbnRSZWYucmVmLnRhcmdldCA9PSBlbGVtZW50LmxldmVsKSB7XG4gICAgICAgIGlmICh0aGlzLmFycmF5b2ZzYW1lTGV2ZWwubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICB0aGlzLmRpc2FibGVGbGFnID0gdHJ1ZTtcbiAgICAgICAgICBlbGVtZW50LmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgICAgICAgIGVsZW1lbnQuZmV0Y2hEYXRhKGV2ZW50UmVmLm5vZGUpO1xuICAgICAgICAgIHRoaXMuY29tcG9uZW50Y291bnRlciA9IGVsZW1lbnQubGV2ZWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0bWVudUZsYWcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMubW91c2VMb2NhdGlvbi5sZWZ0ID0gZXZlbnRSZWYuZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICB0aGlzLm1vdXNlTG9jYXRpb24udG9wID0gZXZlbnRSZWYuZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICB0aGlzLmNvbnRleHRTdHlsZSA9IHRoaXMuZ2V0Q29udGV4dE1lbnVTdHlsZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIGlmICh0aGlzLmNvbXBvbmVudGNvdW50ZXIgPT0gZXZlbnRSZWYucmVmLmxldmVsKSB7XG4gICAgICBldmVudFJlZi5yZWYuZHJpbGxhYmxlRmxhZyA9IHRydWU7XG4gICAgfVxuXG4gIH1cbiAgcHJldmlvdXNjaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgY2hhcnRMZXZlbCA9IHRoaXMuY29tcG9uZW50Y291bnRlciAtIDE7XG4gICAgdGhpcy5Db21wb25lbnREYXRhQXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChjaGFydExldmVsID09IGVsZW1lbnQubGV2ZWwpIHtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gdHJ1ZTtcbiAgICAgICAgZWxlbWVudC5kcmF3Q2hhcnQoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb21wb25lbnRjb3VudGVyID09IGVsZW1lbnQubGV2ZWwpIHtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50Y291bnRlciA9PSAyKSB7XG4gICAgICB0aGlzLmRpc2FibGVGbGFnID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY29tcG9uZW50Y291bnRlciA9IGNoYXJ0TGV2ZWw7XG4gIH1cblxuXG4gIHNhbWVMZXZlbENoYXJ0KGV2ZW50UmVmOiBhbnkpIHtcbiAgXG4gICAgdGhpcy5hcnJheW9mc2FtZUxldmVsID0gW107XG4gICAgdGhpcy5Db21wb25lbnREYXRhQXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChldmVudFJlZi5yZWYudGFyZ2V0ID09IGVsZW1lbnQubGV2ZWwpIHtcbiAgICAgICAgdGhpcy5hcnJheW9mc2FtZUxldmVsID0gdGhpcy5hcnJheW9mc2FtZUxldmVsLmNvbmNhdChlbGVtZW50KTtcblxuICAgICAgfVxuXG4gICAgfSk7XG4gIH1cblxuICAvL01ldGhvZCBDcmVhdGVzIHN0eWxlIGlmIHR3byBzYW1lIHRhcmdldHMgZm91bmQuXG4gIGdldENvbnRleHRNZW51U3R5bGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdjdXJzb3InOiAnZGVmYXVsdCcsXG4gICAgICAncG9zaXRpb24nOiAnZml4ZWQnLFxuICAgICAgJ2Rpc3BsYXknOiB0aGlzLmNvbnRleHRtZW51RmxhZyA/ICdibG9jaycgOiAnbm9uZScsXG4gICAgICAnbGVmdCc6IHRoaXMubW91c2VMb2NhdGlvbi5sZWZ0ICsgJ3B4JyxcbiAgICAgICd0b3AnOiB0aGlzLm1vdXNlTG9jYXRpb24udG9wICsgJ3B4JyxcbiAgICAgICdib3gtc2hhZG93JzogJzFweCAxcHggMnB4ICMwMDAwMDAnLFxuICAgICAgJ3dpZHRoJzogJzE1JScsXG4gICAgfTtcbiAgfVxuXG5cblxuICBnZXRMaXN0UG9zaXRpb24oZWxlbWVudFJlZjogYW55KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGVpZ2h0ID0gMjQwO1xuICAgIGlmICgod2luZG93LnNjcmVlbi5oZWlnaHQgLSBlbGVtZW50UmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSkgPCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgb25Db250ZXh0Tm9kZUNsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLmNvbXBvbmVudGNvdW50ZXIgPSAwO1xuICAgIHRoaXMuY29udGV4dG1lbnVGbGFnID0gZmFsc2U7XG4gICAgdGhpcy5ldmVudERhdGEucmVmLmRyaWxsYWJsZUZsYWcgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVGbGFnID0gdHJ1ZTtcbiAgICBldmVudC5kcmlsbGFibGVGbGFnID0gdHJ1ZTtcbiAgICBldmVudC5mZXRjaERhdGEodGhpcy5ldmVudERhdGEubm9kZSk7XG4gICAgdGhpcy5jb21wb25lbnRjb3VudGVyID0gZXZlbnQubGV2ZWw7XG5cbiAgICBpZiAodGhpcy5jb21wb25lbnRjb3VudGVyID09IHRoaXMuZXZlbnREYXRhLnJlZi5sZXZlbCkge1xuICAgICAgdGhpcy5ldmVudERhdGEucmVmLmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2xvc2VDbGljaygpIHtcbiAgICB0aGlzLmNvbnRleHRtZW51RmxhZyA9IGZhbHNlO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IEFtZXhpb0QzRG91bnV0Q2hhcnRDb21wb25lbnQgfSBmcm9tICcuL2RvdW51dC9kb3VudXQuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzUGllQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuL3BpZS9waWUuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzTGVnZW5kIH0gZnJvbSAnLi9sZWdlbmQvbGVnZW5kLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi9iYXIvYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0xpbmVDb21wb25lbnQgfSBmcm9tICcuL2xpbmUvbGluZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQmFyc3RhY2tDb21wb25lbnQgfSBmcm9tICcuL2JhcnN0YWNrL2JhcnN0YWNrLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBHcm91cGJhckNvbXBvbmVudCB9IGZyb20gJy4vZ3JvdXBiYXIvZ3JvdXBiYXIuY29tcG9uZW50JztcbmltcG9ydCB7IERyaWxsYWJsZUNvbXBvbmVudCB9IGZyb20gJy4vZHJpbGxhYmxlL2RyaWxsYWJsZS9kcmlsbGFibGUuY29tcG9uZW50JztcbmltcG9ydCB7IENvbWJvY2hhcnRDb21wb25lbnQgfSBmcm9tICcuL2NvbWJvY2hhcnQvY29tYm9jaGFydC5jb21wb25lbnQnO1xuaW1wb3J0IHsgSGlzdG9ncmFtQ29tcG9uZW50IH0gZnJvbSAnLi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBNdWx0aWFyZWFDb21wb25lbnQgfSBmcm9tICcuL211bHRpYXJlYS9tdWx0aWFyZWEuY29tcG9uZW50JztcbmltcG9ydCB7IFNjYXR0ZXJjaGFydENvbXBvbmVudCB9IGZyb20gJy4vc2NhdHRlcmNoYXJ0L3NjYXR0ZXJjaGFydC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tDb21wb25lbnQgfSBmcm9tICcuL2NhbmRsZXN0aWNrL2NhbmRsZXN0aWNrLmNvbXBvbmVudCc7XG5pbXBvcnR7QnViYmxlQ29tcG9uZW50fSBmcm9tICcuL2J1YmJsZS9idWJibGUvYnViYmxlLmNvbXBvbmVudCc7XG5pbXBvcnR7QW1leGlvRDNUaW1lbGluZUNoYXJ0Q29tcG9uZW50fSBmcm9tICcuL3RpbWVsaW5lL3RpbWVsaW5lLmNvbXBvbmVudCdcbmV4cG9ydCBjb25zdCBEM19DT01QT05FTlRTIDogYW55W10gPSBbXG4gIEFtZXhpb0QzTGVnZW5kLFxuICBBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50LFxuICBBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50LFxuICBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50LFxuICBBbWV4aW9EM0xpbmVDb21wb25lbnQsXG4gIEJhcnN0YWNrQ29tcG9uZW50LFxuICBHcm91cGJhckNvbXBvbmVudCxcbiAgQ29tYm9jaGFydENvbXBvbmVudCxcbiAgRHJpbGxhYmxlQ29tcG9uZW50LFxuICBIaXN0b2dyYW1Db21wb25lbnQsXG4gIE11bHRpYXJlYUNvbXBvbmVudCxcbiAgU2NhdHRlcmNoYXJ0Q29tcG9uZW50LFxuICBDYW5kbGVzdGlja0NvbXBvbmVudCxcbiAgQnViYmxlQ29tcG9uZW50LFxuICBBbWV4aW9EM1RpbWVsaW5lQ2hhcnRDb21wb25lbnRcbl1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEM19DT01QT05FTlRTIH0gZnJvbSAnLi9hbWV4aW8tY2hhcnQtZDMtY29tcG9uZW50cyc7XG5pbXBvcnQge0Zvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyAgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydHtEZXZpY2VRdWVyeVNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnXG5cbmV4cG9ydCAqIGZyb20gJy4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgQ29tbW9uTW9kdWxlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICBdLFxuIFxuICBkZWNsYXJhdGlvbnM6IEQzX0NPTVBPTkVOVFMsXG4gIHByb3ZpZGVyczogW0RldmljZVF1ZXJ5U2VydmljZV0sXG4gIGV4cG9ydHM6IEQzX0NPTVBPTkVOVFNcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvQ2hhcnREM01vZHVsZSB7IH1cbiAgICAgICAgICAgICAgICJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJ0c2xpYl8xLl9fdmFsdWVzIiwiZDMiLCJPdXRwdXQiLCJJbnB1dCIsIkh0dHBIZWFkZXJzIiwiSW5qZWN0YWJsZSIsIkh0dHBDbGllbnQiLCJpc1BsYXRmb3JtQnJvd3NlciIsIkluamVjdCIsIlBMQVRGT1JNX0lEIiwidHNsaWJfMS5fX2V4dGVuZHMiLCJkMy5hcmMiLCJkMy5waWUiLCJkMy5zZWxlY3QiLCJkMy5ldmVudCIsIkNvbXBvbmVudCIsIkNoYW5nZURldGVjdG9yUmVmIiwiVmlld0NoaWxkIiwiZDMuc2NhbGVCYW5kIiwiZDMuc2NhbGVMaW5lYXIiLCJkMy5tYXgiLCJkMy5heGlzQm90dG9tIiwiZDMuYXhpc0xlZnQiLCJkMy5zY2FsZVBvaW50IiwiZDMubGluZSIsImQzLnN0YWNrIiwiZDMuc3RhY2tPZmZzZXREaXZlcmdpbmciLCJkMy5taW4iLCJkMy5zY2FsZU9yZGluYWwiLCJkMy5zY2hlbWVDYXRlZ29yeTEwIiwiZDMuem9vbSIsImQzLmFyZWEiLCJkMy5zY2FsZVNxcnQiLCJkMy5zY2FsZVRpbWUiLCJDb250ZW50Q2hpbGRyZW4iLCJOZ01vZHVs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