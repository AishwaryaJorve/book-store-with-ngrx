import { __values, __read, __extends } from 'tslib';
import { Input, Output, EventEmitter, Injectable, Component, NgModule, ViewChild, defineInjectable, inject, ContentChildren, ChangeDetectorRef, Inject, PLATFORM_ID } from '@angular/core';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { isPlatformBrowser, CommonModule } from '@angular/common';
import * as d3 from 'd3';
import { scaleBand, scaleLinear, max, select, axisBottom, axisLeft, event as event$1, scaleTime, scaleSqrt, min, zoom, stack, stackOffsetDiverging, scalePoint, scaleOrdinal, schemeCategory10, line, area, arc, pie } from 'd3';
import { FormsModule } from '@angular/forms';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var AmexioD3BaseChartComponent = /** @class */ (function () {
    function AmexioD3BaseChartComponent(charttype) {
        this.onLegendClick = new EventEmitter();
        this.onChartClick = new EventEmitter();
        this.onLineClick = new EventEmitter();
        this.drillableEvent = new EventEmitter();
        this.data = [];
        this.legend = true;
        this.height = "300";
        this.width = "300";
        this.title = "";
        this.labelcolor = "black";
        this.labelflag = false;
        this.level = 0;
        this.drillabledatakey = [];
        this.hScale = true;
        this.vScale = false;
        this.resizeflag = false;
        //-------------------
        this.drillableFlag = true;
        this.possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcddefghijklmonpqrstuvwxyz";
        this.colorIndex = 0;
        this.colors = [];
        this.charttype = charttype;
        this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        this.componentId = this.charttype + "-" + this.generateId();
    }
    /**
     * @protected
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.initializeData = /**
     * @protected
     * @return {?}
     */
    function () {
        var _this = this;
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            element.color = _this.getColor(element);
        }));
    };
    /**
     * @protected
     * @param {?} data
     * @param {?} drillablekeys
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.getMultipleDrillbleKeyData = /**
     * @protected
     * @param {?} data
     * @param {?} drillablekeys
     * @return {?}
     */
    function (data, drillablekeys) {
        /** @type {?} */
        var nodeObject = {};
        if (data) {
            for (var index = 0; index < drillablekeys.length; index++) {
                /** @type {?} */
                var element = drillablekeys[index];
                try {
                    for (var _a = __values(Object.entries(data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key == element) {
                            nodeObject[key] = value;
                        }
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }
            return nodeObject;
        }
        var e_1, _d;
    };
    /**
     * @private
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.generateId = /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var id = "";
        for (var i = 0; i < 5; i++) {
            id = id + this.possible
                .charAt(Math.floor(Math.random() * this.possible.length));
        }
        id = id + "-" + new Date().getTime();
        return id;
    };
    /**
     * @private
     * @param {?} object
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.getColor = /**
     * @private
     * @param {?} object
     * @return {?}
     */
    function (object) {
        if (object.color) {
            return object.color;
        }
        else if (this.colors.length > this.colorIndex) {
            /** @type {?} */
            var color = this.colors[this.colorIndex];
            this.colorIndex++;
            return color;
        }
        else if ((this.colors.length > 0) && (this.colors.length <= this.colorIndex)) {
            this.colorIndex = 0;
            /** @type {?} */
            var color = this.colors[this.colorIndex];
            return color;
        }
        else {
            /** @type {?} */
            var color = this.predefinedcolors[this.colorIndex];
            this.colorIndex++;
            return color;
        }
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.legendClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onLegendClick.emit(node);
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.chartClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onChartClick.emit(node);
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.comboLineClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onLineClick.emit(node);
    };
    /**
     * @param {?} ref
     * @param {?} node
     * @param {?} event
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.fordrillableClick = /**
     * @param {?} ref
     * @param {?} node
     * @param {?} event
     * @return {?}
     */
    function (ref, node, event) {
        this.drillableEvent.emit({ ref: ref, node: node, event: event });
    };
    /**
     * @protected
     * @param {?} d3
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.toolTip = /**
     * @protected
     * @param {?} d3
     * @return {?}
     */
    function (d3$$1) {
        return d3$$1.select("body")
            .append("div")
            .attr('id', 'tooltipid')
            .attr('class', 'amexiod3tooltip')
            .style("position", "absolute")
            .style("z-index", "10")
            .style("fill", "black")
            .style("visibility", "hidden");
    };
    /**
     * @protected
     * @param {?} tooltipdata
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.toolTipContent = /**
     * @protected
     * @param {?} tooltipdata
     * @return {?}
     */
    function (tooltipdata) {
        /** @type {?} */
        var tooltiphtml = "<table>";
        for (var key in tooltipdata) {
            if (tooltipdata.hasOwnProperty(key)) {
                /** @type {?} */
                var value = tooltipdata[key];
                tooltiphtml = tooltiphtml + "<tr>";
                //------------------
                //   tooltiphtml = tooltiphtml + "<td>";
                //   tooltiphtml = tooltiphtml + key+':';
                //   tooltiphtml = tooltiphtml + "</td>";
                //------------------
                tooltiphtml = tooltiphtml + "<td>";
                tooltiphtml = tooltiphtml + value;
                tooltiphtml = tooltiphtml + "</td>";
                tooltiphtml = tooltiphtml + "</tr>";
            }
        }
        tooltiphtml = tooltiphtml + "</table>";
        return tooltiphtml;
    };
    /**
     * @protected
     * @param {?} legend
     * @param {?} xaxis
     * @param {?} yaxis
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.toolTipWithLegendandAxis = /**
     * @protected
     * @param {?} legend
     * @param {?} xaxis
     * @param {?} yaxis
     * @return {?}
     */
    function (legend, xaxis, yaxis) {
        /** @type {?} */
        var tooltiphtml = "<div>";
        tooltiphtml = tooltiphtml + "<b>" + xaxis + "</b>, ";
        tooltiphtml = tooltiphtml + legend + "</b> ";
        tooltiphtml = tooltiphtml + "<b>" + yaxis + "</b> ";
        tooltiphtml = tooltiphtml + "</div>";
        return tooltiphtml;
    };
    /**
     * @protected
     * @param {?} tooltipData
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.toolTipForBar = /**
     * @protected
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var tooltiphtml = "<div>";
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                /** @type {?} */
                var sideStyle = "float:left";
                tooltiphtml = tooltiphtml + "<div>";
                tooltiphtml = tooltiphtml + "<span style =" + sideStyle + " ><b>" + key + " " + "</b>" + value + "</br></span>";
                tooltiphtml = tooltiphtml + "</div>";
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return tooltiphtml;
        var e_2, _d;
    };
    AmexioD3BaseChartComponent.propDecorators = {
        onLegendClick: [{ type: Output }],
        onChartClick: [{ type: Output }],
        onLineClick: [{ type: Output }],
        drillableEvent: [{ type: Output }],
        data: [{ type: Input, args: ['data',] }],
        httpurl: [{ type: Input, args: ['http-url',] }],
        httpmethod: [{ type: Input, args: ['http-method',] }],
        legend: [{ type: Input, args: ['legend',] }],
        colors: [{ type: Input, args: ['color',] }],
        height: [{ type: Input, args: ['height',] }],
        width: [{ type: Input, args: ['width',] }],
        title: [{ type: Input, args: ['title',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }],
        vScale: [{ type: Input, args: ['vertical-scale',] }]
    };
    return AmexioD3BaseChartComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var CommanDataService = /** @class */ (function () {
    function CommanDataService(http) {
        this.http = http;
    }
    /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @return {?}
     */
    CommanDataService.prototype.fetchUrlData = /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @return {?}
     */
    function (serviceUrl, methodType) {
        /** @type {?} */
        var requestJson = {};
        /** @type {?} */
        var headers = new HttpHeaders().append('Content-Type', 'application/json;charset=UTF-8');
        if (methodType === 'post') {
            return this.http.post(serviceUrl, requestJson, { headers: headers });
        }
        else if (methodType === 'get') {
            return this.http.get(serviceUrl, { headers: headers });
        }
    };
    /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @param {?} requestJson
     * @return {?}
     */
    CommanDataService.prototype.postfetchData = /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @param {?} requestJson
     * @return {?}
     */
    function (serviceUrl, methodType, requestJson) {
        /** @type {?} */
        var headers = new HttpHeaders().append('Content-Type', 'application/json;charset=UTF-8');
        if (methodType === 'post') {
            return this.http.post(serviceUrl, requestJson, { headers: headers });
        }
        else if (methodType === 'get') {
            return this.http.get(serviceUrl, { headers: headers });
        }
    };
    CommanDataService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    CommanDataService.ctorParameters = function () { return [
        { type: HttpClient }
    ]; };
    /** @nocollapse */ CommanDataService.ngInjectableDef = defineInjectable({ factory: function CommanDataService_Factory() { return new CommanDataService(inject(HttpClient)); }, token: CommanDataService, providedIn: "root" });
    return CommanDataService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var DeviceQueryService = /** @class */ (function () {
    function DeviceQueryService(platformId) {
        this.platformId = platformId;
        this.rules = {
            print: 'print',
            screen: 'screen',
            phone: '(max-width: 767px)',
            tablet: '(min-width: 768px) and (max-width: 1024px)',
            desktop: '(min-width: 1025px)',
            portrait: '(orientation: portrait)',
            landscape: '(orientation: landscape)',
            retina: '(-webkit-min-device-pixel-ratio: 2) and (min-resolution: 192dpi)',
        };
        this.Check = (/**
         * @param {?} mq
         * @return {?}
         */
        function (mq) {
            if (isPlatformBrowser(this.platformId)) {
                if (!mq) {
                    return;
                }
                return window.matchMedia(mq).matches;
            }
            else {
                return;
            }
        });
        this.IsTablet = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.tablet).matches;
            }
            else {
                return null;
            }
        });
        this.IsDesktop = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.desktop).matches;
            }
            else {
                return null;
            }
        });
        this.IsPortrait = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.portrait).matches;
            }
            else {
                return null;
            }
        });
        this.IsLandscape = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.landscape).matches;
            }
            else {
                return null;
            }
        });
        this.IsRetina = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.retina).matches;
            }
            else {
                return null;
            }
        });
        this.browserWindow = (/**
         * @return {?}
         */
        function () {
            return window;
        });
    }
    /**********************************************
     METHODS FOR CHECKING TYPE
     **********************************************/
    /**
     * *******************************************
     * METHODS FOR CHECKING TYPE
     * ********************************************
     * @return {?}
     */
    DeviceQueryService.prototype.IsPhone = /**
     * *******************************************
     * METHODS FOR CHECKING TYPE
     * ********************************************
     * @return {?}
     */
    function () {
        if (isPlatformBrowser(this.platformId)) {
            return window.matchMedia(this.rules.phone).matches;
        }
        else {
            return null;
        }
    };
    /**********************************************
     EVENT LISTENERS BY TYPE
     **********************************************/
    /**
     * *******************************************
     * EVENT LISTENERS BY TYPE
     * ********************************************
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnPhone = /**
     * *******************************************
     * EVENT LISTENERS BY TYPE
     * ********************************************
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.phone);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnTablet = /**
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.tablet);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnDesktop = /**
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.desktop);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnPortrait = /**
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.portrait);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnLandscape = /**
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.landscape);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @param {?} mql
     * @return {?}
     */
    DeviceQueryService.prototype.mqlMethod = /**
     * @param {?} callBack
     * @param {?} mql
     * @return {?}
     */
    function (callBack, mql) {
        mql.addListener((/**
         * @param {?} mql1
         * @return {?}
         */
        function (mql1) {
            if (mql1.matches) {
                callBack(mql);
            }
        }));
    };
    DeviceQueryService.decorators = [
        { type: Injectable },
    ];
    DeviceQueryService.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }
    ]; };
    return DeviceQueryService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var AmexioD3DounutChartComponent = /** @class */ (function (_super) {
    __extends(AmexioD3DounutChartComponent, _super);
    function AmexioD3DounutChartComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'DONUTCHART') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.pie = false;
        _this.svgwidth = 300;
        _this.svgheight = 300;
        _this.desktoplegend = false;
        _this.mobilelegend = false;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.legendArray = [];
        return _this;
    }
    /**
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    resp_1 = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.drawChart();
                        // this.data = this.getResponseData(resp);
                        _this.transformData(_this.data);
                        _this.initializeData();
                        _this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData(_this.data);
                    _this.initializeData();
                    _this.plotD3Chart();
                }), 0);
            }
        }
        else {
            this.fetchData(this.drillData);
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        /** @type {?} */
        var resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                resp = response;
                _this.response = resp;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.drillableFlag = true;
            _this.initializeData();
            _this.plotD3Chart();
        }), 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.formLegendData();
        //this.transformData(this.data);
        //  this.data = this.transformeddata;
        /** @type {?} */
        var outerRadius = 0;
        /** @type {?} */
        var innerRadius = 0;
        outerRadius = this.svgwidth / 2;
        innerRadius = this.svgwidth / 4;
        if (this.pie) {
            innerRadius = 0;
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var arc$$1 = arc()
            .outerRadius(outerRadius)
            .innerRadius(innerRadius);
        /** @type {?} */
        var pie$$1 = pie()
            .value((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return d[Object.keys(d)[1]];
            //  return d.value
        }));
        this.svg = select("#" + this.componentId)
            .append('g')
            .attr('transform', 'translate(' + this.svgwidth / 2 + ',' + this.svgheight / 2 + ')')
            .selectAll('path')
            .data(pie$$1(this.data))
            .enter();
        if (this.device.IsDesktop() == true) {
            this.desktoplegend = true;
            this.mobilelegend = false;
        }
        // else{
        //        if(this.device.IsPhone()==true && this.device.IsTablet()==true)
        //        {
        //             this.desktoplegend=false;
        //             this.mobilelegend=true;
        //        }
        // }
        /** @type {?} */
        var path = this.svg.append('path')
            .attr('d', arc$$1)
            .attr('fill', (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        function (d, i) {
            if (d.data.color) {
                return d.data.color;
            }
            else {
                return "black";
            }
            //  return (d && d.data && d.data.color) ? d.data.color : "black"
        }))
            .attr('cursor', 'pointer')
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.html(_this.formTooltipData(d.data)
            //  this.formLegendData(d.data)
            // this.toolTipContent(d.data)
            )
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.DonutChartClick(d.data);
            _this.fordrillableClick(_this, d.data, event);
            return tooltip.style("visibility", "hidden");
            //this.chartClick(d.data);
        }));
        if (this.labelflag) {
            /** @type {?} */
            var text = this.svg.append("text")
                .transition()
                .duration(200)
                .attr("transform", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return "translate(" + arc$$1.centroid(d) + ")";
            }))
                .attr("text-anchor", "middle")
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return d.data[Object.keys(d.data)[1]];
                //return d.data.value;
            }))
                .style('fill', (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.labelcolor && _this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
                // return (d && d.data && d.data.textcolor) ? d.data.textcolor : "black";
            }))
                .style('font-size', '12px');
        }
    };
    /**
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendArray = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var legendobject = {};
            legendobject['label'] = element[Object.keys(element)[0]];
            legendobject['value'] = element[Object.keys(element)[1]];
            legendobject['color'] = element.color;
            _this.legendArray.push(legendobject);
        }));
    };
    /**
     * @param {?} legendevent
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.onDonutLegendClick = /**
     * @param {?} legendevent
     * @return {?}
     */
    function (legendevent) {
        /** @type {?} */
        var obj = {};
        //  obj['label'] = legendevent.label;
        //  obj['value'] = legendevent.value 
        obj[this.keyArray[0]] = legendevent.label;
        obj[this.keyArray[1]] = legendevent.value;
        //delete event.color;
        this.legendClick(obj);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                })); //inner for loop ends
                _this.transformeddata.push(DummyObject_1);
            } //if ends
        })); //outer for loop ends
        this.data = this.transformeddata;
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color' && key != 'textcolor') {
                    object[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return this.toolTipForBar(object);
        var e_2, _d;
    };
    /**
     * @param {?} event
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.DonutChartClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        this.chartClick(object);
        var e_3, _d;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.resize = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.desktoplegend = false;
        this.mobilelegend = true;
        this.plotD3Chart();
    };
    AmexioD3DounutChartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-donut',
                    template: "<div *ngIf=\"drillableFlag\" #chartId (window:resize)=\"resize($event)\">\n    <div *ngIf=\"data.length > 0\">\n\n  \n    <div colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \">\n        {{title}}\n    </div>\n    <div [ngClass]=\"'donutcss'\">\n        <svg preserveAspectRatio=\"xMinYMin meet\" viewBox=\"0 0 300 300\" [attr.height]=\"height\" [attr.width]=\"width\" [attr.id]=\"componentId\">\n        </svg>\n        <div>\n\n            <div style=\"display: block; padding: 1%;\">\n                <div *ngIf=\"desktoplegend\">\n                    <amexio-d3-legend *ngIf=\"legend\" (onClick)=\"onDonutLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\"></amexio-d3-legend>\n                </div>\n                <div *ngIf=\"mobilelegend\">\n                    <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onDonutLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\"></amexio-d3-legend>\n                </div>\n            </div>\n        </div>\n        <!--  -->\n        <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n            </div>\n\n        </div>",
                    styles: [".donutcss{display:flex;flex-direction:row}@media screen and (max-width:1024px){.donutcss{display:flex;flex-direction:column}}"]
                },] },
    ];
    AmexioD3DounutChartComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    AmexioD3DounutChartComponent.propDecorators = {
        pie: [{ type: Input, args: ['pie',] }],
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }],
        drillData: [{ type: Input }]
    };
    return AmexioD3DounutChartComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var AmexioD3PieChartComponent = /** @class */ (function () {
    function AmexioD3PieChartComponent() {
        this.data = [];
        this.onLegendClick = new EventEmitter();
        this.onChartClick = new EventEmitter();
        this.drillableEvent = new EventEmitter();
        this.legend = true;
        this.colors = [];
        this.width = "300";
        this.height = "300";
        this.title = "";
        this.level = 0;
        this.labelcolor = "black";
        this.labelflag = false;
        this.drillableFlag = true;
    }
    /**
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.legendClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onLegendClick.emit(node);
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.chartClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onChartClick.emit(node);
    };
    /**
     * @param {?} ref
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.fordrillableClick = /**
     * @param {?} ref
     * @return {?}
     */
    function (ref) {
        this.drillableEvent.emit(ref);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.drillData = data;
    };
    /**
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        this.donutref.drillableFlag = true;
        this.donutref.drawChart();
    };
    AmexioD3PieChartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-pie',
                    template: "<div   *ngIf=\"drillableFlag\">\n<amexio-d3-chart-donut #id (onLegendClick)=\"legendClick($event)\" \n                       (onChartClick)=\"chartClick($event)\" \n                       (drillableEvent)=\" fordrillableClick($event)\"\n                        [height]=\"height\"\n                        [width]=\"width\"\n                        [title]=\"title\"\n                        [data] = \"data\"\n                        [pie]  = \"true\"\n                        [color]=\"colors\"\n                        [http-url]=\"httpurl\"\n                        [http-method]=\"httpmethod\"\n                        [data-reader]=\"datareader\"\n                        [label]=\"labelflag\"\n                        [label-color]=\"labelcolor\"\n                        [level]=\"level\"\n                        [target]=\"target\"\n                        [drillable-data]=\"drillabledatakey\"\n                        [drillData]=\"drillData\">\n</amexio-d3-chart-donut>\n</div>\n"
                },] },
    ];
    AmexioD3PieChartComponent.propDecorators = {
        data: [{ type: Input, args: ['data',] }],
        onLegendClick: [{ type: Output }],
        onChartClick: [{ type: Output }],
        drillableEvent: [{ type: Output }],
        donutref: [{ type: ViewChild, args: ['id',] }],
        legend: [{ type: Input }],
        colors: [{ type: Input, args: ['color',] }],
        width: [{ type: Input, args: ['width',] }],
        height: [{ type: Input, args: ['height',] }],
        title: [{ type: Input }],
        httpurl: [{ type: Input, args: ['http-url',] }],
        httpmethod: [{ type: Input, args: ['http-method',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }]
    };
    return AmexioD3PieChartComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var AmexioD3Legend = /** @class */ (function () {
    function AmexioD3Legend() {
        this.horizontal = false;
        this.temparr = [];
        this.onClick = new EventEmitter();
    }
    /**
     * @return {?}
     */
    AmexioD3Legend.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.data = this.data;
        this.temparr = this.data;
    };
    /**
     * @return {?}
     */
    AmexioD3Legend.prototype.ngOnChanges = /**
     * @return {?}
     */
    function () {
        // debugger;
        // window.location.reload();
        this.data = this.data;
        this.temparr = this.data;
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3Legend.prototype.onLegendClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onClick.emit(node);
    };
    AmexioD3Legend.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-legend',
                    template: "<div style =\" width: 100% ; padding-left: 20px; padding-top: 8px; \">\n<table *ngIf=\"!horizontal\" style=\"height: 100%;\">\n    <tr *ngFor = \"let node of data\" style=\"cursor: pointer;\" (click)=\"onLegendClick(node)\">\n        <td style=\"height: 10px; width: 23px; padding-left: 2px;\"\n            [ngStyle]=\"{'background-color': node.color}\"></td>\n        <td>{{node.label}}</td>\n    </tr>\n</table>\n</div>\n\n<table *ngIf=\"horizontal\" style=\"height: 100%;\">\n    <tr>\n        <td *ngFor = \"let node of data\" \n                    (click)=\"onLegendClick(node)\" \n                    style=\"cursor: pointer;\">\n            \n            <div style=\" display: inline-block; display: inline-block; padding: 2px;\">\n                    <div style=\" width: 10px; display: inline-block; padding: 2px; \" \n                    [ngStyle]=\"{'background-color': node.color}\"></div>\n                {{node.label}}\n            </div>\n        </td>\n        \n    </tr>\n</table>\n\n<br>\n "
                },] },
    ];
    AmexioD3Legend.ctorParameters = function () { return []; };
    AmexioD3Legend.propDecorators = {
        data: [{ type: Input, args: ['data',] }],
        horizontal: [{ type: Input, args: ['horizontal',] }],
        onClick: [{ type: Output }]
    };
    return AmexioD3Legend;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var AmexioD3BarChartComponent = /** @class */ (function (_super) {
    __extends(AmexioD3BarChartComponent, _super);
    function AmexioD3BarChartComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'bar') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgheight = 300;
        _this.horizontal = false;
        _this.labelcolor = "black";
        _this.labelflag = false;
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.hScale = true;
        _this.showzeroflag = true;
        _this._data = [];
        _this.resizeflag = false;
        _this.drillableFlag = true;
        _this.colorflag = false;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.legendArray = [];
        _this.firstloading = false;
        _this.inc = 0;
        _this.isChartInit = false;
        return _this;
    }
    Object.defineProperty(AmexioD3BarChartComponent.prototype, "data", {
        get: /**
         * @return {?}
         */
        function () {
            return this._data;
        },
        // private _data: any = [];
        set: 
        // private _data: any = [];
        /**
         * @param {?} v
         * @return {?}
         */
        function (v) {
            if (v && (v.length > 0)) {
                this._data = v;
                // if(this.isChartInit){
                //   this.resize();
                // }
                // if (this.data) {
                // setTimeout(() => {
                //   this.data = this.getResponseData(this.data);
                //   this.transformData(this.data)
                //   this.initializeData();
                //   this.plotD3Chart();
                // }, 0);
                // }
                // this.cdf.detectChanges();
                // this.formLegendData();
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    resp_1 = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.data = _this.getResponseData(resp_1);
                        // this.drawChart();
                        _this.transformData(_this.data);
                        _this.initializeData();
                        _this.plotD3Chart();
                        _this.isChartInit = true;
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData(_this.data);
                    _this.initializeData();
                    _this.plotD3Chart();
                    _this.isChartInit = true;
                }), 0);
            }
        }
    };
    // Fetch Data
    // Fetch Data
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.fetchData = 
    // Fetch Data
    /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        /** @type {?} */
        var resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                resp = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.initializeData();
            _this.plotD3Chart();
        }), 0);
    };
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.ngOnChanges = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // console.log("repeat");
        if (this.inc > 1) {
            if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData(_this.data);
                    _this.initializeData();
                    _this.plotD3Chart();
                }), 500);
            }
            this.formLegendData();
        }
        this.inc++;
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.formLegendData();
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var margin = { top: 20, right: 60, bottom: 40, left: 60 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        //RESIZE STEP 2 START
        // this.svg.selectAll("*").remove();
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight);
        this.svg.selectAll("*").remove();
        // this.svg.exit().remove();//remove unneeded circles
        //RESIZE STEP 2 ENDS HERE
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        /** @type {?} */
        var g = this.svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        // vertical bar
        if (this.horizontal == false) {
            // this.svg.selectAll("*").remove();
            // -----------------------------
            if (this.data) {
                x = scaleBand()
                    .rangeRound([0, width])
                    .padding(0.1);
                //setting content for x and y axis
                x.domain(this.data.map((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return d[Object.keys(d)[0]];
                    //    return d.label
                })));
            }
            //-----------------------------
            if (this.data) {
                y = scaleLinear()
                    .rangeRound([height, 0]);
                y.domain([0, max(this.data, (/**
                     * @param {?} d
                     * @return {?}
                     */
                    function (d) {
                        return d[Object.keys(d)[1]];
                        //return d.value;
                    }))]);
            }
            // add x axis to svg
            if (this.device.IsDesktop() == true) {
                if (this.svgwidth <= 400) {
                    g.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(axisBottom(x)).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                else {
                    g.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(axisBottom(x));
                }
            }
            else {
                g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            //add y axis to svg
            g.append("g")
                .call(axisLeft(y)
                .ticks(this.tickscount));
            this.plotLine(g, x, y, height, width);
            //add bar chart
            g.selectAll(".bar")
                .data(this.data)
                .enter()
                .append("rect")
                .attr("class", "bar")
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x(d[Object.keys(d)[0]]);
                // return x(d.label); 
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return y(d[Object.keys(d)[1]]);
                // return y(d.value); 
            }))
                .attr("cursor", "pointer")
                .attr("width", x.bandwidth())
                .attr("height", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return height - y(d[Object.keys(d)[1]]); }))
                .style("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                // return "blue";
                return d.color;
            }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.formTooltipData(d)
                //  this.toolTipForBar(d)
                // this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.barChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
                //this.chartClick(d);
            }));
            if (this.labelflag) {
                /** @type {?} */
                var yTextPadding = 40;
                this.svg.selectAll(".label")
                    .data(this.data)
                    .enter()
                    .append("text")
                    .style("font-weight", "bold")
                    .style("font-size", "1vw")
                    .attr("text-anchor", "middle")
                    .attr("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    if (_this.labelcolor.length > 0) {
                        if ((_this.labelcolor.length > 0) && d[Object.keys(d)[1]] > 0) {
                            return _this.labelcolor;
                        }
                    }
                    else {
                        return "black";
                    }
                }))
                    .attr("x", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                function (d, i) {
                    return x(d[Object.keys(d)[0]]) + margin.left + x.bandwidth() / 2;
                }))
                    .attr("y", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                function (d, i) {
                    return y(d[Object.keys(d)[1]]) + yTextPadding;
                }))
                    .text((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    // if (d[Object.keys(d)[1]] > 0) {
                    //   return d[Object.keys(d)[1]];
                    // }.
                    if (_this.showzeroflag) {
                        return d[Object.keys(d)[1]];
                    }
                    else if (!_this.showzeroflag) {
                        if (d[Object.keys(d)[1]] > 0) {
                            return d[Object.keys(d)[1]];
                        }
                    }
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.html(_this.formTooltipData(d)
                    //  this.toolTipForBar(d)
                    // this.toolTipContent(d)
                    )
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    _this.barChartClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                    //this.chartClick(d);
                }));
            } //if ends fr 
        }
        else if (this.horizontal == true) {
            if (this.data) {
                x = scaleLinear()
                    .rangeRound([0, width]);
                //setting content for x and y axis
                x.domain([0, max(this.data, (/**
                     * @param {?} d
                     * @return {?}
                     */
                    function (d) {
                        return parseInt(d[Object.keys(d)[1]]
                        // d.value
                        );
                    }))]);
                // d[Object.keys(d)[1]]
                y = scaleBand()
                    .rangeRound([height, 0]).padding(0.1);
                y.domain(this.data.map((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return d[Object.keys(d)[0]];
                    //return d.label;
                })));
            }
            // add x axis to svg
            g.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x).ticks(this.xtickscount));
            //add y axis to svg
            g.append("g")
                .call(axisLeft(y).ticks(this.tickscount));
            this.plotLine(g, x, y, height, width);
            //add bar chart
            g.selectAll(".bar")
                .data(this.data)
                .enter()
                .append("rect")
                .attr("class", "bar")
                .attr("x", 0)
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return y(d[Object.keys(d)[0]]
                // d.label
                );
            }))
                .attr("cursor", "pointer")
                .attr("width", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x(d[Object.keys(d)[1]]
                // d.value
                );
            }))
                .attr("height", y.bandwidth())
                .style("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d.color; }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.formTooltipData(d)
                // this.formLegendData(d)
                // this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.barChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
                //this.chartClick(d);
            }));
            if (this.labelflag) {
                /** @type {?} */
                var yTextPadding_1 = 40;
                this.svg.selectAll(".label")
                    .data(this.data)
                    .enter()
                    .append("text")
                    .style("font-weight", "bold")
                    .attr("text-anchor", "middle")
                    .attr("vertical-align", "middle")
                    .attr("margin-top", margin.top)
                    .attr("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    if (_this.labelcolor.length > 0) {
                        return _this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                }))
                    .attr("x", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                function (d, i) {
                    return x(d[Object.keys(d)[1]]) + yTextPadding_1;
                }))
                    .attr("y", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                function (d, i) {
                    return y(d[Object.keys(d)[0]])
                        + margin.top + y.bandwidth() / 2;
                }))
                    .text((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    // return d[Object.keys(d)[1]];
                    if (_this.showzeroflag) {
                        return d[Object.keys(d)[1]];
                    }
                    else if (!_this.showzeroflag) {
                        if (d[Object.keys(d)[1]] > 0) {
                            return d[Object.keys(d)[1]];
                        }
                    }
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.html(_this.formTooltipData(d)
                    // this.formLegendData(d)
                    // this.toolTipContent(d)
                    )
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    _this.barChartClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                    //this.chartClick(d);
                }));
            }
        }
        //else ends(horizontal bar logic ends)
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y).ticks(this.tickscount)
                .tickSize(-width).tickFormat(''));
        }
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat('').ticks(this.xtickscount));
        }
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return this.toolTipForBar(object);
        var e_2, _d;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        if (data && (data.length > 0)) {
            this.transformeddata = [];
            this.keyArray = data[0];
            if (data && (data.length > 0)) {
                data.forEach((/**
                 * @param {?} element
                 * @param {?} index
                 * @return {?}
                 */
                function (element, index) {
                    if (index > 0) {
                        /** @type {?} */
                        var DummyObject_1 = {};
                        element.forEach((/**
                         * @param {?} individualvalue
                         * @param {?} keyindex
                         * @return {?}
                         */
                        function (individualvalue, keyindex) {
                            DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                        })); //inner for loop ends
                        _this.transformeddata.push(DummyObject_1);
                    } //if ends
                })); //outer for loop ends
            }
            this.data = this.transformeddata;
        } //
    };
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendArray = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var legendobject = {};
            legendobject['label'] = element[Object.keys(element)[0]];
            legendobject['value'] = element[Object.keys(element)[1]];
            legendobject['color'] = element.color;
            _this.legendArray.push(legendobject);
        }));
        this.legendArray;
    };
    /**
     * @param {?} legendevent
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.onBarLegendClick = /**
     * @param {?} legendevent
     * @return {?}
     */
    function (legendevent) {
        /** @type {?} */
        var obj = {};
        //  obj['label'] = legendevent.label;
        //  obj['value'] = legendevent.value;
        obj[this.keyArray[0]] = legendevent.label;
        obj[this.keyArray[1]] = legendevent.value;
        //obj[legendevent.label] = legendevent.value;
        //delete event.color;
        this.legendClick(obj);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.barChartClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        this.chartClick(object);
        var e_3, _d;
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 5 STARTS
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 5 STARTS
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.resize = 
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 5 STARTS
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotD3Chart();
    };
    // //RESIZE STEP 5 STARTS
    //   initialresize() {
    //     if (this.wt) {
    //       //RESIZE STEP 3 START
    //       // if(this.firstloading)
    //       // this.svg.selectAll("*").remove();
    //       this.resizeflag = true;
    //       if (this.svgwidth) {
    //         this.svgwidth = this.svgwidth;
    //       } else if (this.chartId) {
    //         this.svgwidth = this.chartId.nativeElement.offsetWidth;
    //       }
    //       //RESIZE STEP 3 ENDS
    //       // this.svgwidth = this.divid.nativeElement.offsetWidth;
    //       this.cdf.detectChanges();
    //       this.plotD3Chart();
    //     }
    //     this.firstloading = false;
    //   }
    // //RESIZE STEP 5 ENDS
    // //RESIZE STEP 5 STARTS
    //   initialresize() {
    //     if (this.wt) {
    //       //RESIZE STEP 3 START
    //       // if(this.firstloading)
    //       // this.svg.selectAll("*").remove();
    //       this.resizeflag = true;
    //       if (this.svgwidth) {
    //         this.svgwidth = this.svgwidth;
    //       } else if (this.chartId) {
    //         this.svgwidth = this.chartId.nativeElement.offsetWidth;
    //       }
    //       //RESIZE STEP 3 ENDS
    //       // this.svgwidth = this.divid.nativeElement.offsetWidth;
    //       this.cdf.detectChanges();
    //       this.plotD3Chart();
    //     }
    //     this.firstloading = false;
    //   }
    // //RESIZE STEP 5 ENDS
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.validateData = 
    // //RESIZE STEP 5 STARTS
    //   initialresize() {
    //     if (this.wt) {
    //       //RESIZE STEP 3 START
    //       // if(this.firstloading)
    //       // this.svg.selectAll("*").remove();
    //       this.resizeflag = true;
    //       if (this.svgwidth) {
    //         this.svgwidth = this.svgwidth;
    //       } else if (this.chartId) {
    //         this.svgwidth = this.chartId.nativeElement.offsetWidth;
    //       }
    //       //RESIZE STEP 3 ENDS
    //       // this.svgwidth = this.divid.nativeElement.offsetWidth;
    //       this.cdf.detectChanges();
    //       this.plotD3Chart();
    //     }
    //     this.firstloading = false;
    //   }
    // //RESIZE STEP 5 ENDS
    /**
     * @return {?}
     */
    function () {
        if (this.data) ;
        else {
            return "lmask";
        }
    };
    AmexioD3BarChartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-bar',
                    template: "<div #chartId *ngIf=\"drillableFlag \" #divid (window:resize)=\"validateresize()\">\n    <table [ngClass]=\"validateData()\" style=\"width: 100%;\" position=\" relative\">\n        <ng-container *ngIf=\"title.length > 0\">\n            <tr>\n                <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n            </tr>\n        </ng-container>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onBarLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n                </amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n    <!-- <table *ngIf=\"!(data && data.length >0)\" class=\"lmask\">\n        \n    </table > -->\n    <!-- <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div> -->\n\n</div>"
                },] },
    ];
    AmexioD3BarChartComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    AmexioD3BarChartComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        horizontal: [{ type: Input }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }],
        DOM: [{ type: ViewChild, args: ['domref',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        xtickscount: [{ type: Input, args: ['xaxis-interval',] }],
        showzeroflag: [{ type: Input, args: ['show-zero-values',] }],
        _data: [{ type: Input, args: ['data',] }]
    };
    return AmexioD3BarChartComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var AmexioD3BaseLineComponent = /** @class */ (function (_super) {
    __extends(AmexioD3BaseLineComponent, _super);
    function AmexioD3BaseLineComponent(deviceQueryService) {
        var _this = _super.call(this, 'line') || this;
        _this.deviceQueryService = deviceQueryService;
        _this._data = [];
        _this.xarr = [];
        _this.displayindex = 0;
        _this.svgheight = 300;
        // @Input('xaxis-interval') xtickscount: number = 3;
        _this.linecolor = [];
        _this.slant = false;
        return _this;
    }
    Object.defineProperty(AmexioD3BaseLineComponent.prototype, "data", {
        get: /**
         * @return {?}
         */
        function () {
            return this._data;
        },
        set: /**
         * @param {?} v
         * @return {?}
         */
        function (v) {
            this._data = v;
            if (this._data && (this._data.length > 0)) {
                this.createXYAxisData();
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @protected
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.createXYAxisData = /**
     * @protected
     * @return {?}
     */
    function () {
        var _this = this;
        this.labelcolor;
        this.xaxisdata = [];
        this.yaxisdata = [];
        this.multiseriesdata = [];
        this.legenddata = [];
        this.legends = [];
        this.xaxisname = this.data[0][0].label;
        /** @type {?} */
        var msdarray = [];
        /** @type {?} */
        var count = 0
        // ************************************************
        ;
        // ************************************************
        if (this.displayfield) {
            // find displayfield index
            this._data[0].forEach((/**
             * @param {?} element
             * @param {?} index
             * @return {?}
             */
            function (element, index) {
                if (element.label == _this.displayfield) {
                    _this.displayindex = index;
                }
            }));
        }
        // ***********************************************
        for (var index = 0; index < this._data[0].length; index++) {
            /** @type {?} */
            var legend = this._data[0][index];
            msdarray[index] = [];
            /** @type {?} */
            var obj = {};
            obj['label'] = legend.label;
            if ((this.linecolor.length > 0) && this.linecolor[index]) {
                obj['color'] = this.linecolor[index];
            }
            else {
                obj['color'] = this.predefinedcolors[index];
            }
            this.legenddata.push(obj);
            // this.legenddata.push({'label':legend.label,'color':this.predefinedcolors[index+1]});
            if (index > 0) {
                /** @type {?} */
                var obj_1 = {};
                obj_1['label'] = legend.label;
                if ((this.linecolor.length > 0) && this.linecolor[count]) {
                    obj_1['color'] = this.linecolor[count];
                }
                else {
                    obj_1['color'] = this.predefinedcolors[count];
                }
                this.legends.push(obj_1);
                count++;
                // this.legends.push({'label':legend.label,'color':this.predefinedcolors[index]});
            }
        }
        /** @type {?} */
        var i = 0;
        // xaxisdata yaxisdata msdarray is formed here
        this._data.forEach((/**
         * @param {?} object
         * @return {?}
         */
        function (object) {
            if (i > 0) {
                /** @type {?} */
                var j_1 = 0;
                /** @type {?} */
                var xobj_1 = {};
                object.forEach((/**
                 * @param {?} a
                 * @return {?}
                 */
                function (a) {
                    // if (j === 0) {
                    //     this.xaxisdata.push({ 'label': a, 'value': a });
                    // } else {
                    //     this.yaxisdata.push({ 'label': a, 'value': a });
                    // }
                    if ((j_1 > 0) && (j_1 !== _this.displayindex)) {
                        _this.yaxisdata.push({ 'label': a, 'value': a });
                    }
                    if (j_1 == 0) {
                        xobj_1['value'] = a;
                    }
                    if (j_1 == _this.displayindex) {
                        xobj_1['label'] = a;
                    }
                    msdarray[j_1].push(a);
                    j_1++;
                }));
                _this.xaxisdata.push(xobj_1);
            }
            i++;
        }));
        for (var index = 0; index < msdarray.length; index++) {
            /** @type {?} */
            var element = msdarray[index];
            if ((index > 0) && (index !== this.displayindex)) {
                /** @type {?} */
                var md = [];
                for (var j = 0; j < element.length; j++) {
                    /** @type {?} */
                    var v = element[j];
                    md.push({ 'legend': this.legenddata[index].label, 'label': this.xaxisdata[j].label, 'value': v });
                }
                this.multiseriesdata.push(md);
                this.legends[index - 1].data = md;
            }
        }
    };
    /**
     * @param {?} width
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.recalculatescale = /**
     * @param {?} width
     * @return {?}
     */
    function (width) {
        var _this = this;
        // consider fontsize to be 10
        this.xaxisdata;
        /** @type {?} */
        var summationwidth = 0;
        if (!this.displayfield) {
            this.xaxisdata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                if (typeof (element.label) == 'string') {
                    summationwidth = summationwidth + (element.label.length * 10);
                }
                if (typeof (element.label) == 'number') {
                    /** @type {?} */
                    var n = _this.findDigitCount(element.label);
                    summationwidth = summationwidth + (n * 10);
                }
            }));
        }
        if (this.displayfield) {
            this.xaxisdata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                // if (typeof (element.label) == 'string') {
                summationwidth = summationwidth + (element.label.length * 10);
                // }
            }));
        }
        if (this.displayfield && this.slant) {
            summationwidth = this.xaxisdata.length * 10;
        }
        if (summationwidth > width) {
            //  function call
            this.calculatexaxisarray(summationwidth, width);
        }
    };
    /**
     * @param {?} summationwidth
     * @param {?} width
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.calculatexaxisarray = /**
     * @param {?} summationwidth
     * @param {?} width
     * @return {?}
     */
    function (summationwidth, width) {
        /** @type {?} */
        var interval = Math.round(summationwidth / width);
        this.generateNewAxis(interval, width);
    };
    /**
     * @param {?} interval
     * @param {?} avlwidth
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.generateNewAxis = /**
     * @param {?} interval
     * @param {?} avlwidth
     * @return {?}
     */
    function (interval, avlwidth) {
        this.xaxisdata;
        /** @type {?} */
        var arr = [];
        /** @type {?} */
        var newarr = [];
        /** @type {?} */
        var min$$1;
        /** @type {?} */
        var max$$1;
        //    make Array out of this.xaxisdata
        this.xaxisdata.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            // if (typeof (element.label) == 'number') {
            arr.push(element.label);
            // }
        }));
        //null check on arr
        if (arr.length > 0) {
            // find min
            min$$1 = Math.min.apply(null, arr);
            //find max
            max$$1 = Math.max.apply(null, arr);
            /** @type {?} */
            var temp = Math.round(avlwidth / 10);
            /** @type {?} */
            var differential = (temp - (temp * 0.2)) / 4;
            //form new arr
            /** @type {?} */
            var j = Math.round(differential);
            //   hjlkllll
            /** @type {?} */
            var i = void 0;
            /** @type {?} */
            var isredundant = false;
            if (!this.displayfield) {
                newarr[0] = min$$1;
                for (i = 1; j < this.xaxisdata.length; i++) {
                    j = Math.round((differential * i) + i);
                    isredundant = this.checkArrayRedundancy(newarr, Math.round(j));
                    if (isredundant) {
                        newarr[i] = Math.round(j + 1);
                    }
                    else {
                        newarr[i] = Math.round(j);
                    }
                }
                this.sortarr(newarr);
            }
            if (this.displayfield) {
                for (i = 0; j < this.xaxisdata.length; i++) {
                    j = Math.round((differential * i) + i);
                    if (this.xaxisdata[j]) {
                        newarr[i] = this.xaxisdata[j].label;
                    }
                    else {
                        if (this.xaxisdata[j + 1]) {
                            newarr[i] = this.xaxisdata[j + 1].label;
                        }
                    }
                }
                this.xarr = newarr;
            }
        }
    };
    /**
     * @param {?} newarr
     * @param {?} chknum
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.checkArrayRedundancy = /**
     * @param {?} newarr
     * @param {?} chknum
     * @return {?}
     */
    function (newarr, chknum) {
        /** @type {?} */
        var inc = 0;
        newarr.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            if (chknum == element) {
                inc++;
            }
        }));
        if (inc > 1) {
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * @param {?} newarr
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.sortarr = /**
     * @param {?} newarr
     * @return {?}
     */
    function (newarr) {
        /** @type {?} */
        var i;
        /** @type {?} */
        var j;
        /** @type {?} */
        var temp;
        for (i = 0; i < newarr.length; ++i) {
            for (j = i + 1; j < newarr.length; ++j) {
                if (newarr[i] > newarr[j]) {
                    temp = newarr[i];
                    newarr[i] = newarr[j];
                    newarr[j] = temp;
                }
            }
        }
        //    newarr;
        this.setXaxisData(newarr);
    };
    /**
     * @param {?} newarr
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.setXaxisData = /**
     * @param {?} newarr
     * @return {?}
     */
    function (newarr) {
        var _this = this;
        this.xarr = newarr;
        // this.xaxisdata.push({label: 125, value: 125});
        // chk if newarr elements are present in xaxisdata
        /** @type {?} */
        var ispresent = false;
        newarr.forEach((/**
         * @param {?} arrelement
         * @return {?}
         */
        function (arrelement) {
            _this.xaxisdata.forEach((/**
             * @param {?} xaxiselement
             * @return {?}
             */
            function (xaxiselement) {
                if (arrelement == xaxiselement.label) {
                    ispresent = true;
                }
            }));
            if (!ispresent) {
                //create & push an obj in xaxisdata
                /** @type {?} */
                var obj = { label: arrelement, value: arrelement };
                _this.xaxisdata.push(obj);
            }
            ispresent = false;
        }));
        //  
        // change arr to arr of objs
        /** @type {?} */
        var xdata = [];
        newarr.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var obj = { label: element, value: element };
            xdata.push(obj);
        }));
        this.xaxisdata;
        this.xaxisdata1 = xdata;
        //initialize xaxis data
    };
    /**
     * @param {?} n
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.findDigitCount = /**
     * @param {?} n
     * @return {?}
     */
    function (n) {
        /** @type {?} */
        var count = 0;
        if (n >= 1)
            ++count;
        while (n / 10 >= 1) {
            n /= 10;
            ++count;
        }
        return count;
    };
    /**
     * @param {?} width
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.setXinterval = /**
     * @param {?} width
     * @return {?}
     */
    function (width) {
        var _this = this;
        /** @type {?} */
        var interval = Math.round(this.xaxisdata.length / this.xinterval);
        /** @type {?} */
        var arr = [];
        /** @type {?} */
        var newarr = [];
        //    make Array out of this.xaxisdata
        this.xaxisdata.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            if (typeof (element.label) == 'number') {
                arr.push(element.label);
            }
        }));
        /** @type {?} */
        var min$$1 = Math.min.apply(null, arr);
        //find max
        /** @type {?} */
        var max$$1 = Math.max.apply(null, arr);
        /** @type {?} */
        var j = interval;
        /** @type {?} */
        var i;
        /** @type {?} */
        var ispresent = false;
        newarr[0] = min$$1;
        // assa
        for (i = 1; j < max$$1; i++) {
            j = interval * i;
            newarr[i] = j;
        }
        // newarr[i] = max;
        //inset numbers which are not present in xaxis domain but present in newarr
        newarr.forEach((/**
         * @param {?} arrelement
         * @return {?}
         */
        function (arrelement) {
            _this.xaxisdata.forEach((/**
             * @param {?} xaxiselement
             * @return {?}
             */
            function (xaxiselement) {
                if (xaxiselement.label == arrelement) {
                    ispresent = true;
                }
            }));
            if (!ispresent) {
                /** @type {?} */
                var obj = { label: arrelement, value: arrelement };
                _this.xaxisdata.push(obj);
            }
            ispresent = false;
        }));
        // this.sortarr(newarr);
        // newarr;
        // this.xaxisdata;
        this.xarr = newarr;
    };
    /**
     * @param {?} width
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.setDisplayfieldXinterval = /**
     * @param {?} width
     * @return {?}
     */
    function (width) {
        /** @type {?} */
        var interval = Math.round(this.xaxisdata.length / this.xinterval);
        /** @type {?} */
        var arr = [];
        /** @type {?} */
        var newarr = [];
        //    make Array out of this.xaxisdata
        this.xaxisdata.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            arr.push(element.label);
        }));
        /** @type {?} */
        var min$$1 = 0;
        /** @type {?} */
        var max$$1 = this.xaxisdata.length - 1;
        /** @type {?} */
        var j = interval;
        /** @type {?} */
        var i;
        newarr[0] = this.xaxisdata[min$$1].label;
        for (i = 1; j < max$$1; i++) {
            newarr[i] = this.xaxisdata[j].label;
            j = interval * i;
        }
        newarr.push(this.xaxisdata[max$$1].label);
        this.xarr = newarr;
    };
    // formatxaxisarr() {
    //     let formattedarr = [];
    //     let temp = '';
    //     if(this.xarr) {
    //     if (typeof (this.xarr[0]) == 'string') {
    //         // treat string
    //         this.xarr.forEach(element => {
    //             if (typeof (element) == 'string') {
    //                 temp = '';
    //                 temp = element[0] + element[1] + '..'
    //                 formattedarr.push(temp)
    //             }
    //         });
    //          this.xarr = formattedarr;
    //     }
    //     if (typeof (this.xarr[0]) == 'number') {
    //         // treat numerials
    //         // wrap numbers
    //     }
    //              }
    // }
    // formatxaxisarr() {
    //     let formattedarr = [];
    //     let temp = '';
    //     if(this.xarr) {
    //     if (typeof (this.xarr[0]) == 'string') {
    //         // treat string
    //         this.xarr.forEach(element => {
    //             if (typeof (element) == 'string') {
    //                 temp = '';
    //                 temp = element[0] + element[1] + '..'
    //                 formattedarr.push(temp)
    //             }
    //         });
    //          this.xarr = formattedarr;
    //     }
    //     if (typeof (this.xarr[0]) == 'number') {
    //         // treat numerials
    //         // wrap numbers
    //     }
    //              }
    // }
    /**
     * @protected
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.initChart = 
    // formatxaxisarr() {
    //     let formattedarr = [];
    //     let temp = '';
    //     if(this.xarr) {
    //     if (typeof (this.xarr[0]) == 'string') {
    //         // treat string
    //         this.xarr.forEach(element => {
    //             if (typeof (element) == 'string') {
    //                 temp = '';
    //                 temp = element[0] + element[1] + '..'
    //                 formattedarr.push(temp)
    //             }
    //         });
    //          this.xarr = formattedarr;
    //     }
    //     if (typeof (this.xarr[0]) == 'number') {
    //         // treat numerials
    //         // wrap numbers
    //     }
    //              }
    // }
    /**
     * @protected
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        //RESIZE STEP 2 START
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight);
        this.svg.selectAll("*").remove();
        /** @type {?} */
        var margin = { top: 40, right: 20, bottom: 30, left: 40 };
        //RESIZE STEP 2 ENDS HERE
        /** @type {?} */
        var width = +this.svgwidth - margin.left - margin.right;
        // this.xaxisdata;
        if (this.xinterval) {
            if (!this.displayfield) {
                this.setXinterval(width);
            }
            if (this.displayfield) {
                this.setDisplayfieldXinterval(width);
            }
        }
        else {
            this.recalculatescale(width);
        }
        /** @type {?} */
        var height = +this.svgheight - margin.top - margin.bottom;
        /** @type {?} */
        var g = this.svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        var x = scalePoint()
            .rangeRound([0, width])
            .padding(0.1);
        /** @type {?} */
        var y = scaleLinear()
            .rangeRound([height, 0]);
        if (this.xaxisdata) {
            x.domain(this.xaxisdata.map((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (typeof (d.label) == 'string') {
                    return d.label;
                }
                else {
                    return parseInt(d.value);
                }
            })));
        }
        if (this.yaxisdata) {
            y.domain([0, max(this.yaxisdata, (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) { return d.value; }))]);
        }
        //add axis
        /** @type {?} */
        var xaxisbottom = axisBottom(x);
        if (this.xarr.length > 0) {
            // if(this.slant) {
            // this.formatxaxisarr();
            //  }
            xaxisbottom.tickValues(this.xarr);
        }
        if (this.deviceQueryService.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xaxisbottom
                // d3.axisBottom(x)
                // .tickValues(this.xarr)
                ).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                /** @type {?} */
                var bottomaxis = g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xaxisbottom);
                if (this.slant) {
                    // this.formatxaxisarr(); 
                    bottomaxis.selectAll("text")
                        .attr("cursor", "pointer")
                        .on("mouseover", (/**
                     * @param {?} d
                     * @return {?}
                     */
                    function (d) {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (/**
                     * @param {?} d
                     * @return {?}
                     */
                    function (d) {
                        return tooltip.html(_this.callXaxisTooltip(d))
                            .style("top", (event$1.pageY - 10) + "px")
                            .style("left", (event$1.pageX + 10) + "px");
                    }))
                        .on("mouseout", (/**
                     * @param {?} d
                     * @return {?}
                     */
                    function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (/**
                     * @param {?} d
                     * @return {?}
                     */
                    function (d) {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(90)")
                        .style("text-anchor", "start")
                        .style("font-size", 10);
                }
            }
        }
        else {
            g.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(xaxisbottom).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start")
                .style("font-size", 10);
        }
        g.append("g")
            .call(axisLeft(y).ticks(this.tickscount));
        // tickSize(0,10));
        /** @type {?} */
        var rawdata = this._data;
        // call function to alter legends if displayfield condn satisfy
        this.alterLegend();
        return {
            g: g, x: x, y: y, height: height, width: width, rawdata: rawdata
        };
        // 
    };
    /**
     * @protected
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.plotScale = /**
     * @protected
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat(''));
        }
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y).ticks(this.tickscount)
                .tickSize(-width).tickFormat(''));
        }
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.legendClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        // const legendNode = JSON.parse(JSON.stringify(node));
        // delete legendNode.color;
        // legendNode.data.forEach(element => {
        //     delete element.legend;
        // });
        var _this = this;
        // const legendNode = JSON.parse(JSON.stringify(node));
        // delete legendNode.color;
        // legendNode.data.forEach(element => {
        //     delete element.legend;
        // });
        /** @type {?} */
        var obj = {};
        obj["label"] = node.label;
        /** @type {?} */
        var data = [];
        node.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var object = {};
            object[element.legend] = element.value;
            object[_this.xaxisname] = element.label;
            //   object[element.label] = element.value;
            data.push(object);
        }));
        obj["data"] = data;
        this.onLegendClick.emit(obj);
        // this.onLegendClick.emit(legendNode);
    };
    /**
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.alterLegend = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.linelegends = [];
        if (this.displayfield) {
            this.legends.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                if (element.label !== _this.displayfield) {
                    _this.linelegends.push(element);
                }
            }));
        }
        else {
            this.linelegends = this.legends;
        }
    };
    /**
     * @param {?} tooltipdata
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.callXaxisTooltip = /**
     * @param {?} tooltipdata
     * @return {?}
     */
    function (tooltipdata) {
        /** @type {?} */
        var obj = {};
        obj['x-axis'] = tooltipdata;
        return this.toolTipForBar(obj);
    };
    AmexioD3BaseLineComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        xinterval: [{ type: Input, args: ['data',] }, { type: Input, args: ['xaxis-interval',] }],
        httpurl: [{ type: Input, args: ['http-url',] }],
        httpmethod: [{ type: Input, args: ['http-method',] }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        linecolor: [{ type: Input, args: ['color',] }],
        displayfield: [{ type: Input, args: ['display-field',] }],
        slant: [{ type: Input, args: ['rotate',] }]
    };
    return AmexioD3BaseLineComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var AmexioD3LineComponent = /** @class */ (function (_super) {
    __extends(AmexioD3LineComponent, _super);
    function AmexioD3LineComponent(deviceQueryService, cdf, myservice) {
        var _this = _super.call(this, deviceQueryService) || this;
        _this.deviceQueryService = deviceQueryService;
        _this.cdf = cdf;
        _this.myservice = myservice;
        _this.labelcolor = '';
        return _this;
    }
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    resp_1 = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.plotD3Chart();
                }), 0);
            }
        }
    };
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.ngOnChanges = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.data) {
            setTimeout((/**
             * @return {?}
             */
            function () {
                _this.data = _this.getResponseData(_this.data);
                _this.plotD3Chart();
            }), 0);
        }
    };
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.validateData = /**
     * @return {?}
     */
    function () {
        if (this.data) ;
        else {
            return "lmask";
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3LineComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        /** @type {?} */
        var resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                resp = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.plotD3Chart();
        }), 0);
    };
    //RESIZE STEP 5 STARTS
    //RESIZE STEP 5 STARTS
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.resize = 
    //RESIZE STEP 5 STARTS
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            // this.resizewt = this.chartId.nativeElement.offsetWidth;
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotD3Chart();
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    AmexioD3LineComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var linechart = this.initChart();
        this.rawdata = linechart.rawdata;
        // this.svgwidth = linechart.width;
        this.plotScale(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width);
        this.plotLine(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width, [], tooltip, (1));
        if (this.multiseriesdata) {
            for (var index = 0; index < this.multiseriesdata.length; index++) {
                this.plotLine(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width, this.multiseriesdata[index], tooltip, (index + 1));
            }
        }
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 4 ENDS
    /**
     * @private
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} data
     * @param {?} tooltip
     * @param {?} i
     * @return {?}
     */
    AmexioD3LineComponent.prototype.plotLine = 
    //RESIZE STEP 4 ENDS
    /**
     * @private
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} data
     * @param {?} tooltip
     * @param {?} i
     * @return {?}
     */
    function (g, x, y, height, width, data, tooltip, i) {
        var _this = this;
        /** @type {?} */
        var line$$1 = line()
            .x((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return x(d.label); }))
            .y((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return y(d.value); }));
        g.append("path")
            .datum(data)
            .attr("fill", "none")
            .attr("stroke", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            if (_this.linecolor.length > 0) {
                if (_this.linecolor[i - 1]) {
                    return _this.linecolor[i - 1];
                }
                else {
                    return _this.predefinedcolors[i - 1];
                }
            }
            else if (_this.linecolor.length < 1) {
                return _this.predefinedcolors[i - 1];
                //  return tempcolor;
            }
        }))
            .attr("stroke-width", 1.5)
            .attr("d", line$$1);
        g.selectAll('dot')
            .data(data)
            .enter()
            .append('circle')
            .attr("cx", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return x(d.label); }))
            .attr("cy", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return y(d.value); }))
            .attr('r', 2)
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            if (_this.linecolor.length > 0) {
                if (_this.linecolor[i - 1]) {
                    return _this.linecolor[i - 1];
                }
                else {
                    return _this.predefinedcolors[i - 1];
                }
            }
            else if (_this.linecolor.length < 1) {
                //  return tempcolor;
                return _this.predefinedcolors[i - 1];
            }
        }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.html(_this.callTooltip(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.lineChartClick(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        //lets plot labels here
        if (this.labelflag) {
            g.selectAll('label')
                .data(data)
                .enter()
                .append('text')
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                // if (this.labelcolor && this.labelcolor.length > 0) {
                //   return this.labelcolor;
                // } else {
                //   return "black";
                // }
                if (_this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else if (_this.linecolor.length > 0) {
                    if (_this.linecolor[i - 1]) {
                        return _this.linecolor[i - 1];
                    }
                    else {
                        return _this.predefinedcolors[i - 1];
                    }
                }
                else if (_this.linecolor.length < 1) {
                    //  return tempcolor;
                    return _this.predefinedcolors[i - 1];
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            function (d, i) {
                return x(d.label);
            }))
                .attr("y", (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            function (d, i) {
                return y(d.value) - 10;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return d.value;
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.callTooltip(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.lineChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
        }
    };
    /**
     * @param {?} d
     * @return {?}
     */
    AmexioD3LineComponent.prototype.lineChartClick = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var obj = {};
        obj[d.legend] = d.value;
        obj[this.xaxisname] = d.label;
        this.chartClick(obj);
    };
    /**
     * @param {?} tooltipdata
     * @return {?}
     */
    AmexioD3LineComponent.prototype.callTooltip = /**
     * @param {?} tooltipdata
     * @return {?}
     */
    function (tooltipdata) {
        /** @type {?} */
        var obj = {};
        obj[tooltipdata.legend] = tooltipdata.value;
        obj[this.xaxisname] = tooltipdata.label;
        return this.toolTipForBar(obj);
    };
    AmexioD3LineComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-line',
                    template: "<div  #chartId *ngIf=\"drillableFlag\" #divid (window:resize)=\"validateresize()\"> \n    <table [ngClass]=\"validateData()\"  style=\"width: 100%;\" > \n            <ng-container *ngIf = \"title.length > 0\">\n            <tr><td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td></tr>\n            </ng-container>\n            <tr>\n                <td>\n                    <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                    </svg>            \n                </td>\n            </tr>\n            <tr  *ngIf=\"legend\">\n                <td style=\"display: block; padding: 5px;\">\n                        <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" \n                                            [data]=\"linelegends\" style=\"height:100%;\">\n                        </amexio-d3-legend>\n                </td>\n            \n            </tr>\n    </table>\n    <!-- <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n        </div> -->\n    </div>\n    \n    <!-- {{legends | json}} -->"
                },] },
    ];
    AmexioD3LineComponent.ctorParameters = function () { return [
        { type: DeviceQueryService },
        { type: ChangeDetectorRef },
        { type: CommanDataService }
    ]; };
    AmexioD3LineComponent.propDecorators = {
        labelcolor: [{ type: Input, args: ['label-color',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }]
    };
    return AmexioD3LineComponent;
}(AmexioD3BaseLineComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var BarstackComponent = /** @class */ (function (_super) {
    __extends(BarstackComponent, _super);
    function BarstackComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'barstack') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.maxYValue = 0;
        _this.data = [];
        _this.barwidth = 0;
        _this.title = "";
        _this.legend = true;
        _this.color = [];
        _this.svgheight = 300;
        _this.onLegendClick = new EventEmitter();
        return _this;
    }
    /**
     * @return {?}
     */
    BarstackComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    _this.httpresponse = response;
                    _this.data = _this.getResponseData(response);
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.transformData(_this.data);
                        _this.plotChart();
                    }), 0);
                }));
            }
            else if (this.data1) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.transformData(_this.data1);
                    _this.plotChart();
                }), 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    BarstackComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                _this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    BarstackComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.transformData(_this.data);
            _this.plotChart();
        }), 0);
    };
    /**
     * @param {?} data1
     * @return {?}
     */
    BarstackComponent.prototype.transformData = /**
     * @param {?} data1
     * @return {?}
     */
    function (data1) {
        var _this = this;
        this.keyArray = [];
        this.legendArray = [];
        data1.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        function (element, i) {
            if (i == 0) {
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} index
                 * @return {?}
                 */
                function (innerelement, index) {
                    if (index > 0) {
                        _this.legendArray[innerelement] = { 'data': [] };
                        _this.keyArray.push(innerelement);
                    }
                    else if (index == 0) {
                        _this.xaxis = innerelement;
                    }
                }));
            }
        }));
        /** @type {?} */
        var tempinnerarray;
        tempinnerarray = [];
        data1.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var obj_1 = {};
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} innerindex
                 * @return {?}
                 */
                function (innerelement, innerindex) {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        var key = _this.keyArray[innerindex - 1];
                        obj_1[key] = element[innerindex];
                        /** @type {?} */
                        var legenddata = _this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                        }
                    }
                }));
                tempinnerarray.push(obj_1);
            }
        }));
        this.data = [];
        tempinnerarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            _this.data.push(element);
        }));
        /** @type {?} */
        var maxY = 0;
        /** @type {?} */
        var yaxismaxArray = [];
        //find max for yaxis
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            var _loop_1 = function (key, value) {
                _this.keyArray.forEach((/**
                 * @param {?} key1
                 * @return {?}
                 */
                function (key1) {
                    if (key == key1) {
                        maxY = maxY + value;
                    }
                })); //keyarray loop ends here
            };
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    _loop_1(key, value);
                } //for ends here
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_1) throw e_1.error; }
            }
            yaxismaxArray.push(maxY);
            maxY = 0;
            var e_1, _d;
        })); // foreach ends
        // foreach ends
        /** @type {?} */
        var tempLarge = 0;
        /** @type {?} */
        var i;
        for (i = 0; i < yaxismaxArray.length; i++) {
            if (yaxismaxArray[i] > tempLarge) {
                this.maxYValue = yaxismaxArray[i];
            } //if ends
        } // for ends
        this.legends = [];
        this.keyArray.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            /** @type {?} */
            var legenddata = _this.legendArray[element];
            if (_this.color.length > 0) {
                /** @type {?} */
                var object = { 'label': element, 'color': _this.color[index], 'data': legenddata.data };
                _this.legends.push(object);
            }
            else {
                /** @type {?} */
                var object = { 'label': element, 'color': _this.predefinedcolors[index], 'data': legenddata.data };
                _this.legends.push(object);
            }
        }));
    };
    /**
     * @return {?}
     */
    BarstackComponent.prototype.plotChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var margin = { top: 30, right: 30, bottom: 90, left: 60 };
        /** @type {?} */
        var colors = this.predefinedcolors;
        if (this.device.IsDesktop()) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        //this.svgwidth = this.chartId.nativeElement.offsetWidth;
        /** @type {?} */
        var data;
        data = this.data;
        /** @type {?} */
        var keysetarray = [];
        if (this.httpmethod && this.httpurl) {
            try {
                for (var _a = __values(Object.entries(this.data[0])), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    keysetarray.push(key);
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_2) throw e_2.error; }
            }
            this.keyArray = keysetarray;
            this.keyArray.splice(0, 1);
        }
        /** @type {?} */
        var series = stack().keys(this.keyArray)
            .offset(stackOffsetDiverging)(this.data);
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height
        //  = this.svgheight - margin.bottom - margin.top;
        ;
        //  = this.svgheight - margin.bottom - margin.top;
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight);
        if (this.device.IsDesktop()) {
            this.offsetheight = this.chartId.nativeElement.offsetHeight;
            //  - margin.bottom -margin.top;
            height = this.offsetheight;
        }
        else {
            height = this.chartId.nativeElement.offsetHeight - 10;
        }
        /** @type {?} */
        var x = scaleBand()
            .domain(data.map((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return d[Object.keys(d)[0]];
        })))
            .rangeRound([margin.left, this.svgwidth - margin.right])
            .padding(0.35);
        /** @type {?} */
        var y = scaleLinear()
            .domain([min(this.stackMin(series)),
            this.maxYValue
            // d3.max(this.stackMax(series))
        ])
            .rangeRound([height - margin.bottom, margin.top]);
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + y(0) + ")")
                    .call(axisBottom(x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + y(0) + ")")
                    .call(axisBottom(x));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + y(0) + ")")
                .call(axisBottom(x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        this.svg.append("g")
            .attr("transform", "translate(" + margin.left + ",0)")
            .call(axisLeft(y).ticks(this.tickscount));
        this.plotLine(this.svg, x, y, height, width, margin.left);
        /** @type {?} */
        var svgRect = this.svg.append("g")
            .selectAll("g")
            .data(series)
            .enter().append("g")
            .attr("fill", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        function (d, index) {
            if (_this.color.length > 0) {
                if (_this.color[index]) {
                    return _this.color[index];
                }
                else {
                    return colors[index];
                }
            }
            else {
                return colors[index];
            }
        }))
            .selectAll("rect")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return d;
        }));
        svgRect.enter().append("rect")
            .attr("width", x.bandwidth()).attr('id', (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        function (d, i) {
            return d.data[i];
        }))
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return x(+d.data[Object.keys(d.data)[0]]);
        }))
            .attr("y", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        function (d, index) {
            return y(d[1]);
        }))
            .attr("cursor", "pointer")
            .attr("height", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        function (d, index) {
            return y(d[0]) - y(d[1]);
        }))
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.html(_this.setKey(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.setBarClickText(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
            // this.chartClick(d);
        }));
        // -------------------------
        if (this.labelflag) {
            svgRect.enter()
                .append("text")
                .style("font-weight", "bold")
                .style("font-size", "1vw")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.labelcolor && _this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x(+d.data[Object.keys(d.data)[0]]) + x.bandwidth() / 2;
            }))
                .attr("y", (/**
             * @param {?} d
             * @param {?} index
             * @return {?}
             */
            function (d, index) {
                return y(d[1]) + 20;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if ((d[Object.keys(d)[1]] - d[Object.keys(d)[0]]) > 0) {
                    return d[Object.keys(d)[1]] - d[Object.keys(d)[0]];
                }
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.setKey(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.setBarClickText(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
                // this.chartClick(d);
            }));
        }
        var e_2, _d;
    };
    /**
     * @param {?} serie
     * @return {?}
     */
    BarstackComponent.prototype.stackMin = /**
     * @param {?} serie
     * @return {?}
     */
    function (serie) {
        return min(serie, (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d[0]; }));
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    BarstackComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    BarstackComponent.prototype.resize = 
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotChart();
    };
    /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} m
     * @return {?}
     */
    BarstackComponent.prototype.plotLine = /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} m
     * @return {?}
     */
    function (svg, x, y, height, width, m) {
        if (this.hScale) {
            svg.append('g')
                .attr("transform", "translate(" + m + ",0)")
                .attr("color", "lightgrey")
                .call(axisLeft(y).ticks(this.tickscount)
                .tickSize(-width).tickFormat(''));
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    BarstackComponent.prototype.legendClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var obj = {};
        obj["label"] = event.label;
        /** @type {?} */
        var data = [];
        event.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var object = {};
            object[element.label] = element.value;
            data.push(object);
        }));
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    };
    /**
     * @param {?} d
     * @return {?}
     */
    BarstackComponent.prototype.setKey = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var diff = d[0] - d[1];
        if (diff < 0) {
            diff = (diff * (-1));
        }
        try {
            for (var _a = __values(Object.entries(d.data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (value == diff) {
                    /** @type {?} */
                    var object = {};
                    object[key] = value;
                    object[this.xaxis] = d.data[Object.keys(d.data)[0]];
                    return (this.toolTipForBar(object));
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        var e_3, _d;
    };
    /**
     * @param {?} d
     * @return {?}
     */
    BarstackComponent.prototype.setBarClickText = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var diff = d[0] - d[1];
        if (diff < 0) {
            diff = (diff * (-1));
        }
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(d.data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (value == diff) {
                    object[key] = value;
                    object[this.xaxis] = d.data[Object.keys(d.data)[0]];
                }
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_4) throw e_4.error; }
        }
        this.chartClick(object);
        var e_4, _d;
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    BarstackComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_5_1) { e_5 = { error: e_5_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_5) throw e_5.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_5, _a;
    };
    BarstackComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-barstack',
                    template: "<div #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n    <table *ngIf=\"data1.length > 0\" style=\"width: 100%;\">\n            <ng-container *ngIf = \"title.length > 0\">\n        <tr>\n            <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n        </tr>\n            </ng-container>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\"\n                    style=\"height:100%;\">\n                </amexio-d3-legend>\n            </td>\n\n        </tr>\n    </table>\n    <div *ngIf=\"data1.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n</div>",
                    styles: [""]
                },] },
    ];
    BarstackComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    BarstackComponent.propDecorators = {
        data1: [{ type: Input, args: ['data',] }],
        barwidth: [{ type: Input }],
        title: [{ type: Input }],
        legend: [{ type: Input }],
        color: [{ type: Input }],
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }],
        onLegendClick: [{ type: Output }]
    };
    return BarstackComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var GroupbarComponent = /** @class */ (function (_super) {
    __extends(GroupbarComponent, _super);
    function GroupbarComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'multibar') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.data = [];
        _this.legend = true;
        _this.barwidth = 0;
        _this.onLegendClick = new EventEmitter();
        _this.svgheight = 300;
        _this.showzeroflag = true;
        _this.groupbarchartArray = [];
        _this.urllegendArray = [];
        _this.defualtColors = [];
        _this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        return _this;
    }
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            var res_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    res_1 = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.data = _this.getResponseData(res_1);
                        _this.initializeData();
                        _this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.initializeData();
                    _this.plotD3Chart();
                }), 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    GroupbarComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        /** @type {?} */
        var resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                resp = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.initializeData();
            _this.plotD3Chart();
        }), 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    GroupbarComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        this.convertToJSON();
        this.plotGroupBarChart();
        this.transformData(this.data);
    };
    /**
     * @private
     * @return {?}
     */
    GroupbarComponent.prototype.plotGroupBarChart = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        this.defualtColors = this.predefinedcolors;
        // this.svgwidth = this.chartId.nativeElement.offsetWidth;
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        var margin = { top: 20, right: 20, bottom: 50, left: 40 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        var x0 = scaleBand()
            .rangeRound([0, width])
            .padding(0.2);
        /** @type {?} */
        var x1 = scaleBand().padding(0.1);
        /** @type {?} */
        var y = scaleLinear()
            .rangeRound([height, 0]);
        //setting x and y domains
        this.years = this.groupbarchartArray.map((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d.labels; }));
        /** @type {?} */
        var label = this.groupbarchartArray[0].values.map((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d.label; }));
        x0.domain(this.years);
        x1.domain(label).rangeRound([0, x0.bandwidth()]);
        y.domain([0, max(this.groupbarchartArray, (/**
             * @param {?} labels
             * @return {?}
             */
            function (labels) { return max(labels.values, (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d.value; })); }))]);
        //dynamic barwidth
        if (this.barwidth > 0) {
            this.barwidth = this.barwidth;
        }
        else {
            this.barwidth = x0.bandwidth;
        }
        // add x axis to svg
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x0)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x0));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x0)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        //add y axis to svg
        this.svg.append("g")
            .call(axisLeft(y)
            .ticks(10).ticks(this.tickscount));
        this.plotLine(this.svg, y, height, width);
        // svg.select('.y').transition().duration(500).delay(1300).style('opacity', '1');
        //adding bars
        /** @type {?} */
        var slice = this.svg.selectAll(".slice")
            .data(this.groupbarchartArray)
            .enter().append("g")
            .attr("class", "g")
            .attr("transform", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            (d.values).forEach((/**
             * @param {?} element
             * @param {?} index
             * @return {?}
             */
            function (element, index) {
                //splice 0 
                if (element.value && (element.value < 1)) {
                    d.values.splice(0, index);
                }
            }));
            return "translate(" + x0(d.labels) + ",0)";
        }));
        slice.selectAll("rect")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d.values; }))
            .enter().
            append("rect")
            .attr("width", x1.bandwidth)
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return x1(d.label);
        }))
            .style("fill", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        function (d, index) {
            if (_this.colors.length > 0) {
                if (_this.colors[index]) {
                    return _this.colors[index];
                }
                else {
                    return _this.defualtColors[index];
                }
            }
            else {
                return _this.defualtColors[index];
            }
        }))
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return y(0); }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return height - y(0); }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.html(_this.setKey(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })).on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.groupbarClick(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        // -------------------------------------------------------
        if (this.labelflag) {
            slice.selectAll("text")
                .data((/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d.values; }))
                .enter().append("text")
                .attr("width", x1.bandwidth)
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x1(d.label) + x1.bandwidth() / 2;
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return y(d.value); }))
                .attr("height", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return height - y(0); }))
                .style("font-weight", "bold")
                .style("font-size", "1vw")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.labelcolor && _this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                // if((d.value > 0) ) {
                // return d.value;
                // }
                if (_this.showzeroflag) {
                    return d.value;
                }
                else if (!_this.showzeroflag) {
                    if (d.value > 0) {
                        return d.value;
                    }
                }
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.setKey(d)
                //  this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })).on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.groupbarClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
                // this.chartClick(d);
            }));
        }
        slice.selectAll("rect")
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return y(d.value);
        }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return height - y(d.value); }));
    };
    /**
     * @param {?} d
     * @return {?}
     */
    GroupbarComponent.prototype.groupbarClick = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        this.chartClick(object);
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.resize = 
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotGroupBarChart();
    };
    /**
     * @param {?} event
     * @return {?}
     */
    GroupbarComponent.prototype.legendClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var obj = {};
        obj["label"] = event.label;
        /** @type {?} */
        var data = [];
        event.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var object = {};
            object[element.label] = element.value;
            data.push(object);
        }));
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    };
    //2d array to json conversion
    //2d array to json conversion
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.convertToJSON = 
    //2d array to json conversion
    /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var groupChartObj = { "labels": "", values: [] };
        /** @type {?} */
        var firstRowOfData = this.data[0];
        this.xaxisData = this.data[0][0];
        for (var i = 1; i < this.data.length; i++) {
            /** @type {?} */
            var multiSeriesArray = [];
            /** @type {?} */
            var valueOfJ = void 0;
            for (var j = 1; j < this.data[i].length; j++) {
                valueOfJ = this.data[i][0];
                /** @type {?} */
                var singleBarObj = {};
                singleBarObj["value"] = this.data[i][j];
                singleBarObj["label"] = firstRowOfData[j];
                singleBarObj["xaxis"] = this.data[i][0];
                multiSeriesArray.push(singleBarObj);
            }
            if (multiSeriesArray.length) {
                groupChartObj["values"] = multiSeriesArray;
                /** @type {?} */
                var newLabelsValues = valueOfJ;
                /** @type {?} */
                var newGroupDataObj = Object.assign({}, groupChartObj);
                newGroupDataObj['labels'] = newLabelsValues + '';
                this.groupbarchartArray.push(newGroupDataObj);
            }
        }
    };
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.transformto2dArray = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var result = [];
        result.push("years");
        this.data.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        function (element, i) {
            if (i == 0) {
                element.values.forEach((/**
                 * @param {?} element2
                 * @return {?}
                 */
                function (element2) {
                    result.push(element2.label);
                }));
            }
        }));
        this.urllegendArray.push(result);
        /** @type {?} */
        var temparray = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            temparray = [];
            /** @type {?} */
            var values;
            /** @type {?} */
            var year = element.labels;
            temparray.push(year);
            element.values.forEach((/**
             * @param {?} element2
             * @return {?}
             */
            function (element2) {
                values = element2.value;
                temparray.push(values);
            }));
            _this.urllegendArray.push(temparray);
        }));
    };
    /**
     * @param {?} data
     * @return {?}
     */
    GroupbarComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.keyArray = [];
        this.legendArray = [];
        data.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        function (element, i) {
            if (i == 0) {
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} index
                 * @return {?}
                 */
                function (innerelement, index) {
                    if (index > 0) {
                        _this.legendArray[innerelement] = { 'data': [] };
                        _this.keyArray.push(innerelement);
                    }
                }));
            }
        }));
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var obj_1 = {};
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} innerindex
                 * @return {?}
                 */
                function (innerelement, innerindex) {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        var key = _this.keyArray[innerindex - 1];
                        obj_1[key] = element[innerindex];
                        /** @type {?} */
                        var legenddata = _this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                        }
                    }
                }));
            }
        }));
        this.legends = [];
        this.keyArray.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            /** @type {?} */
            var legenddata = _this.legendArray[element];
            /** @type {?} */
            var object;
            if (_this.colors.length > 0) {
                object = { 'label': element, 'color': _this.colors[index], 'data': legenddata.data };
            }
            else {
                object = { 'label': element, 'color': _this.predefinedcolors[index], 'data': legenddata.data };
            }
            _this.legends.push(object);
        }));
    };
    /**
     * @param {?} d
     * @return {?}
     */
    GroupbarComponent.prototype.setKey = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        return (this.toolTipForBar(object));
    };
    /**
     * @param {?} g
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    GroupbarComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    };
    GroupbarComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-multiseries',
                    template: "<div  #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\"> \n<table *ngIf=\"data.length > 0\"  style=\"width: 100%;\">\n    <tr *ngIf = \"title.length > 0\" >\n        <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n    </tr>\n    <tr>\n        <td>\n            <svg [attr.height]=\"height\" [attr.width]=\"width\" [attr.id]=\"componentId\">\n            </svg>\n        </td>\n    </tr>\n    <tr *ngIf=\"legend\">\n        <td style=\"display: block; padding: 5px;\">\n            <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\" style=\"height:100%;\"></amexio-d3-legend>\n        </td>\n    </tr>\n</table>\n<div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n</div>\n\n\n",
                    styles: [""]
                },] },
    ];
    GroupbarComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    GroupbarComponent.propDecorators = {
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }],
        data: [{ type: Input, args: ['data',] }],
        legend: [{ type: Input }],
        barwidth: [{ type: Input }],
        onLegendClick: [{ type: Output }],
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        showzeroflag: [{ type: Input, args: ['show-zero-values',] }]
    };
    return GroupbarComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var CombochartComponent = /** @class */ (function (_super) {
    __extends(CombochartComponent, _super);
    function CombochartComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'combochart') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgheight = 300;
        _this.lineColor = "black";
        _this.label = false;
        _this.horizontal = false;
        _this.barwidth = 0;
        //   @Input('line-data-index') lineInput: any;
        _this.lineInput = [];
        _this.barInput = [];
        _this.showzeroflag = true;
        _this.simpleComboFlag = false;
        _this.completeconverteddata = [];
        _this.simpleCombodata = [];
        _this.groupbarchartArray = [];
        _this.highercolorindex = 0;
        _this.colorflag = false;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.legendArray = [];
        _this.legends = [];
        _this.LineArray = [];
        _this.outputData = [];
        _this.higherdot1colorindex = 0;
        return _this;
    }
    /**
     * @return {?}
     */
    CombochartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    resp_1 = response;
                    _this.httpresponse = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.transformData();
                        _this.initializeData();
                        _this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData();
                    _this.initializeData();
                    _this.plotD3Chart();
                }), 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CombochartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                _this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    // this.data = this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.transformData();
            _this.initializeData();
            _this.plotD3Chart();
        }), 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    CombochartComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.transformData = /**
     * @return {?}
     */
    function () {
        this.formDatastructure();
        this.tranasforsimplejson();
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.formDatastructure = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // for line
        //call createjson() for complete data for line
        this.lineflag = true;
        this.createjson(this.data);
        //validate scenarios
        //validate scenario1: bar + line + data
        if ((this.barInput.length > 0) && (this.lineInput.length > 0) &&
            (this.data[0].length > 2)) {
            this.sc1 = true;
            this.createData1(this.barInput, this.data);
        }
        else if ((this.lineInput.length > 0) &&
            //##get it checked
            (this.data[0].length > 1)) {
            this.sc2 = true;
            //if so set sc2barflag
            this.data[0].forEach((/**
             * @param {?} column
             * @return {?}
             */
            function (column) {
                _this.lineInput.forEach((/**
                 * @param {?} linename
                 * @return {?}
                 */
                function (linename) {
                    if (column !== linename) {
                        _this.sc2barflag = true;
                        // u can plot bar now
                    }
                }));
            }));
            this.createData1(null, this.data);
            //chk if sc2barflag is set or reset
            if (this.sc2barflag == true) ;
        } //else if of sc2 ends
        else if ((this.barInput.length > 0) && (this.data[0].length > 1)) {
            this.sc3 = true;
            this.createData1(this.barInput, this.data);
        }
        else if ((this.barInput.length < 1) && (this.lineInput.length < 1) && this.data[0].length > 1) {
            this.sc4 = true;
            this.createData1(null, this.data);
        }
    };
    /**
     * @param {?} inpdata
     * @param {?} fulldata
     * @return {?}
     */
    CombochartComponent.prototype.createData1 = /**
     * @param {?} inpdata
     * @param {?} fulldata
     * @return {?}
     */
    function (inpdata, fulldata) {
        var _this = this;
        /** @type {?} */
        var linearr = [];
        this.lineInput.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            linearr.push(element.column);
        }));
        this.firstrow = this.data[0];
        /** @type {?} */
        var dummyArray = [];
        dummyArray.push(0);
        fulldata.forEach((/**
         * @param {?} record
         * @param {?} index
         * @return {?}
         */
        function (record, index) {
            if (index === 0) {
                // THIS LOGIC IS USED FOR FINDING INDEXS AND ADD INTO dummyArray ARRAY
                record.forEach((/**
                 * @param {?} innerObject
                 * @param {?} innerIndex
                 * @return {?}
                 */
                function (innerObject, innerIndex) {
                    //validates scenario1 and 3
                    if (_this.sc1 == true || _this.sc3 == true) {
                        _this.barInput.forEach((/**
                         * @param {?} elementOfInputData
                         * @return {?}
                         */
                        function (elementOfInputData) {
                            //aja
                            if (innerObject === elementOfInputData.column) {
                                //dummyarray has index stack
                                dummyArray.push(innerIndex);
                            }
                        }));
                    } //sc1 and sc3 validation done
                    //validates scenario 2
                    if (_this.sc2 == true) {
                        if (_this.sc2barflag == true) {
                            _this.lineInput.forEach((/**
                             * @param {?} elementOfLineData
                             * @return {?}
                             */
                            function (elementOfLineData) {
                                if ((innerObject !== elementOfLineData.column) && (innerIndex !== 0)) {
                                    if (linearr.includes(innerObject) == false) {
                                        if (dummyArray.includes(innerIndex)) ;
                                        else {
                                            dummyArray.push(innerIndex);
                                            return;
                                        }
                                    } // }
                                    //   }
                                    // });
                                }
                            }));
                        }
                    }
                }));
                //validates scenario 4
                if (_this.sc4 == true) {
                    // chk if barflag is set
                    /** @type {?} */
                    var columns = _this.data[0].length;
                    if (columns > 1) {
                        dummyArray.push(1);
                    }
                }
                // dummyArray.push(0);
                /** @type {?} */
                var firstArray_1 = [];
                // FOR FIRST RECORD
                dummyArray.forEach((/**
                 * @param {?} object
                 * @param {?} dummyIndex
                 * @return {?}
                 */
                function (object, dummyIndex) {
                    firstArray_1.push(record[object]);
                }));
                _this.outputData.push(firstArray_1);
            }
            else {
                /** @type {?} */
                var newData_1 = [];
                record.forEach((/**
                 * @param {?} innerObject
                 * @param {?} innerIndex
                 * @return {?}
                 */
                function (innerObject, innerIndex) {
                    dummyArray.forEach((/**
                     * @param {?} object
                     * @param {?} dummyIndex
                     * @return {?}
                     */
                    function (object, dummyIndex) {
                        if (innerIndex === object) {
                            newData_1.push(innerObject);
                        }
                    }));
                }));
                _this.outputData.push(newData_1);
            }
        }));
        this.createjson(this.outputData);
        // this.formLegendData(this.outputData);
    };
    /**
     * @param {?} arraydata
     * @return {?}
     */
    CombochartComponent.prototype.createjson = /**
     * @param {?} arraydata
     * @return {?}
     */
    function (arraydata) {
        /** @type {?} */
        var groupChartObj = { "labels": "", values: [] };
        this.groupbarchartArray = [];
        /** @type {?} */
        var firstRowOfData = arraydata[0];
        this.xaxisData = this.data[0][0];
        for (var i = 1; i < arraydata.length; i++) {
            /** @type {?} */
            var multiSeriesArray = [];
            /** @type {?} */
            var valueOfJ = void 0;
            for (var j = 1; j < arraydata[i].length; j++) {
                valueOfJ = arraydata[i][0];
                /** @type {?} */
                var singleBarObj = {};
                singleBarObj["value"] = arraydata[i][j];
                singleBarObj["label"] = firstRowOfData[j];
                singleBarObj["xaxis"] = arraydata[i][0];
                multiSeriesArray.push(singleBarObj);
            }
            if (multiSeriesArray.length) {
                groupChartObj["values"] = multiSeriesArray;
                /** @type {?} */
                var newLabelsValues = valueOfJ;
                /** @type {?} */
                var newGroupDataObj = Object.assign({}, groupChartObj);
                newGroupDataObj['labels'] = newLabelsValues + '';
                this.groupbarchartArray.push(newGroupDataObj);
            }
        }
        if (this.lineflag) {
            this.groupbarchartArray;
            this.LineArray = this.groupbarchartArray;
        }
        else {
            this.groupbarchartArray = [];
            /** @type {?} */
            var firstRowOfData_1 = arraydata[0];
            // this.xaxisData = this.data[0][0];
            for (var i = 1; i < arraydata.length; i++) {
                /** @type {?} */
                var multiSeriesArray = [];
                /** @type {?} */
                var valueOfJ = void 0;
                for (var j = 1; j < arraydata[i].length; j++) {
                    valueOfJ = arraydata[i][0];
                    /** @type {?} */
                    var singleBarObj = {};
                    singleBarObj["value"] = arraydata[i][j];
                    singleBarObj["label"] = firstRowOfData_1[j];
                    singleBarObj["xaxis"] = arraydata[i][0];
                    multiSeriesArray.push(singleBarObj);
                }
                if (multiSeriesArray.length) {
                    groupChartObj["values"] = multiSeriesArray;
                    /** @type {?} */
                    var newLabelsValues = valueOfJ;
                    /** @type {?} */
                    var newGroupDataObj = Object.assign({}, groupChartObj);
                    newGroupDataObj['labels'] = newLabelsValues + '';
                    this.groupbarchartArray.push(newGroupDataObj);
                }
            }
            this.groupbarchartArray;
        }
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        //plot multiseries chart
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var colors = this.predefinedcolors;
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        var margin = { top: 20, right: 20, bottom: 50, left: 40 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        var x0 = scaleBand()
            .rangeRound([0, width])
            .padding(0.2);
        /** @type {?} */
        var x1 = scaleBand().padding(0.1);
        /** @type {?} */
        var y = scaleLinear()
            .rangeRound([height, 0]);
        //setting x and y domains
        this.years = this.groupbarchartArray.map((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d.labels; }));
        /** @type {?} */
        var label = this.groupbarchartArray[0].values.map((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d.label; }));
        x0.domain(this.years);
        x1.domain(label).rangeRound([0, x0.bandwidth()]);
        y.domain([0, max(this.groupbarchartArray, (/**
             * @param {?} labels
             * @return {?}
             */
            function (labels) { return max(labels.values, (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d.value; })); }))]);
        //dynamic barwidth
        if (this.barwidth > 0) {
            this.barwidth = this.barwidth;
        }
        else {
            this.barwidth = x0.bandwidth;
        }
        // add x axis to svg
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x0)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x0));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x0)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        //add y axis to svg
        this.svg.append("g")
            .call(axisLeft(y)
            .ticks(this.tickscount));
        this.plotLineForMultiSeries(this.svg, y, height, width);
        //adding bars
        /** @type {?} */
        var slice = this.svg.selectAll(".slice")
            .data(this.groupbarchartArray)
            .enter().append("g")
            .attr("class", "g")
            .attr("transform", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return "translate(" + x0(d.labels) + ",0)"; }));
        slice.selectAll("rect")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d.values; }))
            .enter().append("rect")
            .attr("width", x1.bandwidth)
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return x1(d.label);
        }))
            .style("fill", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        function (d, index) {
            _this.higherdot1colorindex = index;
            _this.legendcolorindex = index;
            return colors[index];
        }))
            .attr("y", (/**
         * @param {?} d
         * @param {?} ind
         * @return {?}
         */
        function (d, ind) { return y(d.value); }))
            .attr("height", (/**
         * @param {?} d
         * @param {?} ind
         * @return {?}
         */
        function (d, ind) {
            return height - y(d.value);
        }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.html(_this.setKey(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })).on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.groupbarClick(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        // -------------------------------------------------------
        //bar label
        // if (this.labelflag) {
        slice.selectAll("text")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d.values; }))
            .enter().append("text")
            .attr("opacity", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            /** @type {?} */
            var visibility = false;
            if (_this.barInput.length > 0) {
                _this.barInput.forEach((/**
                 * @param {?} barname
                 * @return {?}
                 */
                function (barname) {
                    if ((barname.column == d.label) && (barname.label == true)) {
                        visibility = true;
                        return;
                    }
                }));
                if (visibility) {
                    return 1;
                }
                else {
                    return 0;
                }
            } // outer if 
            else if ((_this.sc4 == true) && (_this.label == true)) {
                return 1;
            }
            else {
                return 0;
            }
        }))
            .attr("width", x1.bandwidth)
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return x1(d.label) + x1.bandwidth() / 2;
        }))
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return y(d.value); }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return height - y(0); }))
            .style("font-weight", "bold")
            .style("font-size", "1vw")
            .attr("text-anchor", "middle")
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            if (_this.labelcolor.length > 0) {
                return _this.labelcolor;
            }
            else {
                return "black";
            }
        })) //bar label
            .text((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            if (_this.showzeroflag) {
                return d.value;
            }
            else if (!_this.showzeroflag) {
                if (d.value > 0) {
                    return d.value;
                }
            }
            // return d.value;
        }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.html(_this.setKey(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })).on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.groupbarClick(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        // }
        slice.selectAll("rect")
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return y(d.value);
        }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return height - y(d.value); }));
        // ------------------------------------------------------------------
        //sigle / multi line code starts here
        //code here fr multi line
        /** @type {?} */
        var i;
        // let lineName;
        /** @type {?} */
        var slice1 = this.svg.selectAll(".slice")
            .data(this.transformeddata)
            .enter().append("g")
            .attr("class", "g");
        this.higherdot1colorindex++;
        this.lineInput.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            if (element.color) ;
            else {
                element["color"] = colors[_this.higherdot1colorindex];
                _this.higherdot1colorindex++;
            }
        }));
        //line validation for scenario 1 and 2
        if (this.lineInput.length > 0) {
            var _loop_1 = function () {
                /** @type {?} */
                var lineName = this_1.lineInput[i];
                /** @type {?} */
                var valueline = line()
                    .x((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return x0(d[Object.keys(d)[0]]);
                }))
                    .y((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) { return y(d[lineName.column]); }));
                /** @type {?} */
                var shift = margin.left + x1.bandwidth() / 2;
                slice1.append("path")
                    .data([this_1.transformeddata])
                    .attr("fill", "none")
                    .style("stroke", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    if (lineName.color) {
                        return lineName.color;
                    }
                }))
                    .attr("stroke-width", 1.5)
                    .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                    .attr("d", valueline);
                // points1
                /** @type {?} */
                var dotslice = slice1.selectAll("dot")
                    .data(this_1.transformeddata)
                    .enter()
                    .append("circle")
                    .attr("class", "point1")
                    .attr("cursor", "pointer")
                    .style("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    if (lineName.color) {
                        return lineName.color;
                    }
                }))
                    .attr("cx", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return x0(d[Object.keys(d)[0]]);
                }))
                    .attr("cy", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return y(d[lineName.column]);
                }))
                    .attr("r", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) { return 5; }))
                    .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.html(_this.formTooltipLineData(d, lineName, false))
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    _this.onComboLineClick(d, lineName, false);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
                // }
                // 
            };
            var this_1 = this;
            for (i = 0; i < this.lineInput.length; i++) {
                _loop_1();
            } // line code ends
        } //lineinput if condition ends here
        else if ((this.sc4 == true) && (this.data[0].length > 2)) {
            //  lineName = this.lineInput[i];
            /** @type {?} */
            var valueline = line()
                .x((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x0(d[Object.keys(d)[0]]);
                //  return x1(d[Object.keys(d)[0]]);
            }))
                .y((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return y(d[Object.keys(d)[2]]
                // d[lineName]
                );
            }));
            /** @type {?} */
            var shift = margin.left + x1.bandwidth() / 2;
            slice1.append("path")
                .data([this.transformeddata])
                .attr("fill", "none")
                .style("stroke", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.lineColor !== "black") {
                    return _this.lineColor;
                }
                else {
                    return colors[2];
                }
            }))
                .attr("stroke-width", 1.5)
                .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                .attr("d", valueline);
            // points1
            slice1.selectAll("dot")
                .data(this.transformeddata).enter().append("circle")
                .attr("class", "point1")
                .attr("cursor", "pointer")
                .style("stroke", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.lineColor !== "black") {
                    return _this.lineColor;
                }
                else {
                    return colors[2];
                }
            }))
                .style("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.lineColor !== "black") {
                    return _this.lineColor;
                }
                else {
                    return colors[2];
                }
            }))
                .attr("cx", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x0(d[Object.keys(d)[0]]);
            }))
                .attr("cy", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return y(d[Object.keys(d)[2]]
                // d[lineName]
                );
            }))
                .attr("r", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return 5; }))
                .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.formTooltipLineData(d, null, true))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.onComboLineClick(d, null, true);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
        }
        //line label validation for scenario 1 and 2
        if (this.lineInput.length > 0) {
            var _loop_2 = function () {
                /** @type {?} */
                var lineName1 = this_2.lineInput[i];
                if (lineName1.label) {
                    if (lineName1.label == true) {
                        slice1.selectAll("labels")
                            .data(this_2.transformeddata)
                            .enter().append("text")
                            .style("font-weight", "bold")
                            .attr("text-anchor", "middle")
                            .attr("fill", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        function (d) {
                            if (lineName1.labelcolor) {
                                return lineName1.labelcolor;
                            }
                            else {
                                return "black";
                            }
                        }))
                            .attr("x", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        function (d) {
                            return x0(d[Object.keys(d)[0]]);
                        }))
                            .attr("y", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        function (d) {
                            return y(d[lineName1.column]);
                        }))
                            .text((/**
                         * @param {?} d
                         * @return {?}
                         */
                        function (d) {
                            return d[lineName1.column];
                            // d[lineName];
                        }))
                            .attr("transform", "translate( " +
                            // margin.left
                            x1.bandwidth() / 2
                            // shift
                            + ", 19 )")
                            .attr("cursor", "pointer")
                            .on("mouseover", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        function (d) {
                            return tooltip.style("visibility", "visible");
                        }))
                            .on("mousemove", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        function (d) {
                            return tooltip.html(_this.formTooltipLineData(d, lineName1, false))
                                .style("top", (event$1.pageY - 10) + "px")
                                .style("left", (event$1.pageX + 10) + "px");
                        }))
                            .on("mouseout", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        function (d) {
                            return tooltip.style("visibility", "hidden");
                        }))
                            .on("click", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        function (d) {
                            _this.onComboLineClick(d, lineName1, false);
                            _this.fordrillableClick(_this, d, event);
                            return tooltip.style("visibility", "hidden");
                        }));
                    }
                }
            };
            var this_2 = this;
            for (i = 0; i < this.lineInput.length; i++) {
                _loop_2();
            }
        }
        else if ((this.sc4 == true) && (this.data[0].length > 2) && (this.label == true)) {
            //trial line label for 4th scenario
            slice1.selectAll("labels")
                .data(this.transformeddata)
                .enter().append("text")
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x0(d[Object.keys(d)[0]]);
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return y(d[Object.keys(d)[2]]
                // d[lineName]
                );
                //  + 50;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return d[Object.keys(d)[2]];
                // d[lineName];
            }))
                .attr("transform", "translate( " +
                // margin.left
                x1.bandwidth() / 2
                // shift
                + ", 19 )")
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.formTooltipLineData(d, null, true))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.onComboLineClick(d, null, true);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
        }
        this.formLegendData(this.outputData);
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    CombochartComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    };
    /**
     * @param {?} d
     * @return {?}
     */
    CombochartComponent.prototype.setKey = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        return (this.toolTipForBar(object));
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.finMaxLineValue = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var lineValues = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            var _loop_3 = function (key, value) {
                _this.lineInput.forEach((/**
                 * @param {?} line
                 * @return {?}
                 */
                function (line$$1) {
                    if (line$$1 == key) {
                        lineValues.push(value);
                    }
                }));
            };
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    _loop_3(key, value);
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_2) throw e_2.error; }
            }
            var e_2, _d;
        }));
        /** @type {?} */
        var max$$1 = 0;
        /** @type {?} */
        var j;
        for (j = 0; j < lineValues.length; j++) {
            if (lineValues[j] > max$$1) {
                max$$1 = lineValues[j];
            }
        }
        this.lineRange = max$$1;
    };
    /**
     * @param {?} d
     * @return {?}
     */
    CombochartComponent.prototype.groupbarClick = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        this.chartClick(object);
    };
    /**
     * @param {?} g
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    CombochartComponent.prototype.plotLineForMultiSeries = /**
     * @param {?} g
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    CombochartComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    CombochartComponent.prototype.resize = 
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotD3Chart();
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.tranasforsimplejson = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.transformeddata = [];
        this.keyArray = this.data[0];
        this.data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                })); //inner for loop ends
                _this.transformeddata.push(DummyObject_1);
            } //if ends
        })); //outer for loop ends
    };
    /**
     * @param {?} data
     * @param {?} line
     * @param {?} flag
     * @return {?}
     */
    CombochartComponent.prototype.formTooltipLineData = /**
     * @param {?} data
     * @param {?} line
     * @param {?} flag
     * @return {?}
     */
    function (data, line$$1, flag) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                //flag is considered true for forth scenario
                if (flag == true) {
                    if (key == this.data[0][2]) {
                        object[key] = value;
                    }
                } // if foe true flag ends here
                else {
                    if (key == line$$1.column) {
                        object[key] = value;
                    }
                } //else for false flag ends here
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        return this.toolTipForBar(object);
        var e_3, _d;
    };
    /**
     * @param {?} data
     * @param {?} line
     * @param {?} flag
     * @return {?}
     */
    CombochartComponent.prototype.onComboLineClick = /**
     * @param {?} data
     * @param {?} line
     * @param {?} flag
     * @return {?}
     */
    function (data, line$$1, flag) {
        // flag is considered true for 4th scenario
        /** @type {?} */
        var object = {};
        /** @type {?} */
        var i = 0;
        try {
            for (var _a = __values(Object.entries(data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (i == 0 || i == 1) {
                    if (key != "color") {
                        object[key] = value;
                    }
                }
                if (flag == true) {
                    if (key == this.data[0][2]) {
                        object[key] = value;
                    }
                }
                else {
                    if (key == line$$1.column) {
                        object[key] = value;
                    }
                }
                i++;
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_4) throw e_4.error; }
        }
        //this calls base class function
        this.comboLineClick(object);
        var e_4, _d;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CombochartComponent.prototype.formLegendData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.keyArray = [];
        this.legendArray = [];
        data.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        function (element, i) {
            if (i == 0) {
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} index
                 * @return {?}
                 */
                function (innerelement, index) {
                    if (index > 0) {
                        _this.legendArray[innerelement] = { 'data': [] };
                        _this.keyArray.push(innerelement);
                    }
                }));
            }
        }));
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var obj_1 = {};
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} innerindex
                 * @return {?}
                 */
                function (innerelement, innerindex) {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        var key = _this.keyArray[innerindex - 1];
                        obj_1[key] = element[innerindex];
                        /** @type {?} */
                        var legenddata = _this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'label': element[0], 'value': element[innerindex] });
                        }
                    }
                }));
            }
        }));
        this.legends = [];
        this.keyArray.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            /** @type {?} */
            var legenddata = _this.legendArray[element];
            /** @type {?} */
            var object = { 'label': element, 'color': _this.predefinedcolors[index], 'data': legenddata.data };
            _this.legends.push(object);
        }));
        //this logic will wrk fr sc1 and sc2
        if (this.lineInput.length > 0) {
            /** @type {?} */
            var inc_1 = 1;
            this.lineInput.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                /** @type {?} */
                var object = {};
                object["label"] = element.column;
                if (element.color) {
                    object["color"] = element.color;
                }
                else {
                    object["color"] = _this.predefinedcolors[_this.legendcolorindex + inc_1];
                    inc_1++;
                }
                object["data"] = [];
                _this.legends.push(object);
            }));
            this.legends;
            this.transformeddata;
            this.legends.forEach((/**
             * @param {?} legendelement
             * @return {?}
             */
            function (legendelement) {
                _this.lineInput.forEach((/**
                 * @param {?} lineelement
                 * @return {?}
                 */
                function (lineelement) {
                    if (lineelement.column == legendelement.label) {
                        _this.transformeddata.forEach((/**
                         * @param {?} singlerow
                         * @return {?}
                         */
                        function (singlerow) {
                            /** @type {?} */
                            var obj = {};
                            // d[Object.keys(d)[0]]
                            obj["label"] = singlerow[Object.keys(singlerow)[0]];
                            obj["value"] = singlerow[legendelement.label];
                            legendelement.data.push(obj);
                        }));
                    }
                }));
            }));
        }
        //this logic works for sc4
        // chk if line column exist in data1
        if ((this.sc4 == true) && (this.data[0].length > 2)) {
            /** @type {?} */
            var object = [];
            object["label"] = this.data[0][2];
            object["color"] = this.predefinedcolors[2];
            object["data"] = [];
            this.legends.push(object);
            //logic to push data
            this.data.forEach((/**
             * @param {?} element
             * @param {?} index
             * @return {?}
             */
            function (element, index) {
                if (index > 0) {
                    /** @type {?} */
                    var object_1 = [];
                    object_1["label"] = element[0];
                    object_1["value"] = element[2];
                    _this.legends[1].data.push(object_1);
                }
            }));
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    CombochartComponent.prototype.legendClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var obj = {};
        obj["label"] = event.label;
        /** @type {?} */
        var data = [];
        event.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var object = {};
            object[element.label] = element.value;
            data.push(object);
        }));
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    };
    CombochartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-combochart',
                    template: " \n<div #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n    <table *ngIf=\"data.length > 0\" style=\"width: 100%;\">\n      <tr *ngIf = \"title.length > 0\">\n          <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n      </tr>\n      <tr>\n          <td>\n              <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n              </svg>\n          </td>\n      </tr>\n      <tr *ngIf=\"legend\">\n          <td style=\"display: block; padding: 5px;\">\n              <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\" style=\"height:100%;\">\n              </amexio-d3-legend> \n          </td>\n      </tr>\n    </table>\n    <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n    </div>",
                    styles: [""]
                },] },
    ];
    CombochartComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    CombochartComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        lineColor: [{ type: Input, args: ['line-color',] }],
        label: [{ type: Input }],
        horizontal: [{ type: Input }],
        barwidth: [{ type: Input }],
        lineInput: [{ type: Input, args: ['line-data-index',] }],
        barInput: [{ type: Input, args: ['bar-data-index',] }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        showzeroflag: [{ type: Input, args: ['show-zero-values',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }]
    };
    return CombochartComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var HistogramComponent = /** @class */ (function (_super) {
    __extends(HistogramComponent, _super);
    function HistogramComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'histogram') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgheight = 400;
        _this.color = "blue";
        _this.datahisto = [];
        _this.values = [];
        _this.array = [];
        _this.xaxisArray = [];
        _this.yaxisArray = [];
        _this.yaxisData = [];
        _this.histogramarray = [];
        _this.histogramdata = [];
        _this.lengtharray = [];
        _this.arrayofLength = [];
        _this.chartData = [];
        _this.finaldataarray = [];
        _this.tooltipArray = [];
        _this.index = 0;
        return _this;
    }
    /**
     * @return {?}
     */
    HistogramComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        /** @type {?} */
        var res;
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    res = response;
                    _this.httpresponse = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.datahisto = [];
                        _this.datahisto = _this.getResponseData(res);
                        _this.transformData();
                        _this.plotXaxis();
                        _this.plotYaxis();
                        _this.tooltipData();
                        _this.dataforChart();
                        _this.transformData1(_this.finaldataarray);
                        _this.plotChart();
                    }), 0);
                }));
            }
            else if (this.datahisto) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.datahisto = _this.getResponseData(_this.datahisto);
                    _this.transformData();
                    _this.plotXaxis();
                    _this.plotYaxis();
                    _this.tooltipData();
                    _this.dataforChart();
                    _this.transformData1(_this.finaldataarray);
                    _this.plotChart();
                }), 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    HistogramComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                _this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.datahisto = _this.getResponseData(_this.httpresponse);
            _this.transformData();
            _this.plotXaxis();
            _this.plotYaxis();
            _this.tooltipData();
            _this.dataforChart();
            _this.transformData1(_this.finaldataarray);
            _this.plotChart();
        }), 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    HistogramComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @param {?} data1
     * @return {?}
     */
    HistogramComponent.prototype.transformData1 = /**
     * @param {?} data1
     * @return {?}
     */
    function (data1) {
        var _this = this;
        this.keyArray = [];
        this.legendArray = [];
        data1.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        function (element, i) {
            if (i == 0) {
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} index
                 * @return {?}
                 */
                function (innerelement, index) {
                    if (index > 0) {
                        _this.legendArray[innerelement] = { 'data': [] };
                        _this.keyArray.push(innerelement);
                    }
                    else if (index == 0) {
                        _this.xaxis = innerelement;
                    }
                }));
            }
        }));
        /** @type {?} */
        var tempinnerarray;
        tempinnerarray = [];
        data1.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var obj_1 = {};
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} innerindex
                 * @return {?}
                 */
                function (innerelement, innerindex) {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        var key = _this.keyArray[innerindex - 1];
                        obj_1[key] = element[innerindex];
                        /** @type {?} */
                        var legenddata = _this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                        }
                    }
                }));
                tempinnerarray.push(obj_1);
            }
        }));
        this.data = [];
        tempinnerarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            _this.data.push(element);
        }));
        this.legends = [];
        /** @type {?} */
        var element = this.datahisto[0];
        /** @type {?} */
        var object = { 'label': element[1] + " " + "of" + " " + element[0], 'color': this.color };
        this.legends.push(object);
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.plotChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var data;
        data = this.data;
        /** @type {?} */
        var series;
        series = [];
        series = stack().keys(this.keyArray)
            .offset(stackOffsetDiverging)(this.data);
        /** @type {?} */
        var i = 0;
        /** @type {?} */
        var tempdata;
        tempdata = [];
        tempdata = series;
        tempdata.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            element.forEach((/**
             * @param {?} innerelement
             * @return {?}
             */
            function (innerelement) {
                /** @type {?} */
                var singletooltip = [];
                singletooltip.push(innerelement.data.tooltipdata[i]);
                innerelement.push(singletooltip);
            }));
            i++;
        }));
        /** @type {?} */
        var chartdata = [];
        for (i = 0; i < tempdata.length - 1; i++) {
            chartdata.push(tempdata[i]);
        }
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE
        }
        /** @type {?} */
        var margin = { top: 20, right: 20, bottom: 50, left: 60 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        //const height = +svg.attr("height") - margin.top - margin.bottom;
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        var barWidth = (width / this.chartData.length);
        x = scalePoint()
            .domain(this.xaxisArray, (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d; }))
            .rangeRound([0, width]);
        y = scaleLinear().rangeRound([height, 0]);
        y.domain([0, max(this.arrayofLength)]);
        /** @type {?} */
        var z = scaleOrdinal(schemeCategory10);
        this.arrayofLength = [];
        // add x axis to svg
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        /** @type {?} */
        var horizontalpadding = 0.05;
        //add y axis to svg
        this.svg.append("g")
            .call(axisLeft(y).ticks(this.tickscount));
        this.plotLine(this.svg, x, y, height, width);
        /** @type {?} */
        var histogramBar = this.svg.append("g")
            .selectAll("g")
            .data(chartdata)
            .enter().append("g")
            .attr("fill", this.color)
            .selectAll("rect")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return d;
        }));
        /** @type {?} */
        var histogramBar1 = this.svg.append("g")
            .selectAll("g")
            .data(chartdata)
            .enter().append("g")
            .selectAll("labels")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return d;
        }));
        histogramBar.enter().append("rect")
            .attr("width", barWidth - 1)
            .attr("y", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        function (d, index) {
            return y(d[1]);
        }))
            .attr("cursor", "pointer")
            .attr("height", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        function (d, index) {
            return Math.abs(y(d[0]) - y(d[1] - horizontalpadding));
        }))
            .attr("transform", (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        function (d, i) {
            /** @type {?} */
            var translate = [barWidth * i, 0];
            return "translate(" + translate + ")";
        }))
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "visible");
        })).on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            /** @type {?} */
            var data = d[2];
            return tooltip.html(_this.setKey(data[0]))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })).on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            /** @type {?} */
            var clickdata = d[2];
            _this.histogramClick(clickdata[0]);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        if (this.labelflag) {
            histogramBar1.enter()
                .append("text")
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.labelcolor && _this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("y", (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            function (d, i) {
                return y(d[1]);
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                /** @type {?} */
                var data;
                /** @type {?} */
                var data2;
                data = d[2];
                data2 = data[0];
                if (data2) {
                    return data2.value;
                }
                else {
                    return null;
                }
            }))
                .attr("transform", (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            function (d, i) {
                /** @type {?} */
                var translate = [((barWidth * i) + barWidth / 2), (Math.abs(y(d[0]) - y(d[1] - horizontalpadding)))];
                return "translate(" + translate + ")";
            }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            })).on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                /** @type {?} */
                var data = d[2];
                return tooltip.html(_this.setKey(data[0]))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })).on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                /** @type {?} */
                var clickdata = d[2];
                _this.histogramClick(clickdata[0]);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            }))
                .attr("cursor", "pointer");
        }
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    HistogramComponent.prototype.histogramClick = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        /** @type {?} */
        var object = {};
        /** @type {?} */
        var data = this.datahisto[0];
        /** @type {?} */
        var label1 = data[1];
        /** @type {?} */
        var label2 = data[0];
        if (obj.label.length) {
            object[label2 + ":"] = obj.label;
            object[label1 + ":"] = obj.value;
        }
        this.chartClick(object);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    HistogramComponent.prototype.legendClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.onLegendClick.emit(this.datahisto);
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.transformData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.array = [];
        this.values = [];
        this.datahisto.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            _this.values.push(element[1]);
        }));
        for (var i = 1; i < this.values.length; i++) {
            this.array.push(this.values[i]);
        }
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.plotXaxis = /**
     * @return {?}
     */
    function () {
        this.xaxisArray = [];
        this.xaxisArray.push(0);
        /** @type {?} */
        var newvalue = 0;
        /** @type {?} */
        var value = Math.ceil(max(this.array));
        if (value % 10 == 0) {
            value = value;
        }
        else {
            value = (10 - value % 10) + value;
        }
        /** @type {?} */
        var quotient = value / 5;
        while (newvalue < value) {
            newvalue = newvalue + quotient;
            this.xaxisArray.push(newvalue);
        }
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.plotYaxis = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var tempvalue = 0;
        /** @type {?} */
        var lengthofArray = 0;
        /** @type {?} */
        var lengthcount = 0;
        /** @type {?} */
        var templength = 0;
        /** @type {?} */
        var newvalue = 0;
        this.yaxisArray = [];
        this.histogramarray = [];
        this.lengtharray = [];
        this.histogramdata = [];
        this.arrayofLength = [];
        this.chartData = [];
        this.xaxisArray.forEach((/**
         * @param {?} element1
         * @return {?}
         */
        function (element1) {
            _this.yaxisArray = [];
            _this.array.forEach((/**
             * @param {?} element2
             * @return {?}
             */
            function (element2) {
                if (tempvalue < element2 && element2 <= element1) {
                    _this.yaxisArray.push(element2);
                }
                lengthofArray = _this.yaxisArray.length;
            }));
            if (templength > lengthofArray) {
                lengthcount = templength;
            }
            else {
                lengthcount = lengthofArray;
            }
            templength = lengthcount;
            tempvalue = element1;
            _this.lengtharray.push(lengthofArray);
        }));
        /** @type {?} */
        var value = Math.ceil(templength);
        /** @type {?} */
        var quotient = value / 5;
        while (newvalue <= value) {
            newvalue = newvalue + quotient;
            this.yaxisData.push(newvalue);
        }
        for (var i = 1; i < this.histogramarray.length; i++) {
            this.histogramdata.push(this.histogramarray[i]);
        }
        for (var i = 1; i < this.lengtharray.length; i++) {
            this.arrayofLength.push(this.lengtharray[i]);
        }
        for (var i = 0; i < this.arrayofLength.length; i++) {
            /** @type {?} */
            var data = {};
            data["value"] = this.arrayofLength[i];
            this.chartData.push(data);
        }
        this.array = [];
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    HistogramComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    HistogramComponent.prototype.resize = 
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.transformData();
        this.plotXaxis();
        this.plotYaxis();
        this.tooltipData();
        this.dataforChart();
        this.transformData1(this.finaldataarray);
        this.plotChart();
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.dataforChart = /**
     * @return {?}
     */
    function () {
        this.finaldataarray = [];
        /** @type {?} */
        var initialArray = [];
        /** @type {?} */
        var temparray = [];
        initialArray.push('level');
        /** @type {?} */
        var maxElement = Math.max.apply(null, this.arrayofLength);
        /** @type {?} */
        var maxlength = maxElement;
        /** @type {?} */
        var n = 1;
        while (n <= maxElement) {
            initialArray.push('' + n);
            n++;
        }
        initialArray.push('tooltipdata');
        /** @type {?} */
        var length = this.arrayofLength.length;
        /** @type {?} */
        var number = 1;
        /** @type {?} */
        var j = 0;
        this.finaldataarray.push(initialArray);
        for (var i = 0; i < this.arrayofLength.length; i++) {
            /** @type {?} */
            var value = this.arrayofLength[i];
            /** @type {?} */
            var tempvalue = value;
            temparray = [];
            temparray.push('' + i);
            maxElement = maxlength;
            if (value > 0) {
                while (value != 0) {
                    temparray.push(number);
                    value--;
                }
                maxElement = maxElement - tempvalue;
                while (maxElement != 0) {
                    temparray.push(0);
                    maxElement--;
                }
            }
            else {
                while (maxElement != 0) {
                    temparray.push(0);
                    maxElement--;
                }
            }
            temparray.push(this.tooltipArray[j]);
            this.finaldataarray.push(temparray);
            j++;
        }
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.tooltipData = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var arrayofTooltip = [];
        /** @type {?} */
        var obj = { "label": "", "value": "" };
        this.datahisto.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            obj = { "label": "", "value": "" };
            obj["label"] = element[0];
            obj["value"] = element[1];
            arrayofTooltip.push(obj);
        }));
        /** @type {?} */
        var value1 = this.xaxisArray[0];
        /** @type {?} */
        var tooltipdata = [];
        var _loop_1 = function (j) {
            tooltipdata = [];
            /** @type {?} */
            var value2 = this_1.xaxisArray[j];
            arrayofTooltip.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                if (value1 <= element.value && element.value <= value2) {
                    /** @type {?} */
                    var tooltipobj = { "label": "", "value": "" };
                    tooltipobj["label"] = element["label"];
                    tooltipobj["value"] = element["value"];
                    tooltipdata.push(tooltipobj);
                }
            }));
            this_1.tooltipArray.push(tooltipdata);
            value1 = value2;
        };
        var this_1 = this;
        for (var j = 1; j < this.xaxisArray.length; j++) {
            _loop_1(j);
        }
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    HistogramComponent.prototype.setKey = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        /** @type {?} */
        var object = {};
        /** @type {?} */
        var data = this.datahisto[0];
        /** @type {?} */
        var label1 = data[1];
        /** @type {?} */
        var label2 = data[0];
        object[label2 + ":"] = obj.label;
        object[label1 + ":"] = obj.value;
        return (this.toolTipForBar(object));
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    HistogramComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    };
    HistogramComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-histogram',
                    template: "<div #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n    <table *ngIf=\"datahisto.length > 0\" style=\"width: 100%;\">\n        <tr *ngIf=\"title.length > 0\">\n            <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n        </tr>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\" style=\"height:100%;\"></amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n    <div *ngIf=\"datahisto.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n        </div>\n</div>",
                    styles: [".bar{background-color:#3943cf;padding:.02px}"]
                },] },
    ];
    HistogramComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    HistogramComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        color: [{ type: Input, args: ['color',] }],
        datahisto: [{ type: Input, args: ['data',] }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }]
    };
    return HistogramComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var ScatterchartComponent = /** @class */ (function (_super) {
    __extends(ScatterchartComponent, _super);
    function ScatterchartComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'scatter') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgheight = 300;
        _this.color = "blue";
        _this.zoomflag = false;
        _this.zoominitiated = false;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.legendarray = [];
        _this.resizebtnflag = false;
        return _this;
    }
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        this.dataFormatted = [];
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    resp_1 = response;
                    _this.httpresponse = resp_1;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.dataFormatted = _this.data;
                        _this.transformData(_this.dataFormatted);
                        _this.colorGeneration();
                        _this.legendCreation();
                        _this.plotScatterChart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.dataFormatted = _this.data;
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData(_this.data);
                    _this.colorGeneration();
                    _this.legendCreation();
                    _this.plotScatterChart();
                }), 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    ScatterchartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                _this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.dataFormatted = _this.data;
            _this.transformData(_this.data);
            _this.colorGeneration();
            _this.legendCreation();
            _this.plotScatterChart();
        }), 0);
    };
    // Method to transform data in key value pair 
    // Method to transform data in key value pair 
    /**
     * @param {?} data
     * @return {?}
     */
    ScatterchartComponent.prototype.transformData = 
    // Method to transform data in key value pair 
    /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                }));
                _this.transformeddata.push(DummyObject_1);
            }
        }));
        this.data = this.transformeddata;
    };
    // Method get response data using data reader
    // Method get response data using data reader
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    ScatterchartComponent.prototype.getResponseData = 
    // Method get response data using data reader
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    // Method to plot d3 chart
    // Method to plot d3 chart
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.plotScatterChart = 
    // Method to plot d3 chart
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var margin = { top: 20, right: 20, bottom: 30, left: 60 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        x = scaleLinear()
            .rangeRound([0, width]);
        y = scaleLinear()
            .rangeRound([height, 0]);
        /** @type {?} */
        var xAxis = axisBottom(x);
        /** @type {?} */
        var yAxis = axisLeft(y).ticks(this.tickscount);
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        x.domain([0, max(this.data, (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d[Object.keys(d)[0]]; }))]);
        y.domain([0, max(this.data, (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d[Object.keys(d)[1]]; }))]);
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis)
                    .append("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .style("text-anchor", "start");
            }
        }
        else {
            this.svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        // this.svg.append("g")
        //   .attr("class", "x axis")
        //   .attr("transform", "translate(0," + height + ")")
        //   .call(xAxis)
        //   .append("text")
        //   .attr("class", "label")
        //   .attr("x", width)
        //   .attr("y", -6)
        //   .style("text-anchor", "end");
        this.svg.append("g")
            .attr("class", "y axis")
            .call(yAxis)
            .append("text")
            .attr("class", "label")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end");
        if (this.dataFormatted[0].length == 2) {
            this.plotLine(this.svg, x, y, height, width);
            this.node = this.svg.selectAll(".dot")
                .data(this.data)
                .enter().append("circle")
                .attr("class", "dot")
                .attr("fill", this.color)
                .attr("r", 4.5)
                .attr("cursor", "pointer")
                .attr("cx", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x(d[Object.keys(d)[0]]);
            }))
                .attr("cy", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return y(d[Object.keys(d)[1]]); }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.scatterChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
            // ------------------------------------------------------------------------------
            if (this.labelflag) {
                this.nodelabel = this.svg.selectAll("labels")
                    .data(this.data)
                    .enter().append("text")
                    .style("font-weight", "bold")
                    .attr("text-anchor", "middle")
                    .attr("vertical-align", "middle")
                    .attr("margin-top", margin.top)
                    .attr("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    if (_this.labelcolor.length > 0) {
                        return _this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                }))
                    .attr("x", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                function (d, i) {
                    return x(d[Object.keys(d)[0]]) + 11;
                }))
                    .attr("y", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                function (d, i) {
                    return y(d[Object.keys(d)[1]]);
                }))
                    .text((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return d[Object.keys(d)[1]];
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.html(_this.formTooltipData(d))
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    _this.scatterChartClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
            }
        }
        else {
            this.plotLine(this.svg, x, y, height, width);
            this.node = this.svg.selectAll(".dot")
                .data(this.transformeddata)
                .enter().append("circle")
                .attr("class", "dot")
                .attr("r", 4.5)
                .attr("cursor", "pointer")
                .attr("cx", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x(d[Object.keys(d)[0]]);
            }))
                .attr("cy", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return y(d[Object.keys(d)[1]]); }))
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d[Object.keys(d)[4]]; }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.scatterChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
            if (this.labelflag) {
                this.nodelabel = this.svg.selectAll("labels")
                    .data(this.data)
                    .enter().append("text")
                    .style("font-weight", "bold")
                    .attr("text-anchor", "middle")
                    .attr("vertical-align", "middle")
                    .attr("margin-top", margin.top)
                    .attr("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    if (_this.labelcolor.length > 0) {
                        return _this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                }))
                    .attr("x", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                function (d, i) {
                    return x(d[Object.keys(d)[0]]) + 11;
                }))
                    .attr("y", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                function (d, i) {
                    return y(d[Object.keys(d)[1]]);
                }))
                    .text((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return d[Object.keys(d)[1]];
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.html(_this.formTooltipData(d))
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    _this.scatterChartClick(d);
                    _this.fordrillableClick(_this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
            }
        }
        //create zoom handler 
        if (this.zoomflag) {
            this.zoominitiated = true;
            /** @type {?} */
            var zoom_handler = zoom()
                .on("zoom", this.zoom_actions.bind(this));
            zoom_handler(this.svg);
        }
    };
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.togglebtnflag = /**
     * @return {?}
     */
    function () {
        this.resizebtnflag = true;
    };
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.zoom_actions = /**
     * @return {?}
     */
    function () {
        this.node.attr("transform", event$1.transform);
        if (this.labelflag) {
            this.nodelabel.attr("transform", event$1.transform);
        }
        this.resizebtnflag = true;
        this.zoominitiated = false;
    };
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.resizesvg = /**
     * @return {?}
     */
    function () {
        // this.svg = null;
        this.svg.selectAll("*").remove();
        this.plotScatterChart();
        this.resizebtnflag = false;
    };
    // Method to form tooltip data
    // Method to form tooltip data
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    ScatterchartComponent.prototype.formTooltipData = 
    // Method to form tooltip data
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return this.toolTipForBar(object);
        var e_2, _d;
    };
    // Method on chart click
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    ScatterchartComponent.prototype.scatterChartClick = 
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key !== 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        this.chartClick(object);
        var e_3, _d;
    };
    // method to create Legend
    // method to create Legend
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.legendCreation = 
    // method to create Legend
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.dataFormatted[0].length == 2) {
            this.legends = [];
            /** @type {?} */
            var element = this.dataFormatted[0];
            /** @type {?} */
            var object = { 'label': element[0] + " " + "vs" + " " + element[1], 'color': this.color };
            this.legends.push(object);
        }
        else {
            this.legends = [];
            this.legendarray.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                /** @type {?} */
                var legendobject = {};
                legendobject['label'] = element.label;
                legendobject['color'] = element.color;
                _this.legends.push(legendobject);
            }));
        }
    };
    // Method on Legend Click
    // Method on Legend Click
    /**
     * @param {?} legendevent
     * @return {?}
     */
    ScatterchartComponent.prototype.onScatterLegendClick = 
    // Method on Legend Click
    /**
     * @param {?} legendevent
     * @return {?}
     */
    function (legendevent) {
        var _this = this;
        if (this.dataFormatted[0].length == 2) {
            this.onLegendClick.emit(this.data);
        }
        else {
            this.legendarray.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                if (legendevent.label == element.label) {
                    /** @type {?} */
                    var arr = element.value;
                    /** @type {?} */
                    var temparr_1 = [];
                    arr.forEach((/**
                     * @param {?} element
                     * @return {?}
                     */
                    function (element) {
                        /** @type {?} */
                        var obj = {};
                        try {
                            for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                                if (key !== 'color') {
                                    obj[key] = value;
                                }
                            } //for end
                        }
                        catch (e_4_1) { e_4 = { error: e_4_1 }; }
                        finally {
                            try {
                                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                            }
                            finally { if (e_4) throw e_4.error; }
                        }
                        temparr_1.push(obj);
                        var e_4, _d;
                    })); //for each ends
                    _this.legendClick(temparr_1);
                }
            }));
        }
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    // Method for responsiveness
    //RESIZE STEP 4 ENDS
    // Method for responsiveness
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.resize = 
    //RESIZE STEP 4 ENDS
    // Method for responsiveness
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotScatterChart();
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    ScatterchartComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat(''));
        }
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    };
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.colorGeneration = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendarray = [];
        /** @type {?} */
        var i = 0;
        /** @type {?} */
        var names = this.dataFormatted
            .map((/**
         * @param {?} e
         * @return {?}
         */
        function (e) { return e[2]; }))
            .filter((/**
         * @param {?} e
         * @param {?} i
         * @param {?} a
         * @return {?}
         */
        function (e, i, a) { return a.indexOf(e) === i; }));
        var _loop_1 = function (j) {
            /** @type {?} */
            var value = [];
            /** @type {?} */
            var obj = { "label": "", "color": "", "value": [] };
            this_1.transformeddata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                if (element[Object.keys(element)[2]] == names[j]) {
                    element['color'] = _this.predefinedcolors[i];
                    value.push(element);
                }
            }));
            obj["value"] = value;
            obj["label"] = names[j];
            obj["color"] = this_1.predefinedcolors[i];
            this_1.legendarray.push(obj);
            i++;
        };
        var this_1 = this;
        for (var j = 1; j < names.length; j++) {
            _loop_1(j);
        }
    };
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendData = [];
        this.legendarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var legendobject = {};
            legendobject['label'] = element.label;
            legendobject['color'] = element.color;
            _this.legendData.push(legendobject);
        }));
    };
    ScatterchartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-scatter',
                    template: "<div #chartId  *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n        <table *ngIf=\"data.length > 0\"  style=\"width: 100%;\">\n            <tr >\n                <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}}\n                 <span *ngIf=\"resizebtnflag\">\n               <button  type=\"reset\" class=\"fa fa-search-minus\" style=\"cursor: pointer; float:right\" (click)=\"resizesvg()\">\n               </button>\n               </span>     \n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                    </svg>\n                </td>\n            </tr>\n            <tr *ngIf=\"legend\">\n                <td style=\"display: block; padding: 5px;\">\n                    <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onScatterLegendClick($event)\" [data]=\"legends\" style=\"height:100%;\"></amexio-d3-legend>\n                </td>\n            </tr>\n        </table>\n        <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n            </div>\n    </div>",
                    styles: [""]
                },] },
    ];
    ScatterchartComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    ScatterchartComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        color: [{ type: Input, args: ['color',] }],
        zoomflag: [{ type: Input, args: ['zoom-enable',] }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }]
    };
    return ScatterchartComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var MultiareaComponent = /** @class */ (function (_super) {
    __extends(MultiareaComponent, _super);
    function MultiareaComponent(myservice, cdf, device) {
        var _this = _super.call(this, "areachart") || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgheight = 350;
        _this.colorarray = [];
        _this.onLegendClick = new EventEmitter();
        _this.onTooltipClick = new EventEmitter();
        _this.togglelabel = false;
        _this.margin = {};
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.data1 = [];
        _this.legendArray = [];
        return _this;
    }
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        this.togglelabel = false;
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    _this.httpresponse = response;
                    _this.data = _this.getResponseData(response);
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.transformData(_this.data);
                        _this.initAreaChart();
                        _this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data1) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.transformData(_this.data);
                    _this.initAreaChart();
                    _this.plotD3Chart();
                }), 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    MultiareaComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                _this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.transformData(_this.data);
            _this.initAreaChart();
            _this.plotD3Chart();
        }), 0);
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.initAreaChart = /**
     * @return {?}
     */
    function () {
        this.tooltip = this.toolTip(d3);
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        this.margin = { top: 30, right: 44, bottom: 50, left: 30 },
            this.width = this.svgwidth - this.margin.left - this.margin.right,
            this.height = this.svgheight - this.margin.top - this.margin.bottom;
        //find max and initialize max
        this.maximumValue = this.findMaxData(this.data);
        this.x = scalePoint()
            .range([0, this.width]);
        // .padding(0.1);
        this.y = scaleLinear()
            .rangeRound([this.height, 0]);
        this.areaArray = [];
        //set x y domain
        this.areaArray = this.data.map((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d[Object.keys(d)[0]]; }));
        this.x.domain(this.areaArray);
        this.y.domain([0, this.maximumValue]);
        //initialize svg
        this.svg =
            select("#" + this.componentId)
                .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                .attr("width", this.width + this.margin.left + this.margin.right)
                .attr("height", this.height + this.margin.top + this.margin.bottom);
        this.predefinedColors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        this.formLegendData();
        /** @type {?} */
        var counter;
        /** @type {?} */
        var g = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
        // add the X 
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                g.append("g")
                    .attr("transform", "translate(0," + this.height + ")")
                    .call(axisBottom(this.x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                g.append("g")
                    .attr("transform", "translate(0," + this.height + ")")
                    .call(axisBottom(this.x));
            }
        }
        else {
            g.append("g")
                .attr("transform", "translate(0," + this.height + ")")
                .call(axisBottom(this.x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        // add the Y Axis
        g.append("g")
            .call(axisLeft(this.y).ticks(this.tickscount));
        this.plotLine(g, this.x, this.y, this.height, this.width);
        for (counter = 1; counter < this.keyArray.length; counter++) {
            /** @type {?} */
            var innerGroup = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
            this.plotAreaChart(innerGroup, counter, this);
        }
        //call method to plot points
        /** @type {?} */
        var increment;
        for (increment = 1; increment < this.keyArray.length; increment++) {
            //plot line
            /** @type {?} */
            var innerGroup = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
            this.PlotLineDot(innerGroup, increment, this);
        } //increment for ends
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 4 ENDS
    /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    MultiareaComponent.prototype.PlotLineDot = 
    //RESIZE STEP 4 ENDS
    /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    function (g, i, thisa) {
        var _this = this;
        /** @type {?} */
        var flag = this.togglelabel;
        /** @type {?} */
        var line$$1 = line()
            .x((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return thisa.x(d[Object.keys(d)[0]]); }))
            .y((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return thisa.y(d[Object.keys(d)[i]]); }));
        g.append("path")
            .data([thisa.data])
            .attr("fill", "none")
            .attr("stroke", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            if (_this.colorarray.length > 0) {
                if (_this.colorarray[i - 1]) {
                    return _this.colorarray[i - 1];
                }
                else {
                    return thisa.predefinedcolors[i];
                }
            }
            else {
                return thisa.predefinedcolors[i];
            }
        }))
            .attr("stroke-width", 1.5)
            .attr("d", line$$1)
            .attr("opacity", 0.2)
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")");
        "translate(" + 0 + "," + 0 + ")");
        //----------
        g.selectAll('dot')
            .data(thisa.data)
            .enter()
            .append('circle')
            .attr('opacity', 0)
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            if (_this.colorarray.length > 0) {
                if (_this.colorarray[i - 1]) {
                    return _this.colorarray[i - 1];
                }
                else {
                    return thisa.predefinedcolors[i];
                }
            }
            else {
                return thisa.predefinedcolors[i];
            }
        }))
            .attr("cx", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return thisa.x(d[Object.keys(d)[0]]); }))
            .attr("cy", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return thisa.y(d[Object.keys(d)[i]]); }))
            .attr('r', 4)
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.formTooltipData(d, i);
            return _this.tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return _this.tooltip.html(_this.formTooltipData(d, i))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return _this.tooltip.style("visibility", "hidden");
        }))
            .style("opacity", 1)
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.onAreaTooltipClick(d, i);
            _this.fordrillableClick(_this, d, event);
            return _this.tooltip.style("visibility", "hidden");
            //this.chartClick(d);
        }))
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")");
        "translate(" + 0 + "," + 0 + ")");
        // -----------------------------------------------------------------
        if (this.labelflag) {
            g.selectAll('labels')
                .data(thisa.data)
                .enter()
                .append('text')
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.labelcolor && _this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                // let length = String(d[Object.keys(d)[i]]).length
                return thisa.x(d[Object.keys(d)[0]]) + 20;
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                /** @type {?} */
                var key = [Object.keys(d)[i]];
                if (flag) {
                    return thisa.y(d[key]) - 5; // fr up
                }
                else {
                    return thisa.y(d[key]) + 15;
                }
                // return thisa.y(d[Object.keys(d)[i]]);
                //  return y(d[Object.keys(d)[1]])+yTextPadding;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return d[Object.keys(d)[i]];
            }))
                .attr("transform", "translate(" + 0 + "," + 0 + ")")
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.formTooltipData(d, i);
                return _this.tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return _this.tooltip.html(_this.formTooltipData(d, i))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return _this.tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.onAreaTooltipClick(d, i);
                _this.fordrillableClick(_this, d, event);
                return _this.tooltip.style("visibility", "hidden");
                //this.chartClick(d);
            }));
        }
        if (this.togglelabel) {
            this.togglelabel = false;
        }
        else {
            this.togglelabel = true;
        }
    };
    /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    MultiareaComponent.prototype.plotAreaChart = /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    function (g, i, thisa) {
        var _this = this;
        // calculate area and valueline
        // define the line
        /** @type {?} */
        var valueline = line()
            .x((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            /** @type {?} */
            var key = [Object.keys(d)[0]];
            return thisa.x(d[key]);
        }))
            .y((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            /** @type {?} */
            var key = [Object.keys(d)[i]];
            return thisa.y(d[key]);
        }));
        // add the valueline path.
        g.append("path")
            .data([this.data])
            .style("stroke", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            if (_this.colorarray.length > 0) {
                //  return this.colorarray[i-1];
                if (_this.colorarray[i - 1]) {
                    return _this.colorarray[i - 1];
                }
                else {
                    return _this.predefinedcolors[i];
                }
            }
            else {
                return _this.predefinedColors[i];
            }
        }))
            .attr("fill", "none")
            .style("stroke-width", "2px")
            .attr("d", valueline)
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")");
        "translate(" + 0 + "," + 0 + ")");
        // define the area
        /** @type {?} */
        var area$$1 = area()
            .x((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            /** @type {?} */
            var key = [Object.keys(d)[0]];
            return thisa.x(d[key]);
        }))
            .y0(this.height)
            .y1((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            /** @type {?} */
            var key = [Object.keys(d)[i]];
            return thisa.y(d[key]);
        }));
        g.append("path")
            .data([this.data])
            .attr("d", area$$1)
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")")
        "translate(" + 0 + "," + 0 + ")")
            .style("stroke", "none")
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            if (_this.colorarray.length > 0) {
                if (_this.colorarray[i - 1]) {
                    return _this.colorarray[i - 1];
                }
                else {
                    return _this.predefinedcolors[i];
                }
            }
            else {
                return _this.predefinedColors[i];
            }
        }))
            .style("opacity", 0.5);
    };
    /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    MultiareaComponent.prototype.onAreaTooltipClick = /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    function (tooltipData, count) {
        /** @type {?} */
        var obj = {};
        obj[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
        obj[this.keyArray[count]] = tooltipData[Object.keys(tooltipData)[count]];
        this.chartClick(obj);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    MultiareaComponent.prototype.findMaxData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var tempArray = [];
        /** @type {?} */
        var largeValues = [];
        /** @type {?} */
        var maxValue;
        //logic to search 3 largest values 
        data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var value;
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value_1 = _c[1];
                    //exempts first column of data as it is treated as x-axis
                    if (key != _this.keyArray[0]) {
                        tempArray.push(value_1);
                    }
                } //for loop end
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_1) throw e_1.error; }
            }
            value = _this.findLargestValue(tempArray);
            largeValues.push(value);
            var e_1, _d;
        }));
        maxValue = this.findLargestValue(largeValues);
        return maxValue;
    };
    /**
     * @param {?} array
     * @return {?}
     */
    MultiareaComponent.prototype.findLargestValue = /**
     * @param {?} array
     * @return {?}
     */
    function (array) {
        /** @type {?} */
        var i;
        /** @type {?} */
        var max$$1 = 0;
        for (i = 0; i < array.length; i++) {
            if (array[i] > max$$1) {
                max$$1 = array[i];
            } //if ends 
        } //max ends
        return max$$1;
    };
    //covert data
    //covert data
    /**
     * @param {?} data
     * @return {?}
     */
    MultiareaComponent.prototype.transformData = 
    //covert data
    /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.transformeddata = [];
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                })); //inner for loop ends
                _this.transformeddata.push(DummyObject_1);
            } //if ends
        })); //outer for loop ends
        //outer for loop ends
        /** @type {?} */
        var parsedtransformeddata = JSON.parse(JSON.stringify(this.transformeddata));
        this.data = parsedtransformeddata;
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendArray = [];
        /** @type {?} */
        var counter = 0;
        this.keyArray.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var legendobject = {};
                legendobject['label'] = element;
                if ((_this.colorarray.length > 0) && (_this.colorarray[counter])) {
                    legendobject['color'] = _this.colorarray[counter];
                }
                else {
                    legendobject['color'] = _this.predefinedColors[counter + 1];
                }
                _this.legendArray.push(legendobject);
                counter++;
            }
        }));
    };
    /**
     * @param {?} legendData
     * @return {?}
     */
    MultiareaComponent.prototype.onAreaLegendClick = /**
     * @param {?} legendData
     * @return {?}
     */
    function (legendData) {
        /** @type {?} */
        var obj = {};
        obj["label"] = legendData.label;
        /** @type {?} */
        var data = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    if (key == legendData.label) {
                        /** @type {?} */
                        var object = {};
                        object[key] = value;
                        data.push(object);
                    } //inner if ends
                } //inner forloop ends
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_2) throw e_2.error; }
            }
            var e_2, _d;
        })); //outer foreach ends
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    MultiareaComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_3, _a;
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.resize = /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            // this.resizewt = this.chartId.nativeElement.offsetWidth;
            // console.log("", new Date().getTime(), " ", this.resizewt);
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.initAreaChart();
        this.plotD3Chart();
    };
    /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    MultiareaComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    function (tooltipData, count) {
        /** @type {?} */
        var obj = {};
        obj[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
        obj[this.keyArray[count]] = tooltipData[Object.keys(tooltipData)[count]];
        return this.toolTipForBar(obj);
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    MultiareaComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.validateData = /**
     * @return {?}
     */
    function () {
        if (this.data) ;
        else {
            return "lmask";
        }
    };
    MultiareaComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-multiarea',
                    template: "\n<div #chartId *ngIf=\"drillableFlag\" #divid (window:resize)=\"validateresize()\">\n<table [ngClass]=\"validateData()\" style=\"width: 100%;\">\n  <tr *ngIf = \"title.length > 0\">\n      <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n  </tr>\n  <tr>\n      <td>\n          <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n          </svg>\n      </td>\n  </tr>\n  <tr *ngIf=\"legend\" >\n      <td style=\"display: block; padding: 5px;\">\n          <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onAreaLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n          </amexio-d3-legend>\n      </td>\n  </tr>\n</table>\n<!-- <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div> -->\n</div>",
                    styles: [""]
                },] },
    ];
    MultiareaComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    MultiareaComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        colorarray: [{ type: Input, args: ['color',] }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        onLegendClick: [{ type: Output }],
        onTooltipClick: [{ type: Output }]
    };
    return MultiareaComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var CandlestickComponent = /** @class */ (function (_super) {
    __extends(CandlestickComponent, _super);
    function CandlestickComponent(myservice, cdf, device) {
        var _this = _super.call(this, "candlestickwaterfallchart") || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgheight = 300;
        _this.showzeroflag = true;
        _this.onLegendClick = new EventEmitter();
        _this.predefinedColor = [];
        _this.keyArray = [];
        _this.margin = {};
        _this.legendArray = [];
        return _this;
    }
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        this.predefinedColor = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    //this.data = response;
                    _this.httpresponse = response;
                    _this.data = _this.getResponseData(response);
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.transformData(_this.data);
                        _this.initializeData();
                        _this.plotXYAxis();
                        _this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.transformData(_this.data);
                    _this.initializeData();
                    _this.plotXYAxis();
                    _this.plotD3Chart();
                }), 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CandlestickComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                _this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.transformData(_this.data);
            _this.initializeData();
            _this.plotXYAxis();
            _this.plotD3Chart();
        }), 0);
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.initializeData = /**
     * @return {?}
     */
    function () {
        this.tooltip = this.toolTip(d3);
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        this.margin = { top: 20, right: 30, bottom: 50, left: 60 },
            this.width = this.svgwidth - this.margin.left - this.margin.right,
            this.height = this.svgheight - this.margin.top - this.margin.bottom;
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.plotXYAxis = /**
     * @return {?}
     */
    function () {
        // set the ranges
        this.x = scaleBand().range([0, this.width]);
        this.y = scaleLinear()
            .rangeRound([this.height, 0]);
        // scale the range of the data
        /** @type {?} */
        var candlestickArray = this.data.map((/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return d[Object.keys(d)[0]];
        }));
        this.x.domain(candlestickArray);
        /** @type {?} */
        var max$$1 = max(this.data, (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d.end; }));
        this.y.domain([0, max$$1]);
        // this.svg = d3.select("#" + this.componentId)
        //RESIZE STEP 2 START
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", this.width + this.margin.left + this.margin.right)
            .attr("height", this.height + this.margin.top + this.margin.bottom)
            .append("g")
            .attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
        // add the X Axis
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + this.height + ")")
                    .call(axisBottom(this.x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + this.height + ")")
                    .call(axisBottom(this.x));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + this.height + ")")
                .call(axisBottom(this.x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        // this.svg.append("g")
        //   .attr("transform", "translate(0," + this.height + ")")
        //   .call(d3.axisBottom(this.x));
        // add the Y Axis
        this.svg.append("g")
            .call(axisLeft(this.y).ticks(this.tickscount));
        this.plotLine(this.svg, this.x, this.y, this.height, this.width);
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var bar = this.svg.selectAll(".bar")
            .data(this.data)
            .enter().append("g")
            .attr("class", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return "bar " + d.class; }))
            .attr("transform", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return "translate(" + _this.x(d[Object.keys(d)[0]]) + ",0)";
        }));
        bar.append("rect")
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return _this.y(Math.max(d.start, d.end)); }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return Math.abs(_this.y(d.start) - _this.y(d.end)); }))
            .attr("width", this.x.bandwidth())
            .attr("fill", (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        function (d, i) {
            return _this.predefinedColor[i];
        }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.formTooltipData(d);
            return _this.tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return _this.tooltip.html(_this.formTooltipData(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return _this.tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.onCandlestickClick(d);
            _this.fordrillableClick(_this, d, event);
            return _this.tooltip.style("visibility", "hidden");
        }));
        if (this.labelflag) {
            bar.append("text")
                .style("font-weight", "bold")
                .style("font-size", "1vw")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.labelcolor && _this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return (_this.x.bandwidth()) / 2;
            }))
                .attr("y", (/**
             * @param {?} d
             * @param {?} index
             * @return {?}
             */
            function (d, index) {
                return _this.y(Math.max(d.start, d.end)) + 20;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                // return d[Object.keys(d)[1]]
                if (_this.showzeroflag) {
                    return d[Object.keys(d)[1]];
                }
                else if (!_this.showzeroflag) {
                    if (d[Object.keys(d)[1]] > 0) {
                        return d[Object.keys(d)[1]];
                    }
                }
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.formTooltipData(d);
                return _this.tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return _this.tooltip.html(_this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return _this.tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.onCandlestickClick(d);
                _this.fordrillableClick(_this, d, event);
                return _this.tooltip.style("visibility", "hidden");
            }));
        }
    };
    /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    CandlestickComponent.prototype.plotLine = /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (svg, x, y, height, width) {
        if (this.hScale) {
            svg.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CandlestickComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.transformeddata = [];
        this.keyArray = [];
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                })); //inner for loop ends
                _this.transformeddata.push(DummyObject_1);
            } //if ends
        })); //outer for loop ends 
        this.data = this.transformeddata;
        this.addDataKeys();
        this.formLegendData();
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.addDataKeys = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var cumulative = 0;
        for (var i = 0; i < this.data.length; i++) {
            this.data[i]["start"] = cumulative;
            cumulative += this.data[i][this.keyArray[1]];
            this.data[i]["end"] = cumulative;
            this.data[i]["class"] = (this.data[i][this.keyArray[1]] >= 0) ? 'positive' : 'negative';
        }
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    CandlestickComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    CandlestickComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        object[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
        object[this.keyArray[1]] = tooltipData[Object.keys(tooltipData)[1]];
        return this.toolTipForBar(object);
    };
    /**
     * @param {?} chartData
     * @return {?}
     */
    CandlestickComponent.prototype.onCandlestickClick = /**
     * @param {?} chartData
     * @return {?}
     */
    function (chartData) {
        /** @type {?} */
        var object = {};
        object[this.keyArray[0]] = chartData[Object.keys(chartData)[0]];
        object[this.keyArray[1]] = chartData[Object.keys(chartData)[1]];
        this.chartClick(object);
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendArray = [];
        this.data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    if (key == _this.keyArray[0]) {
                        /** @type {?} */
                        var object = {};
                        object["label"] = value;
                        object["color"] = _this.predefinedColor[index];
                        _this.legendArray.push(object);
                    }
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_2) throw e_2.error; }
            }
            var e_2, _d;
        }));
    };
    /**
     * @param {?} chartData
     * @return {?}
     */
    CandlestickComponent.prototype.onCandlestickLegendClick = /**
     * @param {?} chartData
     * @return {?}
     */
    function (chartData) {
        /** @type {?} */
        var object = {};
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    if (value == chartData.label) {
                        object[chartData.label] = element[Object.keys(element)[1]];
                    }
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_3) throw e_3.error; }
            }
            var e_3, _d;
        }));
        this.onLegendClick.emit(object);
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.resize = 
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            // this.resizewt = this.chartId.nativeElement.offsetWidth;
            // console.log("", new Date().getTime(), " ", this.resizewt);
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.initializeData();
        this.plotXYAxis();
        this.plotD3Chart();
    };
    CandlestickComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-waterfall',
                    template: "\n<div #chartId *ngIf=\"drillableFlag\"  (window:resize)=\"validateresize()\" >\n<table *ngIf=\"data.length > 0\" style=\"width: 100%;\" >\n  <tr *ngIf = \"title.length > 0\">\n      <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n  </tr>\n  <tr>\n      <td>\n          <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n          </svg>\n      </td>\n  </tr>\n  <tr *ngIf=\"legend\">\n      <td style=\"display: block; padding: 5px;\">\n          <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onCandlestickLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n          </amexio-d3-legend>\n      </td>\n  </tr>\n</table>\n<div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n</div>",
                    styles: [""]
                },] },
    ];
    CandlestickComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    CandlestickComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        data: [{ type: Input }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        showzeroflag: [{ type: Input, args: ['show-zero-values',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        onLegendClick: [{ type: Output }]
    };
    return CandlestickComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var BubbleComponent = /** @class */ (function (_super) {
    __extends(BubbleComponent, _super);
    function BubbleComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'bubble') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgheight = 300;
        _this.color = "blue";
        _this.zoomflag = false;
        _this.zoominitiated = false;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.colors = [];
        _this.xaxisArray = [];
        _this.xarray = [];
        _this.legends = [];
        _this.legendarray = [];
        _this.resizebtnflag = false;
        _this.legendData = [];
        _this.minxvalue = 0;
        _this.maxxvalue = 0;
        _this.bubblechartdata = [];
        _this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        return _this;
    }
    /**
     * @return {?}
     */
    BubbleComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        this.data1 = [];
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    resp_1 = response;
                    _this.httpresponse = resp_1;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.data1 = _this.data;
                        _this.xaxisData();
                        _this.transformData(_this.data1);
                        _this.transformdata();
                        _this.colorGeneration();
                        _this.formLegendData();
                        _this.plotBubbleChart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data1 = _this.data;
                    _this.data = _this.getResponseData(_this.data);
                    _this.xaxisData();
                    _this.transformData(_this.data);
                    _this.transformdata();
                    _this.colorGeneration();
                    _this.formLegendData();
                    _this.plotBubbleChart();
                }), 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    BubbleComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                _this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.data1 = _this.data;
            _this.xaxisData();
            _this.transformData(_this.data1);
            _this.transformdata();
            _this.colorGeneration();
            _this.formLegendData();
            _this.plotBubbleChart();
        }), 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    BubbleComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    BubbleComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.colordata = [];
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                }));
                _this.transformeddata.push(DummyObject_1);
            }
        }));
        this.data = this.transformeddata;
        this.colordata = this.transformeddata;
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.plotBubbleChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var colors = this.predefinedcolors;
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var margin = { top: 20, right: 60, bottom: 50, left: 60 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        x = scaleLinear()
            .rangeRound([0, width]);
        y = scaleLinear()
            .rangeRound([height, 0]);
        /** @type {?} */
        var xAxis = axisBottom(x).ticks(this.xtickscount);
        /** @type {?} */
        var yAxis = axisLeft(y).ticks(this.tickscount);
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        y.domain([0, max(this.data, (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d[Object.keys(d)[2]]; }))]);
        x.domain([this.minxvalue, this.maxxvalue]);
        /** @type {?} */
        var rScale = scaleSqrt().rangeRound([6, 30]);
        rScale.domain([min(this.data, (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d[Object.keys(d)[4]]; })), max(this.data, (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            function (d, i) { return d[Object.keys(d)[4]]; }))]);
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis)
                    .append("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis)
                    .append("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .style("text-anchor", "start");
            }
        }
        else {
            this.svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        this.svg.append("g")
            .attr("class", "y axis")
            .call(yAxis)
            .append("text")
            .attr("class", "label")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end");
        this.plotLine(this.svg, x, y, height, width);
        this.node = this.svg.selectAll(".dot")
            .data(this.bubblechartdata)
            .enter().append("circle")
            .attr("class", "dot")
            .attr("r", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return rScale(d[Object.keys(d)[4]]); }))
            .attr("cursor", "pointer")
            .attr("cx", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return x(d[Object.keys(d)[1]]);
        }))
            .attr("cy", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return y(d[Object.keys(d)[2]]); }))
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d[Object.keys(d)[5]]; }))
            .attr('opacity', 0.7)
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.html(_this.formTooltipData(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            // if(!this.zoominitiated) {
            _this.bubbleChartClick(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
            // }
        }));
        //label
        if (this.labelflag) {
            this.nodelabel = this.svg.selectAll("labels")
                .data(this.bubblechartdata)
                .enter().append("text")
                .style("font-weight", "bold")
                .style("font-size", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return rScale(d[Object.keys(d)[4]]) - 4;
            }))
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.labelcolor && _this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x(d[Object.keys(d)[1]]);
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return y(d[Object.keys(d)[2]]); }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return d[Object.keys(d)[0]];
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                // if(!this.zoominitiated) {
                _this.bubbleChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
                // }
            }));
        }
        //create zoom handler 
        if (this.zoomflag) {
            this.zoominitiated = true;
            /** @type {?} */
            var zoom_handler = zoom()
                .on("zoom", this.zoom_actions.bind(this));
            zoom_handler(this.svg);
        }
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.togglebtnflag = /**
     * @return {?}
     */
    function () {
        this.resizebtnflag = true;
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.zoom_actions = /**
     * @return {?}
     */
    function () {
        this.node.attr("transform", event$1.transform);
        if (this.labelflag) {
            this.nodelabel.attr("transform", event$1.transform);
        }
        this.resizebtnflag = true;
        this.zoominitiated = false;
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.resizesvg = /**
     * @return {?}
     */
    function () {
        // this.svg = null;
        this.svg.selectAll("*").remove();
        this.plotBubbleChart();
        this.resizebtnflag = false;
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    BubbleComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return this.toolTipForBar(object);
        var e_2, _d;
    };
    // Method on chart click
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    BubbleComponent.prototype.bubbleChartClick = 
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key !== 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        this.chartClick(object);
        var e_3, _d;
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    BubbleComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    BubbleComponent.prototype.resize = 
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotBubbleChart();
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.xaxisData = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var array = [];
        this.minxvalue = 0;
        this.maxxvalue = 0;
        this.xaxisArray = [];
        this.xarray = [];
        this.data1.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            array.push(element[1]);
        }));
        for (var i = 1; i < array.length; i++) {
            this.xaxisArray.push(array[i]);
        }
        /** @type {?} */
        var minvalue = Math.floor(min(this.xaxisArray));
        /** @type {?} */
        var maxvalue = Math.ceil(max(this.xaxisArray));
        this.minxvalue = 5 * (Math.floor(Math.abs(minvalue / 5)));
        this.maxxvalue = 5 * (Math.ceil(Math.abs(maxvalue / 5)));
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.colorGeneration = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendarray = [];
        /** @type {?} */
        var i = 0;
        /** @type {?} */
        var names = this.data1
            .map((/**
         * @param {?} e
         * @return {?}
         */
        function (e) { return e[3]; }))
            .filter((/**
         * @param {?} e
         * @param {?} i
         * @param {?} a
         * @return {?}
         */
        function (e, i, a) { return a.indexOf(e) === i; }));
        var _loop_1 = function (j) {
            /** @type {?} */
            var value = [];
            /** @type {?} */
            var obj = { "label": "", "color": "", "value": [] };
            this_1.colordata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                if (element[Object.keys(element)[3]] == names[j]) {
                    element['color'] = _this.predefinedcolors[i];
                    value.push(element);
                }
            }));
            obj["value"] = value;
            obj["label"] = names[j];
            obj["color"] = this_1.predefinedcolors[i];
            this_1.legendarray.push(obj);
            i++;
        };
        var this_1 = this;
        for (var j = 1; j < names.length; j++) {
            _loop_1(j);
        }
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendData = [];
        this.legendarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var legendobject = {};
            legendobject['label'] = element.label;
            legendobject['color'] = element.color;
            _this.legendData.push(legendobject);
        }));
    };
    /**
     * @param {?} legendevent
     * @return {?}
     */
    BubbleComponent.prototype.onBubbleLegendClick = /**
     * @param {?} legendevent
     * @return {?}
     */
    function (legendevent) {
        var _this = this;
        this.legendarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var obj = {};
            /** @type {?} */
            var temparr = [];
            if (legendevent.label == element.label) {
                /** @type {?} */
                var arr = element.value;
                arr.forEach((/**
                 * @param {?} element
                 * @return {?}
                 */
                function (element) {
                    try {
                        for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                            if (key !== 'color') {
                                obj[key] = value;
                            }
                        } // for ends
                    }
                    catch (e_4_1) { e_4 = { error: e_4_1 }; }
                    finally {
                        try {
                            if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                        }
                        finally { if (e_4) throw e_4.error; }
                    }
                    temparr.push(obj);
                    var e_4, _d;
                })); // for each ends
                _this.legendClick(temparr);
            }
        }));
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    BubbleComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat('').ticks(this.xtickscount));
        }
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.transformdata = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.bubblechartdata = [];
        /** @type {?} */
        var buubledata = [];
        this.colordata.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        function (element, i) {
            buubledata.push(element[Object.keys(element)[4]]);
        }));
        /** @type {?} */
        var data = buubledata.sort((/**
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        function (a, b) { return b - a; }));
        var _loop_2 = function (j) {
            this_2.colordata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                if (data[j] == element[Object.keys(element)[4]])
                    _this.bubblechartdata.push(element);
            }));
        };
        var this_2 = this;
        for (var j = 0; j <= data.length; j++) {
            _loop_2(j);
        }
    };
    BubbleComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-bubble',
                    template: "<div #chartId *ngIf=\"drillableFlag\" (window:resize)=\"validateresize()\">\n    <table *ngIf=\"data.length > 0\" style=\"width: 100%;\">\n        <tr>\n            <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}}\n                <span *ngIf=\"resizebtnflag\">\n                    <button type=\"reset\" class=\"fa fa-search-minus\" style=\"cursor: pointer; float:right\" (click)=\"resizesvg()\">\n                    </button>\n                </span>\n            </td>\n            <td></td>\n        </tr>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onBubbleLegendClick($event)\" [data]=\"legendData\"\n                    style=\"height:100%;\"></amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n    <div *ngIf=\"data.length < 1\" class=\"lmask\" style=\"padding-top:50%\">\n    </div>\n</div>",
                    styles: [""]
                },] },
    ];
    BubbleComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    BubbleComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        color: [{ type: Input, args: ['color',] }],
        zoomflag: [{ type: Input, args: ['zoom-enable',] }],
        tickscount: [{ type: Input, args: ['yaxis-interval',] }],
        xtickscount: [{ type: Input, args: ['xaxis-interval',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }]
    };
    return BubbleComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var AmexioD3TimelineChartComponent = /** @class */ (function (_super) {
    __extends(AmexioD3TimelineChartComponent, _super);
    function AmexioD3TimelineChartComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'timeline') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgheight = 200;
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.labelcolor = "black";
        _this.labelflag = false;
        _this.lanes = [];
        _this.timelinechartData = [];
        _this.drillableFlag = true;
        _this.resizeflag = false;
        _this.monthlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
        return _this;
    }
    /**
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    resp_1 = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                }), (/**
                 * @return {?}
                 */
                function () {
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.transformTODate(_this.data);
                        _this.transformData(_this.urldata);
                        _this.plotChart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData(_this.data);
                    _this.plotChart();
                }), 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        /** @type {?} */
        var resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                resp = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
            }), (/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.data = _this.getResponseData(resp);
                    _this.drawChart();
                }), 0);
            }));
        }
    };
    /**
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.transformTODate(_this.data);
            _this.transformData(_this.urldata);
            _this.plotChart();
        }), 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.plotChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var laneLength = this.lanes.length;
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        var m = [20, 25, 15, 120];
        /** @type {?} */
        var //top right bottom left
        width = this.svgwidth - m[1] - m[3];
        /** @type {?} */
        var height = this.svgheight - m[0] - m[2];
        /** @type {?} */
        var miniHeight = laneLength * 12 + 50;
        /** @type {?} */
        var mainHeight = height - miniHeight - 50;
        /** @type {?} */
        var mindate;
        /** @type {?} */
        var maxdate;
        /** @type {?} */
        var barheight = 20;
        if (this.httpurl && this.httpmethod) {
            mindate = this.urldata[0][1].getFullYear(),
                maxdate = this.urldata[this.urldata.length - 1][2].getFullYear();
        }
        else {
            mindate = this.data[0][1].getFullYear(),
                maxdate = this.data[this.data.length - 1][2].getFullYear();
        }
        /** @type {?} */
        var x = scaleTime()
            .domain([this.mindate, this.maxdate])
            .range([0, width]);
        /** @type {?} */
        var x1 = scaleLinear()
            .domain([mindate, maxdate])
            .range([m[3], width + m[3]]);
        /** @type {?} */
        var y1 = scaleLinear()
            .domain([0, laneLength])
            .range([0, miniHeight]);
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + m[1] + m[3])
            .attr("height", height + m[0] + m[2]);
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x1).ticks(this.xtickscount)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x1).ticks(this.xtickscount));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x1).ticks(this.xtickscount)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        /** @type {?} */
        var mini = this.svg.append("g")
            .attr("transform", "translate(" + m[3] + "," + (mainHeight + m[0]) + ")")
            .attr("width", width)
            .attr("height", mainHeight)
            .attr("class", "mini");
        //mini lanes and texts
        mini.append("g").selectAll(".laneLines")
            .data(this.timelinechartData)
            .enter().append("line")
            .attr("y1", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return y1(d.lane); }))
            .attr("x2", width)
            .attr("y2", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return y1(d.lane); }))
            .attr("stroke", "lightgray");
        mini.append("g").selectAll(".laneText")
            .data(this.lanes)
            .enter().append("text")
            .text((/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return d; }))
            .attr("x", -m[1])
            .attr("y", (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        function (d, i) { return y1(i + .5); }))
            .attr("dy", ".5ex")
            .attr("text-anchor", "end")
            .attr("class", "laneText");
        //mini item rects
        mini.append("g").selectAll("miniItems")
            .data(this.timelinechartData)
            .enter().append("rect")
            .attr("class", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return "miniItem" + d.lane; }))
            .attr("fill", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        function (d, index) { return _this.predefinedcolors[index]; }))
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return x(d.start); }))
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) { return (y1(d.lane + .5) - 5); }))
            .attr("width", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return Math.abs(x(d.end) - x(d.start));
        }))
            .attr("height", barheight)
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.html(_this.formTooltipData(d)
            //  this.toolTipForBar(d)
            // this.toolTipContent(d)
            )
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        function (d) {
            _this.timelineChartClick(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        /** @type {?} */
        var barwidth;
        //mini labels
        /** @type {?} */
        var monthlist1 = this.monthlist;
        if (this.labelflag) {
            mini.append("g").selectAll(".miniLabels")
                .data(this.timelinechartData)
                .enter().append("text")
                .style("font-weight", "bold")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (_this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .style("font-size", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                barwidth = Math.min(Math.abs(x(d.end) - x(d.start)));
                return barwidth / 20 + "px";
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (d.id) {
                    /** @type {?} */
                    var startfullyear = d.start.getFullYear();
                    /** @type {?} */
                    var startMonth = monthlist1[d.start.getMonth()];
                    /** @type {?} */
                    var endfullyear = d.end.getFullYear();
                    /** @type {?} */
                    var endMonth = monthlist1[d.end.getMonth()];
                    /** @type {?} */
                    var date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
                    return date;
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return x(d.start);
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return y1(d.lane + .5); }))
                .attr("dy", "1.2ex")
                .attr("dx", "9ex")
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.html(_this.formTooltipData(d)
                //  this.toolTipForBar(d)
                // this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                _this.timelineChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
        }
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        /** @type {?} */
        var mlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
        /** @type {?} */
        var label1 = "Duration";
        /** @type {?} */
        var label2 = "Name";
        /** @type {?} */
        var startfullyear = tooltipData.start.getFullYear();
        /** @type {?} */
        var startMonth = mlist[tooltipData.start.getMonth()];
        /** @type {?} */
        var endfullyear = tooltipData.end.getFullYear();
        /** @type {?} */
        var endMonth = mlist[tooltipData.end.getMonth()];
        /** @type {?} */
        var date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
        object[label2 + ":"] = tooltipData.id;
        object[label1 + ":"] = date;
        return this.toolTipForBar(object);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.transformTODate = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.urldata = [];
        data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var dataobj = [];
            /** @type {?} */
            var startdate = new Date(element[1]);
            /** @type {?} */
            var enddate = new Date(element[2]);
            dataobj.push(element[0]);
            dataobj.push(startdate);
            dataobj.push(enddate);
            _this.urldata.push(dataobj);
        }));
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.lanes = [];
        this.timelinechartData = [];
        this.legends = [];
        /** @type {?} */
        var datalength = data.length - 1;
        /** @type {?} */
        var length = data.length;
        this.mindate = data[0][1];
        this.maxdate = data[datalength][2];
        /** @type {?} */
        var mlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
        data.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        function (element, i) {
            /** @type {?} */
            var dataObj = { "lane": "", "id": "", "start": "", "end": "" };
            _this.lanes.push(element[0]);
            dataObj["lane"] = i;
            dataObj["id"] = element[0];
            dataObj["start"] = element[1];
            dataObj["end"] = element[2];
            _this.timelinechartData.push(dataObj);
        }));
        this.timelinechartData.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        function (element, i) {
            /** @type {?} */
            var startfullyear = element.start.getFullYear();
            /** @type {?} */
            var startMonth = mlist[element.start.getMonth()];
            /** @type {?} */
            var endfullyear = element.end.getFullYear();
            /** @type {?} */
            var endMonth = mlist[element.end.getMonth()];
            /** @type {?} */
            var date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
            /** @type {?} */
            var object = { 'label': _this.lanes[i], 'color': _this.predefinedcolors[i], 'Duration': date };
            _this.legends.push(object);
        }));
        /** @type {?} */
        var Obj = { "lane": "", "id": "", "start": "", "end": "" };
        Obj["lane"] = length;
        this.timelinechartData.push(Obj);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.timelineChartClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        /** @type {?} */
        var mlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
        /** @type {?} */
        var startfullyear = event.start.getFullYear();
        /** @type {?} */
        var startMonth = mlist[event.start.getMonth()];
        /** @type {?} */
        var endfullyear = event.end.getFullYear();
        /** @type {?} */
        var endMonth = mlist[event.end.getMonth()];
        /** @type {?} */
        var date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
        object["Name"] = event.id;
        object["Duration"] = date;
        this.chartClick(object);
    };
    //RESIZE STEP 4 STARTS
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.validateresize = 
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this.wt) ;
            else {
                _this.resize();
            }
        }), 0);
    };
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.resize = 
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    function () {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            // this.resizewt = this.chartId.nativeElement.offsetWidth;
            // console.log("", new Date().getTime(), " ", this.resizewt);
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotChart();
    };
    /**
     * @param {?} event
     * @return {?}
     */
    AmexioD3TimelineChartComponent.prototype.timelinelegendClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var obj = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key !== 'color') {
                    obj[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        this.onLegendClick.emit(obj);
        var e_2, _d;
    };
    AmexioD3TimelineChartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-timeline',
                    template: "\n<div  #chartId *ngIf=\"drillableFlag\"  (window:resize)=\"validateresize()\" >\n    <table style=\"width: 100%;\" position=\" relative\">\n        <tr *ngIf = \"title.length > 0\">\n            <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n        </tr>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\" \n              >\n                </svg>\n            </td>\n        </tr>\n        <tr *ngIf=\"legend\">\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"timelinelegendClick($event)\" [data]=\"legends\" style=\"height:100%;\">\n                </amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n    </div>"
                },] },
    ];
    AmexioD3TimelineChartComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    AmexioD3TimelineChartComponent.propDecorators = {
        data: [{ type: Input, args: ['data',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        xtickscount: [{ type: Input, args: ['xaxis-interval',] }]
    };
    return AmexioD3TimelineChartComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var ViewDrillableComponent = /** @class */ (function () {
    function ViewDrillableComponent() {
    }
    /**
     * @return {?}
     */
    ViewDrillableComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    ViewDrillableComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        return this.getComponentData();
    };
    /**
     * @return {?}
     */
    ViewDrillableComponent.prototype.getComponentData = /**
     * @return {?}
     */
    function () {
        this.chartInputArray = [];
        this.barchartinput = this.queryBarchartinput.toArray();
        this.groupbarchartinput = this.QueryGroupbarchartinput.toArray();
        this.linechartinput = this.QueryLinechartinput.toArray();
        this.donutchartinput = this.QueryDonutchartinput.toArray();
        this.piechartinput = this.QueryPiechartinput.toArray();
        this.barstackchartinput = this.QueryBarStackchartinput.toArray();
        this.combochartinput = this.QueryCombochartinput.toArray();
        this.histogramchartinput = this.QueryHistogramchartinput.toArray();
        this.scatterchartinput = this.QuerySatterchartinput.toArray();
        this.multiareachartinput = this.QueryMultiareachartinput.toArray();
        this.candlestickchartinput = this.QueryCandlestickchartinput.toArray();
        this.bubblechartinput = this.QueryBubblechartinput.toArray();
        this.timelinechartinput = this.QueryTimechartinput.toArray();
        this.chartInputArray = this.chartInputArray.concat(this.barchartinput, this.groupbarchartinput, this.linechartinput, this.donutchartinput, this.piechartinput, this.barstackchartinput, this.combochartinput, this.histogramchartinput, this.scatterchartinput, this.multiareachartinput, this.candlestickchartinput, this.bubblechartinput, this.timelinechartinput);
        return this.chartInputArray;
    };
    ViewDrillableComponent.propDecorators = {
        queryBarchartinput: [{ type: ContentChildren, args: [AmexioD3BarChartComponent, { descendants: true },] }],
        QueryGroupbarchartinput: [{ type: ContentChildren, args: [GroupbarComponent, { descendants: true },] }],
        QueryLinechartinput: [{ type: ContentChildren, args: [AmexioD3LineComponent, { descendants: true },] }],
        QueryPiechartinput: [{ type: ContentChildren, args: [AmexioD3PieChartComponent, { descendants: true },] }],
        QueryDonutchartinput: [{ type: ContentChildren, args: [AmexioD3DounutChartComponent, { descendants: true },] }],
        QueryBarStackchartinput: [{ type: ContentChildren, args: [BarstackComponent, { descendants: true },] }],
        QueryCombochartinput: [{ type: ContentChildren, args: [CombochartComponent, { descendants: true },] }],
        QueryHistogramchartinput: [{ type: ContentChildren, args: [HistogramComponent, { descendants: true },] }],
        QuerySatterchartinput: [{ type: ContentChildren, args: [ScatterchartComponent, { descendants: true },] }],
        QueryMultiareachartinput: [{ type: ContentChildren, args: [MultiareaComponent, { descendants: true },] }],
        QueryCandlestickchartinput: [{ type: ContentChildren, args: [CandlestickComponent, { descendants: true },] }],
        QueryBubblechartinput: [{ type: ContentChildren, args: [BubbleComponent, { descendants: true },] }],
        QueryTimechartinput: [{ type: ContentChildren, args: [AmexioD3TimelineChartComponent, { descendants: true },] }]
    };
    return ViewDrillableComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var DrillableComponent = /** @class */ (function (_super) {
    __extends(DrillableComponent, _super);
    function DrillableComponent() {
        var _this = _super.call(this) || this;
        _this.mouseLocation = { left: 0, top: 0 };
        _this.componentcounter = 1;
        _this.disableFlag = false;
        return _this;
    }
    /**
     * @return {?}
     */
    DrillableComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    DrillableComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this.ComponentDataArray = this.getComponentData();
        this.getData(this.ComponentDataArray);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    DrillableComponent.prototype.getData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            if (element.level !== 1) {
                element.drillableFlag = false;
                element.drillableEvent.subscribe((/**
                 * @param {?} eventdata
                 * @return {?}
                 */
                function (eventdata) {
                    _this.hideUI(eventdata);
                    _this.sameLevelChart(eventdata);
                    _this.ShowUI(eventdata);
                }));
            }
            else {
                _this.disableFlag = false;
                element.drillableEvent.subscribe((/**
                 * @param {?} eventdata
                 * @return {?}
                 */
                function (eventdata) {
                    _this.hideUI(eventdata);
                    _this.sameLevelChart(eventdata);
                    _this.ShowUI(eventdata);
                }));
            }
        }));
    };
    /**
     * @param {?} eventRef
     * @return {?}
     */
    DrillableComponent.prototype.hideUI = /**
     * @param {?} eventRef
     * @return {?}
     */
    function (eventRef) {
        this.ComponentDataArray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            if (element.level == eventRef.ref.level) {
                eventRef.ref.drillableFlag = false;
            }
        }));
    };
    /**
     * @param {?} eventRef
     * @return {?}
     */
    DrillableComponent.prototype.ShowUI = /**
     * @param {?} eventRef
     * @return {?}
     */
    function (eventRef) {
        var _this = this;
        this.eventData = [];
        this.eventData = eventRef;
        this.ComponentDataArray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            if (eventRef.ref.target == element.level) {
                if (_this.arrayofsameLevel.length == 1) {
                    _this.disableFlag = true;
                    element.drillableFlag = true;
                    element.fetchData(eventRef.node);
                    _this.componentcounter = element.level;
                }
                else {
                    _this.contextmenuFlag = true;
                    _this.mouseLocation.left = eventRef.event.clientX;
                    _this.mouseLocation.top = eventRef.event.clientY;
                    _this.contextStyle = _this.getContextMenuStyle();
                }
            }
        }));
        if (this.componentcounter == eventRef.ref.level) {
            eventRef.ref.drillableFlag = true;
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    DrillableComponent.prototype.previouschartClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        var _this = this;
        /** @type {?} */
        var chartLevel = this.componentcounter - 1;
        this.ComponentDataArray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            if (chartLevel == element.level) {
                element.drillableFlag = true;
                element.drawChart();
            }
            else if (_this.componentcounter == element.level) {
                element.drillableFlag = false;
            }
        }));
        if (this.componentcounter == 2) {
            this.disableFlag = false;
        }
        this.componentcounter = chartLevel;
    };
    /**
     * @param {?} eventRef
     * @return {?}
     */
    DrillableComponent.prototype.sameLevelChart = /**
     * @param {?} eventRef
     * @return {?}
     */
    function (eventRef) {
        var _this = this;
        this.arrayofsameLevel = [];
        this.ComponentDataArray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            if (eventRef.ref.target == element.level) {
                _this.arrayofsameLevel = _this.arrayofsameLevel.concat(element);
            }
        }));
    };
    //Method Creates style if two same targets found.
    //Method Creates style if two same targets found.
    /**
     * @return {?}
     */
    DrillableComponent.prototype.getContextMenuStyle = 
    //Method Creates style if two same targets found.
    /**
     * @return {?}
     */
    function () {
        return {
            'cursor': 'default',
            'position': 'fixed',
            'display': this.contextmenuFlag ? 'block' : 'none',
            'left': this.mouseLocation.left + 'px',
            'top': this.mouseLocation.top + 'px',
            'box-shadow': '1px 1px 2px #000000',
            'width': '15%',
        };
    };
    /**
     * @param {?} elementRef
     * @return {?}
     */
    DrillableComponent.prototype.getListPosition = /**
     * @param {?} elementRef
     * @return {?}
     */
    function (elementRef) {
        /** @type {?} */
        var height = 240;
        if ((window.screen.height - elementRef.getBoundingClientRect().bottom) < height) {
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    DrillableComponent.prototype.onContextNodeClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.componentcounter = 0;
        this.contextmenuFlag = false;
        this.eventData.ref.drillableFlag = false;
        this.disableFlag = true;
        event.drillableFlag = true;
        event.fetchData(this.eventData.node);
        this.componentcounter = event.level;
        if (this.componentcounter == this.eventData.ref.level) {
            this.eventData.ref.drillableFlag = true;
        }
    };
    /**
     * @return {?}
     */
    DrillableComponent.prototype.onCloseClick = /**
     * @return {?}
     */
    function () {
        this.contextmenuFlag = false;
    };
    DrillableComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-drillable',
                    template: "\n<div > \n    <ng-container *ngIf=\"disableFlag\">\n            <button type=\"button\" class=\"button\"\n             (click)=\"previouschartClick($event)\">\n             <i class=\"fa fa-arrow-left\"></i> \n             \n            </button>\n</ng-container>\n\n<ng-content></ng-content>\n\n</div>\n\n<span [ngStyle]=\"contextStyle\" >\n  <ul *ngIf=\"contextmenuFlag\" class=\"close-thik\" class=\"context-menu-list\"  >\n    <span (click)=\"onCloseClick()\" class=\"close\"><i class=\"fa fa-close\"></i></span>\n  <li (click)=\"onContextNodeClick(itemConfig)\" class=\"context-menu-list-items\" \n  *ngFor=\"let itemConfig of arrayofsameLevel\">\n  <em [ngStyle]=\"{'padding-left': itemConfig.icon ? '5px':'19px'}\"></em>\n  <span style=\"white-space: nowrap;display: inline ; padding-left:5px\">{{itemConfig.title}}\n  </span>\n  </li>\n  </ul>\n  </span>\n  ",
                    styles: [".button{position:relative;border:1px solid #555;font-weight:400;color:#000;padding:.5rem 1rem;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;border-radius:3px}.button:after{content:\"\";background:#000;display:block;position:absolute;padding-top:300%;padding-left:350%;margin-left:-20px!important;margin-top:-120%;opacity:0;transition:.8s}.button:active:after{padding:0;margin:0;opacity:1;transition:none}.context-menu-list{display:block;position:absolute;flex-direction:column;min-width:180px;cursor:pointer;max-height:150px;z-index:1;padding:10px 0;overflow-y:auto;background-color:#fff!important;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.context-menu-list .context-menu-list-items{text-decoration:none;font-size:14px!important;padding:5px;display:block}.close{float:right;padding-right:8px;cursor:pointer}"]
                },] },
    ];
    DrillableComponent.ctorParameters = function () { return []; };
    return DrillableComponent;
}(ViewDrillableComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/** @type {?} */
var D3_COMPONENTS = [
    AmexioD3Legend,
    AmexioD3DounutChartComponent,
    AmexioD3BarChartComponent,
    AmexioD3PieChartComponent,
    AmexioD3LineComponent,
    BarstackComponent,
    GroupbarComponent,
    CombochartComponent,
    DrillableComponent,
    HistogramComponent,
    MultiareaComponent,
    ScatterchartComponent,
    CandlestickComponent,
    BubbleComponent,
    AmexioD3TimelineChartComponent
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var AmexioChartD3Module = /** @class */ (function () {
    function AmexioChartD3Module() {
    }
    AmexioChartD3Module.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        FormsModule,
                        CommonModule
                    ],
                    declarations: D3_COMPONENTS,
                    providers: [DeviceQueryService],
                    exports: D3_COMPONENTS
                },] },
    ];
    return AmexioChartD3Module;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */

export { AmexioChartD3Module, DeviceQueryService, AmexioD3DounutChartComponent, AmexioD3PieChartComponent, AmexioD3BarChartComponent, AmexioD3LineComponent, BarstackComponent, GroupbarComponent, D3_COMPONENTS as a, AmexioD3BaseChartComponent as c, ViewDrillableComponent as h, BubbleComponent as m, CandlestickComponent as l, CombochartComponent as f, DrillableComponent as g, HistogramComponent as i, AmexioD3Legend as b, AmexioD3BaseLineComponent as e, MultiareaComponent as k, ScatterchartComponent as j, CommanDataService as d, AmexioD3TimelineChartComponent as n };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1leGlvLWNoYXJ0LWQzLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2Jhc2UvYmFzZS5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZS50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZS50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9kb3VudXQvZG91bnV0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9waWUvcGllLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9sZWdlbmQvbGVnZW5kLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9iYXIvYmFyLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9saW5lL2Jhc2VsaW5lLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9saW5lL2xpbmUuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2JhcnN0YWNrL2JhcnN0YWNrLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9ncm91cGJhci9ncm91cGJhci5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvY29tYm9jaGFydC9jb21ib2NoYXJ0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9zY2F0dGVyY2hhcnQvc2NhdHRlcmNoYXJ0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9tdWx0aWFyZWEvbXVsdGlhcmVhLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9jYW5kbGVzdGljay9jYW5kbGVzdGljay5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvYnViYmxlL2J1YmJsZS9idWJibGUuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL3RpbWVsaW5lL3RpbWVsaW5lLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9iYXNlL3ZpZXcuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2RyaWxsYWJsZS9kcmlsbGFibGUvZHJpbGxhYmxlLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9hbWV4aW8tY2hhcnQtZDMtY29tcG9uZW50cy50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9hbWV4aW8tY2hhcnQtZDMubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudHtcblxuICAgIEBPdXRwdXQoKSBvbkxlZ2VuZENsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIEBPdXRwdXQoKSBvbkNoYXJ0Q2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgQE91dHB1dCgpIG9uTGluZUNsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgIFxuICAgIEBPdXRwdXQoKSBkcmlsbGFibGVFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICBcbiAgICBASW5wdXQoJ2RhdGEnKSBkYXRhOiBhbnkgPSBbXTtcblxuICAgIEBJbnB1dCgnaHR0cC11cmwnKSBodHRwdXJsOiBhbnk7XG4gICAgXG4gICAgQElucHV0KCdodHRwLW1ldGhvZCcpIGh0dHBtZXRob2Q6IGFueTtcblxuICAgIEBJbnB1dCgnbGVnZW5kJykgbGVnZW5kOiBib29sZWFuID0gdHJ1ZSA7XG5cbiAgICBASW5wdXQoJ2NvbG9yJykgY29sb3JzOiBhbnk7XG5cbiAgICBASW5wdXQoJ2hlaWdodCcpIGhlaWdodDogYW55ID0gXCIzMDBcIjtcblxuICAgIEBJbnB1dCgnd2lkdGgnKSB3aWR0aCA6IGFueSA9IFwiMzAwXCI7XG5cbiAgICBASW5wdXQoJ3RpdGxlJykgdGl0bGU6IGFueSA9IFwiXCI7XG5cbiAgICBASW5wdXQoJ2xhYmVsLWNvbG9yJykgbGFiZWxjb2xvcjogc3RyaW5nID0gXCJibGFja1wiO1xuXG4gICAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIGFkZGVkIGxhdGVyIG9uXG4gICAgQElucHV0KCdkYXRhLXJlYWRlcicpIGRhdGFyZWFkZXI6IHN0cmluZztcbiAgICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gICAgQElucHV0KCd0YXJnZXQnKSB0YXJnZXQ6IG51bWJlcjtcbiAgICBASW5wdXQoJ2RyaWxsYWJsZS1kYXRhJykgZHJpbGxhYmxlZGF0YWtleTogYW55W10gPSBbXTtcbiAgICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlOyAgIFxuICAgIEBJbnB1dCgndmVydGljYWwtc2NhbGUnKSAgIHZTY2FsZSA6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGRyaWxsYWJsZUZsYWc6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICBwcmVkZWZpbmVkY29sb3JzOiBzdHJpbmdbXTtcbiAgICBcbiAgICBjb21wb25lbnRJZCA6IHN0cmluZztcblxuICAgIHByaXZhdGUgIHBvc3NpYmxlIDogc3RyaW5nID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RkZWZnaGlqa2xtb25wcXJzdHV2d3h5elwiO1xuXG4gICAgY29sb3JJbmRleDogbnVtYmVyID0gMDtcblxuICAgIGNoYXJ0dHlwZSA6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGNoYXJ0dHlwZTpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jaGFydHR5cGUgPSBjaGFydHR5cGU7XG4gICAgICAgIHRoaXMucHJlZGVmaW5lZGNvbG9ycyA9IFtcIiMzMzY2Y2NcIiwgXCIjZGMzOTEyXCIsIFwiI2ZmOTkwMFwiLCBcIiMxMDk2MThcIiwgXCIjOTkwMDk5XCIsIFwiIzAwOTljNlwiLCBcIiNkZDQ0NzdcIiwgXCIjNjZhYTAwXCIsIFwiI2I4MmUyZVwiLCBcIiMzMTYzOTVcIiwgXCIjOTk0NDk5XCIsIFwiIzIyYWE5OVwiLCBcIiNhYWFhMTFcIiwgXCIjNjYzM2NjXCIsIFwiI2U2NzMwMFwiLCBcIiM4YjA3MDdcIiwgXCIjNjUxMDY3XCIsIFwiIzMyOTI2MlwiLCBcIiM1NTc0YTZcIiwgXCIjM2IzZWFjXCJdO1xuICAgICAgICB0aGlzLmNvbXBvbmVudElkID0gdGhpcy5jaGFydHR5cGUgICsgXCItXCIgKyB0aGlzLmdlbmVyYXRlSWQoKTtcbiAgICB9XG4gIFxuICAgIHByb3RlY3RlZCBpbml0aWFsaXplRGF0YSgpIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgICAgdGhpcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgZWxlbWVudC5jb2xvciA9IHRoaXMuZ2V0Q29sb3IoZWxlbWVudCk7XG4gICAgICAgICAgIH0pO1xuICAgICB9XG5cbiAgICAgIHByb3RlY3RlZCBnZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhOmFueSxkcmlsbGFibGVrZXlzOmFueSlcbiAgICAgIHtcbiAgICAgICBcbiAgICAgICAgICBsZXQgbm9kZU9iamVjdD17fTtcbiAgICAgICAgICBpZihkYXRhKVxuICAgICAgICAgIHtcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkcmlsbGFibGVrZXlzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICBsZXQgZWxlbWVudCA9IGRyaWxsYWJsZWtleXNbaW5kZXhdO1xuICAgICAgICAgICBmb3IgKGxldCBba2V5LHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gZWxlbWVudCkgXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVPYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbm9kZU9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICBcbiB9XG4gICAgIFxuIHByaXZhdGUgZ2VuZXJhdGVJZCgpe1xuICAgICAgIGxldCBpZCA9IFwiXCI7XG4gICAgICAgZm9yKGxldCBpID0gMDsgaTw1OyBpKyspe1xuICAgICAgICBpZCA9IGlkICsgdGhpcy5wb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdGhpcy5wb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgICB9XG4gICAgICAgaWQgPSBpZCArIFwiLVwiK25ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBwcml2YXRlICBnZXRDb2xvcihvYmplY3QgOiBhbnkpe1xuICAgICAgICBpZiAob2JqZWN0LmNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0LmNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY29sb3JzLmxlbmd0aCA+IHRoaXMuY29sb3JJbmRleCkge1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLmNvbG9yc1t0aGlzLmNvbG9ySW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5jb2xvckluZGV4Kys7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHRoaXMuY29sb3JzLmxlbmd0aCA+IDApICYmICh0aGlzLmNvbG9ycy5sZW5ndGggPD0gdGhpcy5jb2xvckluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy5jb2xvckluZGV4ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5jb2xvcnNbdGhpcy5jb2xvckluZGV4XTtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW3RoaXMuY29sb3JJbmRleF07XG4gICAgICAgICAgICB0aGlzLmNvbG9ySW5kZXgrKztcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbGVnZW5kQ2xpY2sobm9kZTphbnkpe1xuICAgICAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChub2RlKTtcbiAgICB9XG5cbiAgICBjaGFydENsaWNrKG5vZGU6YW55KXtcbiAgICAgICAgdGhpcy5vbkNoYXJ0Q2xpY2suZW1pdChub2RlKTtcbiAgICB9XG4gICAgXG4gICAgY29tYm9MaW5lQ2xpY2sobm9kZTogYW55KXtcbiAgICAgICAgdGhpcy5vbkxpbmVDbGljay5lbWl0KG5vZGUpO1xuICAgIH1cbiAgICBmb3JkcmlsbGFibGVDbGljayhyZWY6IGFueSxub2RlOiBhbnksZXZlbnQ6IGFueSlcbiAgICAge1xuICAgICAgICB0aGlzLmRyaWxsYWJsZUV2ZW50LmVtaXQoe3JlZjogcmVmLG5vZGU6IG5vZGUsZXZlbnQ6IGV2ZW50fSk7XG4gICAgfVxuICAgIHByb3RlY3RlZCB0b29sVGlwIChkMzphbnkpIDphbnl7XG4gICAgICAgcmV0dXJuICBkMy5zZWxlY3QoXCJib2R5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcImRpdlwiKVxuICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsJ3Rvb2x0aXBpZCcpXG4gICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywnYW1leGlvZDN0b29sdGlwJylcbiAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiei1pbmRleFwiLCBcIjEwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLFwiYmxhY2tcIilcbiAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b29sVGlwQ29udGVudCh0b29sdGlwZGF0YTphbnkpIDphbnl7XG4gICAgICAgbGV0IHRvb2x0aXBodG1sID0gXCI8dGFibGU+XCI7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0b29sdGlwZGF0YSkge1xuICAgICAgICBpZiAodG9vbHRpcGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdG9vbHRpcGRhdGFba2V5XTtcbiAgICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8dHI+XCI7XG4vLy0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjx0ZD5cIjtcbiAgICAgICAgLy8gICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsga2V5Kyc6JztcbiAgICAgICAgLy8gICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L3RkPlwiO1xuLy8tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8dGQ+XCI7XG4gICAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIHZhbHVlO1xuICAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjwvdGQ+XCI7XG4gICAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPC90cj5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPC90YWJsZT5cIjtcblxuICAgICAgcmV0dXJuIHRvb2x0aXBodG1sO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b29sVGlwV2l0aExlZ2VuZGFuZEF4aXMobGVnZW5kOiBzdHJpbmcsIHhheGlzOnN0cmluZywgeWF4aXM6IHN0cmluZykgOmFueXtcbiAgICAgICAgbGV0IHRvb2x0aXBodG1sID0gXCI8ZGl2PlwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8Yj5cIit4YXhpcytcIjwvYj4sIFwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgbGVnZW5kK1wiPC9iPiBcIjtcbiAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPGI+XCIreWF4aXMrXCI8L2I+IFwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBodG1sO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b29sVGlwRm9yQmFyKHRvb2x0aXBEYXRhOiBhbnkpOiBhbnl7XG4gICAgICAgICBsZXQgdG9vbHRpcGh0bWw9IFwiPGRpdj5cIjtcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgICAgICAgbGV0IHNpZGVTdHlsZT1cImZsb2F0OmxlZnRcIjtcbiAgICAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjxkaXY+XCI7XG4gICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8c3BhbiBzdHlsZSA9XCIrc2lkZVN0eWxlK1wiID48Yj5cIiArIGtleSArXCIgXCIrIFwiPC9iPlwiICt2YWx1ZSArIFwiPC9icj48L3NwYW4+XCI7XG4gICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgICByZXR1cm4gdG9vbHRpcGh0bWw7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCxIdHRwQ2xpZW50TW9kdWxlLEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMvaW5kZXgnO1xuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgQ29tbWFuRGF0YVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaHR0cDpIdHRwQ2xpZW50KSB7IH1cbiAgc2VydmljZVVybDogc3RyaW5nO1xuXG4gIGZldGNoVXJsRGF0YShzZXJ2aWNlVXJsOiBzdHJpbmcsIG1ldGhvZFR5cGU6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgY29uc3QgcmVxdWVzdEpzb24gPSB7fTtcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04Jyk7XG4gICAgaWYgKG1ldGhvZFR5cGUgPT09ICdwb3N0Jykge1xuICAgIHJldHVybiB0aGlzLmh0dHAucG9zdChzZXJ2aWNlVXJsLCByZXF1ZXN0SnNvbiwge2hlYWRlcnN9KTtcbiAgICB9ZWxzZSBpZiAobWV0aG9kVHlwZSA9PT0gJ2dldCcpIHtcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldChzZXJ2aWNlVXJsLCB7aGVhZGVyc30pO1xuICAgIH1cbn1cblxuXG5wb3N0ZmV0Y2hEYXRhKHNlcnZpY2VVcmw6IHN0cmluZywgbWV0aG9kVHlwZTogc3RyaW5nLHJlcXVlc3RKc29uOmFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gXG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnKTtcbiAgaWYgKG1ldGhvZFR5cGUgPT09ICdwb3N0Jykge1xuICByZXR1cm4gdGhpcy5odHRwLnBvc3Qoc2VydmljZVVybCwgcmVxdWVzdEpzb24sIHtoZWFkZXJzfSk7XG4gIH1lbHNlIGlmIChtZXRob2RUeXBlID09PSAnZ2V0Jykge1xuICByZXR1cm4gdGhpcy5odHRwLmdldChzZXJ2aWNlVXJsLCB7aGVhZGVyc30pO1xuICB9XG59XG5cblxuXG5cblxuXG59IiwiXG5pbXBvcnQgeyBpc1BsYXRmb3JtQnJvd3NlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIFBMQVRGT1JNX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LEh0dHBDbGllbnRNb2R1bGUsSHR0cEhlYWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERldmljZVF1ZXJ5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoIEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogYW55KSB7XG5cbiAgfVxuXG4gIHJ1bGVzID0ge1xuICAgIHByaW50OiAncHJpbnQnLFxuICAgIHNjcmVlbjogJ3NjcmVlbicsXG4gICAgcGhvbmU6ICcobWF4LXdpZHRoOiA3NjdweCknLFxuICAgIHRhYmxldDogJyhtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1heC13aWR0aDogMTAyNHB4KScsXG4gICAgZGVza3RvcDogJyhtaW4td2lkdGg6IDEwMjVweCknLFxuICAgIHBvcnRyYWl0OiAnKG9yaWVudGF0aW9uOiBwb3J0cmFpdCknLFxuICAgIGxhbmRzY2FwZTogJyhvcmllbnRhdGlvbjogbGFuZHNjYXBlKScsXG4gICAgcmV0aW5hOiAnKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMikgYW5kIChtaW4tcmVzb2x1dGlvbjogMTkyZHBpKScsXG4gIH07XG5cbiAgQ2hlY2sgPSBmdW5jdGlvbihtcTogYW55KSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIGlmICghbXEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKG1xKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICBNRVRIT0RTIEZPUiBDSEVDS0lORyBUWVBFXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBJc1Bob25lKCkge1xuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEodGhpcy5ydWxlcy5waG9uZSkubWF0Y2hlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgSXNUYWJsZXQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMudGFibGV0KS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNEZXNrdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmRlc2t0b3ApLm1hdGNoZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICBJc1BvcnRyYWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnBvcnRyYWl0KS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNMYW5kc2NhcGUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMubGFuZHNjYXBlKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNSZXRpbmEgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucmV0aW5hKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgYnJvd3NlcldpbmRvdyA9ICgpID0+IHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgIEVWRU5UIExJU1RFTkVSUyBCWSBUWVBFXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBPblBob25lKGNhbGxCYWNrOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGNhbGxCYWNrID09PSAnZnVuY3Rpb24nICYmIGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgICAgY29uc3QgbXFsOiBNZWRpYVF1ZXJ5TGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucGhvbmUpO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPblRhYmxldChjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnRhYmxldCk7XG4gICAgICAgIHRoaXMubXFsTWV0aG9kKGNhbGxCYWNrLCBtcWwpO1xuICAgIH1cbiAgfVxuXG4gIE9uRGVza3RvcChjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmRlc2t0b3ApO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPblBvcnRyYWl0KGNhbGxCYWNrOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGNhbGxCYWNrID09PSAnZnVuY3Rpb24nICYmIGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgICAgY29uc3QgbXFsOiBNZWRpYVF1ZXJ5TGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucG9ydHJhaXQpO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPbkxhbmRzY2FwZShjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmxhbmRzY2FwZSk7XG4gICAgICAgIHRoaXMubXFsTWV0aG9kKGNhbGxCYWNrLCBtcWwpO1xuICAgIH1cbiAgfVxuXG4gIG1xbE1ldGhvZChjYWxsQmFjazogYW55LCBtcWw6IGFueSkge1xuICAgIG1xbC5hZGRMaXN0ZW5lcigobXFsMTogTWVkaWFRdWVyeUxpc3QpID0+IHtcbiAgICAgIGlmIChtcWwxLm1hdGNoZXMpIHtcbiAgICAgICAgY2FsbEJhY2sobXFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSAnLi4vYmFzZS9jaGFydC5jb21wb25lbnQnO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1kb251dCcsXG4gIHRlbXBsYXRlOiBgPGRpdiAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjY2hhcnRJZCAod2luZG93OnJlc2l6ZSk9XCJyZXNpemUoJGV2ZW50KVwiPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA+IDBcIj5cblxuICBcbiAgICA8ZGl2IGNvbHNwYW49XCIyXCIgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj5cbiAgICAgICAge3t0aXRsZX19XG4gICAgPC9kaXY+XG4gICAgPGRpdiBbbmdDbGFzc109XCInZG9udXRjc3MnXCI+XG4gICAgICAgIDxzdmcgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaW5ZTWluIG1lZXRcIiB2aWV3Qm94PVwiMCAwIDMwMCAzMDBcIiBbYXR0ci5oZWlnaHRdPVwiaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwid2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgPGRpdj5cblxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiAxJTtcIj5cbiAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZGVza3RvcGxlZ2VuZFwiPlxuICAgICAgICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIChvbkNsaWNrKT1cIm9uRG9udXRMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kQXJyYXlcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPjwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwibW9iaWxlbGVnZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uRG9udXRMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kQXJyYXlcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPjwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPCEtLSAgLS0+XG4gICAgICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PmAsXG4gIHN0eWxlczogW2AuZG9udXRjc3N7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvd31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjEwMjRweCl7LmRvbnV0Y3Nze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59fWBdXG59KVxuZXhwb3J0IGNsYXNzIEFtZXhpb0QzRG91bnV0Q2hhcnRDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0IHtcblxuICBASW5wdXQoJ3BpZScpIHBpZTogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RyaWxsaWQnKSBkcmlsbGlkOiBhbnk7XG4gIGRlc2t0b3BsZWdlbmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgbW9iaWxlbGVnZW5kOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGRyaWxsRGF0YTogYW55O1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ0RPTlVUQ0hBUlQnKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuXG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcblxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcblxuICAgICAgfSBlbHNlXG4gICAgICAgIGlmICh0aGlzLmRhdGEpIHtcblxuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuXG4gICAgICB0aGlzLmZldGNoRGF0YSh0aGlzLmRyaWxsRGF0YSk7XG4gICAgfVxuICB9XG5cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuXG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcDtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcblxuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG5cbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgIH0sIDApO1xuXG4gIH1cblxuICBnZXRSZXNwb25zZURhdGEoaHR0cFJlc3BvbnNlOiBhbnkpIHtcbiAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICB9XG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICAvL3RoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgIC8vICB0aGlzLmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgICBsZXQgb3V0ZXJSYWRpdXMgPSAwO1xuICAgIGxldCBpbm5lclJhZGl1cyA9IDA7XG5cbiAgICBvdXRlclJhZGl1cyA9IHRoaXMuc3Znd2lkdGggLyAyO1xuICAgIGlubmVyUmFkaXVzID0gdGhpcy5zdmd3aWR0aCAvIDQ7XG5cbiAgICBpZiAodGhpcy5waWUpIHtcbiAgICAgIGlubmVyUmFkaXVzID0gMDtcbiAgICB9XG5cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcblxuICAgIGNvbnN0IGFyYyA9IGQzLmFyYygpXG4gICAgICAub3V0ZXJSYWRpdXMob3V0ZXJSYWRpdXMpXG4gICAgICAuaW5uZXJSYWRpdXMoaW5uZXJSYWRpdXMpO1xuXG4gICAgY29uc3QgcGllID0gZDMucGllKClcbiAgICAgIC52YWx1ZSgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgIC8vICByZXR1cm4gZC52YWx1ZVxuICAgICAgfSk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB0aGlzLnN2Z3dpZHRoIC8gMiArICcsJyArIHRoaXMuc3ZnaGVpZ2h0IC8gMiArICcpJylcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEocGllKHRoaXMuZGF0YSkpXG4gICAgICAuZW50ZXIoKTtcblxuICAgIGlmICh0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKSA9PSB0cnVlKSB7XG4gICAgICB0aGlzLmRlc2t0b3BsZWdlbmQgPSB0cnVlO1xuICAgICAgdGhpcy5tb2JpbGVsZWdlbmQgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gZWxzZXtcbiAgICAvLyAgICAgICAgaWYodGhpcy5kZXZpY2UuSXNQaG9uZSgpPT10cnVlICYmIHRoaXMuZGV2aWNlLklzVGFibGV0KCk9PXRydWUpXG4gICAgLy8gICAgICAgIHtcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmRlc2t0b3BsZWdlbmQ9ZmFsc2U7XG4gICAgLy8gICAgICAgICAgICAgdGhpcy5tb2JpbGVsZWdlbmQ9dHJ1ZTtcbiAgICAvLyAgICAgICAgfVxuICAgIC8vIH1cblxuICAgIGNvbnN0IHBhdGggPSB0aGlzLnN2Zy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2QnLCBhcmMpXG4gICAgICAuYXR0cignZmlsbCcsIChkLCBpKSA9PiB7XG4gICAgICAgIGlmIChkLmRhdGEuY29sb3IpIHtcbiAgICAgICAgICByZXR1cm4gZC5kYXRhLmNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIHJldHVybiAoZCAmJiBkLmRhdGEgJiYgZC5kYXRhLmNvbG9yKSA/IGQuZGF0YS5jb2xvciA6IFwiYmxhY2tcIlxuICAgICAgfSlcbiAgICAgIC5hdHRyKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLmRhdGEpXG5cbiAgICAgICAgICAvLyAgdGhpcy5mb3JtTGVnZW5kRGF0YShkLmRhdGEpXG4gICAgICAgICAgLy8gdGhpcy50b29sVGlwQ29udGVudChkLmRhdGEpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5Eb251dENoYXJ0Q2xpY2soZC5kYXRhKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLmRhdGEsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAvL3RoaXMuY2hhcnRDbGljayhkLmRhdGEpO1xuICAgICAgfSk7XG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gdGhpcy5zdmcuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigyMDApXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgYXJjLmNlbnRyb2lkKGQpICsgXCIpXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLnRleHQoKGQpID0+IHtcblxuICAgICAgICAgIHJldHVybiBkLmRhdGFbT2JqZWN0LmtleXMoZC5kYXRhKVsxXV1cblxuICAgICAgICAgIC8vcmV0dXJuIGQuZGF0YS52YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yICYmIHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyByZXR1cm4gKGQgJiYgZC5kYXRhICYmIGQuZGF0YS50ZXh0Y29sb3IpID8gZC5kYXRhLnRleHRjb2xvciA6IFwiYmxhY2tcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTJweCcpO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgIHRoaXMubGVnZW5kQXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMF1dO1xuICAgICAgbGVnZW5kb2JqZWN0Wyd2YWx1ZSddID0gZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVsxXV07XG4gICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSBlbGVtZW50LmNvbG9yO1xuICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBvbkRvbnV0TGVnZW5kQ2xpY2sobGVnZW5kZXZlbnQ6IGFueSkge1xuICAgIGxldCBvYmogPSB7fTtcblxuICAgIC8vICBvYmpbJ2xhYmVsJ10gPSBsZWdlbmRldmVudC5sYWJlbDtcbiAgICAvLyAgb2JqWyd2YWx1ZSddID0gbGVnZW5kZXZlbnQudmFsdWUgXG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMF1dID0gbGVnZW5kZXZlbnQubGFiZWw7XG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMV1dID0gbGVnZW5kZXZlbnQudmFsdWU7XG4gICAgLy9kZWxldGUgZXZlbnQuY29sb3I7XG4gICAgdGhpcy5sZWdlbmRDbGljayhvYmopO1xuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gZGF0YVswXTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBEdW1teU9iamVjdCA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICBEdW1teU9iamVjdFt0aGlzLmtleUFycmF5W2tleWluZGV4XV0gPSBpbmRpdmlkdWFsdmFsdWU7XG4gICAgICAgIH0pOy8vaW5uZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgIH0vL2lmIGVuZHNcbiAgICB9KTsvL291dGVyIGZvciBsb29wIGVuZHNcbiAgICB0aGlzLmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIGZvcm1Ub29sdGlwRGF0YSh0b29sdGlwRGF0YTogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0b29sdGlwRGF0YSkpIHtcbiAgICAgIGlmIChrZXkgIT0gJ2NvbG9yJyAmJiBrZXkgIT0gJ3RleHRjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgRG9udXRDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgcmVzaXplKGRhdGE6IGFueSkge1xuXG4gICAgdGhpcy5kZXNrdG9wbGVnZW5kID0gZmFsc2U7XG4gICAgdGhpcy5tb2JpbGVsZWdlbmQgPSB0cnVlO1xuICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1waWUnLFxuICB0ZW1wbGF0ZTogYDxkaXYgICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIj5cbjxhbWV4aW8tZDMtY2hhcnQtZG9udXQgI2lkIChvbkxlZ2VuZENsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgKG9uQ2hhcnRDbGljayk9XCJjaGFydENsaWNrKCRldmVudClcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgKGRyaWxsYWJsZUV2ZW50KT1cIiBmb3JkcmlsbGFibGVDbGljaygkZXZlbnQpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtoZWlnaHRdPVwiaGVpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt3aWR0aF09XCJ3aWR0aFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGl0bGVdPVwidGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFdID0gXCJkYXRhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtwaWVdICA9IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtodHRwLXVybF09XCJodHRwdXJsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtodHRwLW1ldGhvZF09XCJodHRwbWV0aG9kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhLXJlYWRlcl09XCJkYXRhcmVhZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtsYWJlbF09XCJsYWJlbGZsYWdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2xhYmVsLWNvbG9yXT1cImxhYmVsY29sb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2xldmVsXT1cImxldmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0YXJnZXRdPVwidGFyZ2V0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkcmlsbGFibGUtZGF0YV09XCJkcmlsbGFibGVkYXRha2V5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkcmlsbERhdGFdPVwiZHJpbGxEYXRhXCI+XG48L2FtZXhpby1kMy1jaGFydC1kb251dD5cbjwvZGl2PlxuYFxufSlcbmV4cG9ydCBjbGFzcyBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoJ2RhdGEnKSBkYXRhOiBhbnkgPSBbXTtcblxuICBAT3V0cHV0KCkgb25MZWdlbmRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgpIG9uQ2hhcnRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgpIGRyaWxsYWJsZUV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBWaWV3Q2hpbGQoJ2lkJykgZG9udXRyZWY6IGFueTtcblxuICBASW5wdXQoKSBsZWdlbmQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcnM6IGFueSA9IFtdO1xuXG4gIEBJbnB1dCgnd2lkdGgnKSB3aWR0aDogYW55ID0gXCIzMDBcIjtcblxuICBASW5wdXQoJ2hlaWdodCcpIGhlaWdodDogYW55ID0gXCIzMDBcIjtcblxuICBASW5wdXQoKSB0aXRsZTogYW55ID0gXCJcIjtcblxuICBASW5wdXQoJ2h0dHAtdXJsJykgaHR0cHVybDogYW55O1xuXG4gIEBJbnB1dCgnaHR0cC1tZXRob2QnKSBodHRwbWV0aG9kOiBhbnk7XG5cbiAgQElucHV0KCdkYXRhLXJlYWRlcicpIGRhdGFyZWFkZXI6IHN0cmluZztcblxuICBASW5wdXQoJ2xldmVsJykgbGV2ZWwgPSAwO1xuXG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG5cbiAgQElucHV0KCdkcmlsbGFibGUtZGF0YScpIGRyaWxsYWJsZWRhdGFrZXk6IGFueVxuXG4gIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG5cbiAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGRyaWxsYWJsZUZsYWc6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGRyaWxsRGF0YTogYW55O1xuXG5cbiAgbmdPbkluaXQoKSB7XG5cbiAgfVxuXG4gIGxlZ2VuZENsaWNrKG5vZGU6IGFueSkge1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG5vZGUpO1xuICB9XG5cbiAgY2hhcnRDbGljayhub2RlOiBhbnkpIHtcbiAgICB0aGlzLm9uQ2hhcnRDbGljay5lbWl0KG5vZGUpO1xuICB9XG5cblxuICBmb3JkcmlsbGFibGVDbGljayhyZWY6IGFueSkge1xuICAgIHRoaXMuZHJpbGxhYmxlRXZlbnQuZW1pdChyZWYpO1xuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMuZHJpbGxEYXRhID0gZGF0YTtcbiAgfVxuXG4gIGRyYXdDaGFydCgpIHtcblxuICAgIHRoaXMuZG9udXRyZWYuZHJpbGxhYmxlRmxhZyA9IHRydWU7XG4gICAgdGhpcy5kb251dHJlZi5kcmF3Q2hhcnQoKTtcblxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgT25DaGFuZ2VzLCBPbkluaXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvciA6ICdhbWV4aW8tZDMtbGVnZW5kJyxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgc3R5bGUgPVwiIHdpZHRoOiAxMDAlIDsgcGFkZGluZy1sZWZ0OiAyMHB4OyBwYWRkaW5nLXRvcDogOHB4OyBcIj5cbjx0YWJsZSAqbmdJZj1cIiFob3Jpem9udGFsXCIgc3R5bGU9XCJoZWlnaHQ6IDEwMCU7XCI+XG4gICAgPHRyICpuZ0ZvciA9IFwibGV0IG5vZGUgb2YgZGF0YVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyO1wiIChjbGljayk9XCJvbkxlZ2VuZENsaWNrKG5vZGUpXCI+XG4gICAgICAgIDx0ZCBzdHlsZT1cImhlaWdodDogMTBweDsgd2lkdGg6IDIzcHg7IHBhZGRpbmctbGVmdDogMnB4O1wiXG4gICAgICAgICAgICBbbmdTdHlsZV09XCJ7J2JhY2tncm91bmQtY29sb3InOiBub2RlLmNvbG9yfVwiPjwvdGQ+XG4gICAgICAgIDx0ZD57e25vZGUubGFiZWx9fTwvdGQ+XG4gICAgPC90cj5cbjwvdGFibGU+XG48L2Rpdj5cblxuPHRhYmxlICpuZ0lmPVwiaG9yaXpvbnRhbFwiIHN0eWxlPVwiaGVpZ2h0OiAxMDAlO1wiPlxuICAgIDx0cj5cbiAgICAgICAgPHRkICpuZ0ZvciA9IFwibGV0IG5vZGUgb2YgZGF0YVwiIFxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25MZWdlbmRDbGljayhub2RlKVwiIFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjtcIj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cIiBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgcGFkZGluZzogMnB4O1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiIHdpZHRoOiAxMHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHBhZGRpbmc6IDJweDsgXCIgXG4gICAgICAgICAgICAgICAgICAgIFtuZ1N0eWxlXT1cInsnYmFja2dyb3VuZC1jb2xvcic6IG5vZGUuY29sb3J9XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAge3tub2RlLmxhYmVsfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L3RkPlxuICAgICAgICBcbiAgICA8L3RyPlxuPC90YWJsZT5cblxuPGJyPlxuIGBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNMZWdlbmQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdFxue1xuXG4gICAgQElucHV0KCdkYXRhJykgZGF0YSA6IGFueTtcblxuICAgIEBJbnB1dCgnaG9yaXpvbnRhbCcpIGhvcml6b250YWwgOiBib29sZWFuID0gZmFsc2U7XG4gICAgdGVtcGFycjogYW55W10gPSBbXTtcbiAgICBAT3V0cHV0KCkgb25DbGljayA6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgY29uc3RydWN0b3IoKXtcbiAgIFxuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuXG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgdGhpcy50ZW1wYXJyID0gdGhpcy5kYXRhO1xuICAgIH1cbiAgICBuZ09uQ2hhbmdlcygpIHtcbiAgICAgICAgLy8gZGVidWdnZXI7XG4gICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLnRlbXBhcnIgPSB0aGlzLmRhdGE7XG4gICAgfVxuXG4gICAgb25MZWdlbmRDbGljayhub2RlOmFueSl7XG4gICAgICAgIHRoaXMub25DbGljay5lbWl0KG5vZGUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIENoYW5nZURldGVjdG9yUmVmLCBPbkNoYW5nZXMsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBkZWJ1ZyB9IGZyb20gXCJ1dGlsXCI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1iYXInLFxuICB0ZW1wbGF0ZTogYDxkaXYgI2NoYXJ0SWQgKm5nSWY9XCJkcmlsbGFibGVGbGFnIFwiICNkaXZpZCAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlIFtuZ0NsYXNzXT1cInZhbGlkYXRlRGF0YSgpXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIiBwb3NpdGlvbj1cIiByZWxhdGl2ZVwiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwidGl0bGUubGVuZ3RoID4gMFwiPlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQmFyTGVnZW5kQ2xpY2soJGV2ZW50KVwiIFtkYXRhXT1cImxlZ2VuZEFycmF5XCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICAgICAgICA8L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgIDwvdGFibGU+XG4gICAgPCEtLSA8dGFibGUgKm5nSWY9XCIhKGRhdGEgJiYgZGF0YS5sZW5ndGggPjApXCIgY2xhc3M9XCJsbWFza1wiPlxuICAgICAgICBcbiAgICA8L3RhYmxlID4gLS0+XG4gICAgPCEtLSA8ZGl2ICpuZ0lmPVwiZGF0YS5sZW5ndGggPCAxXCIgY2xhc3M9XCJsbWFza1wiIHN0eWxlPVwicGFkZGluZy10b3A6NTAlXCI+XG4gICAgPC9kaXY+IC0tPlxuXG48L2Rpdj5gXG59KVxuXG5leHBvcnQgY2xhc3MgQW1leGlvRDNCYXJDaGFydENvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgUGxvdENhcnQsIE9uQ2hhbmdlcyB7XG5cbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgpIGhvcml6b250YWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCdsYWJlbC1jb2xvcicpIGxhYmVsY29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIjtcbiAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZHJpbGxpZCcpIGRyaWxsaWQ6IGFueTtcbiAgQFZpZXdDaGlsZCgnZG9tcmVmJykgRE9NOiBFbGVtZW50UmVmO1xuICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG4gIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdO1xuICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoJ3lheGlzLWludGVydmFsJykgdGlja3Njb3VudDogbnVtYmVyO1xuICBASW5wdXQoJ3hheGlzLWludGVydmFsJykgeHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCdzaG93LXplcm8tdmFsdWVzJykgc2hvd3plcm9mbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCdkYXRhJykgX2RhdGE6IGFueSA9IFtdO1xuXG4gIHd0OiBudW1iZXI7XG4gIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY2hlY2ttb2I6IGJvb2xlYW47XG4gIHJlc2l6ZWc6IGFueTtcbiAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gIC8vIGRhdGE6IGFueTtcbiAgeGF4aXM6IGFueTtcbiAgeWF4aXM6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIGNvbG9yZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBvYmplY3Q6IGFueTtcbiAgbGVnZW5kQXJyYXk6IGFueVtdID0gW107XG4gIGZpcnN0bG9hZGluZyA9IGZhbHNlO1xuICBpbmMgPSAwXG4gIC8vIHByaXZhdGUgX2RhdGE6IGFueSA9IFtdO1xuICBzZXQgZGF0YSh2OiBhbnkpIHtcblxuICAgIGlmICh2ICYmICh2Lmxlbmd0aCA+IDApKSB7XG4gICAgICB0aGlzLl9kYXRhID0gdjtcbiAgICAgIC8vIGlmKHRoaXMuaXNDaGFydEluaXQpe1xuICAgICAgLy8gICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgLy8gfVxuICAgICAgLy8gaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgIC8vICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSlcbiAgICAgIC8vICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgLy8gICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAvLyB9LCAwKTtcbiAgICAgIC8vIH1cbiAgICAgIC8vIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcblxuICAgICAgLy8gdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgIH1cblxuICB9XG5cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignYmFyJyk7XG4gIH1cblxuICBpc0NoYXJ0SW5pdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEpIHtcbiAgICAgIGxldCByZXNwOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKVxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuXG4gICAgICAgICAgICB0aGlzLmlzQ2hhcnRJbml0ID0gdHJ1ZTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKVxuICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgdGhpcy5pc0NoYXJ0SW5pdCA9IHRydWU7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEZldGNoIERhdGFcbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuXG5cbiAgICAgIH0pO1xuXG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgfSwgMCk7XG5cbiAgfVxuXG4gIG5nT25DaGFuZ2VzKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwicmVwZWF0XCIpO1xuICAgIGlmICh0aGlzLmluYyA+IDEpIHtcbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgNTAwKTtcblxuICAgICAgfVxuXG4gICAgICB0aGlzLmZvcm1MZWdlbmREYXRhKCk7XG4gICAgfSB0aGlzLmluYysrXG5cbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICBwbG90RDNDaGFydCgpOiBhbnkge1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuXG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG5cbiAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiA2MCwgYm90dG9tOiA0MCwgbGVmdDogNjAgfTtcblxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gICAgLy9SRVNJWkUgU1RFUCAyIFNUQVJUXG4gICAgLy8gdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXR0cigndmlld0JveCcsICcwIDAgJyArIHRoaXMuc3Znd2lkdGggKyAnICcgKyB0aGlzLnN2Z2hlaWdodCk7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAvLyB0aGlzLnN2Zy5leGl0KCkucmVtb3ZlKCk7Ly9yZW1vdmUgdW5uZWVkZWQgY2lyY2xlc1xuICAgIC8vUkVTSVpFIFNURVAgMiBFTkRTIEhFUkVcbiAgICBsZXQgeCwgeTtcbiAgICBjb25zdCBnID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcbiAgICAvLyB2ZXJ0aWNhbCBiYXJcbiAgICBpZiAodGhpcy5ob3Jpem9udGFsID09IGZhbHNlKSB7XG4gICAgICAvLyB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgeCA9IGQzLnNjYWxlQmFuZCgpXG4gICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgICAgICAucGFkZGluZygwLjEpO1xuXG4gICAgICAgIC8vc2V0dGluZyBjb250ZW50IGZvciB4IGFuZCB5IGF4aXNcbiAgICAgICAgeC5kb21haW4odGhpcy5kYXRhLm1hcCgoZCkgPT4ge1xuXG4gICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMF1dO1xuICAgICAgICAgIC8vICAgIHJldHVybiBkLmxhYmVsXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG4gICAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgodGhpcy5kYXRhLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAvL3JldHVybiBkLnZhbHVlO1xuICAgICAgICB9KV0pO1xuXG4gICAgICB9XG4gICAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuICAgICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWxzZSB7XG4gICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcblxuICAgICAgfVxuXG4gICAgICAvL2FkZCB5IGF4aXMgdG8gc3ZnXG4gICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja3ModGhpcy50aWNrc2NvdW50KSlcblxuICAgICAgdGhpcy5wbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgICAgLy9hZGQgYmFyIGNoYXJ0XG4gICAgICBnLnNlbGVjdEFsbChcIi5iYXJcIilcbiAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmFyXCIpXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICAvLyByZXR1cm4geChkLmxhYmVsKTsgXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKTtcbiAgICAgICAgICAvLyByZXR1cm4geShkLnZhbHVlKTsgXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIHguYmFuZHdpZHRoKCkpXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KGRbT2JqZWN0LmtleXMoZClbMV1dKTsgfSlcblxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgLy8gcmV0dXJuIFwiYmx1ZVwiO1xuICAgICAgICAgIHJldHVybiBkLmNvbG9yO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICAgIC8vICB0aGlzLnRvb2xUaXBGb3JCYXIoZClcbiAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICAgIHZhciB5VGV4dFBhZGRpbmcgPSA0MDtcbiAgICAgICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmxhYmVsXCIpXG4gICAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxdndcIilcbiAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaWYgKCh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkgJiYgZFtPYmplY3Qua2V5cyhkKVsxXV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pICsgbWFyZ2luLmxlZnQgKyB4LmJhbmR3aWR0aCgpIC8gMjtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pICsgeVRleHRQYWRkaW5nO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIChkW09iamVjdC5rZXlzKGQpWzFdXSA+IDApIHtcbiAgICAgICAgICAgIC8vICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMV1dO1xuICAgICAgICAgICAgLy8gfS5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICAgICAgaWYgKGRbT2JqZWN0LmtleXMoZClbMV1dID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfS8vaWYgZW5kcyBmciBcbiAgICB9XG4gICAgLy8gaG9yaXpvbnRhbCBiYXJcbiAgICBlbHNlIGlmICh0aGlzLmhvcml6b250YWwgPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICB4ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAgIC5yYW5nZVJvdW5kKFswLCB3aWR0aF0pXG4gICAgICAgICAgO1xuXG5cbiAgICAgICAgLy9zZXR0aW5nIGNvbnRlbnQgZm9yIHggYW5kIHkgYXhpc1xuICAgICAgICB4LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZGF0YSxcbiAgICAgICAgICAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KFxuICAgICAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzFdXVxuICAgICAgICAgICAgICAvLyBkLnZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXSk7XG4gICAgICAgIC8vIGRbT2JqZWN0LmtleXMoZClbMV1dXG4gICAgICAgIHkgPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgICAgIC5yYW5nZVJvdW5kKFtoZWlnaHQsIDBdKS5wYWRkaW5nKDAuMSk7XG4gICAgICAgIHkuZG9tYWluKHRoaXMuZGF0YS5tYXAoKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAvL3JldHVybiBkLmxhYmVsO1xuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICAgIC8vIGFkZCB4IGF4aXMgdG8gc3ZnXG4gICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLnRpY2tzKHRoaXMueHRpY2tzY291bnQpKTtcblxuICAgICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpXG5cbiAgICAgIHRoaXMucGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCk7XG4gICAgICAvL2FkZCBiYXIgY2hhcnRcbiAgICAgIGcuc2VsZWN0QWxsKFwiLmJhclwiKVxuICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJiYXJcIilcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDApXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAgIC8vIGQubGFiZWxcbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVsxXV1cbiAgICAgICAgICAgIC8vIGQudmFsdWVcbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIHkuYmFuZHdpZHRoKCkpXG4gICAgICAgIC5zdHlsZShcImZpbGxcIiwgKGQpID0+IHsgcmV0dXJuIGQuY29sb3I7IH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgLy8gdGhpcy5mb3JtTGVnZW5kRGF0YShkKVxuICAgICAgICAgICAgLy8gdGhpcy50b29sVGlwQ29udGVudChkKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuYmFyQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgLy90aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgbGV0IHlUZXh0UGFkZGluZyA9IDQwO1xuICAgICAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIubGFiZWxcIilcbiAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcInZlcnRpY2FsLWFsaWduXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJtYXJnaW4tdG9wXCIsIG1hcmdpbi50b3ApXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInhcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMV1dKSArIHlUZXh0UGFkZGluZztcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVswXV0pXG4gICAgICAgICAgICAgICsgbWFyZ2luLnRvcCArIHkuYmFuZHdpZHRoKCkgLyAyO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIC8vIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICAgICAgaWYgKGRbT2JqZWN0LmtleXMoZClbMV1dID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgICAvLyB0aGlzLmZvcm1MZWdlbmREYXRhKGQpXG4gICAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfVxuICAgIC8vZWxzZSBlbmRzKGhvcml6b250YWwgYmFyIGxvZ2ljIGVuZHMpXG5cbiAgfVxuXG4gIHBsb3RMaW5lKGcsIHgsIHksIGhlaWdodCwgd2lkdGgpIHtcblxuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudClcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnZTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyArIGhlaWdodCArICcpJylcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KS5cbiAgICAgICAgICB0aWNrU2l6ZSgtdGhpcy53aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy54dGlja3Njb3VudClcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmb3JtVG9vbHRpcERhdGEodG9vbHRpcERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModG9vbHRpcERhdGEpKSB7XG4gICAgICBpZiAoa2V5ICE9ICdjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICBpZiAoZGF0YSAmJiAoZGF0YS5sZW5ndGggPiAwKSkge1xuICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICAgIHRoaXMua2V5QXJyYXkgPSBkYXRhWzBdO1xuICAgICAgaWYgKGRhdGEgJiYgKGRhdGEubGVuZ3RoID4gMCkpIHtcblxuICAgICAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgbGV0IER1bW15T2JqZWN0ID0ge307XG4gICAgICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgICAgICB9Ly9pZiBlbmRzXG4gICAgICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgfVxuICAgICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgfS8vXG4gIH1cblxuICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgdGhpcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICBsZWdlbmRvYmplY3RbJ2xhYmVsJ10gPSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzBdXTtcbiAgICAgIGxlZ2VuZG9iamVjdFsndmFsdWUnXSA9IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMV1dO1xuICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gZWxlbWVudC5jb2xvcjtcbiAgICAgIHRoaXMubGVnZW5kQXJyYXkucHVzaChsZWdlbmRvYmplY3QpO1xuICAgIH0pO1xuICAgIHRoaXMubGVnZW5kQXJyYXk7XG4gIH1cblxuICBvbkJhckxlZ2VuZENsaWNrKGxlZ2VuZGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgLy8gIG9ialsnbGFiZWwnXSA9IGxlZ2VuZGV2ZW50LmxhYmVsO1xuICAgIC8vICBvYmpbJ3ZhbHVlJ10gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVswXV0gPSBsZWdlbmRldmVudC5sYWJlbDtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVsxXV0gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICAvL29ialtsZWdlbmRldmVudC5sYWJlbF0gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICAvL2RlbGV0ZSBldmVudC5jb2xvcjtcbiAgICB0aGlzLmxlZ2VuZENsaWNrKG9iaik7XG4gIH1cblxuICBiYXJDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIC8vUkVTSVpFIFNURVAgNSBTVEFSVFNcbiAgcmVzaXplKCkge1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICBpZiAodGhpcy53dCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMud3Q7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB9XG4gICAgdGhpcy5jZGYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgfVxuICAvLyAvL1JFU0laRSBTVEVQIDUgU1RBUlRTXG4gIC8vICAgaW5pdGlhbHJlc2l6ZSgpIHtcbiAgLy8gICAgIGlmICh0aGlzLnd0KSB7XG4gIC8vICAgICAgIC8vUkVTSVpFIFNURVAgMyBTVEFSVFxuICAvLyAgICAgICAvLyBpZih0aGlzLmZpcnN0bG9hZGluZylcbiAgLy8gICAgICAgLy8gdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcblxuICAvLyAgICAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAvLyAgICAgICBpZiAodGhpcy5zdmd3aWR0aCkge1xuICAvLyAgICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnN2Z3dpZHRoO1xuXG4gIC8vICAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gIC8vICAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuXG4gIC8vICAgICAgIH1cbiAgLy8gICAgICAgLy9SRVNJWkUgU1RFUCAzIEVORFNcbiAgLy8gICAgICAgLy8gdGhpcy5zdmd3aWR0aCA9IHRoaXMuZGl2aWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcblxuICAvLyAgICAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gIC8vICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICAvLyAgICAgfVxuICAvLyAgICAgdGhpcy5maXJzdGxvYWRpbmcgPSBmYWxzZTtcbiAgLy8gICB9XG4gIC8vIC8vUkVTSVpFIFNURVAgNSBFTkRTXG4gIHZhbGlkYXRlRGF0YSgpIHtcbiAgICBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibG1hc2tcIlxuICAgIH1cbiAgfVxuXG5cbn0iLCJpbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCB9IGZyb20gXCIuLi9iYXNlL2Jhc2UuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5pbXBvcnQgeyBuZWFyZXIgfSBmcm9tIFwicVwiO1xuXG5leHBvcnQgY2xhc3MgQW1leGlvRDNCYXNlTGluZUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IHtcbiAgICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9kYXRhOiBhbnkgPSBbXTtcbiAgICBwcml2YXRlIHhheGlzZGF0YTogYW55W107XG4gICAgcHJpdmF0ZSB4YXhpc2RhdGExOiBhbnlbXTtcbiAgICBwcml2YXRlIHlheGlzZGF0YTogYW55W107XG4gICAgcHJpdmF0ZSBsZWdlbmRkYXRhOiBhbnlbXTtcbiAgICBsZWdlbmRzOiBhbnlbXTtcbiAgICBsaW5lbGVnZW5kczogYW55W107XG4gICAgeGFycjogYW55W10gPSBbXTtcbiAgICBwcm90ZWN0ZWQgeGF4aXNuYW1lOiBhbnk7XG4gICAgcHJvdGVjdGVkIG11bHRpc2VyaWVzZGF0YTogYW55W107XG4gICAgc3ZnOiBhbnk7XG4gICAgZGlzcGxheWluZGV4OiBudW1iZXIgPSAwO1xuICAgIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0ID0gMzAwO1xuXG4gICAgQElucHV0KCdkYXRhJylcblxuICAgIEBJbnB1dCgneGF4aXMtaW50ZXJ2YWwnKSB4aW50ZXJ2YWw6IG51bWJlcjtcblxuICAgIEBJbnB1dCgnaHR0cC11cmwnKSBodHRwdXJsOiBhbnk7XG5cbiAgICBASW5wdXQoJ2h0dHAtbWV0aG9kJykgaHR0cG1ldGhvZDogYW55O1xuXG4gICAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgICAvLyBASW5wdXQoJ3hheGlzLWludGVydmFsJykgeHRpY2tzY291bnQ6IG51bWJlciA9IDM7XG4gICAgQElucHV0KCdjb2xvcicpIGxpbmVjb2xvciA9IFtdO1xuXG4gICAgQElucHV0KCdkaXNwbGF5LWZpZWxkJykgZGlzcGxheWZpZWxkOiBzdHJpbmc7XG5cbiAgICBASW5wdXQoJ3JvdGF0ZScpIHNsYW50ID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGV2aWNlUXVlcnlTZXJ2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoJ2xpbmUnKTtcbiAgICB9XG5cbiAgICBzZXQgZGF0YSh2OiBhbnkpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IHY7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhICYmICh0aGlzLl9kYXRhLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVhZQXhpc0RhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjcmVhdGVYWUF4aXNEYXRhKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxhYmVsY29sb3JcbiAgICAgICAgdGhpcy54YXhpc2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy55YXhpc2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5tdWx0aXNlcmllc2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5sZWdlbmRkYXRhID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kcyA9IFtdO1xuICAgICAgICB0aGlzLnhheGlzbmFtZSA9IHRoaXMuZGF0YVswXVswXS5sYWJlbDtcbiAgICAgICAgY29uc3QgbXNkYXJyYXk6IGFueVtdID0gW107XG4gICAgICAgIGxldCBjb3VudCA9IDBcbiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlmaWVsZCkge1xuICAgICAgICAgICAgLy8gZmluZCBkaXNwbGF5ZmllbGQgaW5kZXhcblxuICAgICAgICAgICAgdGhpcy5fZGF0YVswXS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubGFiZWwgPT0gdGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5aW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX2RhdGFbMF0ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsZWdlbmQgPSB0aGlzLl9kYXRhWzBdW2luZGV4XTtcbiAgICAgICAgICAgIG1zZGFycmF5W2luZGV4XSA9IFtdO1xuICAgICAgICAgICAgbGV0IG9iaiA9IHt9O1xuICAgICAgICAgICAgb2JqWydsYWJlbCddID0gbGVnZW5kLmxhYmVsO1xuICAgICAgICAgICAgaWYgKCh0aGlzLmxpbmVjb2xvci5sZW5ndGggPiAwKSAmJiB0aGlzLmxpbmVjb2xvcltpbmRleF0pIHtcbiAgICAgICAgICAgICAgICBvYmpbJ2NvbG9yJ10gPSB0aGlzLmxpbmVjb2xvcltpbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbJ2NvbG9yJ10gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sZWdlbmRkYXRhLnB1c2gob2JqKTtcbiAgICAgICAgICAgIC8vIHRoaXMubGVnZW5kZGF0YS5wdXNoKHsnbGFiZWwnOmxlZ2VuZC5sYWJlbCwnY29sb3InOnRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleCsxXX0pO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgICAgICBvYmpbJ2xhYmVsJ10gPSBsZWdlbmQubGFiZWw7XG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLmxpbmVjb2xvci5sZW5ndGggPiAwKSAmJiB0aGlzLmxpbmVjb2xvcltjb3VudF0pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqWydjb2xvciddID0gdGhpcy5saW5lY29sb3JbY291bnRdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialsnY29sb3InXSA9IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tjb3VudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmxlZ2VuZHMucHVzaCh7J2xhYmVsJzpsZWdlbmQubGFiZWwsJ2NvbG9yJzp0aGlzLnByZWRlZmluZWRjb2xvcnNbaW5kZXhdfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgLy8geGF4aXNkYXRhIHlheGlzZGF0YSBtc2RhcnJheSBpcyBmb3JtZWQgaGVyZVxuXG4gICAgICAgIHRoaXMuX2RhdGEuZm9yRWFjaChvYmplY3QgPT4ge1xuXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgaiA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHhvYmogPSB7fTtcbiAgICAgICAgICAgICAgICBvYmplY3QuZm9yRWFjaChhID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy54YXhpc2RhdGEucHVzaCh7ICdsYWJlbCc6IGEsICd2YWx1ZSc6IGEgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnlheGlzZGF0YS5wdXNoKHsgJ2xhYmVsJzogYSwgJ3ZhbHVlJzogYSB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoaiA+IDApICYmIChqICE9PSB0aGlzLmRpc3BsYXlpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueWF4aXNkYXRhLnB1c2goeyAnbGFiZWwnOiBhLCAndmFsdWUnOiBhIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeG9ialsndmFsdWUnXSA9IGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PSB0aGlzLmRpc3BsYXlpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeG9ialsnbGFiZWwnXSA9IGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIG1zZGFycmF5W2pdLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLnB1c2goeG9iaik7XG5cblxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtc2RhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcblxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG1zZGFycmF5W2luZGV4XTtcblxuICAgICAgICAgICAgaWYgKChpbmRleCA+IDApICYmIChpbmRleCAhPT0gdGhpcy5kaXNwbGF5aW5kZXgpKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgbWQ6IGFueVtdID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbGVtZW50Lmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IGVsZW1lbnRbal07XG4gICAgICAgICAgICAgICAgICAgIG1kLnB1c2goeyAnbGVnZW5kJzogdGhpcy5sZWdlbmRkYXRhW2luZGV4XS5sYWJlbCwgJ2xhYmVsJzogdGhpcy54YXhpc2RhdGFbal0ubGFiZWwsICd2YWx1ZSc6IHYgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXNlcmllc2RhdGEucHVzaChtZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWdlbmRzW2luZGV4IC0gMV0uZGF0YSA9IG1kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVjYWxjdWxhdGVzY2FsZSh3aWR0aDogYW55KSB7XG5cbiAgICAgICAgLy8gY29uc2lkZXIgZm9udHNpemUgdG8gYmUgMTBcbiAgICAgICAgdGhpcy54YXhpc2RhdGE7XG4gICAgICAgIGxldCBzdW1tYXRpb253aWR0aCA9IDA7XG4gICAgICAgIGlmICghdGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZWxlbWVudC5sYWJlbCkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VtbWF0aW9ud2lkdGggPSBzdW1tYXRpb253aWR0aCArIChlbGVtZW50LmxhYmVsLmxlbmd0aCAqIDEwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZWxlbWVudC5sYWJlbCkgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSB0aGlzLmZpbmREaWdpdENvdW50KGVsZW1lbnQubGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICBzdW1tYXRpb253aWR0aCA9IHN1bW1hdGlvbndpZHRoICsgKG4gKiAxMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiAoZWxlbWVudC5sYWJlbCkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzdW1tYXRpb253aWR0aCA9IHN1bW1hdGlvbndpZHRoICsgKGVsZW1lbnQubGFiZWwubGVuZ3RoICogMTApO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheWZpZWxkICYmIHRoaXMuc2xhbnQpIHtcbiAgICAgICAgICAgIHN1bW1hdGlvbndpZHRoID0gdGhpcy54YXhpc2RhdGEubGVuZ3RoICogMTA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3VtbWF0aW9ud2lkdGggPiB3aWR0aCkge1xuICAgICAgICAgICAgLy8gIGZ1bmN0aW9uIGNhbGxcblxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGV4YXhpc2FycmF5KHN1bW1hdGlvbndpZHRoLCB3aWR0aCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNhbGN1bGF0ZXhheGlzYXJyYXkoc3VtbWF0aW9ud2lkdGg6IGFueSwgd2lkdGg6IGFueSkge1xuXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IE1hdGgucm91bmQoc3VtbWF0aW9ud2lkdGggLyB3aWR0aCk7XG4gICAgICAgICB0aGlzLmdlbmVyYXRlTmV3QXhpcyhpbnRlcnZhbCwgd2lkdGgpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlTmV3QXhpcyhpbnRlcnZhbCwgYXZsd2lkdGgpIHtcbiAgICAgICAgdGhpcy54YXhpc2RhdGFcblxuICAgICAgICBsZXQgYXJyID0gW107XG4gICAgICAgIGxldCBuZXdhcnIgPSBbXTtcbiAgICAgICAgbGV0IG1pbjtcbiAgICAgICAgbGV0IG1heDtcbiAgICAgICAgLy8gICAgbWFrZSBBcnJheSBvdXQgb2YgdGhpcy54YXhpc2RhdGFcbiAgICAgICAgdGhpcy54YXhpc2RhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgKGVsZW1lbnQubGFiZWwpID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBhcnIucHVzaChlbGVtZW50LmxhYmVsKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9udWxsIGNoZWNrIG9uIGFyclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGZpbmQgbWluXG5cbiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluLmFwcGx5KG51bGwsIGFycik7XG4gICAgICAgICAgICAvL2ZpbmQgbWF4XG4gICAgICAgICAgICBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCBhcnIpO1xuXG4gICAgICAgICAgICBsZXQgdGVtcCA9IE1hdGgucm91bmQoYXZsd2lkdGggLyAxMClcbiAgICAgICAgICAgIGxldCBkaWZmZXJlbnRpYWwgPSAodGVtcCAtICh0ZW1wICogMC4yKSkgLyA0O1xuXG4gICAgICAgICAgICAvL2Zvcm0gbmV3IGFyclxuXG4gICAgICAgICAgICBsZXQgaiA9IE1hdGgucm91bmQoZGlmZmVyZW50aWFsKTtcbiAgICAgICAgICAgIC8vICAgaGpsa2xsbGxcbiAgICAgICAgICAgIGxldCBpO1xuICAgICAgICAgICAgbGV0IGlzcmVkdW5kYW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgICAgICBuZXdhcnJbMF0gPSBtaW47XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxOyBqIDwgdGhpcy54YXhpc2RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaiA9IE1hdGgucm91bmQoKGRpZmZlcmVudGlhbCAqIGkpICsgaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaXNyZWR1bmRhbnQgPSB0aGlzLmNoZWNrQXJyYXlSZWR1bmRhbmN5KG5ld2FyciwgTWF0aC5yb3VuZChqKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc3JlZHVuZGFudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gTWF0aC5yb3VuZChqICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdhcnJbaV0gPSBNYXRoLnJvdW5kKGopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0YXJyKG5ld2Fycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BsYXlmaWVsZCkge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGogPCB0aGlzLnhheGlzZGF0YS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgIGogPSBNYXRoLnJvdW5kKChkaWZmZXJlbnRpYWwgKiBpKSArIGkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnhheGlzZGF0YVtqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gdGhpcy54YXhpc2RhdGFbal0ubGFiZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy54YXhpc2RhdGFbaiArIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gdGhpcy54YXhpc2RhdGFbaiArIDFdLmxhYmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy54YXJyID0gbmV3YXJyO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVja0FycmF5UmVkdW5kYW5jeShuZXdhcnIsIGNoa251bSkge1xuICAgICAgICBsZXQgaW5jID0gMFxuICAgICAgICBuZXdhcnIuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChjaGtudW0gPT0gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGluYysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5jID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc29ydGFycihuZXdhcnI6IGFueSkge1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IGo7XG4gICAgICAgIGxldCB0ZW1wO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3YXJyLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgbmV3YXJyLmxlbmd0aDsgKytqKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3YXJyW2ldID4gbmV3YXJyW2pdKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IG5ld2FycltpXTtcbiAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gbmV3YXJyW2pdO1xuICAgICAgICAgICAgICAgICAgICBuZXdhcnJbal0gPSB0ZW1wO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICAgIG5ld2FycjtcbiAgICAgICAgdGhpcy5zZXRYYXhpc0RhdGEobmV3YXJyKVxuICAgIH1cblxuICAgIHNldFhheGlzRGF0YShuZXdhcnI6IGFueSkge1xuXG4gICAgICAgIHRoaXMueGFyciA9IG5ld2FycjtcblxuICAgICAgICAvLyB0aGlzLnhheGlzZGF0YS5wdXNoKHtsYWJlbDogMTI1LCB2YWx1ZTogMTI1fSk7XG5cbiAgICAgICAgLy8gY2hrIGlmIG5ld2FyciBlbGVtZW50cyBhcmUgcHJlc2VudCBpbiB4YXhpc2RhdGFcbiAgICAgICAgbGV0IGlzcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICBuZXdhcnIuZm9yRWFjaChhcnJlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goeGF4aXNlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyZWxlbWVudCA9PSB4YXhpc2VsZW1lbnQubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNwcmVzZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFpc3ByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZSAmIHB1c2ggYW4gb2JqIGluIHhheGlzZGF0YVxuICAgICAgICAgICAgICAgIGxldCBvYmogPSB7IGxhYmVsOiBhcnJlbGVtZW50LCB2YWx1ZTogYXJyZWxlbWVudCB9O1xuICAgICAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLnB1c2gob2JqKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXNwcmVzZW50ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICBcblxuICAgICAgICAvLyBjaGFuZ2UgYXJyIHRvIGFyciBvZiBvYmpzXG4gICAgICAgIGxldCB4ZGF0YSA9IFtdO1xuICAgICAgICBuZXdhcnIuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgICAgICBsZXQgb2JqID0geyBsYWJlbDogZWxlbWVudCwgdmFsdWU6IGVsZW1lbnQgfVxuICAgICAgICAgICAgeGRhdGEucHVzaChvYmopO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy54YXhpc2RhdGE7XG4gICAgICAgIHRoaXMueGF4aXNkYXRhMSA9IHhkYXRhO1xuICAgICAgICAvL2luaXRpYWxpemUgeGF4aXMgZGF0YVxuICAgIH1cblxuICAgIGZpbmREaWdpdENvdW50KG46IG51bWJlcikge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBpZiAobiA+PSAxKSsrY291bnQ7XG5cbiAgICAgICAgd2hpbGUgKG4gLyAxMCA+PSAxKSB7XG4gICAgICAgICAgICBuIC89IDEwO1xuICAgICAgICAgICAgKytjb3VudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuXG4gICAgc2V0WGludGVydmFsKHdpZHRoOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGludGVydmFsID0gTWF0aC5yb3VuZCh0aGlzLnhheGlzZGF0YS5sZW5ndGggLyB0aGlzLnhpbnRlcnZhbCk7XG5cbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBsZXQgbmV3YXJyID0gW107XG4gICAgICAgIC8vICAgIG1ha2UgQXJyYXkgb3V0IG9mIHRoaXMueGF4aXNkYXRhXG4gICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIChlbGVtZW50LmxhYmVsKSA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKGVsZW1lbnQubGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIGxldCBtaW4gPSBNYXRoLm1pbi5hcHBseShudWxsLCBhcnIpO1xuICAgICAgICAvL2ZpbmQgbWF4XG4gICAgICAgIGxldCBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCBhcnIpO1xuICAgICAgICBsZXQgaiA9IGludGVydmFsO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IGlzcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICBuZXdhcnJbMF0gPSBtaW47XG4gICAgICAgIC8vIGFzc2FcbiAgICAgICAgZm9yIChpID0gMTsgaiA8IG1heDsgaSsrKSB7XG4gICAgICAgICAgICBqID0gaW50ZXJ2YWwgKiBpO1xuICAgICAgICAgICAgbmV3YXJyW2ldID0gajtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5ld2FycltpXSA9IG1heDtcblxuICAgICAgICAvL2luc2V0IG51bWJlcnMgd2hpY2ggYXJlIG5vdCBwcmVzZW50IGluIHhheGlzIGRvbWFpbiBidXQgcHJlc2VudCBpbiBuZXdhcnJcblxuICAgICAgICBuZXdhcnIuZm9yRWFjaChhcnJlbGVtZW50ID0+IHtcblxuICAgICAgICAgICAgdGhpcy54YXhpc2RhdGEuZm9yRWFjaCh4YXhpc2VsZW1lbnQgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHhheGlzZWxlbWVudC5sYWJlbCA9PSBhcnJlbGVtZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaXNwcmVzZW50ID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIWlzcHJlc2VudCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IHsgbGFiZWw6IGFycmVsZW1lbnQsIHZhbHVlOiBhcnJlbGVtZW50IH1cbiAgICAgICAgICAgICAgICB0aGlzLnhheGlzZGF0YS5wdXNoKG9iaik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlzcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0aGlzLnNvcnRhcnIobmV3YXJyKTtcblxuICAgICAgICAvLyBuZXdhcnI7XG4gICAgICAgIC8vIHRoaXMueGF4aXNkYXRhO1xuICAgICAgICB0aGlzLnhhcnIgPSBuZXdhcnI7XG5cbiAgICB9XG5cbiAgICBzZXREaXNwbGF5ZmllbGRYaW50ZXJ2YWwod2lkdGgpIHtcbiAgICAgICAgbGV0IGludGVydmFsID0gTWF0aC5yb3VuZCh0aGlzLnhheGlzZGF0YS5sZW5ndGggLyB0aGlzLnhpbnRlcnZhbCk7XG5cbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBsZXQgbmV3YXJyID0gW107XG4gICAgICAgIC8vICAgIG1ha2UgQXJyYXkgb3V0IG9mIHRoaXMueGF4aXNkYXRhXG4gICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBhcnIucHVzaChlbGVtZW50LmxhYmVsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBtaW4gPSAwO1xuICAgICAgICBsZXQgbWF4ID0gdGhpcy54YXhpc2RhdGEubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IGogPSBpbnRlcnZhbDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIG5ld2FyclswXSA9IHRoaXMueGF4aXNkYXRhW21pbl0ubGFiZWw7XG4gICAgICAgIGZvciAoaSA9IDE7IGogPCBtYXg7IGkrKykge1xuICAgICAgICAgICAgbmV3YXJyW2ldID0gdGhpcy54YXhpc2RhdGFbal0ubGFiZWw7XG4gICAgICAgICAgICBqID0gaW50ZXJ2YWwgKiBpO1xuICAgICAgICB9XG4gICAgICAgIG5ld2Fyci5wdXNoKHRoaXMueGF4aXNkYXRhW21heF0ubGFiZWwpXG4gICAgICAgIHRoaXMueGFyciA9IG5ld2FycjtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXR4YXhpc2FycigpIHtcbiAgICAvLyAgICAgbGV0IGZvcm1hdHRlZGFyciA9IFtdO1xuICAgIC8vICAgICBsZXQgdGVtcCA9ICcnO1xuXG4gICAgLy8gICAgIGlmKHRoaXMueGFycikge1xuXG4gICAgLy8gICAgIGlmICh0eXBlb2YgKHRoaXMueGFyclswXSkgPT0gJ3N0cmluZycpIHtcbiAgICAvLyAgICAgICAgIC8vIHRyZWF0IHN0cmluZ1xuICAgIC8vICAgICAgICAgdGhpcy54YXJyLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIFxuICAgIC8vICAgICAgICAgICAgIGlmICh0eXBlb2YgKGVsZW1lbnQpID09ICdzdHJpbmcnKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRlbXAgPSAnJztcbiAgICAvLyAgICAgICAgICAgICAgICAgdGVtcCA9IGVsZW1lbnRbMF0gKyBlbGVtZW50WzFdICsgJy4uJ1xuICAgIC8vICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRhcnIucHVzaCh0ZW1wKVxuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICAgICAgIHRoaXMueGFyciA9IGZvcm1hdHRlZGFycjtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGlmICh0eXBlb2YgKHRoaXMueGFyclswXSkgPT0gJ251bWJlcicpIHtcbiAgICAvLyAgICAgICAgIC8vIHRyZWF0IG51bWVyaWFsc1xuICAgIC8vICAgICAgICAgLy8gd3JhcCBudW1iZXJzXG5cbiAgICAvLyAgICAgfVxuICAgIC8vICAgICAgICAgICAgICB9XG4gICAgLy8gfVxuXG5cbiAgICBwcm90ZWN0ZWQgaW5pdENoYXJ0KCk6IGFueSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgICAgICAvL1JFU0laRSBTVEVQIDIgU1RBUlRcbiAgICAgICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgICAgICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpO1xuICAgICAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuXG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiA0MCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA0MCB9O1xuICAgICAgICAvL1JFU0laRSBTVEVQIDIgRU5EUyBIRVJFXG4gICAgICAgIGNvbnN0IHdpZHRoID0gK3RoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICAgICAgLy8gdGhpcy54YXhpc2RhdGE7XG5cbiAgICAgICAgaWYgKHRoaXMueGludGVydmFsKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzcGxheWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRYaW50ZXJ2YWwod2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGxheWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXREaXNwbGF5ZmllbGRYaW50ZXJ2YWwod2lkdGgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVzY2FsZSh3aWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoZWlnaHQgPSArdGhpcy5zdmdoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgICAgICAgY29uc3QgZyA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICAgICAgY29uc3QgeCA9IGQzLnNjYWxlUG9pbnQoKVxuICAgICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgICAgICAgIC5wYWRkaW5nKDAuMSk7XG5cbiAgICAgICAgY29uc3QgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5yYW5nZVJvdW5kKFtoZWlnaHQsIDBdKTtcbiAgICAgICAgbGV0IHhkb21haW47XG4gICAgICAgIGlmICh0aGlzLnhheGlzZGF0YSkge1xuXG4gICAgICAgICAgICB4LmRvbWFpbih0aGlzLnhheGlzZGF0YS5tYXAoKGQpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGQubGFiZWwpID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmxhYmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGQudmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMueWF4aXNkYXRhKSB7XG4gICAgICAgICAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRoaXMueWF4aXNkYXRhLCAoZCkgPT4geyByZXR1cm4gZC52YWx1ZTsgfSldKTtcbiAgICAgICAgfVxuICAgICAgICAvL2FkZCBheGlzXG4gICAgICAgIGxldCB4YXhpc2JvdHRvbSA9IGQzLmF4aXNCb3R0b20oeCk7XG4gICAgICAgIGlmICh0aGlzLnhhcnIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gaWYodGhpcy5zbGFudCkge1xuICAgICAgICAgICAgLy8gdGhpcy5mb3JtYXR4YXhpc2FycigpO1xuICAgICAgICAgICAgLy8gIH1cbiAgICAgICAgICAgICB4YXhpc2JvdHRvbS50aWNrVmFsdWVzKHRoaXMueGFycilcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXZpY2VRdWVyeVNlcnZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG5cbiAgICAgICAgICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgICAgICAuY2FsbCh4YXhpc2JvdHRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZDMuYXhpc0JvdHRvbSh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLnRpY2tWYWx1ZXModGhpcy54YXJyKVxuICAgICAgICAgICAgICAgICAgICApLlxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG5cbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgYm90dG9tYXhpcyA9IGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgICAgIC5jYWxsKHhheGlzYm90dG9tKVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2xhbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtYXR4YXhpc2FycigpOyBcblxuICAgICAgICAgICAgICAgICAgICBib3R0b21heGlzLnNlbGVjdEFsbChcInRleHRcIilcblxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFhheGlzVG9vbHRpcChkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDkwKVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIDEwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLy8gICAuYXR0cihcImNvbG9yXCIsIFwiZ3JleVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKHhheGlzYm90dG9tKS5cbiAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCAxMCk7XG4gICAgICAgICAgICA7XG4gICAgICAgIH1cblxuICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC8vIC5hdHRyKFwiY29sb3JcIiwgXCJncmV5XCIpXG4gICAgICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrcyh0aGlzLnRpY2tzY291bnQpKVxuICAgICAgICAvLyB0aWNrU2l6ZSgwLDEwKSk7XG4gICAgICAgIGxldCByYXdkYXRhID0gdGhpcy5fZGF0YTtcblxuXG4gICAgICAgIC8vIGNhbGwgZnVuY3Rpb24gdG8gYWx0ZXIgbGVnZW5kcyBpZiBkaXNwbGF5ZmllbGQgY29uZG4gc2F0aXNmeVxuICAgICAgICB0aGlzLmFsdGVyTGVnZW5kKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGcsIHgsIHksIGhlaWdodCwgd2lkdGgsIHJhd2RhdGFcbiAgICAgICAgfVxuICAgICAgICAvLyBcblxuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIHBsb3RTY2FsZShnOiBhbnksIHg6IGFueSwgeTogYW55LCBoZWlnaHQ6IGFueSwgd2lkdGg6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy52U2NhbGUpIHtcbiAgICAgICAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkuXG4gICAgICAgICAgICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICAgICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudClcbiAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGVnZW5kQ2xpY2sobm9kZTogYW55KSB7XG5cbiAgICAgICAgLy8gY29uc3QgbGVnZW5kTm9kZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobm9kZSkpO1xuICAgICAgICAvLyBkZWxldGUgbGVnZW5kTm9kZS5jb2xvcjtcbiAgICAgICAgLy8gbGVnZW5kTm9kZS5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIC8vICAgICBkZWxldGUgZWxlbWVudC5sZWdlbmQ7XG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW1wibGFiZWxcIl0gPSBub2RlLmxhYmVsO1xuICAgICAgICBsZXQgZGF0YSA9IFtdO1xuICAgICAgICBub2RlLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGxldCBvYmplY3QgPSB7fTtcblxuICAgICAgICAgICAgb2JqZWN0W2VsZW1lbnQubGVnZW5kXSA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgICBvYmplY3RbdGhpcy54YXhpc25hbWVdID0gZWxlbWVudC5sYWJlbDtcbiAgICAgICAgICAgIC8vICAgb2JqZWN0W2VsZW1lbnQubGFiZWxdID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgIGRhdGEucHVzaChvYmplY3QpO1xuICAgICAgICB9KTtcbiAgICAgICAgb2JqW1wiZGF0YVwiXSA9IGRhdGE7XG4gICAgICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG9iaik7XG5cbiAgICAgICAgLy8gdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQobGVnZW5kTm9kZSk7XG4gICAgfVxuXG5cbiAgICBhbHRlckxlZ2VuZCgpIHtcbiAgICAgICAgdGhpcy5saW5lbGVnZW5kcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5kaXNwbGF5ZmllbGQpIHtcblxuICAgICAgICAgICAgdGhpcy5sZWdlbmRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubGFiZWwgIT09IHRoaXMuZGlzcGxheWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZWxlZ2VuZHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGluZWxlZ2VuZHMgPSB0aGlzLmxlZ2VuZHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxsWGF4aXNUb29sdGlwKHRvb2x0aXBkYXRhOiBhbnkpIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICBvYmpbJ3gtYXhpcyddID0gdG9vbHRpcGRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIElucHV0LCBDaGFuZ2VEZXRlY3RvclJlZiwgT25DaGFuZ2VzIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUxpbmVDb21wb25lbnQgfSBmcm9tIFwiLi9iYXNlbGluZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCB7IERldmljZVF1ZXJ5U2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZVwiO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1saW5lJyxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICNkaXZpZCAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+IFxuICAgIDx0YWJsZSBbbmdDbGFzc109XCJ2YWxpZGF0ZURhdGEoKVwiICBzdHlsZT1cIndpZHRoOiAxMDAlO1wiID4gXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICAgICAgICA8dHI+PHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPjwvdHI+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHIgICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFdPVwibGluZWxlZ2VuZHNcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwvdHI+XG4gICAgPC90YWJsZT5cbiAgICA8IS0tIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICAgICAgPC9kaXY+IC0tPlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDwhLS0ge3tsZWdlbmRzIHwganNvbn19IC0tPmBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNMaW5lQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlTGluZUNvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0LCBPbkNoYW5nZXMge1xuICAgIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yID0gJyc7XG4gICAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gICAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgICBAVmlld0NoaWxkKCdkcmlsbGlkJykgZHJpbGxpZDogYW55O1xuICAgIHd0OiBudW1iZXI7XG4gICAgcmF3ZGF0YTogYW55O1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkZXZpY2VRdWVyeVNlcnZpY2U6IERldmljZVF1ZXJ5U2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwdWJsaWMgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSkge1xuICAgICAgICBzdXBlcihkZXZpY2VRdWVyeVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgICAgICAgbGV0IHJlc3A6IGFueVxuICAgICAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBuZ09uQ2hhbmdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhbGlkYXRlRGF0YSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJsbWFza1wiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RKc29uO1xuICAgICAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICAgICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXdDaGFydCgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIC8vUkVTSVpFIFNURVAgNSBTVEFSVFNcbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMucmVzaXpld3QgPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICB9XG4gICAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gICAgfVxuXG4gICAgcGxvdEQzQ2hhcnQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vUkVTSVpFIFNURVAgMVxuICAgICAgICAgICAgaWYgKHRoaXMud3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1JFU0laRSBTVEVQIDEgRU5EUyBIRVJFIFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuXG4gICAgICAgIGNvbnN0IGxpbmVjaGFydCA9IHRoaXMuaW5pdENoYXJ0KCk7XG5cbiAgICAgICAgdGhpcy5yYXdkYXRhID0gbGluZWNoYXJ0LnJhd2RhdGE7XG4gICAgICAgIC8vIHRoaXMuc3Znd2lkdGggPSBsaW5lY2hhcnQud2lkdGg7XG4gICAgICAgIHRoaXMucGxvdFNjYWxlKGxpbmVjaGFydC5nLCBsaW5lY2hhcnQueCwgbGluZWNoYXJ0LnksIGxpbmVjaGFydC5oZWlnaHQsIGxpbmVjaGFydC53aWR0aCk7XG5cbiAgICAgICAgdGhpcy5wbG90TGluZShsaW5lY2hhcnQuZywgbGluZWNoYXJ0LngsIGxpbmVjaGFydC55LCBsaW5lY2hhcnQuaGVpZ2h0LFxuICAgICAgICAgICAgbGluZWNoYXJ0LndpZHRoLCBbXSwgdG9vbHRpcCwgKDEpKTtcbiAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMubXVsdGlzZXJpZXNkYXRhKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5tdWx0aXNlcmllc2RhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbG90TGluZShsaW5lY2hhcnQuZywgbGluZWNoYXJ0LngsIGxpbmVjaGFydC55LCBsaW5lY2hhcnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lY2hhcnQud2lkdGgsIHRoaXMubXVsdGlzZXJpZXNkYXRhW2luZGV4XSwgdG9vbHRpcCwgKGluZGV4ICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgXG5cbiAgICB9XG5cblxuICAgIC8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbiAgICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApXG4gICAgfVxuICAgIC8vUkVTSVpFIFNURVAgNCBFTkRTXG5cbiAgICBwcml2YXRlIHBsb3RMaW5lKGc6IGFueSwgeDogYW55LCB5OiBhbnksIGhlaWdodDogYW55LCB3aWR0aDogYW55LCBkYXRhOiBhbnksIHRvb2x0aXA6IGFueSwgaTogbnVtYmVyKTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgbGluZSA9IGQzLmxpbmUoKVxuICAgICAgICAgICAgLngoKGQpID0+IHsgcmV0dXJuIHgoZC5sYWJlbCk7IH0pXG4gICAgICAgICAgICAueSgoZCkgPT4geyByZXR1cm4geShkLnZhbHVlKTsgfSk7XG4gICAgICAgIGNvbnN0IHRlbXBjb2xvciA9IFwiYmxhY2tcIjtcbiAgICAgICAgZy5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgICAuZGF0dW0oZGF0YSlcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yW2kgLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZWNvbG9yW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIC8vICByZXR1cm4gdGVtcGNvbG9yO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDEuNSlcbiAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBsaW5lKVxuICAgICAgICAgICAgLy8gLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAzNyArIFwiLFwiICsgMCArIFwiKVwiKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgICBcbiAgICAgICAgZy5zZWxlY3RBbGwoJ2RvdCcpXG4gICAgICAgICAgICAuZGF0YShkYXRhKVxuICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7ICByZXR1cm4geChkLmxhYmVsKTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgIHJldHVybiB5KGQudmFsdWUpOyB9KVxuICAgICAgICAgICAgLmF0dHIoJ3InLCAyKVxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yW2kgLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZWNvbG9yW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gIHJldHVybiB0ZW1wY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgIC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgMzcgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVG9vbHRpcChkKSlcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvL2xldHMgcGxvdCBsYWJlbHMgaGVyZVxuICAgICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgICAgIGcuc2VsZWN0QWxsKCdsYWJlbCcpXG4gICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5saW5lY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yW2kgLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVjb2xvcltpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmxpbmVjb2xvci5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgcmV0dXJuIHRlbXBjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgoZC5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHkoZC52YWx1ZSkgLSAxMDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIDM3ICsgXCIsXCIgKyAwICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRvb2x0aXAoZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgbGluZUNoYXJ0Q2xpY2soZDogYW55KSB7XG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW2QubGVnZW5kXSA9IGQudmFsdWU7XG4gICAgICAgIG9ialt0aGlzLnhheGlzbmFtZV0gPSBkLmxhYmVsO1xuICAgICAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqKTtcbiAgICB9XG5cbiAgICBjYWxsVG9vbHRpcCh0b29sdGlwZGF0YTogYW55KSB7XG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW3Rvb2x0aXBkYXRhLmxlZ2VuZF0gPSB0b29sdGlwZGF0YS52YWx1ZTtcbiAgICAgICAgb2JqW3RoaXMueGF4aXNuYW1lXSA9IHRvb2x0aXBkYXRhLmxhYmVsO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sVGlwRm9yQmFyKG9iaik7XG4gICAgfVxuXG5cbiAgXG59IiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1iYXJzdGFjaycsXG4gIHRlbXBsYXRlOiBgPGRpdiAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlICpuZ0lmPVwiZGF0YTEubGVuZ3RoID4gMFwiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICAgICAgICA8L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgICAgICA8L3RkPlxuXG4gICAgICAgIDwvdHI+XG4gICAgPC90YWJsZT5cbiAgICA8ZGl2ICpuZ0lmPVwiZGF0YTEubGVuZ3RoIDwgMVwiIGNsYXNzPVwibG1hc2tcIiBzdHlsZT1cInBhZGRpbmctdG9wOjUwJVwiPlxuICAgIDwvZGl2PlxuPC9kaXY+YCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuZXhwb3J0IGNsYXNzIEJhcnN0YWNrQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBsZWdlbmRBcnJheTogYW55W107XG4gIG1heFlWYWx1ZTogbnVtYmVyID0gMDtcbiAga2V5QXJyYXk6IGFueVtdO1xuICBwcmVkZWZpbmVkY29sb3JzOiBhbnlbXTtcbiAgbGVnZW5kczogYW55W107XG4gIGNoYXJ0dHlwZTogc3RyaW5nO1xuICBkYXRhOiBhbnkgPSBbXTtcbiAgZGF0YXJlYWRlcmRhdGE6IGFueVtdO1xuICB4YXhpczogYW55O1xuICB3dDogbnVtYmVyO1xuICBASW5wdXQoJ2RhdGEnKSBkYXRhMTogYW55XG4gIEBJbnB1dCgpIGJhcndpZHRoOiBudW1iZXIgPSAwO1xuICBASW5wdXQoKSB0aXRsZTogU3RyaW5nID0gXCJcIjtcbiAgQElucHV0KCkgbGVnZW5kOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCkgY29sb3I6IHN0cmluZ1tdID0gW107XG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ3lheGlzLWludGVydmFsJykgdGlja3Njb3VudDogbnVtYmVyO1xuIFxuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZHJpbGxpZCcpIGRyaWxsaWQ6IGFueTtcbiAgQE91dHB1dCgpIG9uTGVnZW5kQ2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBodHRwcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIG9mZnNldGhlaWdodDogYW55O1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgY2RmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkZXZpY2U6IERldmljZVF1ZXJ5U2VydmljZSkge1xuICAgIHN1cGVyKCdiYXJzdGFjaycpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy53dCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlcztcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHRoaXMuaHR0cHJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcG9uc2UpO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhMSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhMSk7XG4gICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cblxuICB0cmFuc2Zvcm1EYXRhKGRhdGExOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5sZWdlbmRBcnJheSA9IFtdO1xuXG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZEFycmF5W2lubmVyZWxlbWVudF0gPSB7ICdkYXRhJzogW10gfTtcbiAgICAgICAgICAgIHRoaXMua2V5QXJyYXkucHVzaChpbm5lcmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnhheGlzID0gaW5uZXJlbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgdGVtcGlubmVyYXJyYXk6IGFueVtdO1xuICAgIHRlbXBpbm5lcmFycmF5ID0gW107XG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IG9iajogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbm5lcmluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGlubmVyaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlBcnJheVtpbm5lcmluZGV4IC0gMV07XG4gICAgICAgICAgICBvYmpba2V5XSA9IGVsZW1lbnRbaW5uZXJpbmRleF07XG4gICAgICAgICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtrZXldO1xuICAgICAgICAgICAgaWYgKGxlZ2VuZGRhdGEpIHtcbiAgICAgICAgICAgICAgbGVnZW5kZGF0YS5kYXRhLnB1c2goeyAndmFsdWUnOiBlbGVtZW50W2lubmVyaW5kZXhdLCAnbGFiZWwnOiBlbGVtZW50WzBdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBpbm5lcmFycmF5LnB1c2gob2JqKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHRlbXBpbm5lcmFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmRhdGEucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICBsZXQgbWF4WTogYW55ID0gMDtcbiAgICBsZXQgeWF4aXNtYXhBcnJheSA9IFtdO1xuICAgIC8vZmluZCBtYXggZm9yIHlheGlzXG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuXG4gICAgICAgIHRoaXMua2V5QXJyYXkuZm9yRWFjaChrZXkxID0+IHtcbiAgICAgICAgICBpZiAoa2V5ID09IGtleTEpIHtcbiAgICAgICAgICAgIG1heFkgPSBtYXhZICsgdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTsvL2tleWFycmF5IGxvb3AgZW5kcyBoZXJlXG5cbiAgICAgIH0vL2ZvciBlbmRzIGhlcmVcbiAgICAgIHlheGlzbWF4QXJyYXkucHVzaChtYXhZKTtcbiAgICAgIG1heFkgPSAwO1xuICAgIH0pOy8vIGZvcmVhY2ggZW5kc1xuICAgIGxldCB0ZW1wTGFyZ2UgPSAwLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB5YXhpc21heEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoeWF4aXNtYXhBcnJheVtpXSA+IHRlbXBMYXJnZSkge1xuICAgICAgICB0aGlzLm1heFlWYWx1ZSA9IHlheGlzbWF4QXJyYXlbaV07XG4gICAgICB9Ly9pZiBlbmRzXG4gICAgfS8vIGZvciBlbmRzXG5cbiAgICB0aGlzLmxlZ2VuZHMgPSBbXVxuICAgIHRoaXMua2V5QXJyYXkuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGxlZ2VuZGRhdGEgPSB0aGlzLmxlZ2VuZEFycmF5W2VsZW1lbnRdO1xuICAgICAgaWYgKHRoaXMuY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50LCAnY29sb3InOiB0aGlzLmNvbG9yW2luZGV4XSwgJ2RhdGEnOiBsZWdlbmRkYXRhLmRhdGEgfTtcbiAgICAgICAgdGhpcy5sZWdlbmRzLnB1c2gob2JqZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnQsICdjb2xvcic6IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF0sICdkYXRhJzogbGVnZW5kZGF0YS5kYXRhIH07XG4gICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwbG90Q2hhcnQoKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG4gICAgbGV0IG1hcmdpbiA9IHsgdG9wOiAzMCwgcmlnaHQ6IDMwLCBib3R0b206IDkwLCBsZWZ0OiA2MCB9O1xuICAgIGxldCBjb2xvcnMgPSB0aGlzLnByZWRlZmluZWRjb2xvcnM7XG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIC8vdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIGxldCBkYXRhO1xuICAgIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgbGV0IGtleXNldGFycmF5OiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5kYXRhWzBdKSkge1xuICAgICAgICBrZXlzZXRhcnJheS5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgICB0aGlzLmtleUFycmF5ID0ga2V5c2V0YXJyYXk7XG4gICAgICB0aGlzLmtleUFycmF5LnNwbGljZSgwLCAxKTtcbiAgICB9XG4gXG5cbiAgICBsZXQgc2VyaWVzID0gZDMuc3RhY2soKS5rZXlzKHRoaXMua2V5QXJyYXkpXG4gICAgICAub2Zmc2V0KGQzLnN0YWNrT2Zmc2V0RGl2ZXJnaW5nKVxuICAgICAgKHRoaXMuZGF0YSk7XG5cbiAgICAgbGV0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGxldCBoZWlnaHRcbiAgICAvLyAgPSB0aGlzLnN2Z2hlaWdodCAtIG1hcmdpbi5ib3R0b20gLSBtYXJnaW4udG9wO1xuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgICAgICAgICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAgICAgICAgICAgXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpKSB7XG5cbiAgICAgIHRoaXMub2Zmc2V0aGVpZ2h0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgICAvLyAgLSBtYXJnaW4uYm90dG9tIC1tYXJnaW4udG9wO1xuICAgICAgaGVpZ2h0ID0gdGhpcy5vZmZzZXRoZWlnaHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGVpZ2h0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gMTA7XG4gICAgfVxuXG4gICAgbGV0IHggPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgLmRvbWFpbihkYXRhLm1hcCgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICB9KSlcbiAgICAgIC5yYW5nZVJvdW5kKFttYXJnaW4ubGVmdCwgdGhpcy5zdmd3aWR0aC1tYXJnaW4ucmlnaHRdKVxuICAgICAgLnBhZGRpbmcoMC4zNSk7XG5cbiAgICBsZXQgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5kb21haW4oW2QzLm1pbih0aGlzLnN0YWNrTWluKHNlcmllcykpLFxuICAgICAgdGhpcy5tYXhZVmFsdWVcbiAgICAgICAgLy8gZDMubWF4KHRoaXMuc3RhY2tNYXgoc2VyaWVzKSlcbiAgICAgIF0pXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0IC0gbWFyZ2luLmJvdHRvbSwgbWFyZ2luLnRvcF0pO1xuICAgIGlmICh0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKSA9PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5zdmd3aWR0aCA8PSA0MDApIHtcbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB5KDApICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkuXG4gICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB5KDApICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpO1xuICAgICAgfVxuXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgeSgwKSArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsMClcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuXG4gICAgdGhpcy5wbG90TGluZSh0aGlzLnN2ZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCwgbWFyZ2luLmxlZnQpXG5cbiAgICBsZXQgc3ZnUmVjdCA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAuZGF0YShzZXJpZXMpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAodGhpcy5jb2xvcltpbmRleF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JzW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc2VsZWN0QWxsKFwicmVjdFwiKVxuICAgICAgLmRhdGEoKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9KVxuXG4gICAgc3ZnUmVjdC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgeC5iYW5kd2lkdGgoKSkuYXR0cignaWQnLCAoZCwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gZC5kYXRhW2ldO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4geCgrZC5kYXRhW09iamVjdC5rZXlzKGQuZGF0YSlbMF1dKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcInlcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiB5KGRbMV0pO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiB5KGRbMF0pIC0geShkWzFdKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQ6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKHRoaXMuc2V0S2V5KGQpKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICB0aGlzLnNldEJhckNsaWNrVGV4dChkKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgLy8gdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgfSk7XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgc3ZnUmVjdC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxdndcIilcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yICYmIHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ4XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHgoK2QuZGF0YVtPYmplY3Qua2V5cyhkLmRhdGEpWzBdXSkgKyB4LmJhbmR3aWR0aCgpIC8gMjtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KGRbMV0pICsgMjA7XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgaWYoKGRbT2JqZWN0LmtleXMoZClbMV1dIC0gZFtPYmplY3Qua2V5cyhkKVswXV0pID4gMCkge1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXSAtIGRbT2JqZWN0LmtleXMoZClbMF1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZDogYW55KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbCh0aGlzLnNldEtleShkKSlcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0QmFyQ2xpY2tUZXh0KGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAvLyB0aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHN0YWNrTWluKHNlcmllKSB7XG4gICAgcmV0dXJuIGQzLm1pbihzZXJpZSwgKGQpID0+IHsgcmV0dXJuIGRbMF07IH0pO1xuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLnBsb3RDaGFydCgpO1xuICB9XG5cbiAgcGxvdExpbmUoc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoLCBtKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBzdmcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtICsgXCIsMClcIilcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrcyh0aGlzLnRpY2tzY291bnQpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgIH1cbiAgfVxuXG4gIGxlZ2VuZENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgb2JqW1wibGFiZWxcIl0gPSBldmVudC5sYWJlbDtcbiAgICBsZXQgZGF0YSA9IFtdO1xuICAgIGV2ZW50LmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgIG9iamVjdFtlbGVtZW50LmxhYmVsXSA9IGVsZW1lbnQudmFsdWU7XG4gICAgICBkYXRhLnB1c2gob2JqZWN0KTtcbiAgICB9KTtcbiAgICBvYmpbXCJkYXRhXCJdID0gZGF0YTtcbiAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICB9XG5cbiAgc2V0S2V5KGQ6IGFueSkge1xuICAgIGxldCBkaWZmID0gZFswXSAtIGRbMV07XG4gICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICBkaWZmID0gKGRpZmYgKiAoLTEpKTtcbiAgICB9XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGQuZGF0YSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBkaWZmKSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgb2JqZWN0W3RoaXMueGF4aXNdID0gZC5kYXRhW09iamVjdC5rZXlzKGQuZGF0YSlbMF1dO1xuICAgICAgICByZXR1cm4gKHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRCYXJDbGlja1RleHQoZDogYW55KSB7XG4gICAgbGV0IGRpZmYgPSBkWzBdIC0gZFsxXTtcbiAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgIGRpZmYgPSAoZGlmZiAqICgtMSkpO1xuICAgIH1cbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGQuZGF0YSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBkaWZmKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIG9iamVjdFt0aGlzLnhheGlzXSA9IGQuZGF0YVtPYmplY3Qua2V5cyhkLmRhdGEpWzBdXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICBnZXRSZXNwb25zZURhdGEoaHR0cFJlc3BvbnNlOiBhbnkpIHtcbiAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICB9XG5cbn1cbiIsIlxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS9iYXNlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJ1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LW11bHRpc2VyaWVzJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+IFxuPHRhYmxlICpuZ0lmPVwiZGF0YS5sZW5ndGggPiAwXCIgIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgPHRyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCIgPlxuICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgICAgPHRkPlxuICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwiaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwid2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj48L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbjwvdGFibGU+XG48ZGl2ICpuZ0lmPVwiZGF0YS5sZW5ndGggPCAxXCIgY2xhc3M9XCJsbWFza1wiIHN0eWxlPVwicGFkZGluZy10b3A6NTAlXCI+XG4gICAgPC9kaXY+XG48L2Rpdj5cblxuXG5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgR3JvdXBiYXJDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RyaWxsaWQnKSBkcmlsbGlkOiBhbnk7XG4gIEBJbnB1dCgnZGF0YScpIGRhdGE6IGFueSA9IFtdO1xuICBASW5wdXQoKSBsZWdlbmQ6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoKSBiYXJ3aWR0aDogbnVtYmVyID0gMDtcbiAgQE91dHB1dCgpIG9uTGVnZW5kQ2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCdzaG93LXplcm8tdmFsdWVzJykgc2hvd3plcm9mbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgZ3JvdXBiYXJjaGFydEFycmF5OiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55O1xuICB4YXhpc0RhdGE6IGFueTtcbiAga2V5QXJyYXk6IGFueTtcbiAgbGVnZW5kczogYW55O1xuICB5ZWFyczogYW55O1xuICB1cmxsZWdlbmRBcnJheSA9IFtdO1xuICBzdmc6IGFueTtcbiAgd3Q6IGFueTtcbiAgZGVmdWFsdENvbG9yczogYW55ID0gW107XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ211bHRpYmFyJyk7XG4gICAgdGhpcy5wcmVkZWZpbmVkY29sb3JzID0gW1wiIzMzNjZjY1wiLCBcIiNkYzM5MTJcIiwgXCIjZmY5OTAwXCIsIFwiIzEwOTYxOFwiLCBcIiM5OTAwOTlcIiwgXCIjMDA5OWM2XCIsIFwiI2RkNDQ3N1wiLCBcIiM2NmFhMDBcIiwgXCIjYjgyZTJlXCIsIFwiIzMxNjM5NVwiLCBcIiM5OTQ0OTlcIiwgXCIjMjJhYTk5XCIsIFwiI2FhYWExMVwiLCBcIiM2NjMzY2NcIiwgXCIjZTY3MzAwXCIsIFwiIzhiMDcwN1wiLCBcIiM2NTEwNjdcIiwgXCIjMzI5MjYyXCIsIFwiIzU1NzRhNlwiLCBcIiMzYjNlYWNcIl07XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBsZXQgcmVzOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXMgPSByZXNwb25zZTtcblxuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXMpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICB9LCAwKTtcblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZldGNoRGF0YShkYXRhOiBhbnkpIHtcbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG5cbiAgICB9LCAwKTtcblxuICB9XG5cbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG4gIHBsb3REM0NoYXJ0KCk6IHZvaWQge1xuICAgIHRoaXMuY29udmVydFRvSlNPTigpO1xuICAgIHRoaXMucGxvdEdyb3VwQmFyQ2hhcnQoKTtcbiAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgfVxuXG4gIHByaXZhdGUgcGxvdEdyb3VwQmFyQ2hhcnQoKTogdm9pZCB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG4gICAgdGhpcy5kZWZ1YWx0Q29sb3JzID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzO1xuICAgIC8vIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDUwLCBsZWZ0OiA0MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXR0cigndmlld0JveCcsICcwIDAgJyArIHRoaXMuc3Znd2lkdGggKyAnICcgKyB0aGlzLnN2Z2hlaWdodClcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cblxuICAgIGNvbnN0IHgwID0gZDMuc2NhbGVCYW5kKClcbiAgICAgIC5yYW5nZVJvdW5kKFswLCB3aWR0aF0pXG4gICAgICAucGFkZGluZygwLjIpO1xuXG4gICAgY29uc3QgeDEgPSBkMy5zY2FsZUJhbmQoKS5wYWRkaW5nKDAuMSk7XG5cbiAgICBjb25zdCB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pO1xuXG4gICAgLy9zZXR0aW5nIHggYW5kIHkgZG9tYWluc1xuICAgIHRoaXMueWVhcnMgPSB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheS5tYXAoKGQpID0+IHsgcmV0dXJuIGQubGFiZWxzOyB9KTtcbiAgICBsZXQgbGFiZWwgPSB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheVswXS52YWx1ZXMubWFwKChkKSA9PiB7IHJldHVybiBkLmxhYmVsOyB9KTtcblxuICAgIHgwLmRvbWFpbih0aGlzLnllYXJzKTtcbiAgICB4MS5kb21haW4obGFiZWwpLnJhbmdlUm91bmQoWzAsIHgwLmJhbmR3aWR0aCgpXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmdyb3VwYmFyY2hhcnRBcnJheSwgKGxhYmVscykgPT4geyByZXR1cm4gZDMubWF4KGxhYmVscy52YWx1ZXMsIChkKSA9PiB7IHJldHVybiBkLnZhbHVlOyB9KTsgfSldKTtcblxuICAgIC8vZHluYW1pYyBiYXJ3aWR0aFxuICAgIGlmICh0aGlzLmJhcndpZHRoID4gMCkge1xuICAgICAgdGhpcy5iYXJ3aWR0aCA9IHRoaXMuYmFyd2lkdGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5iYXJ3aWR0aCA9IHgwLmJhbmR3aWR0aDtcbiAgICB9XG5cbiAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuXG5cblxuICAgIGlmICh0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKSA9PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5zdmd3aWR0aCA8PSA0MDApIHtcbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgwKSkuXG4gICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgwKSkuXG4gICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG5cbiAgICB9XG5cblxuXG4gICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgIC50aWNrcygxMCkudGlja3ModGhpcy50aWNrc2NvdW50KSlcblxuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHksIGhlaWdodCwgd2lkdGgpO1xuXG4gICAgLy8gc3ZnLnNlbGVjdCgnLnknKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKS5kZWxheSgxMzAwKS5zdHlsZSgnb3BhY2l0eScsICcxJyk7XG4gICAgLy9hZGRpbmcgYmFyc1xuIFxuICAgIGxldCBzbGljZSA9IHRoaXMuc3ZnLnNlbGVjdEFsbChcIi5zbGljZVwiKVxuICAgICAgLmRhdGEodGhpcy5ncm91cGJhcmNoYXJ0QXJyYXkpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgKGQpID0+IHsgXG4gICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xuICAgICAgICAoZC52YWx1ZXMpLmZvckVhY2goKGVsZW1lbnQsaW5kZXgpID0+IHtcbiAgICAgICAgICAvL3NwbGljZSAwIFxuICAgICAgICAgIGlmKGVsZW1lbnQudmFsdWUgJiYgKGVsZW1lbnQudmFsdWUgPCAxKSkge1xuICAgICAgICAgIGQudmFsdWVzLnNwbGljZSgwLGluZGV4KTtcbiAgICAgICAgICB9IFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgeDAoZC5sYWJlbHMpICsgXCIsMClcIjsgfSk7XG5cbiAgICAgc2xpY2Uuc2VsZWN0QWxsKFwicmVjdFwiKVxuICAgICAgLmRhdGEoKGQpID0+IHsgcmV0dXJuIGQudmFsdWVzOyB9KVxuICAgICAgLmVudGVyKCkuXG4gICAgICBhcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHgxLmJhbmR3aWR0aFxuICAgIClcbiAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4geDEoZC5sYWJlbClcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoXCJmaWxsXCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jb2xvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmICh0aGlzLmNvbG9yc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yc1tpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmdWFsdENvbG9yc1tpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmRlZnVhbHRDb2xvcnNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgfSlcbiAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4geSgwKTsgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KDApOyB9KVxuICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLnNldEtleShkKSlcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuZ3JvdXBiYXJDbGljayhkKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICB9KVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgc2xpY2Uuc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuZGF0YSgoZCkgPT4geyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB4MS5iYW5kd2lkdGgpXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4MShkLmxhYmVsKSArIHgxLmJhbmR3aWR0aCgpIC8gMlxuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInlcIiwgKGQpID0+IHsgcmV0dXJuIHkoZC52YWx1ZSk7IH0pXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KDApOyB9KVxuICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMXZ3XCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgLy8gaWYoKGQudmFsdWUgPiAwKSApIHtcbiAgICAgICAgICAvLyByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgaWYodGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZighdGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICAgIGlmKGQudmFsdWUgPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLnNldEtleShkKVxuICAgICAgICAgICAgLy8gIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KS5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuZ3JvdXBiYXJDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgLy8gdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBzbGljZS5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcInlcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHkoZC52YWx1ZSk7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHsgcmV0dXJuIGhlaWdodCAtIHkoZC52YWx1ZSk7IH0pO1xuICB9XG5cbiAgZ3JvdXBiYXJDbGljayhkOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgb2JqZWN0W2QubGFiZWxdID0gZC52YWx1ZTtcbiAgICBvYmplY3RbdGhpcy54YXhpc0RhdGFdID0gZC54YXhpcztcbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gIC8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbiAgdmFsaWRhdGVyZXNpemUoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICByZXNpemUoKSB7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5wbG90R3JvdXBCYXJDaGFydCgpO1xuICB9XG5cbiAgbGVnZW5kQ2xpY2soZXZlbnQ6IGFueSkge1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbXCJsYWJlbFwiXSA9IGV2ZW50LmxhYmVsO1xuICAgIGxldCBkYXRhID0gW107XG4gICAgZXZlbnQuZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGV0IG9iamVjdCA9IHt9O1xuICAgICAgb2JqZWN0W2VsZW1lbnQubGFiZWxdID0gZWxlbWVudC52YWx1ZTtcbiAgICAgIGRhdGEucHVzaChvYmplY3QpO1xuICAgIH0pO1xuICAgIG9ialtcImRhdGFcIl0gPSBkYXRhO1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG9iaik7IFxuICB9XG5cbiAgLy8yZCBhcnJheSB0byBqc29uIGNvbnZlcnNpb25cbiAgY29udmVydFRvSlNPTigpIHtcbiAgICBsZXQgZ3JvdXBDaGFydE9iaiA9IHsgXCJsYWJlbHNcIjogXCJcIiwgdmFsdWVzOiBbXSB9O1xuICAgIGxldCBmaXJzdFJvd09mRGF0YSA9IHRoaXMuZGF0YVswXTtcbiAgICB0aGlzLnhheGlzRGF0YSA9IHRoaXMuZGF0YVswXVswXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbXVsdGlTZXJpZXNBcnJheSA9IFtdO1xuICAgICAgbGV0IHZhbHVlT2ZKOiBhbnk7XG5cbiAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgdGhpcy5kYXRhW2ldLmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgdmFsdWVPZkogPSB0aGlzLmRhdGFbaV1bMF07XG4gICAgICAgIGxldCBzaW5nbGVCYXJPYmogPSB7fTtcbiAgICAgICAgc2luZ2xlQmFyT2JqW1widmFsdWVcIl0gPSB0aGlzLmRhdGFbaV1bal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcInhheGlzXCJdID0gdGhpcy5kYXRhW2ldWzBdO1xuICAgICAgICBtdWx0aVNlcmllc0FycmF5LnB1c2goc2luZ2xlQmFyT2JqKTtcbiAgICAgIH1cbiAgICAgIGlmIChtdWx0aVNlcmllc0FycmF5Lmxlbmd0aCkge1xuICAgICAgICBncm91cENoYXJ0T2JqW1widmFsdWVzXCJdID0gbXVsdGlTZXJpZXNBcnJheTtcbiAgICAgICAgbGV0IG5ld0xhYmVsc1ZhbHVlczogYW55ID0gdmFsdWVPZko7XG4gICAgICAgIGxldCBuZXdHcm91cERhdGFPYmogPSBPYmplY3QuYXNzaWduKHt9LCBncm91cENoYXJ0T2JqKTtcbiAgICAgICAgbmV3R3JvdXBEYXRhT2JqWydsYWJlbHMnXSA9IG5ld0xhYmVsc1ZhbHVlcyArICcnO1xuICAgICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheS5wdXNoKG5ld0dyb3VwRGF0YU9iaik7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuXG4gIHRyYW5zZm9ybXRvMmRBcnJheSgpIHtcbiAgICBsZXQgaSA9IDBcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgcmVzdWx0LnB1c2goXCJ5ZWFyc1wiKTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LnZhbHVlcy5mb3JFYWNoKGVsZW1lbnQyID0+IHtcbiAgICAgICAgICByZXN1bHQucHVzaChlbGVtZW50Mi5sYWJlbCk7XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgICB0aGlzLnVybGxlZ2VuZEFycmF5LnB1c2gocmVzdWx0KTtcblxuICAgIGxldCB0ZW1wYXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRlbXBhcnJheSA9IFtdO1xuICAgICAgbGV0IHZhbHVlczogYW55O1xuICAgICAgbGV0IHllYXIgPSBlbGVtZW50LmxhYmVscztcbiAgICAgIHRlbXBhcnJheS5wdXNoKHllYXIpO1xuICAgICAgZWxlbWVudC52YWx1ZXMuZm9yRWFjaChlbGVtZW50MiA9PiB7XG4gICAgICAgIHZhbHVlcyA9IGVsZW1lbnQyLnZhbHVlO1xuICAgICAgICB0ZW1wYXJyYXkucHVzaCh2YWx1ZXMpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVybGxlZ2VuZEFycmF5LnB1c2godGVtcGFycmF5KTtcbiAgICB9KVxuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5sZWdlbmRBcnJheSA9IFtdO1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZEFycmF5W2lubmVyZWxlbWVudF0gPSB7ICdkYXRhJzogW10gfTtcbiAgICAgICAgICAgIHRoaXMua2V5QXJyYXkucHVzaChpbm5lcmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgb2JqOiBhbnkgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbm5lcmVsZW1lbnQsIGlubmVyaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5uZXJpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmtleUFycmF5W2lubmVyaW5kZXggLSAxXTtcbiAgICAgICAgICAgIG9ialtrZXldID0gZWxlbWVudFtpbm5lcmluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGxlZ2VuZGRhdGEgPSB0aGlzLmxlZ2VuZEFycmF5W2tleV07XG4gICAgICAgICAgICBpZiAobGVnZW5kZGF0YSkge1xuICAgICAgICAgICAgICBsZWdlbmRkYXRhLmRhdGEucHVzaCh7ICd2YWx1ZSc6IGVsZW1lbnRbaW5uZXJpbmRleF0sICdsYWJlbCc6IGVsZW1lbnRbMF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgdGhpcy5rZXlBcnJheS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbGVnZW5kZGF0YSA9IHRoaXMubGVnZW5kQXJyYXlbZWxlbWVudF07XG4gICAgICBsZXQgb2JqZWN0O1xuICAgICAgaWYgKHRoaXMuY29sb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50LCAnY29sb3InOiB0aGlzLmNvbG9yc1tpbmRleF0sICdkYXRhJzogbGVnZW5kZGF0YS5kYXRhIH07XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgIG9iamVjdCA9IHsgJ2xhYmVsJzogZWxlbWVudCwgJ2NvbG9yJzogdGhpcy5wcmVkZWZpbmVkY29sb3JzW2luZGV4XSwgJ2RhdGEnOiBsZWdlbmRkYXRhLmRhdGEgfTtcbiAgICAgICB9XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0S2V5KGQ6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBvYmplY3RbZC5sYWJlbF0gPSBkLnZhbHVlO1xuICAgIG9iamVjdFt0aGlzLnhheGlzRGF0YV0gPSBkLnhheGlzO1xuICAgIHJldHVybiAodGhpcy50b29sVGlwRm9yQmFyKG9iamVjdCkpO1xuICB9XG5cbiAgcGxvdExpbmUoZywgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgQ2hhbmdlRGV0ZWN0b3JSZWYsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmUvc3JjL3JlbmRlcjMvdXRpbFwiO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNvbWJvY2hhcnQnLFxuICB0ZW1wbGF0ZTogYCBcbjxkaXYgI2NoYXJ0SWQgKm5nSWY9XCJkcmlsbGFibGVGbGFnXCIgKHdpbmRvdzpyZXNpemUpPVwidmFsaWRhdGVyZXNpemUoKVwiPlxuICAgIDx0YWJsZSAqbmdJZj1cImRhdGEubGVuZ3RoID4gMFwiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgICA8dHIgKm5nSWYgPSBcInRpdGxlLmxlbmd0aCA+IDBcIj5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj4ge3t0aXRsZX19IDwvdGQ+XG4gICAgICA8L3RyPlxuICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICAgIDx0ciAqbmdJZj1cImxlZ2VuZFwiPlxuICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPiBcbiAgICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgQ29tYm9jaGFydENvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgUGxvdENhcnQge1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCdsaW5lLWNvbG9yJykgbGluZUNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG4gIEBJbnB1dCgpIGxhYmVsOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGhvcml6b250YWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgYmFyd2lkdGg6IG51bWJlciA9IDA7XG4gIC8vICAgQElucHV0KCdsaW5lLWRhdGEtaW5kZXgnKSBsaW5lSW5wdXQ6IGFueTtcbiAgQElucHV0KCdsaW5lLWRhdGEtaW5kZXgnKSBsaW5lSW5wdXQ6IGFueVtdID0gW107XG4gIEBJbnB1dCgnYmFyLWRhdGEtaW5kZXgnKSBiYXJJbnB1dDogYW55W10gPSBbXTtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCdzaG93LXplcm8tdmFsdWVzJykgc2hvd3plcm9mbGFnOiBib29sZWFuID0gdHJ1ZTtcblxuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgc2ltcGxlQ29tYm9GbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbXBsZXRlY29udmVydGVkZGF0YTogYW55W10gPSBbXTtcbiAgc2ltcGxlQ29tYm9kYXRhOiBhbnlbXSA9IFtdO1xuICBmaXJzdHJvdzogYW55W107XG4gIHllYXJzOiBhbnk7XG4gIGRhdGE6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIHRvdGFsQ29sdW1uczogbnVtYmVyO1xuICBncm91cGJhcmNoYXJ0QXJyYXk6IGFueVtdID0gW107XG4gIGhpZ2hlcmNvbG9yaW5kZXg6IG51bWJlciA9IDA7XG4gIGxlZ2VuZGNvbG9yaW5kZXg6IGFueTtcbiAgeGF4aXNEYXRhOiBhbnk7XG4gIGNvbG9yZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBvYmplY3Q6IGFueTtcbiAgbGVnZW5kQXJyYXk6IGFueVtdID0gW107XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBvZmZzZXRoZWlnaHQ6IGFueTtcbiAgbGluZVJhbmdlOiBhbnk7XG4gIGxlZ2VuZHM6IGFueVtdID0gW107XG5cbiAgdG90YWxjb2x1bW5zXG4gIHNjMTogYm9vbGVhbjtcbiAgc2MyOiBib29sZWFuO1xuICBzYzJiYXJmbGFnOiBib29sZWFuO1xuICBzYzM6IGJvb2xlYW47XG4gIHNjNDogYm9vbGVhbjtcbiAgTGluZUFycmF5OiBhbnkgPSBbXTtcbiAgb3V0cHV0RGF0YTogYW55ID0gW107XG4gIGxpbmVmbGFnOiBib29sZWFuO1xuICBoaWdoZXJkb3QxY29sb3JpbmRleCA9IDA7XG4gIHd0OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ2NvbWJvY2hhcnQnKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEpIHtcbiAgICAgIGxldCByZXNwOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhKCkge1xuICAgIHRoaXMuZm9ybURhdGFzdHJ1Y3R1cmUoKTtcbiAgICB0aGlzLnRyYW5hc2ZvcnNpbXBsZWpzb24oKTtcbiAgfVxuXG4gIGZvcm1EYXRhc3RydWN0dXJlKCkge1xuXG4gICAgLy8gZm9yIGxpbmVcbiAgICAvL2NhbGwgY3JlYXRlanNvbigpIGZvciBjb21wbGV0ZSBkYXRhIGZvciBsaW5lXG4gICAgdGhpcy5saW5lZmxhZyA9IHRydWU7XG4gICAgdGhpcy5jcmVhdGVqc29uKHRoaXMuZGF0YSk7XG5cbiAgICAvL3ZhbGlkYXRlIHNjZW5hcmlvc1xuICAgIC8vdmFsaWRhdGUgc2NlbmFyaW8xOiBiYXIgKyBsaW5lICsgZGF0YVxuICAgIGlmICgodGhpcy5iYXJJbnB1dC5sZW5ndGggPiAwKSAmJiAodGhpcy5saW5lSW5wdXQubGVuZ3RoID4gMCkgJiZcbiAgICAgICh0aGlzLmRhdGFbMF0ubGVuZ3RoID4gMikpIHtcbiAgICAgIHRoaXMuc2MxID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3JlYXRlRGF0YTEodGhpcy5iYXJJbnB1dCwgdGhpcy5kYXRhKTtcbiAgICB9XG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzI6IGxpbmUgKyBkYXRhXG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzIuMSBsaW5lICsgZGF0YSBjb2x1bW5zIG9ubHkgdHdvIHRoZW4gb25seSBsaW5lIHdpbGwgYmUgcGxvdFxuICAgIGVsc2UgaWYgKCh0aGlzLmxpbmVJbnB1dC5sZW5ndGggPiAwKSAmJlxuICAgICAgLy8jI2dldCBpdCBjaGVja2VkXG4gICAgICAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDEpKSB7XG4gICAgICB0aGlzLnNjMiA9IHRydWU7XG4gICAgICAvL2RlY2lkZSB3aGV0aGVyIG9ubHkgbGluZSB3aWxsIGJlIHBsb3Qgb3IgYmFyIGFsc29cblxuICAgICAgLy9jaGsgaWYgZGF0YVswXSBoYXMgYW55IGV4dHJhIGNvbHVtbiBsZWF2aW5nIGxpbmVpbnB1dCBhcnJheVxuICAgICAgbGV0IGJhcmZsYWc6IGJvb2xlYW47XG4gICAgICAvL2lmIHNvIHNldCBzYzJiYXJmbGFnXG4gICAgICB0aGlzLmRhdGFbMF0uZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgICB0aGlzLmxpbmVJbnB1dC5mb3JFYWNoKGxpbmVuYW1lID0+IHtcbiAgICAgICAgICBpZiAoY29sdW1uICE9PSBsaW5lbmFtZSkge1xuICAgICAgICAgICAgdGhpcy5zYzJiYXJmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHUgY2FuIHBsb3QgYmFyIG5vd1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5jcmVhdGVEYXRhMShudWxsLCB0aGlzLmRhdGEpO1xuXG4gICAgICAvL2NoayBpZiBzYzJiYXJmbGFnIGlzIHNldCBvciByZXNldFxuICAgICAgaWYgKHRoaXMuc2MyYmFyZmxhZyA9PSB0cnVlKSB7XG4gICAgICAgIC8vcGxvdCBiYXIgICsgbGluZVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwbG90IG9ubHkgbGluZVxuICAgICAgfVxuXG4gICAgfS8vZWxzZSBpZiBvZiBzYzIgZW5kc1xuXG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzM6IGJhciArIGRhdGFcbiAgICBlbHNlIGlmICgodGhpcy5iYXJJbnB1dC5sZW5ndGggPiAwKSAmJiAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDEpKSB7XG4gICAgICB0aGlzLnNjMyA9IHRydWU7XG4gICAgICB0aGlzLmNyZWF0ZURhdGExKHRoaXMuYmFySW5wdXQsIHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzQ6IGRhdGFcbiAgICBlbHNlIGlmICgodGhpcy5iYXJJbnB1dC5sZW5ndGggPCAxKSAmJiAodGhpcy5saW5lSW5wdXQubGVuZ3RoIDwgMSkgJiYgdGhpcy5kYXRhWzBdLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuc2M0ID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3JlYXRlRGF0YTEobnVsbCwgdGhpcy5kYXRhKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVEYXRhMShpbnBkYXRhOiBhbnlbXSwgZnVsbGRhdGE6IGFueVtdKSB7XG4gICAgbGV0IGxpbmVhcnIgPSBbXTtcbiAgICB0aGlzLmxpbmVJbnB1dC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGluZWFyci5wdXNoKGVsZW1lbnQuY29sdW1uKTtcbiAgICB9KTtcbiAgICB0aGlzLmZpcnN0cm93ID0gdGhpcy5kYXRhWzBdXG5cbiAgICBsZXQgZHVtbXlBcnJheSA9IFtdO1xuICAgIGR1bW15QXJyYXkucHVzaCgwKTtcbiAgICBmdWxsZGF0YS5mb3JFYWNoKChyZWNvcmQ6IGFueVtdLCBpbmRleDogYW55KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgLy8gVEhJUyBMT0dJQyBJUyBVU0VEIEZPUiBGSU5ESU5HIElOREVYUyBBTkQgQUREIElOVE8gZHVtbXlBcnJheSBBUlJBWVxuICAgICAgICByZWNvcmQuZm9yRWFjaCgoaW5uZXJPYmplY3Q6IGFueSwgaW5uZXJJbmRleDogYW55KSA9PiB7XG4gICAgICAgICAgLy92YWxpZGF0ZXMgc2NlbmFyaW8xIGFuZCAzXG4gICAgICAgICAgaWYgKHRoaXMuc2MxID09IHRydWUgfHwgdGhpcy5zYzMgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5iYXJJbnB1dC5mb3JFYWNoKChlbGVtZW50T2ZJbnB1dERhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAvL2FqYVxuICAgICAgICAgICAgICBpZiAoaW5uZXJPYmplY3QgPT09IGVsZW1lbnRPZklucHV0RGF0YS5jb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAvL2R1bW15YXJyYXkgaGFzIGluZGV4IHN0YWNrXG4gICAgICAgICAgICAgICAgZHVtbXlBcnJheS5wdXNoKGlubmVySW5kZXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9Ly9zYzEgYW5kIHNjMyB2YWxpZGF0aW9uIGRvbmVcbiAgICAgICAgICAvL3ZhbGlkYXRlcyBzY2VuYXJpbyAyXG4gICAgICAgICAgaWYgKHRoaXMuc2MyID09IHRydWUpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2MyYmFyZmxhZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgdGhpcy5saW5lSW5wdXQuZm9yRWFjaCgoZWxlbWVudE9mTGluZURhdGE6IGFueSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKChpbm5lck9iamVjdCAhPT0gZWxlbWVudE9mTGluZURhdGEuY29sdW1uKSAmJiAoaW5uZXJJbmRleCAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgIC8vZHVtbXlhcnJheSBoYXMgaW5kZXggc3RhY2tcbiAgICAgICAgICAgICAgICAgIC8vIGR1bW15QXJyYXkuZm9yRWFjaChkdW1teWVsZW1lbnQgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAvLyAgIGlmKGR1bW15ZWxlbWVudCAhPT0gaW5uZXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgLy8gaWYgKCAobGluZWFyci5pbmNsdWRlcyhpbm5lck9iamVjdCkgPT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICBsaW5lYXJyLmluY2x1ZGVzKGlubmVyT2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgIGlmIChsaW5lYXJyLmluY2x1ZGVzKGlubmVyT2JqZWN0KSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHVtbXlBcnJheS5pbmNsdWRlcyhpbm5lckluZGV4KSkge1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgZHVtbXlBcnJheS5wdXNoKGlubmVySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSAgLy8gfVxuICAgICAgICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vdmFsaWRhdGVzIHNjZW5hcmlvIDRcbiAgICAgICAgaWYgKHRoaXMuc2M0ID09IHRydWUpIHtcbiAgICAgICAgICAvLyBjaGsgaWYgYmFyZmxhZyBpcyBzZXRcbiAgICAgICAgICBsZXQgY29sdW1ucyA9IHRoaXMuZGF0YVswXS5sZW5ndGg7XG4gICAgICAgICAgaWYgKGNvbHVtbnMgPiAxKSB7XG4gICAgICAgICAgICBkdW1teUFycmF5LnB1c2goMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZHVtbXlBcnJheS5wdXNoKDApO1xuICAgICAgICBsZXQgZmlyc3RBcnJheSA9IFtdO1xuICAgICAgICAvLyBGT1IgRklSU1QgUkVDT1JEXG4gICAgICAgIGR1bW15QXJyYXkuZm9yRWFjaCgob2JqZWN0OiBhbnksIGR1bW15SW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgIGZpcnN0QXJyYXkucHVzaChyZWNvcmRbb2JqZWN0XSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm91dHB1dERhdGEucHVzaChmaXJzdEFycmF5KTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5ld0RhdGEgPSBbXTtcbiAgICAgICAgcmVjb3JkLmZvckVhY2goKGlubmVyT2JqZWN0OiBhbnksIGlubmVySW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgIGR1bW15QXJyYXkuZm9yRWFjaCgob2JqZWN0OiBhbnksIGR1bW15SW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlubmVySW5kZXggPT09IG9iamVjdCkge1xuICAgICAgICAgICAgICBuZXdEYXRhLnB1c2goaW5uZXJPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhLnB1c2gobmV3RGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNyZWF0ZWpzb24odGhpcy5vdXRwdXREYXRhKTtcbiAgICAvLyB0aGlzLmZvcm1MZWdlbmREYXRhKHRoaXMub3V0cHV0RGF0YSk7XG4gIH1cblxuICBjcmVhdGVqc29uKGFycmF5ZGF0YTogYW55W10pIHtcbiAgICBsZXQgZ3JvdXBDaGFydE9iaiA9IHsgXCJsYWJlbHNcIjogXCJcIiwgdmFsdWVzOiBbXSB9O1xuXG4gICAgdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXkgPSBbXTtcbiAgICBsZXQgZmlyc3RSb3dPZkRhdGEgPSBhcnJheWRhdGFbMF07XG4gICAgdGhpcy54YXhpc0RhdGEgPSB0aGlzLmRhdGFbMF1bMF07XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFycmF5ZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG11bHRpU2VyaWVzQXJyYXkgPSBbXTtcbiAgICAgIGxldCB2YWx1ZU9mSjogYW55O1xuICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCBhcnJheWRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFsdWVPZkogPSBhcnJheWRhdGFbaV1bMF07XG4gICAgICAgIGxldCBzaW5nbGVCYXJPYmogPSB7fTtcbiAgICAgICAgc2luZ2xlQmFyT2JqW1widmFsdWVcIl0gPSBhcnJheWRhdGFbaV1bal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcInhheGlzXCJdID0gYXJyYXlkYXRhW2ldWzBdO1xuICAgICAgICBzaW5nbGVCYXJPYmo7XG4gICAgICAgIG11bHRpU2VyaWVzQXJyYXkucHVzaChzaW5nbGVCYXJPYmopO1xuICAgICAgfVxuICAgICAgaWYgKG11bHRpU2VyaWVzQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIGdyb3VwQ2hhcnRPYmpbXCJ2YWx1ZXNcIl0gPSBtdWx0aVNlcmllc0FycmF5O1xuICAgICAgICBsZXQgbmV3TGFiZWxzVmFsdWVzOiBhbnkgPSB2YWx1ZU9mSjtcbiAgICAgICAgbGV0IG5ld0dyb3VwRGF0YU9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGdyb3VwQ2hhcnRPYmopO1xuICAgICAgICBuZXdHcm91cERhdGFPYmpbJ2xhYmVscyddID0gbmV3TGFiZWxzVmFsdWVzICsgJyc7XG4gICAgICAgIHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5LnB1c2gobmV3R3JvdXBEYXRhT2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMubGluZWZsYWcpIHtcblxuICAgICAgdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXk7XG5cbiAgICAgIHRoaXMuTGluZUFycmF5ID0gdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheSA9IFtdO1xuXG4gICAgICBsZXQgZmlyc3RSb3dPZkRhdGEgPSBhcnJheWRhdGFbMF07XG4gICAgICAvLyB0aGlzLnhheGlzRGF0YSA9IHRoaXMuZGF0YVswXVswXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnJheWRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG11bHRpU2VyaWVzQXJyYXkgPSBbXTtcbiAgICAgICAgbGV0IHZhbHVlT2ZKOiBhbnk7XG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgYXJyYXlkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFsdWVPZkogPSBhcnJheWRhdGFbaV1bMF07XG4gICAgICAgICAgbGV0IHNpbmdsZUJhck9iaiA9IHt9O1xuICAgICAgICAgIHNpbmdsZUJhck9ialtcInZhbHVlXCJdID0gYXJyYXlkYXRhW2ldW2pdO1xuICAgICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgICAgc2luZ2xlQmFyT2JqW1wieGF4aXNcIl0gPSBhcnJheWRhdGFbaV1bMF07XG4gICAgICAgICAgc2luZ2xlQmFyT2JqO1xuICAgICAgICAgIG11bHRpU2VyaWVzQXJyYXkucHVzaChzaW5nbGVCYXJPYmopO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtdWx0aVNlcmllc0FycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGdyb3VwQ2hhcnRPYmpbXCJ2YWx1ZXNcIl0gPSBtdWx0aVNlcmllc0FycmF5O1xuICAgICAgICAgIGxldCBuZXdMYWJlbHNWYWx1ZXM6IGFueSA9IHZhbHVlT2ZKO1xuICAgICAgICAgIGxldCBuZXdHcm91cERhdGFPYmogPSBPYmplY3QuYXNzaWduKHt9LCBncm91cENoYXJ0T2JqKTtcbiAgICAgICAgICBuZXdHcm91cERhdGFPYmpbJ2xhYmVscyddID0gbmV3TGFiZWxzVmFsdWVzICsgJyc7XG4gICAgICAgICAgdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXkucHVzaChuZXdHcm91cERhdGFPYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheTtcbiAgICB9XG5cbiAgfVxuXG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIC8vcGxvdCBtdWx0aXNlcmllcyBjaGFydFxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGxldCBjb2xvcnMgPSB0aGlzLnByZWRlZmluZWRjb2xvcnM7XG4gICAgaWYgKHRoaXMucmVzaXplZmxhZyA9PSBmYWxzZSkge1xuICAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgICBpZiAodGhpcy53dCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuXG4gICAgICB9XG4gICAgICAvL1JFU0laRSBTVEVQIDEgRU5EUyBIRVJFIFxuICAgIH1cbiAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA1MCwgbGVmdDogNDAgfTtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnN2Z2hlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgY29uc3QgeDAgPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgIC5wYWRkaW5nKDAuMik7XG5cbiAgICBjb25zdCB4MSA9IGQzLnNjYWxlQmFuZCgpLnBhZGRpbmcoMC4xKTtcblxuICAgIGNvbnN0IHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cbiAgICAvL3NldHRpbmcgeCBhbmQgeSBkb21haW5zXG4gICAgdGhpcy55ZWFycyA9IHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5Lm1hcCgoZCkgPT4geyByZXR1cm4gZC5sYWJlbHM7IH0pO1xuICAgIGxldCBsYWJlbCA9IHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5WzBdLnZhbHVlcy5tYXAoKGQpID0+IHsgcmV0dXJuIGQubGFiZWw7IH0pO1xuXG4gICAgeDAuZG9tYWluKHRoaXMueWVhcnMpO1xuICAgIHgxLmRvbWFpbihsYWJlbCkucmFuZ2VSb3VuZChbMCwgeDAuYmFuZHdpZHRoKCldKTtcbiAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5LCAobGFiZWxzKSA9PiB7IHJldHVybiBkMy5tYXgobGFiZWxzLnZhbHVlcywgKGQpID0+IHsgcmV0dXJuIGQudmFsdWU7IH0pOyB9KV0pO1xuXG4gICAgLy9keW5hbWljIGJhcndpZHRoXG4gICAgaWYgKHRoaXMuYmFyd2lkdGggPiAwKSB7XG4gICAgICB0aGlzLmJhcndpZHRoID0gdGhpcy5iYXJ3aWR0aDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmJhcndpZHRoID0geDAuYmFuZHdpZHRoO1xuICAgIH1cblxuICAgIC8vIGFkZCB4IGF4aXMgdG8gc3ZnXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKS5cbiAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4MCkpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICB9XG5cbiAgICAvL2FkZCB5IGF4aXMgdG8gc3ZnXG4gICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgLnRpY2tzKHRoaXMudGlja3Njb3VudCkpXG5cbiAgICB0aGlzLnBsb3RMaW5lRm9yTXVsdGlTZXJpZXModGhpcy5zdmcsIHksIGhlaWdodCwgd2lkdGgpO1xuICAgIC8vYWRkaW5nIGJhcnNcbiAgICBsZXQgc2xpY2UgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuc2xpY2VcIilcbiAgICAgIC5kYXRhKHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5KVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7IHJldHVybiBcInRyYW5zbGF0ZShcIiArIHgwKGQubGFiZWxzKSArIFwiLDApXCI7IH0pO1xuXG5cbiAgICBzbGljZS5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4geyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHgxLmJhbmR3aWR0aClcbiAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4geDEoZC5sYWJlbClcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoXCJmaWxsXCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICB0aGlzLmhpZ2hlcmRvdDFjb2xvcmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMubGVnZW5kY29sb3JpbmRleCA9IGluZGV4O1xuICAgICAgICByZXR1cm4gY29sb3JzW2luZGV4XVxuICAgICAgfSlcbiAgICAgIC5hdHRyKFwieVwiLCAoZCwgaW5kKSA9PiB7IHJldHVybiB5KGQudmFsdWUpOyB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQsIGluZCkgPT4ge1xuICAgICAgICByZXR1cm4gaGVpZ2h0IC0geShkLnZhbHVlKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgIHRoaXMuc2V0S2V5KGQpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuZ3JvdXBiYXJDbGljayhkKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9iYXIgbGFiZWxcbiAgICAvLyBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICBzbGljZS5zZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4geyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcIm9wYWNpdHlcIixcbiAgICAgICAgKGQpID0+IHtcbiAgICAgICAgICBsZXQgdmlzaWJpbGl0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKHRoaXMuYmFySW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5iYXJJbnB1dC5mb3JFYWNoKChiYXJuYW1lOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgaWYgKChiYXJuYW1lLmNvbHVtbiA9PSBkLmxhYmVsKSAmJiAoYmFybmFtZS5sYWJlbCA9PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh2aXNpYmlsaXR5KSB7XG4gICAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0vLyBvdXRlciBpZiBcbiAgICAgICAgICAvLyB2YWxpZGF0aW9uIG9mIHNjZW5hcmlvNFxuICAgICAgICAgIGVsc2UgaWYgKCh0aGlzLnNjNCA9PSB0cnVlKSAmJiAodGhpcy5sYWJlbCA9PSB0cnVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB4MS5iYW5kd2lkdGgpXG4gICAgICAuYXR0cihcInhcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHgxKGQubGFiZWwpICsgeDEuYmFuZHdpZHRoKCkgLyAyXG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7IHJldHVybiB5KGQudmFsdWUpOyB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHsgcmV0dXJuIGhlaWdodCAtIHkoMCk7IH0pXG4gICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjF2d1wiKVxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgfVxuICAgICAgfSkvL2JhciBsYWJlbFxuICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgaWYodGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKCF0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgIGlmKGQudmFsdWUgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIGQudmFsdWU7XG4gICAgICB9KVxuICAgICAgLy9iYXIgbGFiZWwgY2xpY2sgbG9naWNcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgdGhpcy5zZXRLZXkoZClcbiAgICAgICAgKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSkub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5ncm91cGJhckNsaWNrKGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAvLyB9XG4gICAgc2xpY2Uuc2VsZWN0QWxsKFwicmVjdFwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB5KGQudmFsdWUpO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KGQudmFsdWUpOyB9KTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vc2lnbGUgLyBtdWx0aSBsaW5lIGNvZGUgc3RhcnRzIGhlcmVcbiAgICAvL2NvZGUgaGVyZSBmciBtdWx0aSBsaW5lXG4gICAgbGV0IGk7XG4gICAgLy8gbGV0IGxpbmVOYW1lO1xuICAgIGxldCBzbGljZTEgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuc2xpY2VcIilcbiAgICAgIC5kYXRhKHRoaXMudHJhbnNmb3JtZWRkYXRhKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImdcIilcbiAgICB0aGlzLmhpZ2hlcmRvdDFjb2xvcmluZGV4KytcbiAgICB0aGlzLmxpbmVJbnB1dC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuY29sb3IpIHtcblxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnRbXCJjb2xvclwiXSA9IGNvbG9yc1t0aGlzLmhpZ2hlcmRvdDFjb2xvcmluZGV4XTtcbiAgICAgICAgdGhpcy5oaWdoZXJkb3QxY29sb3JpbmRleCsrO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy9saW5lIHZhbGlkYXRpb24gZm9yIHNjZW5hcmlvIDEgYW5kIDJcbiAgICBpZiAodGhpcy5saW5lSW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGluZUlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjb2xvcmluY3JlbWVudGVyID0gMTtcbiAgICAgICAgbGV0IGxpbmVOYW1lID0gdGhpcy5saW5lSW5wdXRbaV07XG4gICAgICAgIGxldCB2YWx1ZWxpbmUgPSBkMy5saW5lKClcbiAgICAgICAgICAueCgoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgwKGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC55KChkKSA9PiB7IHJldHVybiB5KGRbbGluZU5hbWUuY29sdW1uXSk7IH0pO1xuXG4gICAgICAgIGxldCBzaGlmdCA9IG1hcmdpbi5sZWZ0ICsgeDEuYmFuZHdpZHRoKCkgLyAyO1xuXG4gICAgICAgIHNsaWNlMS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgLmRhdGEoW3RoaXMudHJhbnNmb3JtZWRkYXRhXSlcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJub25lXCIpXG4gICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsXG4gICAgICAgICAgICAoZCkgPT4ge1xuICAgICAgICAgICAgICBpZiAobGluZU5hbWUuY29sb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluZU5hbWUuY29sb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMS41KVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKCBcIiArIHgxLmJhbmR3aWR0aCgpIC8gMiArIFwiLCAwIClcIilcbiAgICAgICAgICAuYXR0cihcImRcIiwgdmFsdWVsaW5lKTtcbiAgICAgICAgLy8gcG9pbnRzMVxuICAgICAgICBsZXQgZG90c2xpY2UgPSBzbGljZTEuc2VsZWN0QWxsKFwiZG90XCIpXG4gICAgICAgICAgLmRhdGEodGhpcy50cmFuc2Zvcm1lZGRhdGEpXG4gICAgICAgICAgLmVudGVyKClcblxuICAgICAgICAgIC5hcHBlbmQoXCJjaXJjbGVcIilcbiAgICAgICAgICAvLyAubWVyZ2UocG9pbnRzMSlcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwicG9pbnQxXCIpXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLFxuICAgICAgICAgICAgKGQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGxpbmVOYW1lLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmVOYW1lLmNvbG9yXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geDAoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJjeVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHkoZFtsaW5lTmFtZS5jb2x1bW5dKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwiclwiLCAoZCkgPT4geyByZXR1cm4gNTsgfSlcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgKyB4MS5iYW5kd2lkdGgoKSAvIDIgKyBcIiwgMCApXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwTGluZURhdGEoZCwgbGluZU5hbWUsIGZhbHNlKSlcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tYm9MaW5lQ2xpY2soZCwgbGluZU5hbWUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gXG4gICAgICB9Ly8gbGluZSBjb2RlIGVuZHNcblxuICAgIH0vL2xpbmVpbnB1dCBpZiBjb25kaXRpb24gZW5kcyBoZXJlXG4gICAgLy9zY2VuYXJpbyA0IHZhbGlkYXRpb24gZm9yIGxpbmUgYXNzdW1wdGlvblxuICAgIGVsc2UgaWYgKCh0aGlzLnNjNCA9PSB0cnVlKSAmJiAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDIpKSB7XG5cbiAgICAgIC8vICBsaW5lTmFtZSA9IHRoaXMubGluZUlucHV0W2ldO1xuICAgICAgbGV0IHZhbHVlbGluZSA9IGQzLmxpbmUoKVxuICAgICAgICAvLyB2YWx1ZWxpbmUuZGF0YSh0aGlzLmNvbXBsZXRlY29udmVydGVkZGF0YSlcbiAgICAgICAgLngoKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4geDAoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICAgIC8vICByZXR1cm4geDEoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICB9KVxuICAgICAgICAueSgoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVsyXV1cbiAgICAgICAgICAgIC8vIGRbbGluZU5hbWVdXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGxldCBzaGlmdCA9IG1hcmdpbi5sZWZ0ICsgeDEuYmFuZHdpZHRoKCkgLyAyO1xuICAgICAgc2xpY2UxLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgLmRhdGEoW3RoaXMudHJhbnNmb3JtZWRkYXRhXSlcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxuICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5saW5lQ29sb3IgIT09IFwiYmxhY2tcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbMl07XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAxLjUpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKCBcIiArIHgxLmJhbmR3aWR0aCgpIC8gMiArIFwiLCAwIClcIilcbiAgICAgICAgLmF0dHIoXCJkXCIsIHZhbHVlbGluZSk7XG5cbiAgICAgIC8vIHBvaW50czFcbiAgICAgIHNsaWNlMS5zZWxlY3RBbGwoXCJkb3RcIilcbiAgICAgICAgLmRhdGEodGhpcy50cmFuc2Zvcm1lZGRhdGEpLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC8vIC5tZXJnZShwb2ludHMxKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwicG9pbnQxXCIpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5saW5lQ29sb3IgIT09IFwiYmxhY2tcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbMl07XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGluZUNvbG9yICE9PSBcImJsYWNrXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JzWzJdXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHgwKGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjeVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVsyXV1cbiAgICAgICAgICAgIC8vIGRbbGluZU5hbWVdXG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJyXCIsIChkKSA9PiB7IHJldHVybiA1OyB9KVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgKyB4MS5iYW5kd2lkdGgoKSAvIDIgKyBcIiwgMCApXCIpXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwTGluZURhdGEoZCwgbnVsbCwgdHJ1ZSkpXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLm9uQ29tYm9MaW5lQ2xpY2soZCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vbGluZSBsYWJlbCB2YWxpZGF0aW9uIGZvciBzY2VuYXJpbyAxIGFuZCAyXG4gICAgaWYgKHRoaXMubGluZUlucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgIC8vaXRlcmF0aW9uIG9uIGxpbmVpbnB1dFxuICAgICAgbGV0IGxhYmVscG9zdG9nZ2xlID0gZmFsc2U7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5saW5lSW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGxpbmVOYW1lMSA9IHRoaXMubGluZUlucHV0W2ldO1xuICAgICAgICBpZiAobGluZU5hbWUxLmxhYmVsKSB7XG4gICAgICAgICAgaWYgKGxpbmVOYW1lMS5sYWJlbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICBzbGljZTEuc2VsZWN0QWxsKFwibGFiZWxzXCIpXG4gICAgICAgICAgICAgIC5kYXRhKHRoaXMudHJhbnNmb3JtZWRkYXRhKVxuICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsaW5lTmFtZTEubGFiZWxjb2xvcikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmVOYW1lMS5sYWJlbGNvbG9yO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHgwKGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZFtsaW5lTmFtZTEuY29sdW1uXSlcblxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGV4dCgoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW2xpbmVOYW1lMS5jb2x1bW5dO1xuICAgICAgICAgICAgICAgIC8vIGRbbGluZU5hbWVdO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgK1xuICAgICAgICAgICAgICAgIC8vIG1hcmdpbi5sZWZ0XG4gICAgICAgICAgICAgICAgeDEuYmFuZHdpZHRoKCkgLyAyXG4gICAgICAgICAgICAgICAgLy8gc2hpZnRcbiAgICAgICAgICAgICAgICArIFwiLCAxOSApXCIpXG4gICAgICAgICAgICAgIC8vbGluZSBsYWJlbCBjbGljayBsb2dpYyBzdGFydHMgaGVyZVxuICAgICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBMaW5lRGF0YShkLCBsaW5lTmFtZTEsIGZhbHNlKSlcbiAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21ib0xpbmVDbGljayhkLCBsaW5lTmFtZTEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH1cblxuICAgIC8vbGluZSBsYWJlbCB2YWxpZGF0aW9uIGZvciBzY2VuYXJpbyA0XG4gICAgZWxzZSBpZiAoKHRoaXMuc2M0ID09IHRydWUpICYmICh0aGlzLmRhdGFbMF0ubGVuZ3RoID4gMikgJiYgKHRoaXMubGFiZWwgPT0gdHJ1ZSkpIHtcbiAgICAgIC8vdHJpYWwgbGluZSBsYWJlbCBmb3IgNHRoIHNjZW5hcmlvXG4gICAgICBzbGljZTEuc2VsZWN0QWxsKFwibGFiZWxzXCIpXG4gICAgICAgIC5kYXRhKHRoaXMudHJhbnNmb3JtZWRkYXRhKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4MChkW09iamVjdC5rZXlzKGQpWzBdXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuXG4gICAgICAgICAgcmV0dXJuIHkoXG4gICAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzJdXVxuICAgICAgICAgICAgLy8gZFtsaW5lTmFtZV1cbiAgICAgICAgICApXG4gICAgICAgICAgLy8gICsgNTA7XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMl1dO1xuICAgICAgICAgIC8vIGRbbGluZU5hbWVdO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgK1xuICAgICAgICAgIC8vIG1hcmdpbi5sZWZ0XG4gICAgICAgICAgeDEuYmFuZHdpZHRoKCkgLyAyXG4gICAgICAgICAgLy8gc2hpZnRcbiAgICAgICAgICArIFwiLCAxOSApXCIpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAvLyBsaW5lIGxhYmVsIGNsaWNrIGxvZ2ljXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwTGluZURhdGEoZCwgbnVsbCwgdHJ1ZSkpXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLm9uQ29tYm9MaW5lQ2xpY2soZCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgdGhpcy5mb3JtTGVnZW5kRGF0YSh0aGlzLm91dHB1dERhdGEpXG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKS50aWNrcyh0aGlzLnRpY2tzY291bnQpKTtcbiAgICB9XG4gIH1cblxuICBzZXRLZXkoZDogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFtkLmxhYmVsXSA9IGQudmFsdWU7XG4gICAgb2JqZWN0W3RoaXMueGF4aXNEYXRhXSA9IGQueGF4aXM7XG4gICAgcmV0dXJuICh0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KSk7XG4gIH1cblxuICBmaW5NYXhMaW5lVmFsdWUoKSB7XG4gICAgbGV0IGxpbmVWYWx1ZXMgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnQpKSB7XG4gICAgICAgIHRoaXMubGluZUlucHV0LmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgICBpZiAobGluZSA9PSBrZXkpIHtcbiAgICAgICAgICAgIGxpbmVWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBtYXggPSAwLCBqO1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGxpbmVWYWx1ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChsaW5lVmFsdWVzW2pdID4gbWF4KSB7XG4gICAgICAgIG1heCA9IGxpbmVWYWx1ZXNbal07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubGluZVJhbmdlID0gbWF4O1xuICB9XG5cbiAgZ3JvdXBiYXJDbGljayhkOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgb2JqZWN0W2QubGFiZWxdID0gZC52YWx1ZTtcbiAgICBvYmplY3RbdGhpcy54YXhpc0RhdGFdID0gZC54YXhpcztcbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gIHBsb3RMaW5lRm9yTXVsdGlTZXJpZXMoZywgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gIH1cblxuICB0cmFuYXNmb3JzaW1wbGVqc29uKCkge1xuICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IHRoaXMuZGF0YVswXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IER1bW15T2JqZWN0ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgIER1bW15T2JqZWN0W3RoaXMua2V5QXJyYXlba2V5aW5kZXhdXSA9IGluZGl2aWR1YWx2YWx1ZTtcbiAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgfS8vaWYgZW5kc1xuICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuICB9XG5cbiAgZm9ybVRvb2x0aXBMaW5lRGF0YShkYXRhOiBhbnksIGxpbmU6IGFueSwgZmxhZzogYm9vbGVhbikge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgIC8vZmxhZyBpcyBjb25zaWRlcmVkIHRydWUgZm9yIGZvcnRoIHNjZW5hcmlvXG4gICAgICBpZiAoZmxhZyA9PSB0cnVlKSB7XG4gICAgICAgIGlmIChrZXkgPT0gdGhpcy5kYXRhWzBdWzJdKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfS8vIGlmIGZvZSB0cnVlIGZsYWcgZW5kcyBoZXJlXG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGtleSA9PSBsaW5lLmNvbHVtbikge1xuICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0vL2Vsc2UgZm9yIGZhbHNlIGZsYWcgZW5kcyBoZXJlXG5cbiAgICB9XG5cblxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIG9uQ29tYm9MaW5lQ2xpY2soZGF0YTogYW55LCBsaW5lOiBhbnksIGZsYWc6IGJvb2xlYW4pIHtcbiAgICAvLyBmbGFnIGlzIGNvbnNpZGVyZWQgdHJ1ZSBmb3IgNHRoIHNjZW5hcmlvXG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgIGlmIChpID09IDAgfHwgaSA9PSAxKSB7XG4gICAgICAgIGlmIChrZXkgIT0gXCJjb2xvclwiKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmxhZyA9PSB0cnVlKSB7XG4gICAgICAgIGlmIChrZXkgPT0gdGhpcy5kYXRhWzBdWzJdKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGtleSA9PSBsaW5lLmNvbHVtbikge1xuICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaSsrO1xuICAgIH1cbiAgICAvL3RoaXMgY2FsbHMgYmFzZSBjbGFzcyBmdW5jdGlvblxuICAgIHRoaXMuY29tYm9MaW5lQ2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMua2V5QXJyYXkgPSBbXTtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kQXJyYXlbaW5uZXJlbGVtZW50XSA9IHsgJ2RhdGEnOiBbXSB9O1xuICAgICAgICAgICAgdGhpcy5rZXlBcnJheS5wdXNoKGlubmVyZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBvYmo6IGFueSA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5uZXJpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbm5lcmluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXMua2V5QXJyYXlbaW5uZXJpbmRleCAtIDFdO1xuICAgICAgICAgICAgb2JqW2tleV0gPSBlbGVtZW50W2lubmVyaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgbGVnZW5kZGF0YSA9IHRoaXMubGVnZW5kQXJyYXlba2V5XTtcbiAgICAgICAgICAgIGlmIChsZWdlbmRkYXRhKSB7XG4gICAgICAgICAgICAgIGxlZ2VuZGRhdGEuZGF0YS5wdXNoKHsgJ2xhYmVsJzogZWxlbWVudFswXSwgJ3ZhbHVlJzogZWxlbWVudFtpbm5lcmluZGV4XSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5LmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtlbGVtZW50XTtcbiAgICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnQsICdjb2xvcic6IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF0sICdkYXRhJzogbGVnZW5kZGF0YS5kYXRhIH07XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLy90aGlzIGxvZ2ljIHdpbGwgd3JrIGZyIHNjMSBhbmQgc2MyXG4gICAgaWYgKHRoaXMubGluZUlucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBpbmMgPSAxO1xuICAgICAgdGhpcy5saW5lSW5wdXQuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgb2JqZWN0W1wibGFiZWxcIl0gPSBlbGVtZW50LmNvbHVtbjtcbiAgICAgICAgaWYgKGVsZW1lbnQuY29sb3IpIHtcbiAgICAgICAgICBvYmplY3RbXCJjb2xvclwiXSA9IGVsZW1lbnQuY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbdGhpcy5sZWdlbmRjb2xvcmluZGV4ICsgaW5jXTtcbiAgICAgICAgICBpbmMrKztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3RbXCJkYXRhXCJdID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubGVnZW5kc1xuICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgICBsZXQgdGVtcGRhdGFhcnJheSA9IFtdO1xuXG4gICAgICB0aGlzLmxlZ2VuZHMuZm9yRWFjaChsZWdlbmRlbGVtZW50ID0+IHtcbiAgICAgICAgdGhpcy5saW5lSW5wdXQuZm9yRWFjaChsaW5lZWxlbWVudCA9PiB7XG4gICAgICAgICAgaWYgKGxpbmVlbGVtZW50LmNvbHVtbiA9PSBsZWdlbmRlbGVtZW50LmxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5mb3JFYWNoKHNpbmdsZXJvdyA9PiB7XG4gICAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgICAgLy8gZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAgICAgb2JqW1wibGFiZWxcIl0gPSBzaW5nbGVyb3dbT2JqZWN0LmtleXMoc2luZ2xlcm93KVswXV07XG4gICAgICAgICAgICAgIG9ialtcInZhbHVlXCJdID0gc2luZ2xlcm93W2xlZ2VuZGVsZW1lbnQubGFiZWxdO1xuICAgICAgICAgICAgICBsZWdlbmRlbGVtZW50LmRhdGEucHVzaChvYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vdGhpcyBsb2dpYyB3b3JrcyBmb3Igc2M0XG4gICAgLy8gY2hrIGlmIGxpbmUgY29sdW1uIGV4aXN0IGluIGRhdGExXG4gICAgaWYgKCh0aGlzLnNjNCA9PSB0cnVlKSAmJiAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDIpKSB7XG5cbiAgICAgIGxldCBvYmplY3QgPSBbXTtcbiAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gdGhpcy5kYXRhWzBdWzJdO1xuICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbMl07XG4gICAgICBvYmplY3RbXCJkYXRhXCJdID0gW107XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgICAgbGV0IHRlbXBhcnJheSA9IFtdO1xuICAgICAgLy9sb2dpYyB0byBwdXNoIGRhdGFcbiAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgbGV0IG9iamVjdCA9IFtdO1xuICAgICAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gZWxlbWVudFswXTtcbiAgICAgICAgICBvYmplY3RbXCJ2YWx1ZVwiXSA9IGVsZW1lbnRbMl07XG4gICAgICAgICAgdGhpcy5sZWdlbmRzWzFdLmRhdGEucHVzaChvYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBsZWdlbmRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IG9iaiA9IHt9O1xuICAgIG9ialtcImxhYmVsXCJdID0gZXZlbnQubGFiZWw7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICBldmVudC5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICBvYmplY3RbZWxlbWVudC5sYWJlbF0gPSBlbGVtZW50LnZhbHVlO1xuICAgICAgZGF0YS5wdXNoKG9iamVjdCk7XG4gICAgfSk7XG4gICAgb2JqW1wiZGF0YVwiXSA9IGRhdGE7XG4gICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQob2JqKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBPbkluaXQsIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LWhpc3RvZ3JhbScsXG4gIHRlbXBsYXRlOiBgPGRpdiAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlICpuZ0lmPVwiZGF0YWhpc3RvLmxlbmd0aCA+IDBcIiBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxuICAgICAgICA8dHIgKm5nSWY9XCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0ciAqbmdJZj1cImxlZ2VuZFwiPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJsZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhaGlzdG8ubGVuZ3RoIDwgMVwiIGNsYXNzPVwibG1hc2tcIiBzdHlsZT1cInBhZGRpbmctdG9wOjUwJVwiPlxuICAgICAgICA8L2Rpdj5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2AuYmFye2JhY2tncm91bmQtY29sb3I6IzM5NDNjZjtwYWRkaW5nOi4wMnB4fWBdXG59KVxuZXhwb3J0IGNsYXNzIEhpc3RvZ3JhbUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSA0MDA7XG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcjogc3RyaW5nID0gXCJibHVlXCI7XG4gIEBJbnB1dCgnZGF0YScpIGRhdGFoaXN0bzogYW55ID0gW107XG4gIEBJbnB1dCgneWF4aXMtaW50ZXJ2YWwnKSB0aWNrc2NvdW50OiBudW1iZXI7XG4gXG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICB3dDogbnVtYmVyO1xuICBodHRwcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIGRhdGExOiBhbnk7XG4gIHZhbHVlczogYW55W10gPSBbXTtcbiAgYXJyYXk6IGFueVtdID0gW107XG4gIHhheGlzQXJyYXk6IGFueVtdID0gW107XG4gIHlheGlzQXJyYXk6IGFueVtdID0gW107XG4gIHlheGlzRGF0YTogYW55W10gPSBbXTtcbiAgaGlzdG9ncmFtYXJyYXk6IGFueVtdID0gW107XG4gIGhpc3RvZ3JhbWRhdGE6IGFueVtdID0gW11cbiAgbGVuZ3RoYXJyYXk6IGFueVtdID0gW107XG4gIGFycmF5b2ZMZW5ndGg6IGFueVtdID0gW107XG4gIGNoYXJ0RGF0YTogYW55W10gPSBbXTtcbiAgZmluYWxkYXRhYXJyYXk6IGFueVtdID0gW107XG4gIGxlZ2VuZEFycmF5OiBhbnlbXTtcbiAga2V5QXJyYXk6IGFueVtdO1xuICBwcmVkZWZpbmVkY29sb3JzOiBhbnlbXTtcbiAgbGVnZW5kczogYW55W107XG4gIGNoYXJ0dHlwZTogc3RyaW5nO1xuICBkYXRhOiBhbnlbXTtcbiAgZGF0YXJlYWRlcmRhdGE6IGFueVtdO1xuICB4YXhpczogYW55O1xuICB0ZW1wcDogYW55O1xuICB0b29sdGlwQXJyYXk6IGFueVtdID0gW107XG4gIGluZGV4ID0gMDtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignaGlzdG9ncmFtJyk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICBsZXQgcmVzOiBhbnlcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXMgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhaGlzdG8gPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZGF0YWhpc3RvID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSgpXG4gICAgICAgICAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgICAgICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcERhdGEoKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YWhpc3RvKSB7XG5cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGFoaXN0byA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YWhpc3RvKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEoKVxuICAgICAgICAgIHRoaXMucGxvdFhheGlzKCk7XG4gICAgICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgICAgICB0aGlzLnRvb2x0aXBEYXRhKCk7XG4gICAgICAgICAgdGhpcy5kYXRhZm9yQ2hhcnQoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgICAgIHRoaXMucGxvdENoYXJ0KCk7XG5cbiAgICAgICAgfSwgMCk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuXG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRhdGFoaXN0byA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuaHR0cHJlc3BvbnNlKTtcbiAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSgpXG4gICAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgIHRoaXMudG9vbHRpcERhdGEoKTtcbiAgICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhMShkYXRhMTogYW55KSB7XG4gICAgdGhpcy5rZXlBcnJheSA9IFtdO1xuICAgIHRoaXMubGVnZW5kQXJyYXkgPSBbXTtcbiAgICBkYXRhMS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kQXJyYXlbaW5uZXJlbGVtZW50XSA9IHsgJ2RhdGEnOiBbXSB9O1xuICAgICAgICAgICAgdGhpcy5rZXlBcnJheS5wdXNoKGlubmVyZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID09IDApIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXMgPSBpbm5lcmVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgdGVtcGlubmVyYXJyYXk6IGFueVtdO1xuICAgIHRlbXBpbm5lcmFycmF5ID0gW107XG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IG9iajogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbm5lcmluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGlubmVyaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlBcnJheVtpbm5lcmluZGV4IC0gMV07XG4gICAgICAgICAgICBvYmpba2V5XSA9IGVsZW1lbnRbaW5uZXJpbmRleF07XG4gICAgICAgICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtrZXldO1xuICAgICAgICAgICAgaWYgKGxlZ2VuZGRhdGEpIHtcbiAgICAgICAgICAgICAgbGVnZW5kZGF0YS5kYXRhLnB1c2goeyAndmFsdWUnOiBlbGVtZW50W2lubmVyaW5kZXhdLCAnbGFiZWwnOiBlbGVtZW50WzBdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBpbm5lcmFycmF5LnB1c2gob2JqKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHRlbXBpbm5lcmFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmRhdGEucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICBsZXQgZWxlbWVudCA9IHRoaXMuZGF0YWhpc3RvWzBdO1xuICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnRbMV0gKyBcIiBcIiArIFwib2ZcIiArIFwiIFwiICsgZWxlbWVudFswXSwgJ2NvbG9yJzogdGhpcy5jb2xvciB9O1xuICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gIH1cblxuICBwbG90Q2hhcnQoKSB7XG5cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBsZXQgZGF0YTtcbiAgICBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBrZXlzZXRhcnJheTogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgc2VyaWVzO1xuICAgIHNlcmllcyA9IFtdO1xuICAgIHNlcmllcyA9IGQzLnN0YWNrKCkua2V5cyh0aGlzLmtleUFycmF5KVxuICAgICAgLm9mZnNldChkMy5zdGFja09mZnNldERpdmVyZ2luZylcbiAgICAgICh0aGlzLmRhdGEpO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgdGVtcGRhdGE7XG4gICAgdGVtcGRhdGEgPSBbXTtcbiAgICB0ZW1wZGF0YSA9IHNlcmllcztcbiAgICB0ZW1wZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgZWxlbWVudC5mb3JFYWNoKGlubmVyZWxlbWVudCA9PiB7XG4gICAgICAgIGxldCBzaW5nbGV0b29sdGlwID0gW107XG4gICAgICAgIHNpbmdsZXRvb2x0aXAucHVzaChpbm5lcmVsZW1lbnQuZGF0YS50b29sdGlwZGF0YVtpXSk7XG4gICAgICAgIGlubmVyZWxlbWVudC5wdXNoKHNpbmdsZXRvb2x0aXApO1xuICAgICAgfSk7XG4gICAgICBpKys7XG4gICAgfSk7XG5cbiAgICBsZXQgY2hhcnRkYXRhID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IHRlbXBkYXRhLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY2hhcnRkYXRhLnB1c2godGVtcGRhdGFbaV0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkVcbiAgICB9XG4gICAgY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNTAsIGxlZnQ6IDYwIH07XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLnN2Z3dpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zdmdoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgIC8vY29uc3QgaGVpZ2h0ID0gK3N2Zy5hdHRyKFwiaGVpZ2h0XCIpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBsZXQgeCwgeTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgIC5hdHRyKCd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmd3aWR0aCArICcgJyArIHRoaXMuc3ZnaGVpZ2h0KVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXG4gICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgIGxldCBiYXJXaWR0aCA9ICh3aWR0aCAvIHRoaXMuY2hhcnREYXRhLmxlbmd0aCk7XG4gICAgbGV0IGluYyA9IGJhcldpZHRoIC8gMjtcbiAgICB4ID0gZDMuc2NhbGVQb2ludCgpXG4gICAgICAuZG9tYWluKHRoaXMueGF4aXNBcnJheSwgKGQpID0+IHsgcmV0dXJuIGQ7IH0pXG4gICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcblxuXG4gICAgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmFycmF5b2ZMZW5ndGgpXSk7XG5cbiAgICBsZXQgeiA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTEwKTtcbiAgICB0aGlzLmFycmF5b2ZMZW5ndGggPSBbXTtcbiAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpLlxuICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkuXG4gICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG5cbiAgICB9XG5cbiAgICBsZXQgaG9yaXpvbnRhbHBhZGRpbmcgPSAwLjA1O1xuICAgIC8vYWRkIHkgYXhpcyB0byBzdmdcbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrcyh0aGlzLnRpY2tzY291bnQpKTtcblxuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHgsIHksIGhlaWdodCwgd2lkdGgpO1xuXG4gICAgbGV0IGhpc3RvZ3JhbUJhciA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAuZGF0YShjaGFydGRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgdGhpcy5jb2xvcilcbiAgICAgIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0pXG5cbiAgICBsZXQgaGlzdG9ncmFtQmFyMSA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAuZGF0YShjaGFydGRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAvLyAuYXR0cihcImZpbGxcIiwgdGhpcy5jb2xvcilcbiAgICAgIC5zZWxlY3RBbGwoXCJsYWJlbHNcIilcbiAgICAgIC5kYXRhKChkKSA9PiB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSlcbiAgICBsZXQgY250ID0gMDtcblxuXG4gICAgaGlzdG9ncmFtQmFyLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBiYXJXaWR0aCAtIDEpXG4gICAgICAuYXR0cihcInlcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNudCsrO1xuICAgICAgICByZXR1cm4geShkWzFdKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoeShkWzBdKSAtIHkoZFsxXSAtIGhvcml6b250YWxwYWRkaW5nKSk7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgKGQsIGkpID0+IHtcbiAgICAgICAgbGV0IHRyYW5zbGF0ZSA9IFtiYXJXaWR0aCAqIGksIDBdO1xuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0cmFuc2xhdGUgKyBcIilcIjtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pLm9uKFwibW91c2Vtb3ZlXCIsXG4gICAgICAgIChkOiBhbnkpID0+IHtcbiAgICAgICAgICBsZXQgZGF0YSA9IGRbMl07XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbCh0aGlzLnNldEtleShkYXRhWzBdKSlcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG5cbiAgICAgICAgfSkub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIGxldCBjbGlja2RhdGEgPSBkWzJdO1xuICAgICAgICB0aGlzLmhpc3RvZ3JhbUNsaWNrKGNsaWNrZGF0YVswXSk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KTtcbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIGhpc3RvZ3JhbUJhcjEuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yICYmIHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHkoZFsxXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG5cbiAgICAgICAgICBsZXQgZGF0YTogYW55O1xuICAgICAgICAgIGxldCBkYXRhMjogYW55O1xuICAgICAgICAgIGRhdGEgPSBkWzJdO1xuICAgICAgICAgIGRhdGEyID0gZGF0YVswXTtcbiAgICAgICAgICBpZiAoZGF0YTIpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhMi52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgbGV0IHRyYW5zbGF0ZSA9IFsoKGJhcldpZHRoICogaSkgKyBiYXJXaWR0aCAvIDIpLCAoTWF0aC5hYnMoeShkWzBdKSAtIHkoZFsxXSAtIGhvcml6b250YWxwYWRkaW5nKSkpXTtcbiAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0cmFuc2xhdGUgKyBcIilcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLy9sYWJlbCBjbGljayBsb2dpY1xuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KS5vbihcIm1vdXNlbW92ZVwiLFxuICAgICAgICAgIChkOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gZFsyXTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwodGhpcy5zZXRLZXkoZGF0YVswXSkpXG4gICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcblxuICAgICAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIGxldCBjbGlja2RhdGEgPSBkWzJdO1xuICAgICAgICAgIHRoaXMuaGlzdG9ncmFtQ2xpY2soY2xpY2tkYXRhWzBdKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuXG4gICAgfVxuICB9XG5cbiAgaGlzdG9ncmFtQ2xpY2sob2JqOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFoaXN0b1swXTtcbiAgICBsZXQgbGFiZWwxID0gZGF0YVsxXTtcbiAgICBsZXQgbGFiZWwyID0gZGF0YVswXTtcbiAgICBpZiAob2JqLmxhYmVsLmxlbmd0aCkge1xuICAgICAgb2JqZWN0W2xhYmVsMiArIFwiOlwiXSA9IG9iai5sYWJlbDtcbiAgICAgIG9iamVjdFtsYWJlbDEgKyBcIjpcIl0gPSBvYmoudmFsdWU7XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgbGVnZW5kQ2xpY2soZXZlbnQ6IGFueSkge1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KHRoaXMuZGF0YWhpc3RvKTtcbiAgfVxuXG4gIHRyYW5zZm9ybURhdGEoKSB7XG4gICAgdGhpcy5hcnJheSA9IFtdO1xuICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgdGhpcy5kYXRhaGlzdG8uZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMudmFsdWVzLnB1c2goZWxlbWVudFsxXSk7XG4gICAgfSk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcnJheS5wdXNoKHRoaXMudmFsdWVzW2ldKTtcbiAgICB9XG4gIH1cblxuICBwbG90WGF4aXMoKSB7XG4gICAgdGhpcy54YXhpc0FycmF5ID0gW107XG4gICAgdGhpcy54YXhpc0FycmF5LnB1c2goMCk7XG4gICAgbGV0IG5ld3ZhbHVlOiBudW1iZXIgPSAwO1xuICAgIGxldCB2YWx1ZSA9IE1hdGguY2VpbChkMy5tYXgodGhpcy5hcnJheSkpO1xuICAgIGlmICh2YWx1ZSAlIDEwID09IDApIHtcbiAgICAgIHZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gKDEwIC0gdmFsdWUgJSAxMCkgKyB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IHF1b3RpZW50ID0gdmFsdWUgLyA1O1xuICAgIHdoaWxlIChuZXd2YWx1ZSA8IHZhbHVlKSB7XG4gICAgICBuZXd2YWx1ZSA9IG5ld3ZhbHVlICsgcXVvdGllbnQ7XG4gICAgICB0aGlzLnhheGlzQXJyYXkucHVzaChuZXd2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcGxvdFlheGlzKCkge1xuICAgIGxldCB0ZW1wdmFsdWUgPSAwO1xuICAgIGxldCBsZW5ndGhvZkFycmF5ID0gMDtcbiAgICBsZXQgbGVuZ3RoY291bnQgPSAwO1xuICAgIGxldCB0ZW1wbGVuZ3RoID0gMDtcbiAgICBsZXQgbmV3dmFsdWU6IG51bWJlciA9IDA7XG4gICAgdGhpcy55YXhpc0FycmF5ID0gW107XG4gICAgdGhpcy5oaXN0b2dyYW1hcnJheSA9IFtdO1xuICAgIHRoaXMubGVuZ3RoYXJyYXkgPSBbXTtcbiAgICB0aGlzLmhpc3RvZ3JhbWRhdGEgPSBbXTtcbiAgICB0aGlzLmFycmF5b2ZMZW5ndGggPSBbXTtcbiAgICB0aGlzLmNoYXJ0RGF0YSA9IFtdO1xuICAgIHRoaXMueGF4aXNBcnJheS5mb3JFYWNoKGVsZW1lbnQxID0+IHtcbiAgICAgIHRoaXMueWF4aXNBcnJheSA9IFtdO1xuICAgICAgdGhpcy5hcnJheS5mb3JFYWNoKGVsZW1lbnQyID0+IHtcbiAgICAgICAgaWYgKHRlbXB2YWx1ZSA8IGVsZW1lbnQyICYmIGVsZW1lbnQyIDw9IGVsZW1lbnQxKSB7XG4gICAgICAgICAgdGhpcy55YXhpc0FycmF5LnB1c2goZWxlbWVudDIpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aG9mQXJyYXkgPSB0aGlzLnlheGlzQXJyYXkubGVuZ3RoO1xuICAgICAgfSk7XG4gICAgICBpZiAodGVtcGxlbmd0aCA+IGxlbmd0aG9mQXJyYXkpIHtcbiAgICAgICAgbGVuZ3RoY291bnQgPSB0ZW1wbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxlbmd0aGNvdW50ID0gbGVuZ3Rob2ZBcnJheTtcbiAgICAgIH1cbiAgICAgIHRlbXBsZW5ndGggPSBsZW5ndGhjb3VudDtcbiAgICAgIHRlbXB2YWx1ZSA9IGVsZW1lbnQxO1xuICAgICAgdGhpcy5sZW5ndGhhcnJheS5wdXNoKGxlbmd0aG9mQXJyYXkpO1xuICAgIH0pO1xuXG4gICAgbGV0IHZhbHVlID0gTWF0aC5jZWlsKHRlbXBsZW5ndGgpO1xuICAgIGxldCBxdW90aWVudCA9IHZhbHVlIC8gNTtcbiAgICB3aGlsZSAobmV3dmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgIG5ld3ZhbHVlID0gbmV3dmFsdWUgKyBxdW90aWVudDtcbiAgICAgIHRoaXMueWF4aXNEYXRhLnB1c2gobmV3dmFsdWUpXG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmhpc3RvZ3JhbWFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmhpc3RvZ3JhbWRhdGEucHVzaCh0aGlzLmhpc3RvZ3JhbWFycmF5W2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMubGVuZ3RoYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXJyYXlvZkxlbmd0aC5wdXNoKHRoaXMubGVuZ3RoYXJyYXlbaV0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXJyYXlvZkxlbmd0aC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgIGRhdGFbXCJ2YWx1ZVwiXSA9IHRoaXMuYXJyYXlvZkxlbmd0aFtpXTtcbiAgICAgIHRoaXMuY2hhcnREYXRhLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIHRoaXMuYXJyYXkgPSBbXTtcblxuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTsgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgIHRoaXMucGxvdFlheGlzKCk7XG4gICAgdGhpcy50b29sdGlwRGF0YSgpO1xuICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgdGhpcy50cmFuc2Zvcm1EYXRhMSh0aGlzLmZpbmFsZGF0YWFycmF5KTtcbiAgICB0aGlzLnBsb3RDaGFydCgpO1xuICB9XG5cbiAgZGF0YWZvckNoYXJ0KCkge1xuICAgIHRoaXMuZmluYWxkYXRhYXJyYXkgPSBbXSA9IFtdO1xuICAgIGxldCBpbml0aWFsQXJyYXk6IGFueVtdID0gW107XG4gICAgbGV0IHRlbXBhcnJheTogYW55W10gPSBbXTtcbiAgICBpbml0aWFsQXJyYXkucHVzaCgnbGV2ZWwnKTtcbiAgICBsZXQgbWF4RWxlbWVudCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHRoaXMuYXJyYXlvZkxlbmd0aCk7XG4gICAgbGV0IG1heGxlbmd0aCA9IG1heEVsZW1lbnQ7XG4gICAgbGV0IG4gPSAxO1xuICAgIHdoaWxlIChuIDw9IG1heEVsZW1lbnQpIHtcbiAgICAgIGluaXRpYWxBcnJheS5wdXNoKCcnICsgbilcbiAgICAgIG4rKztcbiAgICB9XG4gICAgaW5pdGlhbEFycmF5LnB1c2goJ3Rvb2x0aXBkYXRhJyk7XG4gICAgbGV0IGxlbmd0aCA9IHRoaXMuYXJyYXlvZkxlbmd0aC5sZW5ndGg7XG4gICAgbGV0IG51bSA9IDE7XG4gICAgbGV0IG51bWJlciA9IDE7XG4gICAgbGV0IGogPSAwO1xuICAgIHRoaXMuZmluYWxkYXRhYXJyYXkucHVzaChpbml0aWFsQXJyYXkpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFycmF5b2ZMZW5ndGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuYXJyYXlvZkxlbmd0aFtpXTtcbiAgICAgIGxldCB0ZW1wdmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRlbXBhcnJheSA9IFtdO1xuICAgICAgdGVtcGFycmF5LnB1c2goJycgKyBpKTtcbiAgICAgIG1heEVsZW1lbnQgPSBtYXhsZW5ndGg7XG4gICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgIHdoaWxlICh2YWx1ZSAhPSAwKSB7XG4gICAgICAgICAgdGVtcGFycmF5LnB1c2gobnVtYmVyKTtcbiAgICAgICAgICB2YWx1ZS0tXG4gICAgICAgIH1cbiAgICAgICAgbWF4RWxlbWVudCA9IG1heEVsZW1lbnQgLSB0ZW1wdmFsdWU7XG5cbiAgICAgICAgd2hpbGUgKG1heEVsZW1lbnQgIT0gMCkge1xuICAgICAgICAgIHRlbXBhcnJheS5wdXNoKDApO1xuICAgICAgICAgIG1heEVsZW1lbnQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdoaWxlIChtYXhFbGVtZW50ICE9IDApIHtcbiAgICAgICAgICB0ZW1wYXJyYXkucHVzaCgwKTtcbiAgICAgICAgICBtYXhFbGVtZW50LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRlbXBhcnJheS5wdXNoKHRoaXMudG9vbHRpcEFycmF5W2pdKVxuICAgICAgdGhpcy5maW5hbGRhdGFhcnJheS5wdXNoKHRlbXBhcnJheSk7XG4gICAgICBqKys7XG4gICAgfVxuICB9XG5cblxuICB0b29sdGlwRGF0YSgpIHtcbiAgICBsZXQgYXJyYXlvZlRvb2x0aXA6IGFueVtdID0gW107XG4gICAgbGV0IG9iaiA9IHsgXCJsYWJlbFwiOiBcIlwiLCBcInZhbHVlXCI6IFwiXCIgfTtcbiAgICB0aGlzLmRhdGFoaXN0by5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgb2JqID0geyBcImxhYmVsXCI6IFwiXCIsIFwidmFsdWVcIjogXCJcIiB9O1xuICAgICAgb2JqW1wibGFiZWxcIl0gPSBlbGVtZW50WzBdO1xuICAgICAgb2JqW1widmFsdWVcIl0gPSBlbGVtZW50WzFdO1xuICAgICAgYXJyYXlvZlRvb2x0aXAucHVzaChvYmopO1xuICAgIH0pO1xuXG4gICAgbGV0IHZhbHVlMSA9IHRoaXMueGF4aXNBcnJheVswXTtcblxuICAgIGxldCB0b29sdGlwZGF0YTogYW55W10gPSBbXTtcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IHRoaXMueGF4aXNBcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgdG9vbHRpcGRhdGEgPSBbXTtcbiAgICAgIGxldCB2YWx1ZTIgPSB0aGlzLnhheGlzQXJyYXlbal07XG5cbiAgICAgIGFycmF5b2ZUb29sdGlwLmZvckVhY2goZWxlbWVudCA9PiB7XG5cbiAgICAgICAgaWYgKHZhbHVlMSA8PSBlbGVtZW50LnZhbHVlICYmIGVsZW1lbnQudmFsdWUgPD0gdmFsdWUyKSB7XG5cbiAgICAgICAgICBsZXQgdG9vbHRpcG9iaiA9IHsgXCJsYWJlbFwiOiBcIlwiLCBcInZhbHVlXCI6IFwiXCIgfVxuICAgICAgICAgIHRvb2x0aXBvYmpbXCJsYWJlbFwiXSA9IGVsZW1lbnRbXCJsYWJlbFwiXTtcbiAgICAgICAgICB0b29sdGlwb2JqW1widmFsdWVcIl0gPSBlbGVtZW50W1widmFsdWVcIl07XG4gICAgICAgICAgdG9vbHRpcGRhdGEucHVzaCh0b29sdGlwb2JqKTtcblxuXG4gICAgICAgIH1cblxuICAgICAgfSk7XG4gICAgICB0aGlzLnRvb2x0aXBBcnJheS5wdXNoKHRvb2x0aXBkYXRhKTtcbiAgICAgIHZhbHVlMSA9IHZhbHVlMjtcbiAgICB9XG4gIH1cblxuXG4gIHNldEtleShvYmo6IGFueSkge1xuXG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGxldCBkYXRhID0gdGhpcy5kYXRhaGlzdG9bMF07XG4gICAgbGV0IGxhYmVsMSA9IGRhdGFbMV07XG4gICAgbGV0IGxhYmVsMiA9IGRhdGFbMF07XG5cbiAgICBvYmplY3RbbGFiZWwyICsgXCI6XCJdID0gb2JqLmxhYmVsO1xuICAgIG9iamVjdFtsYWJlbDEgKyBcIjpcIl0gPSBvYmoudmFsdWU7XG5cbiAgICByZXR1cm4gKHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpKVxuICB9XG5cbiAgcGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBPbkluaXQsIFZpZXdDaGlsZCwgQ2hhbmdlRGV0ZWN0b3JSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1zY2F0dGVyJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICNjaGFydElkICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgICAgIDx0YWJsZSAqbmdJZj1cImRhdGEubGVuZ3RoID4gMFwiICBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxuICAgICAgICAgICAgPHRyID5cbiAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX1cbiAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJyZXNpemVidG5mbGFnXCI+XG4gICAgICAgICAgICAgICA8YnV0dG9uICB0eXBlPVwicmVzZXRcIiBjbGFzcz1cImZhIGZhLXNlYXJjaC1taW51c1wiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmbG9hdDpyaWdodFwiIChjbGljayk9XCJyZXNpemVzdmcoKVwiPlxuICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICA8L3NwYW4+ICAgICBcbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJvblNjYXR0ZXJMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8ZGl2ICpuZ0lmPVwiZGF0YS5sZW5ndGggPCAxXCIgY2xhc3M9XCJsbWFza1wiIHN0eWxlPVwicGFkZGluZy10b3A6NTAlXCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgU2NhdHRlcmNoYXJ0Q29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2NvbG9yJykgY29sb3I6IGFueSA9IFwiYmx1ZVwiO1xuICBASW5wdXQoJ3pvb20tZW5hYmxlJykgem9vbWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIHd0OiBhbnk7XG4gIHpvb21pbml0aWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3ZnOiBhbnk7XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueVtdID0gW107XG4gIGRhdGE6IGFueTtcbiAgZGF0YUZvcm1hdHRlZDogYW55O1xuICBjb2xvcmRhdGE6IGFueTtcbiAgbGVnZW5kczogYW55W107XG4gIGxlZ2VuZGFycmF5OiBhbnlbXSA9IFtdO1xuICBsZWdlbmREYXRhOiBhbnk7XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBub2RlOiBhbnk7XG4gIG5vZGVsYWJlbDogYW55O1xuICByZXNpemVidG5mbGFnID0gZmFsc2U7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ3NjYXR0ZXInKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgIHRoaXMuZGF0YUZvcm1hdHRlZCA9IFtdO1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEpIHtcbiAgICAgIGxldCByZXNwOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFGb3JtYXR0ZWQgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhRm9ybWF0dGVkKTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZENyZWF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3RTY2F0dGVyQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhRm9ybWF0dGVkID0gdGhpcy5kYXRhO1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgICAgIHRoaXMubGVnZW5kQ3JlYXRpb24oKTtcbiAgICAgICAgICB0aGlzLnBsb3RTY2F0dGVyQ2hhcnQoKTtcblxuICAgICAgICB9LCAwKTtcblxuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuXG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cblxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy5kYXRhRm9ybWF0dGVkID0gdGhpcy5kYXRhO1xuXG5cbiAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgdGhpcy5jb2xvckdlbmVyYXRpb24oKTtcbiAgICAgIHRoaXMubGVnZW5kQ3JlYXRpb24oKTtcbiAgICAgIHRoaXMucGxvdFNjYXR0ZXJDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgLy8gTWV0aG9kIHRvIHRyYW5zZm9ybSBkYXRhIGluIGtleSB2YWx1ZSBwYWlyIFxuICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMua2V5QXJyYXkgPSBkYXRhWzBdO1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IER1bW15T2JqZWN0ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgIER1bW15T2JqZWN0W3RoaXMua2V5QXJyYXlba2V5aW5kZXhdXSA9IGluZGl2aWR1YWx2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IHRoaXMudHJhbnNmb3JtZWRkYXRhO1xuICB9XG5cbiAgLy8gTWV0aG9kIGdldCByZXNwb25zZSBkYXRhIHVzaW5nIGRhdGEgcmVhZGVyXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gcGxvdCBkMyBjaGFydFxuICBwbG90U2NhdHRlckNoYXJ0KCkge1xuICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA2MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBsZXQgeCwgeTtcblxuICAgIHggPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcblxuICAgIHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cbiAgICBsZXQgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpO1xuXG4gICAgbGV0IHlBeGlzID0gZDMuYXhpc0xlZnQoeSkudGlja3ModGhpcy50aWNrc2NvdW50KTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAuYXR0cigndmlld0JveCcsICcwIDAgJyArIHRoaXMuc3Znd2lkdGggKyAnICcgKyB0aGlzLnN2Z2hlaWdodClcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICB4LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZGF0YSwgKGQpID0+IHsgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMF1dIH0pXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmRhdGEsIChkKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXSB9KV0pO1xuXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKHhBeGlzKS5cbiAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgIH1cblxuXG5cbiAgICAvLyB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgLy8gICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgLy8gICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgLy8gICAuY2FsbCh4QXhpcylcbiAgICAvLyAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgLy8gICAuYXR0cihcImNsYXNzXCIsIFwibGFiZWxcIilcbiAgICAvLyAgIC5hdHRyKFwieFwiLCB3aWR0aClcbiAgICAvLyAgIC5hdHRyKFwieVwiLCAtNilcbiAgICAvLyAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpO1xuXG4gICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInkgYXhpc1wiKVxuICAgICAgLmNhbGwoeUF4aXMpXG4gICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSgtOTApXCIpXG4gICAgICAuYXR0cihcInlcIiwgNilcbiAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNzFlbVwiKVxuICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcblxuICAgIGlmICh0aGlzLmRhdGFGb3JtYXR0ZWRbMF0ubGVuZ3RoID09IDIpIHtcbiAgICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHgsIHksIGhlaWdodCwgd2lkdGgpO1xuXG4gICAgICB0aGlzLm5vZGUgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuZG90XCIpXG4gICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIHRoaXMuY29sb3IpXG4gICAgICAgIC5hdHRyKFwiclwiLCA0LjUpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcImN5XCIsIChkKSA9PiB7IHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKTsgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgdGhpcy5zY2F0dGVyQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pO1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgdGhpcy5ub2RlbGFiZWwgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCJsYWJlbHNcIilcbiAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcInZlcnRpY2FsLWFsaWduXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJtYXJnaW4tdG9wXCIsIG1hcmdpbi50b3ApXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInhcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKSArIDExO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzFdXSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgfSlcbiAgICAgICAgICAvL2xhYmVsIGNsaWNrIGxvZ2ljXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2NhdHRlckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgICAgdGhpcy5ub2RlID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmRvdFwiKVxuICAgICAgICAuZGF0YSh0aGlzLnRyYW5zZm9ybWVkZGF0YSlcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RcIilcbiAgICAgICAgLmF0dHIoXCJyXCIsIDQuNSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4geChkW09iamVjdC5rZXlzKGQpWzBdXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pOyB9KVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHsgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbNF1dIH0pXG5cbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgdGhpcy5zY2F0dGVyQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG5cbiAgICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgICB0aGlzLm5vZGVsYWJlbCA9IHRoaXMuc3ZnLnNlbGVjdEFsbChcImxhYmVsc1wiKVxuICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAgIC5hdHRyKFwidmVydGljYWwtYWxpZ25cIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcIm1hcmdpbi10b3BcIiwgbWFyZ2luLnRvcClcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pICsgMTE7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInlcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC8vd3JpdGUgbGFiZWwgY2xpY2sgbG9naWMgaGVyZVxuICAgICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjYXR0ZXJDaGFydENsaWNrKGQpO1xuICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgfSlcbiAgICAgIH1cblxuICAgIH1cblxuICAgIC8vY3JlYXRlIHpvb20gaGFuZGxlciBcbiAgICBpZiAodGhpcy56b29tZmxhZykge1xuICAgICAgdGhpcy56b29taW5pdGlhdGVkID0gdHJ1ZTtcbiAgICAgIGxldCB6b29tX2hhbmRsZXIgPSBkMy56b29tKClcbiAgICAgICAgLm9uKFwiem9vbVwiLCB0aGlzLnpvb21fYWN0aW9ucy5iaW5kKHRoaXMpKTtcbiAgICAgIHpvb21faGFuZGxlcih0aGlzLnN2Zyk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlYnRuZmxhZygpIHtcbiAgICB0aGlzLnJlc2l6ZWJ0bmZsYWcgPSB0cnVlO1xuICB9XG5cbiAgem9vbV9hY3Rpb25zKCkge1xuICAgIHRoaXMubm9kZS5hdHRyKFwidHJhbnNmb3JtXCIsIGQzLmV2ZW50LnRyYW5zZm9ybSk7XG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICB0aGlzLm5vZGVsYWJlbC5hdHRyKFwidHJhbnNmb3JtXCIsIGQzLmV2ZW50LnRyYW5zZm9ybSk7XG4gICAgfVxuICAgIHRoaXMucmVzaXplYnRuZmxhZyA9IHRydWU7XG4gICAgdGhpcy56b29taW5pdGlhdGVkID0gZmFsc2U7XG4gIH1cblxuICByZXNpemVzdmcoKSB7XG4gICAgLy8gdGhpcy5zdmcgPSBudWxsO1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5wbG90U2NhdHRlckNoYXJ0KCk7XG4gICAgdGhpcy5yZXNpemVidG5mbGFnID0gZmFsc2U7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gZm9ybSB0b29sdGlwIGRhdGFcbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIC8vIE1ldGhvZCBvbiBjaGFydCBjbGlja1xuICBzY2F0dGVyQ2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhldmVudCkpIHtcbiAgICAgIGlmIChrZXkgIT09ICdjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICAvLyBtZXRob2QgdG8gY3JlYXRlIExlZ2VuZFxuICBsZWdlbmRDcmVhdGlvbigpIHtcbiAgICBpZiAodGhpcy5kYXRhRm9ybWF0dGVkWzBdLmxlbmd0aCA9PSAyKSB7XG4gICAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5kYXRhRm9ybWF0dGVkWzBdO1xuXG4gICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50WzBdICsgXCIgXCIgKyBcInZzXCIgKyBcIiBcIiArIGVsZW1lbnRbMV0sICdjb2xvcic6IHRoaXMuY29sb3IgfTtcbiAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgICB0aGlzLmxlZ2VuZGFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgICAgbGVnZW5kb2JqZWN0WydsYWJlbCddID0gZWxlbWVudC5sYWJlbDtcbiAgICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gZWxlbWVudC5jb2xvcjtcbiAgICAgICAgdGhpcy5sZWdlbmRzLnB1c2gobGVnZW5kb2JqZWN0KTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gIH1cblxuICAvLyBNZXRob2Qgb24gTGVnZW5kIENsaWNrXG4gIG9uU2NhdHRlckxlZ2VuZENsaWNrKGxlZ2VuZGV2ZW50OiBhbnkpIHtcbiAgICBpZiAodGhpcy5kYXRhRm9ybWF0dGVkWzBdLmxlbmd0aCA9PSAyKSB7XG4gICAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdCh0aGlzLmRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxlZ2VuZGFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChsZWdlbmRldmVudC5sYWJlbCA9PSBlbGVtZW50LmxhYmVsKSB7XG4gICAgICAgICAgbGV0IGFyciA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgbGV0IHRlbXBhcnIgPSBbXTtcbiAgICAgICAgICBhcnIuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS8vZm9yIGVuZFxuICAgICAgICAgICAgdGVtcGFyci5wdXNoKG9iaik7XG4gICAgICAgICAgfSk7Ly9mb3IgZWFjaCBlbmRzXG4gICAgICAgICAgdGhpcy5sZWdlbmRDbGljayh0ZW1wYXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbi8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbnZhbGlkYXRlcmVzaXplKCkge1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgaWYgKHRoaXMud3QpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH1cbiAgfSwgMClcbn1cbi8vUkVTSVpFIFNURVAgNCBFTkRTXG5cbiAgLy8gTWV0aG9kIGZvciByZXNwb25zaXZlbmVzc1xuICByZXNpemUoKSB7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5wbG90U2NhdHRlckNoYXJ0KCk7XG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMudlNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLlxuICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKVxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5oU2NhbGUpIHtcbiAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIH1cbiAgfVxuXG4gIGNvbG9yR2VuZXJhdGlvbigpIHtcbiAgICB0aGlzLmxlZ2VuZGFycmF5ID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBuYW1lcyA9IHRoaXMuZGF0YUZvcm1hdHRlZFxuICAgICAgLm1hcChlID0+IGVbMl0pXG4gICAgICAuZmlsdGVyKChlLCBpLCBhKSA9PiBhLmluZGV4T2YoZSkgPT09IGkpO1xuICAgIGZvciAobGV0IGogPSAxOyBqIDwgbmFtZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IFtdO1xuICAgICAgbGV0IG9iaiA9IHsgXCJsYWJlbFwiOiBcIlwiLCBcImNvbG9yXCI6IFwiXCIsIFwidmFsdWVcIjogW10gfTtcbiAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzJdXSA9PSBuYW1lc1tqXSkge1xuICAgICAgICAgIGVsZW1lbnRbJ2NvbG9yJ10gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV07XG4gICAgICAgICAgdmFsdWUucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvYmpbXCJ2YWx1ZVwiXSA9IHZhbHVlO1xuICAgICAgb2JqW1wibGFiZWxcIl0gPSBuYW1lc1tqXTtcbiAgICAgIG9ialtcImNvbG9yXCJdID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgdGhpcy5sZWdlbmRhcnJheS5wdXNoKG9iaik7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZm9ybUxlZ2VuZERhdGEoKSB7XG4gICAgdGhpcy5sZWdlbmREYXRhID0gW107XG4gICAgdGhpcy5sZWdlbmRhcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGV0IGxlZ2VuZG9iamVjdCA9IHt9O1xuICAgICAgbGVnZW5kb2JqZWN0WydsYWJlbCddID0gZWxlbWVudC5sYWJlbDtcbiAgICAgIGxlZ2VuZG9iamVjdFsnY29sb3InXSA9IGVsZW1lbnQuY29sb3I7XG4gICAgICB0aGlzLmxlZ2VuZERhdGEucHVzaChsZWdlbmRvYmplY3QpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBPbkluaXQsIENoYW5nZURldGVjdG9yUmVmLCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCB9IGZyb20gXCIuLi9iYXNlL2Jhc2UuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBQbG90Q2FydCB9IGZyb20gXCIuLi9iYXNlL2NoYXJ0LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEtleSB9IGZyb20gJ3NlbGVuaXVtLXdlYmRyaXZlcic7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1tdWx0aWFyZWEnLFxuICB0ZW1wbGF0ZTogYFxuPGRpdiAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjZGl2aWQgKHdpbmRvdzpyZXNpemUpPVwidmFsaWRhdGVyZXNpemUoKVwiPlxuPHRhYmxlIFtuZ0NsYXNzXT1cInZhbGlkYXRlRGF0YSgpXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj5cbiAgPHRyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICA8dGQgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj4ge3t0aXRsZX19IDwvdGQ+XG4gIDwvdHI+XG4gIDx0cj5cbiAgICAgIDx0ZD5cbiAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICA8L3RkPlxuICA8L3RyPlxuICA8dHIgKm5nSWY9XCJsZWdlbmRcIiA+XG4gICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQXJlYUxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRBcnJheVwiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbjwvdGFibGU+XG48IS0tIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICA8L2Rpdj4gLS0+XG48L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgTXVsdGlhcmVhQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBQbG90Q2FydCwgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzNTA7XG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcmFycmF5ID0gW107XG4gIEBJbnB1dCgneWF4aXMtaW50ZXJ2YWwnKSB0aWNrc2NvdW50OiBudW1iZXI7XG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICBAT3V0cHV0KCkgb25MZWdlbmRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBvblRvb2x0aXBDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIGh0dHByZXNwb25zZTogYW55O1xuICB0b2dnbGVsYWJlbDogYm9vbGVhbiA9IGZhbHNlO1xuICBzdmc6IGFueTtcbiAgeDogYW55O1xuICB5OiBhbnk7XG4gIHo6IGFueTtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIG1hcmdpbjogYW55ID0ge307XG4gIGk6IG51bWJlcjtcbiAgcGFyc2VUaW1lOiBhbnk7XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICBtYXhpbXVtVmFsdWU6IG51bWJlcjtcbiAgcHJlZGVmaW5lZENvbG9yczogYW55W107XG4gIGFyZWFBcnJheTogYW55O1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueVtdID0gW107XG4gIGRhdGExOiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgdG9vbHRpcDogYW55O1xuICB3dDogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgY2RmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkZXZpY2U6IERldmljZVF1ZXJ5U2VydmljZSkge1xuICAgIHN1cGVyKFwiYXJlYWNoYXJ0XCIpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy53dCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgdGhpcy50b2dnbGVsYWJlbCA9IGZhbHNlO1xuICAgIGxldCByZXM7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwb25zZSk7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdEFyZWFDaGFydCgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhMSkge1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMuaW5pdEFyZWFDaGFydCgpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cblxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICB0aGlzLmluaXRBcmVhQ2hhcnQoKTtcbiAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICAgIH0sIDApO1xuICB9XG5cbiAgaW5pdEFyZWFDaGFydCgpIHtcbiAgICB0aGlzLnRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICB9XG4gICAgLy9SRVNJWkUgU1RFUCAxIEVORFMgSEVSRSBcbiAgICB9XG5cbiAgICB0aGlzLm1hcmdpbiA9IHsgdG9wOiAzMCwgcmlnaHQ6IDQ0LCBib3R0b206IDUwLCBsZWZ0OiAzMCB9LFxuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc3Znd2lkdGggLSB0aGlzLm1hcmdpbi5sZWZ0IC0gdGhpcy5tYXJnaW4ucmlnaHQsXG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gdGhpcy5tYXJnaW4udG9wIC0gdGhpcy5tYXJnaW4uYm90dG9tO1xuICAgIC8vZmluZCBtYXggYW5kIGluaXRpYWxpemUgbWF4XG4gICAgdGhpcy5tYXhpbXVtVmFsdWUgPSB0aGlzLmZpbmRNYXhEYXRhKHRoaXMuZGF0YSk7XG5cbiAgICB0aGlzLnggPSBkMy5zY2FsZVBvaW50KClcbiAgICAgIC5yYW5nZShbMCwgdGhpcy53aWR0aF0pXG4gICAgLy8gLnBhZGRpbmcoMC4xKTtcblxuICAgIHRoaXMueSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZVJvdW5kKFt0aGlzLmhlaWdodCwgMF0pO1xuICAgIHRoaXMuYXJlYUFycmF5ID0gW107XG4gICAgLy9zZXQgeCB5IGRvbWFpblxuICAgIHRoaXMuYXJlYUFycmF5ID0gdGhpcy5kYXRhLm1hcCgoZCkgPT4geyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07IH0pO1xuICAgIHRoaXMueC5kb21haW4odGhpcy5hcmVhQXJyYXkpO1xuICAgIHRoaXMueS5kb21haW4oWzAsIHRoaXMubWF4aW11bVZhbHVlXSk7XG4gICAgLy9pbml0aWFsaXplIHN2Z1xuICAgIHRoaXMuc3ZnID1cbiAgICAgIGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpIFxuICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgdGhpcy53aWR0aCArIHRoaXMubWFyZ2luLmxlZnQgKyB0aGlzLm1hcmdpbi5yaWdodClcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQgKyB0aGlzLm1hcmdpbi50b3AgKyB0aGlzLm1hcmdpbi5ib3R0b20pXG4gICAgdGhpcy5wcmVkZWZpbmVkQ29sb3JzID0gW1wiIzMzNjZjY1wiLCBcIiNkYzM5MTJcIiwgXCIjZmY5OTAwXCIsIFwiIzEwOTYxOFwiLCBcIiM5OTAwOTlcIiwgXCIjMDA5OWM2XCIsIFwiI2RkNDQ3N1wiLCBcIiM2NmFhMDBcIiwgXCIjYjgyZTJlXCIsIFwiIzMxNjM5NVwiLCBcIiM5OTQ0OTlcIiwgXCIjMjJhYTk5XCIsIFwiI2FhYWExMVwiLCBcIiM2NjMzY2NcIiwgXCIjZTY3MzAwXCIsIFwiIzhiMDcwN1wiLCBcIiM2NTEwNjdcIiwgXCIjMzI5MjYyXCIsIFwiIzU1NzRhNlwiLCBcIiMzYjNlYWNcIl07XG4gIH1cblxuICBwbG90RDNDaGFydCgpIHtcbiAgICB0aGlzLmZvcm1MZWdlbmREYXRhKCk7XG4gICAgbGV0IGNvdW50ZXI6IG51bWJlcjtcbiAgICBsZXQgZyA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcbiAgICAvLyBhZGQgdGhlIFggXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpLlxuICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh0aGlzLngpKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh0aGlzLngpKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcblxuICAgIH1cbiAgICAvLyBhZGQgdGhlIFkgQXhpc1xuICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQodGhpcy55KS50aWNrcyh0aGlzLnRpY2tzY291bnQpKTtcblxuICAgIHRoaXMucGxvdExpbmUoZywgdGhpcy54LCB0aGlzLnksIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoKTtcblxuICAgIGZvciAoY291bnRlciA9IDE7IGNvdW50ZXIgPCB0aGlzLmtleUFycmF5Lmxlbmd0aDsgY291bnRlcisrKSB7XG4gICAgICBsZXQgaW5uZXJHcm91cCA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgICAgdGhpcy5wbG90QXJlYUNoYXJ0KGlubmVyR3JvdXAsIGNvdW50ZXIsIHRoaXMpO1xuICAgIH1cbiAgICAvL2NhbGwgbWV0aG9kIHRvIHBsb3QgcG9pbnRzXG4gICAgbGV0IGluY3JlbWVudDtcbiAgICBmb3IgKGluY3JlbWVudCA9IDE7IGluY3JlbWVudCA8IHRoaXMua2V5QXJyYXkubGVuZ3RoOyBpbmNyZW1lbnQrKykge1xuICAgICAgLy9wbG90IGxpbmVcbiAgICAgIGxldCBpbm5lckdyb3VwID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgdGhpcy5tYXJnaW4udG9wICsgXCIpXCIpO1xuICAgICAgdGhpcy5QbG90TGluZURvdChpbm5lckdyb3VwLCBpbmNyZW1lbnQsIHRoaXMpO1xuICAgIH0vL2luY3JlbWVudCBmb3IgZW5kc1xuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICBQbG90TGluZURvdChnOiBhbnksIGk6IG51bWJlciwgdGhpc2E6IHRoaXMpIHtcbiAgICBsZXQgZmxhZyA9IHRoaXMudG9nZ2xlbGFiZWw7XG4gICAgY29uc3QgbGluZSA9IGQzLmxpbmUoKVxuICAgICAgLngoKGQpID0+IHsgcmV0dXJuIHRoaXNhLngoZFtPYmplY3Qua2V5cyhkKVswXV0pOyB9KVxuICAgICAgLnkoKGQpID0+IHsgcmV0dXJuIHRoaXNhLnkoZFtPYmplY3Qua2V5cyhkKVtpXV0pOyB9KTtcbiAgICBnLmFwcGVuZChcInBhdGhcIilcbiAgICAgIC5kYXRhKFt0aGlzYS5kYXRhXSlcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFxuICAgICAgKGQpPT57XG4gICAgICAgIGlmKHRoaXMuY29sb3JhcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYodGhpcy5jb2xvcmFycmF5W2ktMV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yYXJyYXlbaS0xXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldOyAgICAgICAgICAgIFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXNhLnByZWRlZmluZWRjb2xvcnNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHRoaXNhLnByZWRlZmluZWRjb2xvcnNbaV1cbiAgICApXG4gICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAxLjUpXG4gICAgICAuYXR0cihcImRcIiwgbGluZSlcbiAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwLjIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFxuICAgICAgICAvLyBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIDAgKyBcIilcIik7XG4gICAgICAgIFwidHJhbnNsYXRlKFwiICsgMCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAvLy0tLS0tLS0tLS1cblxuICAgIGcuc2VsZWN0QWxsKCdkb3QnKVxuICAgICAgLmRhdGEodGhpc2EuZGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ29wYWNpdHknLCAwKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIFxuICAgICAgKGQpPT57XG4gICAgICAgIGlmKHRoaXMuY29sb3JhcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYodGhpcy5jb2xvcmFycmF5W2ktMV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yYXJyYXlbaS0xXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldOyAgICAgICAgICAgIFxuICAgICAgICAgIH0gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldXG4gICAgKVxuICAgICAgLmF0dHIoXCJjeFwiLCAoZCkgPT4geyByZXR1cm4gdGhpc2EueChkW09iamVjdC5rZXlzKGQpWzBdXSk7IH0pXG4gICAgICAuYXR0cihcImN5XCIsIChkKSA9PiB7IHJldHVybiB0aGlzYS55KGRbT2JqZWN0LmtleXMoZClbaV1dKTsgfSlcbiAgICAgIC5hdHRyKCdyJywgNClcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQsIGkpO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG5cbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5odG1sKFxuICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQsIGkpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG5cbiAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMub25BcmVhVG9vbHRpcENsaWNrKGQsIGkpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAwICsgXCIsXCIgKyAwICsgXCIpXCIpO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIGcuc2VsZWN0QWxsKCdsYWJlbHMnKVxuICAgICAgICAuZGF0YSh0aGlzYS5kYXRhKVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIC8vIGxldCBsZW5ndGggPSBTdHJpbmcoZFtPYmplY3Qua2V5cyhkKVtpXV0pLmxlbmd0aFxuICAgICAgICAgIHJldHVybiB0aGlzYS54KGRbT2JqZWN0LmtleXMoZClbMF1dKSArIDIwO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInlcIiwgKGQpID0+IHtcbiAgICAgICAgICBsZXQga2V5OiBhbnkgPSBbT2JqZWN0LmtleXMoZClbaV1dO1xuICAgICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc2EueShkW2tleV0pIC0gNTsvLyBmciB1cFxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSkgKyAxNTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gcmV0dXJuIHRoaXNhLnkoZFtPYmplY3Qua2V5cyhkKVtpXV0pO1xuICAgICAgICAgIC8vICByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzFdXSkreVRleHRQYWRkaW5nO1xuICAgICAgICB9KVxuICAgICAgICAudGV4dCgoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpW2ldXTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICBcInRyYW5zbGF0ZShcIiArIDAgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgICAgLy9sYWJlbCBjbGljayBsb2dpY1xuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLCBpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuXG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLCBpKVxuICAgICAgICApXG4gICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5vbkFyZWFUb29sdGlwQ2xpY2soZCwgaSk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgLy90aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAodGhpcy50b2dnbGVsYWJlbCkge1xuICAgICAgdGhpcy50b2dnbGVsYWJlbCA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMudG9nZ2xlbGFiZWwgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHBsb3RBcmVhQ2hhcnQoZzogYW55LCBpOiBudW1iZXIsIHRoaXNhOiB0aGlzKSB7XG4gICAgLy8gY2FsY3VsYXRlIGFyZWEgYW5kIHZhbHVlbGluZVxuICAgIC8vIGRlZmluZSB0aGUgbGluZVxuICAgIGNvbnN0IHZhbHVlbGluZSA9IGQzLmxpbmUoKVxuICAgICAgLngoKGQpID0+IHtcbiAgICAgICAgbGV0IGtleTogYW55ID0gW09iamVjdC5rZXlzKGQpWzBdXTtcbiAgICAgICAgcmV0dXJuIHRoaXNhLngoZFtrZXldKTtcbiAgICAgIH0pXG4gICAgICAueSgoZCkgPT4ge1xuICAgICAgICBsZXQga2V5OiBhbnkgPSBbT2JqZWN0LmtleXMoZClbaV1dO1xuICAgICAgICByZXR1cm4gdGhpc2EueShkW2tleV0pO1xuICAgICAgfSk7XG5cbiAgICAvLyBhZGQgdGhlIHZhbHVlbGluZSBwYXRoLlxuICAgIGcuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgLmRhdGEoW3RoaXMuZGF0YV0pXG4gICAgICAuc3R5bGUoXCJzdHJva2VcIixcbiAgICAgIChkKT0+e1xuICAgICAgICBpZih0aGlzLmNvbG9yYXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyAgcmV0dXJuIHRoaXMuY29sb3JhcnJheVtpLTFdO1xuICAgICAgICBpZih0aGlzLmNvbG9yYXJyYXlbaS0xXSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yYXJyYXlbaS0xXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV07ICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZGVmaW5lZENvbG9yc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICAvLyB0aGlzLnByZWRlZmluZWRDb2xvcnNbaV1cbiAgICAgIClcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgIC5zdHlsZShcInN0cm9rZS13aWR0aFwiLCBcIjJweFwiKVxuICAgICAgLmF0dHIoXCJkXCIsIHZhbHVlbGluZSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAwICsgXCIsXCIgKyAwICsgXCIpXCIpO1xuXG4gICAgLy8gZGVmaW5lIHRoZSBhcmVhXG4gICAgbGV0IGFyZWEgPSBkMy5hcmVhKClcbiAgICAgIC54KChkKSA9PiB7XG4gICAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICAgIHJldHVybiB0aGlzYS54KGRba2V5XSk7XG4gICAgICB9KVxuICAgICAgLnkwKHRoaXMuaGVpZ2h0KVxuICAgICAgLnkxKChkKSA9PiB7XG4gICAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVtpXV07XG4gICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSk7XG4gICAgICB9KTtcblxuICAgIGcuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgLmRhdGEoW3RoaXMuZGF0YV0pXG4gICAgICAuYXR0cihcImRcIiwgYXJlYSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKVxuICAgICAgICBcInRyYW5zbGF0ZShcIiArIDAgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcIm5vbmVcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcbiAgICAgIChkKT0+e1xuICAgICAgICBpZih0aGlzLmNvbG9yYXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmKHRoaXMuY29sb3JhcnJheVtpLTFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvcmFycmF5W2ktMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldOyAgICAgICAgICAgIFxuICAgICAgICAgIH0gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRDb2xvcnNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHRoaXMucHJlZGVmaW5lZENvbG9yc1tpXVxuICAgICAgKVxuICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAwLjUpXG4gIH1cblxuICBvbkFyZWFUb29sdGlwQ2xpY2sodG9vbHRpcERhdGE6IGFueSwgY291bnQ6IG51bWJlcikge1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVswXV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbMF1dO1xuICAgIG9ialt0aGlzLmtleUFycmF5W2NvdW50XV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbY291bnRdXTtcbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqKTtcbiAgfVxuXG4gIGZpbmRNYXhEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCB0ZW1wQXJyYXkgPSBbXTtcbiAgICBsZXQgbGFyZ2VWYWx1ZXMgPSBbXTtcbiAgICBsZXQgbWF4VmFsdWU7XG4gICAgLy9sb2dpYyB0byBzZWFyY2ggMyBsYXJnZXN0IHZhbHVlcyBcbiAgICBkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgdGVtcCA9IFtdO1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnQpKSB7XG4gICAgICAgIC8vZXhlbXB0cyBmaXJzdCBjb2x1bW4gb2YgZGF0YSBhcyBpdCBpcyB0cmVhdGVkIGFzIHgtYXhpc1xuICAgICAgICBpZiAoa2V5ICE9IHRoaXMua2V5QXJyYXlbMF0pIHtcbiAgICAgICAgICB0ZW1wQXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0vL2ZvciBsb29wIGVuZFxuICAgICAgdmFsdWUgPSB0aGlzLmZpbmRMYXJnZXN0VmFsdWUodGVtcEFycmF5KTtcbiAgICAgIGxhcmdlVmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIG1heFZhbHVlID0gdGhpcy5maW5kTGFyZ2VzdFZhbHVlKGxhcmdlVmFsdWVzKTtcbiAgICByZXR1cm4gbWF4VmFsdWU7XG4gIH1cblxuICBmaW5kTGFyZ2VzdFZhbHVlKGFycmF5OiBhbnlbXSkge1xuICAgIGxldCBpO1xuICAgIGxldCBtYXggPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldID4gbWF4KSB7XG4gICAgICAgIG1heCA9IGFycmF5W2ldO1xuICAgICAgfS8vaWYgZW5kcyBcbiAgICB9Ly9tYXggZW5kc1xuICAgIHJldHVybiBtYXg7XG4gIH1cblxuICAvL2NvdmVydCBkYXRhXG4gIHRyYW5zZm9ybURhdGEoZGF0YTogYW55KSB7XG4gICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5ID0gZGF0YVswXTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBEdW1teU9iamVjdDogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgIER1bW15T2JqZWN0W3RoaXMua2V5QXJyYXlba2V5aW5kZXhdXSA9IGluZGl2aWR1YWx2YWx1ZTtcbiAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgfS8vaWYgZW5kc1xuICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuXG4gICAgbGV0IHBhcnNlZHRyYW5zZm9ybWVkZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy50cmFuc2Zvcm1lZGRhdGEpKTtcblxuICAgIHRoaXMuZGF0YSA9IHBhcnNlZHRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgbGV0IGNvdW50ZXIgPSAwXG4gICAgdGhpcy5rZXlBcnJheS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnQ7XG4gICAgICAgIGlmKCh0aGlzLmNvbG9yYXJyYXkubGVuZ3RoID4gMCkgJiYgKHRoaXMuY29sb3JhcnJheVtjb3VudGVyXSkpIHtcbiAgICAgICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSB0aGlzLmNvbG9yYXJyYXlbY291bnRlcl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gdGhpcy5wcmVkZWZpbmVkQ29sb3JzW2NvdW50ZXIgKyAxXTtcbiAgICAgICAgIH1cbiAgICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgICAgIGNvdW50ZXIrKztcblxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25BcmVhTGVnZW5kQ2xpY2sobGVnZW5kRGF0YTogYW55KSB7XG4gICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbXCJsYWJlbFwiXSA9IGxlZ2VuZERhdGEubGFiZWw7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICBpZiAoa2V5ID09IGxlZ2VuZERhdGEubGFiZWwpIHtcbiAgICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBkYXRhLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfS8vaW5uZXIgaWYgZW5kc1xuICAgICAgfS8vaW5uZXIgZm9ybG9vcCBlbmRzXG4gICAgfSk7Ly9vdXRlciBmb3JlYWNoIGVuZHNcbiAgICBvYmpbXCJkYXRhXCJdID0gZGF0YTtcbiAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICB9XG5cbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICAvLyB0aGlzLnJlc2l6ZXd0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIlwiLCBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgXCIgXCIsIHRoaXMucmVzaXpld3QpO1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5pbml0QXJlYUNoYXJ0KCk7XG4gICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICB9XG5cbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnksIGNvdW50OiBudW1iZXIpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMF1dID0gdG9vbHRpcERhdGFbT2JqZWN0LmtleXModG9vbHRpcERhdGEpWzBdXTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVtjb3VudF1dID0gdG9vbHRpcERhdGFbT2JqZWN0LmtleXModG9vbHRpcERhdGEpW2NvdW50XV07XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmopO1xuICB9XG5cbiAgcGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVEYXRhKCkge1xuICAgIGlmICh0aGlzLmRhdGEpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcImxtYXNrXCJcbiAgICB9XG59XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIE9uSW5pdCwgQ2hhbmdlRGV0ZWN0b3JSZWYsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LXdhdGVyZmFsbCcsXG4gIHRlbXBsYXRlOiBgXG48ZGl2ICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCIgPlxuPHRhYmxlICpuZ0lmPVwiZGF0YS5sZW5ndGggPiAwXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIiA+XG4gIDx0ciAqbmdJZiA9IFwidGl0bGUubGVuZ3RoID4gMFwiPlxuICAgICAgPHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICA8L3RyPlxuICA8dHI+XG4gICAgICA8dGQ+XG4gICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbiAgPHRyICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQ2FuZGxlc3RpY2tMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kQXJyYXlcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPlxuICAgICAgICAgIDwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgIDwvdGQ+XG4gIDwvdHI+XG48L3RhYmxlPlxuPGRpdiAqbmdJZj1cImRhdGEubGVuZ3RoIDwgMVwiIGNsYXNzPVwibG1hc2tcIiBzdHlsZT1cInBhZGRpbmctdG9wOjUwJVwiPlxuICAgIDwvZGl2PlxuPC9kaXY+YCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuXG5leHBvcnQgY2xhc3MgQ2FuZGxlc3RpY2tDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0LCBPbkluaXQge1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCkgZGF0YTogYW55W10gW107XG4gIEBJbnB1dCgneWF4aXMtaW50ZXJ2YWwnKSB0aWNrc2NvdW50OiBudW1iZXI7XG4gIEBJbnB1dCgnc2hvdy16ZXJvLXZhbHVlcycpIHNob3d6ZXJvZmxhZzogYm9vbGVhbiA9IHRydWU7XG5cbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBPdXRwdXQoKSBvbkxlZ2VuZENsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgcHJlZGVmaW5lZENvbG9yID0gW107XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueTtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIG1hcmdpbjogYW55ID0ge307XG4gIHg6IGFueTtcbiAgeTogYW55O1xuICBzdmc6IGFueTtcbiAgdG9vbHRpcDogYW55O1xuICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgaHR0cHJlc3BvbnNlOiBhbnk7XG4gIHd0OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoXCJjYW5kbGVzdGlja3dhdGVyZmFsbGNoYXJ0XCIpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy53dCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgdGhpcy5wcmVkZWZpbmVkQ29sb3IgPSBbXCIjMzM2NmNjXCIsIFwiI2RjMzkxMlwiLCBcIiNmZjk5MDBcIiwgXCIjMTA5NjE4XCIsIFwiIzk5MDA5OVwiLCBcIiMwMDk5YzZcIiwgXCIjZGQ0NDc3XCIsIFwiIzY2YWEwMFwiLCBcIiNiODJlMmVcIiwgXCIjMzE2Mzk1XCIsIFwiIzk5NDQ5OVwiLCBcIiMyMmFhOTlcIiwgXCIjYWFhYTExXCIsIFwiIzY2MzNjY1wiLCBcIiNlNjczMDBcIiwgXCIjOGIwNzA3XCIsIFwiIzY1MTA2N1wiLCBcIiMzMjkyNjJcIiwgXCIjNTU3NGE2XCIsIFwiIzNiM2VhY1wiXTtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBsZXQgcmVzO1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgLy90aGlzLmRhdGEgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3BvbnNlKTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90WFlBeGlzKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdFhZQXhpcygpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG5cbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmh0dHByZXNwb25zZSk7XG4gICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgIHRoaXMucGxvdFhZQXhpcygpO1xuICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgaW5pdGlhbGl6ZURhdGEoKSB7XG4gICAgdGhpcy50b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIHRoaXMubWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMzAsIGJvdHRvbTogNTAsIGxlZnQ6IDYwIH0sXG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5zdmd3aWR0aCAtIHRoaXMubWFyZ2luLmxlZnQgLSB0aGlzLm1hcmdpbi5yaWdodCxcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5zdmdoZWlnaHQgLSB0aGlzLm1hcmdpbi50b3AgLSB0aGlzLm1hcmdpbi5ib3R0b207XG4gIH1cblxuICBwbG90WFlBeGlzKCkge1xuICAgIC8vIHNldCB0aGUgcmFuZ2VzXG4gICAgdGhpcy54ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHRoaXMud2lkdGhdKTtcbiAgICB0aGlzLnkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbdGhpcy5oZWlnaHQsIDBdKTtcbiAgICAvLyBzY2FsZSB0aGUgcmFuZ2Ugb2YgdGhlIGRhdGFcbiAgICBsZXQgY2FuZGxlc3RpY2tBcnJheSA9IHRoaXMuZGF0YS5tYXAoKGQpID0+IHtcbiAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzBdXTtcbiAgICB9KTtcbiAgICB0aGlzLnguZG9tYWluKGNhbmRsZXN0aWNrQXJyYXkpO1xuICAgIGxldCBtYXggPSBkMy5tYXgodGhpcy5kYXRhLCAoZCkgPT4geyByZXR1cm4gZC5lbmQ7IH0pO1xuICAgIHRoaXMueS5kb21haW4oWzAsIG1heF0pO1xuXG4gICAgLy8gdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgIC8vUkVTSVpFIFNURVAgMiBTVEFSVFxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgIC5hdHRyKCd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmd3aWR0aCArICcgJyArIHRoaXMuc3ZnaGVpZ2h0KVxuICAgIC8vUkVTSVpFIFNURVAgMiBFTkRTIEhFUkVcbiAgICAgICAuYXR0cihcIndpZHRoXCIsIHRoaXMud2lkdGggKyB0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCB0aGlzLmhlaWdodCArIHRoaXMubWFyZ2luLnRvcCArIHRoaXMubWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFxuICAgICAgICBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgIC8vIGFkZCB0aGUgWCBBeGlzXG5cbiAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpLlxuICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfSBcbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB0aGlzLmhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpXG4gICAgICB9XG5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB0aGlzLmhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuXG4gICAgfVxuXG4gICAgLy8gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgIC8vICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIHRoaXMuaGVpZ2h0ICsgXCIpXCIpXG4gICAgLy8gICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpO1xuXG4gICAgLy8gYWRkIHRoZSBZIEF4aXNcbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuY2FsbChkMy5heGlzTGVmdCh0aGlzLnkpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHRoaXMueCwgdGhpcy55LCB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCk7XG4gIH1cblxuXG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIGxldCBiYXIgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuYmFyXCIpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIChkKSA9PiB7IHJldHVybiBcImJhciBcIiArIGQuY2xhc3MgfSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRoaXMueChcbiAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzBdXVxuICAgICAgICApICsgXCIsMClcIjtcbiAgICAgIH0pO1xuXG4gICAgYmFyLmFwcGVuZChcInJlY3RcIilcbiAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4gdGhpcy55KE1hdGgubWF4KGQuc3RhcnQsIGQuZW5kKSk7IH0pXG4gICAgICAuYXR0cihcImhlaWdodFwiLCAoZCkgPT4geyByZXR1cm4gTWF0aC5hYnModGhpcy55KGQuc3RhcnQpIC0gdGhpcy55KGQuZW5kKSk7IH0pXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHRoaXMueC5iYW5kd2lkdGgoKSlcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVkQ29sb3JbaV07XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcblxuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLmh0bWwoXG4gICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMub25DYW5kbGVzdGlja0NsaWNrKGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuXG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICBiYXIuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMXZ3XCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiAodGhpcy54LmJhbmR3aWR0aCgpKSAvIDI7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy55KE1hdGgubWF4KGQuc3RhcnQsIGQuZW5kKSkgKyAyMDtcbiAgICAgICAgfSlcbiAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAvLyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV1cbiAgICAgICAgICBpZih0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMV1dO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKCF0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgaWYoZFtPYmplY3Qua2V5cyhkKVsxXV0gPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG5cbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMub25DYW5kbGVzdGlja0NsaWNrKGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuXG4gICAgfVxuICB9XG5cbiAgcGxvdExpbmUoc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBzdmcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybURhdGEoZGF0YTogYW55KSB7XG4gICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgRHVtbXlPYmplY3Q6IGFueSA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICBEdW1teU9iamVjdFt0aGlzLmtleUFycmF5W2tleWluZGV4XV0gPSBpbmRpdmlkdWFsdmFsdWU7XG4gICAgICAgIH0pOy8vaW5uZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgIH0vL2lmIGVuZHNcbiAgICB9KTsvL291dGVyIGZvciBsb29wIGVuZHMgXG4gICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgdGhpcy5hZGREYXRhS2V5cygpO1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgfVxuXG4gIGFkZERhdGFLZXlzKCkge1xuICAgIGxldCBjdW11bGF0aXZlOiBhbnkgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmRhdGFbaV1bXCJzdGFydFwiXSA9IGN1bXVsYXRpdmU7XG4gICAgICBjdW11bGF0aXZlICs9IHRoaXMuZGF0YVtpXVt0aGlzLmtleUFycmF5WzFdXTtcbiAgICAgIHRoaXMuZGF0YVtpXVtcImVuZFwiXSA9IGN1bXVsYXRpdmU7XG4gICAgICB0aGlzLmRhdGFbaV1bXCJjbGFzc1wiXSA9ICh0aGlzLmRhdGFbaV1bdGhpcy5rZXlBcnJheVsxXV0gPj0gMCkgPyAncG9zaXRpdmUnIDogJ25lZ2F0aXZlJ1xuICAgIH1cbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICBmb3JtVG9vbHRpcERhdGEodG9vbHRpcERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBvYmplY3RbdGhpcy5rZXlBcnJheVswXV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbMF1dO1xuICAgIG9iamVjdFt0aGlzLmtleUFycmF5WzFdXSA9IHRvb2x0aXBEYXRhW09iamVjdC5rZXlzKHRvb2x0aXBEYXRhKVsxXV07XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgb25DYW5kbGVzdGlja0NsaWNrKGNoYXJ0RGF0YTogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFt0aGlzLmtleUFycmF5WzBdXSA9IGNoYXJ0RGF0YVtPYmplY3Qua2V5cyhjaGFydERhdGEpWzBdXTtcbiAgICBvYmplY3RbdGhpcy5rZXlBcnJheVsxXV0gPSBjaGFydERhdGFbT2JqZWN0LmtleXMoY2hhcnREYXRhKVsxXV07XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZWxlbWVudCkpIHtcbiAgICAgICAgaWYgKGtleSA9PSB0aGlzLmtleUFycmF5WzBdKSB7XG4gICAgICAgICAgbGV0IG9iamVjdCA9IHt9O1xuICAgICAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gdmFsdWU7XG4gICAgICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRDb2xvcltpbmRleF07XG4gICAgICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uQ2FuZGxlc3RpY2tMZWdlbmRDbGljayhjaGFydERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gY2hhcnREYXRhLmxhYmVsKSB7XG4gICAgICAgICAgb2JqZWN0W2NoYXJ0RGF0YS5sYWJlbF0gPSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzFdXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG9iamVjdCk7XG4gIH1cblxuXG4gIC8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbiAgdmFsaWRhdGVyZXNpemUoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgaWYgKHRoaXMud3QpIHtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgIH1cbiAgICB9LCAwKVxuICB9XG4gIC8vUkVTSVpFIFNURVAgNCBFTkRTXG5cbiAgcmVzaXplKCkge1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICBpZiAodGhpcy53dCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMud3Q7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgIC8vIHRoaXMucmVzaXpld3QgPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiXCIsIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBcIiBcIiwgdGhpcy5yZXNpemV3dCk7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgdGhpcy5wbG90WFlBeGlzKCk7XG4gICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIE9uSW5pdCwgVmlld0NoaWxkLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhbWV4aW8tZDMtY2hhcnQtYnViYmxlJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICh3aW5kb3c6cmVzaXplKT1cInZhbGlkYXRlcmVzaXplKClcIj5cbiAgICA8dGFibGUgKm5nSWY9XCJkYXRhLmxlbmd0aCA+IDBcIiBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX1cbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInJlc2l6ZWJ0bmZsYWdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwicmVzZXRcIiBjbGFzcz1cImZhIGZhLXNlYXJjaC1taW51c1wiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmbG9hdDpyaWdodFwiIChjbGljayk9XCJyZXNpemVzdmcoKVwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgPGFtZXhpby1kMy1sZWdlbmQgKm5nSWY9XCJsZWdlbmRcIiBbaG9yaXpvbnRhbF09XCJ0cnVlXCIgKG9uQ2xpY2spPVwib25CdWJibGVMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kRGF0YVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICA8L2Rpdj5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2BgXVxufSlcbmV4cG9ydCBjbGFzcyBCdWJibGVDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2NvbG9yJykgY29sb3I6IGFueSA9IFwiYmx1ZVwiO1xuICBASW5wdXQoJ3pvb20tZW5hYmxlJykgem9vbWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCd4YXhpcy1pbnRlcnZhbCcpIHh0aWNrc2NvdW50OiBudW1iZXI7XG5cbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIHd0Om51bWJlcjtcbiAgem9vbWluaXRpYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBjb2xvcnM6IGFueVtdID0gW107XG4gIGRhdGExOiBhbnk7XG4gIHhheGlzQXJyYXk6IGFueVtdID0gW107XG4gIHhhcnJheTogYW55W10gPSBbXTtcbiAgbGVnZW5kczogYW55W10gPSBbXTtcbiAgbGVnZW5kYXJyYXk6IGFueVtdID0gW107XG4gIG5vZGU6IGFueTtcbiAgbm9kZWxhYmVsOiBhbnk7XG4gIHJlc2l6ZWJ0bmZsYWcgPSBmYWxzZTtcbiAgbGVnZW5kRGF0YTogYW55W10gPSBbXTtcbiAgbWlueHZhbHVlOiBudW1iZXIgPSAwO1xuICBtYXh4dmFsdWU6IG51bWJlciA9IDA7XG4gIGNvbG9yZGF0YTogYW55O1xuICBidWJibGVjaGFydGRhdGE6IGFueVtdID0gW107XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBzdmc6IGFueTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignYnViYmxlJyk7XG4gICAgdGhpcy5wcmVkZWZpbmVkY29sb3JzID0gW1wiIzMzNjZjY1wiLCBcIiNkYzM5MTJcIiwgXCIjZmY5OTAwXCIsIFwiIzEwOTYxOFwiLCBcIiM5OTAwOTlcIiwgXCIjMDA5OWM2XCIsIFwiI2RkNDQ3N1wiLCBcIiM2NmFhMDBcIiwgXCIjYjgyZTJlXCIsIFwiIzMxNjM5NVwiLCBcIiM5OTQ0OTlcIiwgXCIjMjJhYTk5XCIsIFwiI2FhYWExMVwiLCBcIiM2NjMzY2NcIiwgXCIjZTY3MzAwXCIsIFwiIzhiMDcwN1wiLCBcIiM2NTEwNjdcIiwgXCIjMzI5MjYyXCIsIFwiIzU1NzRhNlwiLCBcIiMzYjNlYWNcIl07XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICB0aGlzLmRhdGExID0gW107XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3A7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YTEpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1kYXRhKCk7XG4gICAgICAgICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90QnViYmxlQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtZGF0YSgpO1xuICAgICAgICAgIHRoaXMuY29sb3JHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdEJ1YmJsZUNoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZldGNoRGF0YShkYXRhOiBhbnkpIHtcbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICB0aGlzLm15c2VydmljZS5wb3N0ZmV0Y2hEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kLCByZXF1ZXN0SnNvbikuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgIHRoaXMuaHR0cHJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy90aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdDaGFydCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuaHR0cHJlc3BvbnNlKTtcbiAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YTEpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1kYXRhKCk7XG4gICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgdGhpcy5wbG90QnViYmxlQ2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMuY29sb3JkYXRhID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgRHVtbXlPYmplY3QgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbmRpdmlkdWFsdmFsdWUsIGtleWluZGV4KSA9PiB7XG4gICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEucHVzaChEdW1teU9iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgdGhpcy5jb2xvcmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIHBsb3RCdWJibGVDaGFydCgpIHtcbiAgICAgbGV0IGNvbG9ycyA9IHRoaXMucHJlZGVmaW5lZGNvbG9ycztcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgICAgaWYgKHRoaXMud3QpIHtcbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMud3Q7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcblxuICAgICAgfVxuICAgICAgLy9SRVNJWkUgU1RFUCAxIEVORFMgSEVSRVxuICAgIH1cblxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDYwLCBib3R0b206IDUwLCBsZWZ0OiA2MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBsZXQgeCwgeTtcbiAgICB4ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSk7XG5cbiAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pO1xuXG4gICAgbGV0IHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4KS50aWNrcyh0aGlzLnh0aWNrc2NvdW50KTtcblxuICAgIGxldCB5QXhpcyA9IGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudCk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmRhdGEsIChkKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzJdXSB9KV0pO1xuXG4gICAgeC5kb21haW4oW3RoaXMubWlueHZhbHVlLCB0aGlzLm1heHh2YWx1ZV0pO1xuXG4gICAgbGV0IHJTY2FsZSA9IGQzLnNjYWxlU3FydCgpLnJhbmdlUm91bmQoWzYsIDMwXSk7XG5cbiAgICByU2NhbGUuZG9tYWluKFtkMy5taW4odGhpcy5kYXRhLCAoZCkgPT4geyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVs0XV0gfSksIGQzLm1heCh0aGlzLmRhdGEsIChkLCBpKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzRdXSB9KV0pXG5cbiAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbCh4QXhpcylcbiAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgIH1cblxuICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ5IGF4aXNcIilcbiAgICAgIC5jYWxsKHlBeGlzKVxuICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoLTkwKVwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIDYpXG4gICAgICAuYXR0cihcImR5XCIsIFwiLjcxZW1cIilcbiAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG5cbiAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgIHRoaXMubm9kZSA9IHRoaXMuc3ZnLnNlbGVjdEFsbChcIi5kb3RcIilcbiAgICAgIC5kYXRhKHRoaXMuYnViYmxlY2hhcnRkYXRhKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiZG90XCIpXG4gICAgICAuYXR0cihcInJcIiwgKGQpID0+IHsgcmV0dXJuIHJTY2FsZShkW09iamVjdC5rZXlzKGQpWzRdXSk7IH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5hdHRyKFwiY3hcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVsxXV0pO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsyXV0pOyB9KVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzVdXSB9KVxuICAgICAgLmF0dHIoJ29wYWNpdHknLCAwLjcpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICApXG4gICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIC8vIGlmKCF0aGlzLnpvb21pbml0aWF0ZWQpIHtcbiAgICAgICAgdGhpcy5idWJibGVDaGFydENsaWNrKGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAvLyB9XG4gICAgICB9KTtcblxuICAgIC8vbGFiZWxcbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIHRoaXMubm9kZWxhYmVsID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwibGFiZWxzXCIpXG4gICAgICAgIC5kYXRhKHRoaXMuYnViYmxlY2hhcnRkYXRhKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gclNjYWxlKGRbT2JqZWN0LmtleXMoZClbNF1dKSAtIDQ7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMV1dKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7IHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMl1dKTsgfSlcbiAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICAvLyBpZighdGhpcy56b29taW5pdGlhdGVkKSB7XG4gICAgICAgICAgdGhpcy5idWJibGVDaGFydENsaWNrKGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy9jcmVhdGUgem9vbSBoYW5kbGVyIFxuICAgIGlmICh0aGlzLnpvb21mbGFnKSB7XG4gICAgICB0aGlzLnpvb21pbml0aWF0ZWQgPSB0cnVlO1xuICAgICAgbGV0IHpvb21faGFuZGxlciA9IGQzLnpvb20oKVxuICAgICAgICAub24oXCJ6b29tXCIsIHRoaXMuem9vbV9hY3Rpb25zLmJpbmQodGhpcykpO1xuICAgICAgem9vbV9oYW5kbGVyKHRoaXMuc3ZnKTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVidG5mbGFnKCkge1xuICAgIHRoaXMucmVzaXplYnRuZmxhZyA9IHRydWU7XG4gIH1cblxuICB6b29tX2FjdGlvbnMoKSB7XG4gICAgdGhpcy5ub2RlLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZDMuZXZlbnQudHJhbnNmb3JtKTtcbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIHRoaXMubm9kZWxhYmVsLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZDMuZXZlbnQudHJhbnNmb3JtKTtcbiAgICB9XG4gICAgdGhpcy5yZXNpemVidG5mbGFnID0gdHJ1ZTtcbiAgICB0aGlzLnpvb21pbml0aWF0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHJlc2l6ZXN2ZygpIHtcbiAgICAvLyB0aGlzLnN2ZyA9IG51bGw7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnBsb3RCdWJibGVDaGFydCgpO1xuICAgIHRoaXMucmVzaXplYnRuZmxhZyA9IGZhbHNlO1xuICB9XG5cbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIC8vIE1ldGhvZCBvbiBjaGFydCBjbGlja1xuICBidWJibGVDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPT0gJ2NvbG9yJykge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gICAvL1JFU0laRSBTVEVQIDQgU1RBUlRTXG4gICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICByZXNpemUoKSB7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5wbG90QnViYmxlQ2hhcnQoKTtcbiAgfVxuXG4gIHhheGlzRGF0YSgpIHtcblxuICAgIGxldCBhcnJheSA9IFtdO1xuICAgIHRoaXMubWlueHZhbHVlID0gMDtcbiAgICB0aGlzLm1heHh2YWx1ZSA9IDA7XG4gICAgdGhpcy54YXhpc0FycmF5ID0gW107XG4gICAgdGhpcy54YXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGExLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBhcnJheS5wdXNoKGVsZW1lbnRbMV0pO1xuICAgIH0pO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMueGF4aXNBcnJheS5wdXNoKGFycmF5W2ldKTtcbiAgICB9XG5cbiAgICBsZXQgbWludmFsdWUgPSBNYXRoLmZsb29yKGQzLm1pbih0aGlzLnhheGlzQXJyYXkpKTtcbiAgICBsZXQgbWF4dmFsdWUgPSBNYXRoLmNlaWwoZDMubWF4KHRoaXMueGF4aXNBcnJheSkpO1xuICAgIHRoaXMubWlueHZhbHVlID0gNSAqIChNYXRoLmZsb29yKE1hdGguYWJzKG1pbnZhbHVlIC8gNSkpKTtcbiAgICB0aGlzLm1heHh2YWx1ZSA9IDUgKiAoTWF0aC5jZWlsKE1hdGguYWJzKG1heHZhbHVlIC8gNSkpKTtcblxuICB9XG5cbiAgY29sb3JHZW5lcmF0aW9uKCkge1xuXG4gICAgdGhpcy5sZWdlbmRhcnJheSA9IFtdO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbmFtZXMgPSB0aGlzLmRhdGExXG4gICAgICAubWFwKGUgPT4gZVszXSlcbiAgICAgIC5maWx0ZXIoKGUsIGksIGEpID0+IGEuaW5kZXhPZihlKSA9PT0gaSk7XG5cbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IG5hbWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBsZXQgdmFsdWUgPSBbXTtcbiAgICAgIGxldCBvYmogPSB7IFwibGFiZWxcIjogXCJcIiwgXCJjb2xvclwiOiBcIlwiLCBcInZhbHVlXCI6IFtdIH07XG4gICAgICB0aGlzLmNvbG9yZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVszXV0gPT0gbmFtZXNbal0pIHtcbiAgICAgICAgICBlbGVtZW50Wydjb2xvciddID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgICAgIHZhbHVlLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb2JqW1widmFsdWVcIl0gPSB2YWx1ZTtcbiAgICAgIG9ialtcImxhYmVsXCJdID0gbmFtZXNbal07XG4gICAgICBvYmpbXCJjb2xvclwiXSA9IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpXTtcbiAgICAgIHRoaXMubGVnZW5kYXJyYXkucHVzaChvYmopO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgIHRoaXMubGVnZW5kRGF0YSA9IFtdO1xuICAgIHRoaXMubGVnZW5kYXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnQubGFiZWw7XG4gICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSBlbGVtZW50LmNvbG9yO1xuICAgICAgdGhpcy5sZWdlbmREYXRhLnB1c2gobGVnZW5kb2JqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uQnViYmxlTGVnZW5kQ2xpY2sobGVnZW5kZXZlbnQ6IGFueSkge1xuICAgIHRoaXMubGVnZW5kYXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgIGxldCB0ZW1wYXJyID0gW107XG4gICAgICBpZiAobGVnZW5kZXZlbnQubGFiZWwgPT0gZWxlbWVudC5sYWJlbCkge1xuICAgICAgICBsZXQgYXJyID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgYXJyLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfS8vIGZvciBlbmRzXG4gICAgICAgICAgdGVtcGFyci5wdXNoKG9iaik7XG4gICAgICAgIH0pOy8vIGZvciBlYWNoIGVuZHNcbiAgICAgICAgdGhpcy5sZWdlbmRDbGljayh0ZW1wYXJyKVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMudlNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLlxuICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKS50aWNrcyh0aGlzLnh0aWNrc2NvdW50KVxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5oU2NhbGUpIHtcbiAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybWRhdGEoKSB7XG4gICAgdGhpcy5idWJibGVjaGFydGRhdGEgPSBbXVxuICAgIGxldCBidXVibGVkYXRhID0gW107XG4gICAgdGhpcy5jb2xvcmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuXG4gICAgICBidXVibGVkYXRhLnB1c2goZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVs0XV0pO1xuXG4gICAgfSk7XG5cbiAgICBsZXQgZGF0YSA9IGJ1dWJsZWRhdGEuc29ydCgoYSwgYikgPT4geyByZXR1cm4gYiAtIGEgfSk7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBkYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICB0aGlzLmNvbG9yZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZGF0YVtqXSA9PSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzRdXSlcbiAgICAgICAgICB0aGlzLmJ1YmJsZWNoYXJ0ZGF0YS5wdXNoKGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiwgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS9iYXNlLmNvbXBvbmVudFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCB7IERldmljZVF1ZXJ5U2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2RldmljZS5xdWVyeS5zZXJ2aWNlJztcblxuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC10aW1lbGluZScsXG4gICAgdGVtcGxhdGU6IGBcbjxkaXYgICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCIgPlxuICAgIDx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiIHBvc2l0aW9uPVwiIHJlbGF0aXZlXCI+XG4gICAgICAgIDx0ciAqbmdJZiA9IFwidGl0bGUubGVuZ3RoID4gMFwiPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiIFxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgPGFtZXhpby1kMy1sZWdlbmQgKm5nSWY9XCJsZWdlbmRcIiBbaG9yaXpvbnRhbF09XCJ0cnVlXCIgKG9uQ2xpY2spPVwidGltZWxpbmVsZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDwvZGl2PmBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNUaW1lbGluZUNoYXJ0Q29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQge1xuXG4gICAgQElucHV0KCdkYXRhJykgZGF0YTogYW55O1xuICAgIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICAgIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gICAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gICAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDIwMDtcbiAgICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICAgIEBJbnB1dCgnbGV2ZWwnKSBsZXZlbDogbnVtYmVyID0gMDtcbiAgICBASW5wdXQoJ3RhcmdldCcpIHRhcmdldDogbnVtYmVyO1xuICAgIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdO1xuICAgIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG4gICAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIEBJbnB1dCgneGF4aXMtaW50ZXJ2YWwnKSB4dGlja3Njb3VudDogbnVtYmVyO1xuXG4gICAgbGFuZXM6IGFueVtdID0gW107XG4gICAgdGltZWxpbmVjaGFydERhdGE6IGFueVtdID0gW107XG4gICAgbWluZGF0ZTogYW55O1xuICAgIG1heGRhdGU6IGFueTtcbiAgICBsZWdlbmRzOiBhbnk7XG4gICAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gICAgcmVzaXplZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN2ZzogYW55O1xuICAgIHVybGRhdGE6IGFueTtcbiAgICBtb250aGxpc3QgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXB0XCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xuICAgIHd0OiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoJ3RpbWVsaW5lJyk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgICAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICAgICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtVE9EYXRlKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy51cmxkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdENoYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICAgICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3Q2hhcnQoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1UT0RhdGUodGhpcy5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLnVybGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgICAgICB9LCAwKTtcblxuICAgIH1cblxuICAgIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgICAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgICAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICAgIH1cblxuICAgIHBsb3RDaGFydCgpIHtcbiAgICAgICAgbGV0IGxhbmVMZW5ndGggPSB0aGlzLmxhbmVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVzaXplZmxhZyA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbSA9IFsyMCwgMjUsIDE1LCAxMjBdLCAvL3RvcCByaWdodCBib3R0b20gbGVmdFxuICAgICAgICAgICAgd2lkdGggPSB0aGlzLnN2Z3dpZHRoIC0gbVsxXSAtIG1bM10sXG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnN2Z2hlaWdodCAtIG1bMF0gLSBtWzJdLFxuICAgICAgICAgICAgbWluaUhlaWdodCA9IGxhbmVMZW5ndGggKiAxMiArIDUwLFxuICAgICAgICAgICAgbWFpbkhlaWdodCA9IGhlaWdodCAtIG1pbmlIZWlnaHQgLSA1MDtcblxuICAgICAgICBsZXQgbWluZGF0ZTtcbiAgICAgICAgbGV0IG1heGRhdGU7XG4gICAgICAgIGxldCBiYXJoZWlnaHQgPSAyMDtcbiAgICAgICAgaWYgKHRoaXMuaHR0cHVybCAmJiB0aGlzLmh0dHBtZXRob2QpIHtcblxuICAgICAgICAgICAgbWluZGF0ZSA9IHRoaXMudXJsZGF0YVswXVsxXS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgIG1heGRhdGUgPSB0aGlzLnVybGRhdGFbdGhpcy51cmxkYXRhLmxlbmd0aCAtIDFdWzJdLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtaW5kYXRlID0gdGhpcy5kYXRhWzBdWzFdLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgbWF4ZGF0ZSA9IHRoaXMuZGF0YVt0aGlzLmRhdGEubGVuZ3RoIC0gMV1bMl0uZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgbGV0IHggPSBkMy5zY2FsZVRpbWUoKVxuICAgICAgICAgICAgLmRvbWFpbihbdGhpcy5taW5kYXRlLCB0aGlzLm1heGRhdGVdKVxuICAgICAgICAgICAgLnJhbmdlKFswLCB3aWR0aF0pO1xuXG5cbiAgICAgICAgbGV0IHgxID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgLmRvbWFpbihbbWluZGF0ZSwgbWF4ZGF0ZV0pXG4gICAgICAgICAgICAucmFuZ2UoW21bM10sIHdpZHRoICsgbVszXV0pO1xuXG4gICAgICAgIGxldCB5MSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5kb21haW4oWzAsIGxhbmVMZW5ndGhdKVxuICAgICAgICAgICAgLnJhbmdlKFswLCBtaW5pSGVpZ2h0XSk7XG5cblxuICAgICAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAgIC5hdHRyKCd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmd3aWR0aCArICcgJyArIHRoaXMuc3ZnaGVpZ2h0KVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1bMV0gKyBtWzNdKVxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbVswXSArIG1bMl0pXG5cblxuICAgICAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4MSkudGlja3ModGhpcy54dGlja3Njb3VudCkpLlxuICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4MSkudGlja3ModGhpcy54dGlja3Njb3VudCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDEpLnRpY2tzKHRoaXMueHRpY2tzY291bnQpKS5cbiAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtaW5pID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtWzNdICsgXCIsXCIgKyAobWFpbkhlaWdodCArIG1bMF0pICsgXCIpXCIpXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoKVxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgbWFpbkhlaWdodClcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJtaW5pXCIpO1xuXG4gICAgICAgIC8vbWluaSBsYW5lcyBhbmQgdGV4dHNcbiAgICAgICAgbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5sYW5lTGluZXNcIilcbiAgICAgICAgICAgIC5kYXRhKHRoaXMudGltZWxpbmVjaGFydERhdGEpXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJsaW5lXCIpXG4gICAgICAgICAgICAvLyAuYXR0cihcIngxXCIsIG1bMV0pXG4gICAgICAgICAgICAuYXR0cihcInkxXCIsIChkKSA9PiB7IHJldHVybiB5MShkLmxhbmUpOyB9KVxuICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCB3aWR0aClcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgKGQpID0+IHsgcmV0dXJuIHkxKGQubGFuZSk7IH0pXG4gICAgICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBcImxpZ2h0Z3JheVwiKTtcblxuXG4gICAgICAgIG1pbmkuYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIubGFuZVRleHRcIilcbiAgICAgICAgICAgIC5kYXRhKHRoaXMubGFuZXMpXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAudGV4dCgoZCkgPT4geyByZXR1cm4gZDsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtbVsxXSlcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4geyByZXR1cm4geTEoaSArIC41KTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNWV4XCIpXG4gICAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibGFuZVRleHRcIik7XG5cbiAgICAgICAgLy9taW5pIGl0ZW0gcmVjdHNcbiAgICAgICAgbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIm1pbmlJdGVtc1wiKVxuICAgICAgICAgICAgLmRhdGEodGhpcy50aW1lbGluZWNoYXJ0RGF0YSlcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgKGQpID0+IHsgcmV0dXJuIFwibWluaUl0ZW1cIiArIGQubGFuZTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCwgaW5kZXgpID0+IHsgcmV0dXJuIHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF0gfSlcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4geyByZXR1cm4geChkLnN0YXJ0KTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4gKHkxKGQubGFuZSArIC41KSAtIDUpOyB9KVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh4KGQuZW5kKSAtIHgoZC5zdGFydCkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGJhcmhlaWdodClcbiAgICAgICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZWxpbmVDaGFydENsaWNrKGQpXG4gICAgICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldCBiYXJ3aWR0aDtcblxuICAgICAgICAvL21pbmkgbGFiZWxzXG4gICAgICAgIGxldCBtb250aGxpc3QxID0gdGhpcy5tb250aGxpc3Q7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgICAgICAgbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5taW5pTGFiZWxzXCIpXG4gICAgICAgICAgICAgICAgLmRhdGEodGhpcy50aW1lbGluZWNoYXJ0RGF0YSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBiYXJ3aWR0aCA9IE1hdGgubWluKE1hdGguYWJzKHgoZC5lbmQpIC0geChkLnN0YXJ0KSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXJ3aWR0aCAvIDIwICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydGZ1bGx5ZWFyID0gZC5zdGFydC5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0TW9udGggPSBtb250aGxpc3QxW2Quc3RhcnQuZ2V0TW9udGgoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5kZnVsbHllYXIgPSBkLmVuZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZE1vbnRoID0gbW9udGhsaXN0MVtkLmVuZC5nZXRNb250aCgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRlID0gc3RhcnRNb250aCArIFwiIFwiICsgc3RhcnRmdWxseWVhciArIFwiLVwiICsgZW5kTW9udGggKyBcIiBcIiArIGVuZGZ1bGx5ZWFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geChkLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4geTEoZC5sYW5lICsgLjUpOyB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIxLjJleFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZHhcIiwgXCI5ZXhcIilcbiAgICAgICAgICAgICAgICAvL3dyaXRlIHBvaW50ZXIgYW5kIGNsaWNrIGZuXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnRvb2xUaXBDb250ZW50KGQpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVsaW5lQ2hhcnRDbGljayhkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcm1Ub29sdGlwRGF0YSh0b29sdGlwRGF0YTogYW55KSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcblxuICAgICAgICBsZXQgbWxpc3QgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXB0XCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xuICAgICAgICBsZXQgbGFiZWwxID0gXCJEdXJhdGlvblwiO1xuICAgICAgICBsZXQgbGFiZWwyID0gXCJOYW1lXCI7XG4gICAgICAgIGxldCBzdGFydGZ1bGx5ZWFyID0gdG9vbHRpcERhdGEuc3RhcnQuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgbGV0IHN0YXJ0TW9udGggPSBtbGlzdFt0b29sdGlwRGF0YS5zdGFydC5nZXRNb250aCgpXVxuICAgICAgICBsZXQgZW5kZnVsbHllYXIgPSB0b29sdGlwRGF0YS5lbmQuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgbGV0IGVuZE1vbnRoID0gbWxpc3RbdG9vbHRpcERhdGEuZW5kLmdldE1vbnRoKCldXG4gICAgICAgIGxldCBkYXRlID0gc3RhcnRNb250aCArIFwiIFwiICsgc3RhcnRmdWxseWVhciArIFwiLVwiICsgZW5kTW9udGggKyBcIiBcIiArIGVuZGZ1bGx5ZWFyO1xuXG4gICAgICAgIG9iamVjdFtsYWJlbDIgKyBcIjpcIl0gPSB0b29sdGlwRGF0YS5pZDtcbiAgICAgICAgb2JqZWN0W2xhYmVsMSArIFwiOlwiXSA9IGRhdGU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuXG4gICAgfVxuXG4gICAgdHJhbnNmb3JtVE9EYXRlKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLnVybGRhdGEgPSBbXTtcblxuICAgICAgICBkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YW9iaiA9IFtdO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ZGF0ZSA9IG5ldyBEYXRlKGVsZW1lbnRbMV0pO1xuICAgICAgICAgICAgbGV0IGVuZGRhdGUgPSBuZXcgRGF0ZShlbGVtZW50WzJdKVxuICAgICAgICAgICAgZGF0YW9iai5wdXNoKGVsZW1lbnRbMF0pO1xuICAgICAgICAgICAgZGF0YW9iai5wdXNoKHN0YXJ0ZGF0ZSk7XG4gICAgICAgICAgICBkYXRhb2JqLnB1c2goZW5kZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnVybGRhdGEucHVzaChkYXRhb2JqKTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLmxhbmVzID0gW107XG4gICAgICAgIHRoaXMudGltZWxpbmVjaGFydERhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgICAgIGxldCBkYXRhbGVuZ3RoID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHRoaXMubWluZGF0ZSA9IGRhdGFbMF1bMV07XG4gICAgICAgIHRoaXMubWF4ZGF0ZSA9IGRhdGFbZGF0YWxlbmd0aF1bMl07XG4gICAgICAgIGxldCBtbGlzdCA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcHRcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XG5cbiAgICAgICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YU9iaiA9IHsgXCJsYW5lXCI6IFwiXCIsIFwiaWRcIjogXCJcIiwgXCJzdGFydFwiOiBcIlwiLCBcImVuZFwiOiBcIlwiIH07XG4gICAgICAgICAgICB0aGlzLmxhbmVzLnB1c2goZWxlbWVudFswXSk7XG4gICAgICAgICAgICBkYXRhT2JqW1wibGFuZVwiXSA9IGk7XG4gICAgICAgICAgICBkYXRhT2JqW1wiaWRcIl0gPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgZGF0YU9ialtcInN0YXJ0XCJdID0gZWxlbWVudFsxXTtcbiAgICAgICAgICAgIGRhdGFPYmpbXCJlbmRcIl0gPSBlbGVtZW50WzJdO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZWNoYXJ0RGF0YS5wdXNoKGRhdGFPYmopO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRpbWVsaW5lY2hhcnREYXRhLmZvckVhY2goKGVsZW1lbnQsIGkpID0+IHtcblxuICAgICAgICAgICAgbGV0IHN0YXJ0ZnVsbHllYXIgPSBlbGVtZW50LnN0YXJ0LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBsZXQgc3RhcnRNb250aCA9IG1saXN0W2VsZW1lbnQuc3RhcnQuZ2V0TW9udGgoKV1cbiAgICAgICAgICAgIGxldCBlbmRmdWxseWVhciA9IGVsZW1lbnQuZW5kLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBsZXQgZW5kTW9udGggPSBtbGlzdFtlbGVtZW50LmVuZC5nZXRNb250aCgpXVxuICAgICAgICAgICAgbGV0IGRhdGUgPSBzdGFydE1vbnRoICsgXCIgXCIgKyBzdGFydGZ1bGx5ZWFyICsgXCItXCIgKyBlbmRNb250aCArIFwiIFwiICsgZW5kZnVsbHllYXI7XG4gICAgICAgICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiB0aGlzLmxhbmVzW2ldLCAnY29sb3InOiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV0sICdEdXJhdGlvbic6IGRhdGUgfTtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBPYmogPSB7IFwibGFuZVwiOiBcIlwiLCBcImlkXCI6IFwiXCIsIFwic3RhcnRcIjogXCJcIiwgXCJlbmRcIjogXCJcIiB9O1xuICAgICAgICBPYmpbXCJsYW5lXCJdID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnRpbWVsaW5lY2hhcnREYXRhLnB1c2goT2JqKTtcbiAgICB9XG5cblxuICAgIHRpbWVsaW5lQ2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgbGV0IG1saXN0ID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwdFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcbiAgICAgICAgbGV0IHN0YXJ0ZnVsbHllYXIgPSBldmVudC5zdGFydC5nZXRGdWxsWWVhcigpO1xuICAgICAgICBsZXQgc3RhcnRNb250aCA9IG1saXN0W2V2ZW50LnN0YXJ0LmdldE1vbnRoKCldXG4gICAgICAgIGxldCBlbmRmdWxseWVhciA9IGV2ZW50LmVuZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICBsZXQgZW5kTW9udGggPSBtbGlzdFtldmVudC5lbmQuZ2V0TW9udGgoKV07XG4gICAgICAgIGxldCBkYXRlID0gc3RhcnRNb250aCArIFwiIFwiICsgc3RhcnRmdWxseWVhciArIFwiLVwiICsgZW5kTW9udGggKyBcIiBcIiArIGVuZGZ1bGx5ZWFyO1xuICAgICAgICBvYmplY3RbXCJOYW1lXCJdID0gZXZlbnQuaWQ7XG4gICAgICAgIG9iamVjdFtcIkR1cmF0aW9uXCJdID0gZGF0ZTtcbiAgICAgICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMud3QpIHtcbiAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgICAvLyB0aGlzLnJlc2l6ZXd0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJcIiwgbmV3IERhdGUoKS5nZXRUaW1lKCksIFwiIFwiLCB0aGlzLnJlc2l6ZXd0KTtcbiAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jZGYuZGV0ZWN0Q2hhbmdlcygpOyBcbiAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgIH1cbiAgICB0aW1lbGluZWxlZ2VuZENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgbGV0IG9iaiA9IHt9O1xuICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZXZlbnQpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICAgIH1cblxufVxuXG5cblxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEdyb3VwYmFyQ29tcG9uZW50IH0gZnJvbSAnLi4vZ3JvdXBiYXIvZ3JvdXBiYXIuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzQmFyQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXIvYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi4vZG91bnV0L2RvdW51dC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQW1leGlvRDNQaWVDaGFydENvbXBvbmVudCB9IGZyb20gJy4uL3BpZS9waWUuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzTGluZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpbmUvbGluZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQmFyc3RhY2tDb21wb25lbnQgfSBmcm9tICcuLi9iYXJzdGFjay9iYXJzdGFjay5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29tYm9jaGFydENvbXBvbmVudCB9IGZyb20gJy4uL2NvbWJvY2hhcnQvY29tYm9jaGFydC5jb21wb25lbnQnXG5pbXBvcnQgeyBIaXN0b2dyYW1Db21wb25lbnQgfSBmcm9tICcuLi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudCdcbmltcG9ydCB7IFNjYXR0ZXJjaGFydENvbXBvbmVudCB9IGZyb20gJy4uL3NjYXR0ZXJjaGFydC9zY2F0dGVyY2hhcnQuY29tcG9uZW50J1xuaW1wb3J0IHsgTXVsdGlhcmVhQ29tcG9uZW50IH0gZnJvbSAnLi4vbXVsdGlhcmVhL211bHRpYXJlYS5jb21wb25lbnQnXG5pbXBvcnQgeyBDYW5kbGVzdGlja0NvbXBvbmVudCB9IGZyb20gJy4uL2NhbmRsZXN0aWNrL2NhbmRsZXN0aWNrLmNvbXBvbmVudCdcbmltcG9ydCB7IEJ1YmJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2J1YmJsZS9idWJibGUvYnViYmxlLmNvbXBvbmVudCdcbmltcG9ydCB7IEFtZXhpb0QzVGltZWxpbmVDaGFydENvbXBvbmVudCB9IGZyb20gJy4uL3RpbWVsaW5lL3RpbWVsaW5lLmNvbXBvbmVudCdcbmltcG9ydCB7XG4gIEFmdGVyQ29udGVudEluaXQsIEFmdGVyVmlld0luaXQsIENvbnRlbnRDaGlsZHJlbixcbiAgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBRdWVyeUxpc3QsIFZpZXdDaGlsZCxcbiAgVmlld0NoaWxkcmVuXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgVmlld0RyaWxsYWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIHF1ZXJ5QmFyY2hhcnRpbnB1dDogUXVlcnlMaXN0PEFtZXhpb0QzQmFyQ2hhcnRDb21wb25lbnQ+O1xuICBiYXJjaGFydGlucHV0OiBBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihHcm91cGJhckNvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUdyb3VwYmFyY2hhcnRpbnB1dDogUXVlcnlMaXN0PEdyb3VwYmFyQ29tcG9uZW50PjtcbiAgZ3JvdXBiYXJjaGFydGlucHV0OiBHcm91cGJhckNvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQW1leGlvRDNMaW5lQ29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5TGluZWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxBbWV4aW9EM0xpbmVDb21wb25lbnQ+O1xuICBsaW5lY2hhcnRpbnB1dDogQW1leGlvRDNMaW5lQ29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5UGllY2hhcnRpbnB1dDogUXVlcnlMaXN0PEFtZXhpb0QzUGllQ2hhcnRDb21wb25lbnQ+O1xuICBwaWVjaGFydGlucHV0OiBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5RG9udXRjaGFydGlucHV0OiBRdWVyeUxpc3Q8QW1leGlvRDNEb3VudXRDaGFydENvbXBvbmVudD47XG4gIGRvbnV0Y2hhcnRpbnB1dDogQW1leGlvRDNEb3VudXRDaGFydENvbXBvbmVudFtdO1xuXG5cbiAgQENvbnRlbnRDaGlsZHJlbihCYXJzdGFja0NvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUJhclN0YWNrY2hhcnRpbnB1dDogUXVlcnlMaXN0PEJhcnN0YWNrQ29tcG9uZW50PjtcbiAgYmFyc3RhY2tjaGFydGlucHV0OiBCYXJzdGFja0NvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQ29tYm9jaGFydENvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUNvbWJvY2hhcnRpbnB1dDogUXVlcnlMaXN0PENvbWJvY2hhcnRDb21wb25lbnQ+O1xuICBjb21ib2NoYXJ0aW5wdXQ6IENvbWJvY2hhcnRDb21wb25lbnRbXTtcblxuICBAQ29udGVudENoaWxkcmVuKEhpc3RvZ3JhbUNvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUhpc3RvZ3JhbWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxIaXN0b2dyYW1Db21wb25lbnQ+O1xuICBoaXN0b2dyYW1jaGFydGlucHV0OiBIaXN0b2dyYW1Db21wb25lbnRbXTtcblxuICBAQ29udGVudENoaWxkcmVuKFNjYXR0ZXJjaGFydENvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeVNhdHRlcmNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxTY2F0dGVyY2hhcnRDb21wb25lbnQ+O1xuICBzY2F0dGVyY2hhcnRpbnB1dDogU2NhdHRlcmNoYXJ0Q29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihNdWx0aWFyZWFDb21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgUXVlcnlNdWx0aWFyZWFjaGFydGlucHV0OiBRdWVyeUxpc3Q8TXVsdGlhcmVhQ29tcG9uZW50PjtcbiAgbXVsdGlhcmVhY2hhcnRpbnB1dDogTXVsdGlhcmVhQ29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihDYW5kbGVzdGlja0NvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUNhbmRsZXN0aWNrY2hhcnRpbnB1dDogUXVlcnlMaXN0PENhbmRsZXN0aWNrQ29tcG9uZW50PjtcbiAgY2FuZGxlc3RpY2tjaGFydGlucHV0OiBDYW5kbGVzdGlja0NvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQnViYmxlQ29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5QnViYmxlY2hhcnRpbnB1dDogUXVlcnlMaXN0PEJ1YmJsZUNvbXBvbmVudD47XG4gIGJ1YmJsZWNoYXJ0aW5wdXQ6IEJ1YmJsZUNvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQW1leGlvRDNUaW1lbGluZUNoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5VGltZWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxBbWV4aW9EM1RpbWVsaW5lQ2hhcnRDb21wb25lbnQ+O1xuICB0aW1lbGluZWNoYXJ0aW5wdXQ6IEFtZXhpb0QzVGltZWxpbmVDaGFydENvbXBvbmVudFtdO1xuXG4gIGNoYXJ0SW5wdXRBcnJheTogYW55O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuXG4gIH1cblxuICBuZ09uSW5pdCgpIHtcblxuICB9XG5cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnREYXRhKCk7XG5cbiAgfVxuXG4gIGdldENvbXBvbmVudERhdGEoKTogYW55IHtcblxuICAgIHRoaXMuY2hhcnRJbnB1dEFycmF5ID0gW107XG5cbiAgICB0aGlzLmJhcmNoYXJ0aW5wdXQgPSB0aGlzLnF1ZXJ5QmFyY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5ncm91cGJhcmNoYXJ0aW5wdXQgPSB0aGlzLlF1ZXJ5R3JvdXBiYXJjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmxpbmVjaGFydGlucHV0ID0gdGhpcy5RdWVyeUxpbmVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmRvbnV0Y2hhcnRpbnB1dCA9IHRoaXMuUXVlcnlEb251dGNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMucGllY2hhcnRpbnB1dCA9IHRoaXMuUXVlcnlQaWVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmJhcnN0YWNrY2hhcnRpbnB1dCA9IHRoaXMuUXVlcnlCYXJTdGFja2NoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMuY29tYm9jaGFydGlucHV0ID0gdGhpcy5RdWVyeUNvbWJvY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5oaXN0b2dyYW1jaGFydGlucHV0ID0gdGhpcy5RdWVyeUhpc3RvZ3JhbWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMuc2NhdHRlcmNoYXJ0aW5wdXQgPSB0aGlzLlF1ZXJ5U2F0dGVyY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5tdWx0aWFyZWFjaGFydGlucHV0ID0gdGhpcy5RdWVyeU11bHRpYXJlYWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMuY2FuZGxlc3RpY2tjaGFydGlucHV0ID0gdGhpcy5RdWVyeUNhbmRsZXN0aWNrY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5idWJibGVjaGFydGlucHV0ID0gdGhpcy5RdWVyeUJ1YmJsZWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMudGltZWxpbmVjaGFydGlucHV0ID0gdGhpcy5RdWVyeVRpbWVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmNoYXJ0SW5wdXRBcnJheSA9IHRoaXMuY2hhcnRJbnB1dEFycmF5LmNvbmNhdCh0aGlzLmJhcmNoYXJ0aW5wdXQsIHRoaXMuZ3JvdXBiYXJjaGFydGlucHV0LCB0aGlzLmxpbmVjaGFydGlucHV0LCB0aGlzLmRvbnV0Y2hhcnRpbnB1dCwgdGhpcy5waWVjaGFydGlucHV0LCB0aGlzLmJhcnN0YWNrY2hhcnRpbnB1dCwgdGhpcy5jb21ib2NoYXJ0aW5wdXQsIHRoaXMuaGlzdG9ncmFtY2hhcnRpbnB1dCwgdGhpcy5zY2F0dGVyY2hhcnRpbnB1dCwgdGhpcy5tdWx0aWFyZWFjaGFydGlucHV0LCB0aGlzLmNhbmRsZXN0aWNrY2hhcnRpbnB1dCwgdGhpcy5idWJibGVjaGFydGlucHV0LCB0aGlzLnRpbWVsaW5lY2hhcnRpbnB1dCk7XG5cbiAgICByZXR1cm4gdGhpcy5jaGFydElucHV0QXJyYXk7XG5cbiAgfVxuXG5cblxuXG5cbn1cbiIsIlxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFZpZXdEcmlsbGFibGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi9iYXNlL3ZpZXcuY29tcG9uZW50JztcblxuaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJWaWV3SW5pdCwgQ29udGVudENoaWxkcmVuLFxuICBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFF1ZXJ5TGlzdCwgVmlld0NoaWxkLFxuICBWaWV3Q2hpbGRyZW5cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIb3N0TGlzdGVuZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kcmlsbGFibGUnLFxuICB0ZW1wbGF0ZTogYFxuPGRpdiA+IFxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJkaXNhYmxlRmxhZ1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidXR0b25cIlxuICAgICAgICAgICAgIChjbGljayk9XCJwcmV2aW91c2NoYXJ0Q2xpY2soJGV2ZW50KVwiPlxuICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtYXJyb3ctbGVmdFwiPjwvaT4gXG4gICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2J1dHRvbj5cbjwvbmctY29udGFpbmVyPlxuXG48bmctY29udGVudD48L25nLWNvbnRlbnQ+XG5cbjwvZGl2PlxuXG48c3BhbiBbbmdTdHlsZV09XCJjb250ZXh0U3R5bGVcIiA+XG4gIDx1bCAqbmdJZj1cImNvbnRleHRtZW51RmxhZ1wiIGNsYXNzPVwiY2xvc2UtdGhpa1wiIGNsYXNzPVwiY29udGV4dC1tZW51LWxpc3RcIiAgPlxuICAgIDxzcGFuIChjbGljayk9XCJvbkNsb3NlQ2xpY2soKVwiIGNsYXNzPVwiY2xvc2VcIj48aSBjbGFzcz1cImZhIGZhLWNsb3NlXCI+PC9pPjwvc3Bhbj5cbiAgPGxpIChjbGljayk9XCJvbkNvbnRleHROb2RlQ2xpY2soaXRlbUNvbmZpZylcIiBjbGFzcz1cImNvbnRleHQtbWVudS1saXN0LWl0ZW1zXCIgXG4gICpuZ0Zvcj1cImxldCBpdGVtQ29uZmlnIG9mIGFycmF5b2ZzYW1lTGV2ZWxcIj5cbiAgPGVtIFtuZ1N0eWxlXT1cInsncGFkZGluZy1sZWZ0JzogaXRlbUNvbmZpZy5pY29uID8gJzVweCc6JzE5cHgnfVwiPjwvZW0+XG4gIDxzcGFuIHN0eWxlPVwid2hpdGUtc3BhY2U6IG5vd3JhcDtkaXNwbGF5OiBpbmxpbmUgOyBwYWRkaW5nLWxlZnQ6NXB4XCI+e3tpdGVtQ29uZmlnLnRpdGxlfX1cbiAgPC9zcGFuPlxuICA8L2xpPlxuICA8L3VsPlxuICA8L3NwYW4+XG4gIGAsXG4gIHN0eWxlczogW2AuYnV0dG9ue3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjoxcHggc29saWQgIzU1NTtmb250LXdlaWdodDo0MDA7Y29sb3I6IzAwMDtwYWRkaW5nOi41cmVtIDFyZW07dGV4dC1hbGlnbjpjZW50ZXI7dHJhbnNpdGlvbi1kdXJhdGlvbjouNHM7dGV4dC1kZWNvcmF0aW9uOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6M3B4fS5idXR0b246YWZ0ZXJ7Y29udGVudDpcIlwiO2JhY2tncm91bmQ6IzAwMDtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmctdG9wOjMwMCU7cGFkZGluZy1sZWZ0OjM1MCU7bWFyZ2luLWxlZnQ6LTIwcHghaW1wb3J0YW50O21hcmdpbi10b3A6LTEyMCU7b3BhY2l0eTowO3RyYW5zaXRpb246LjhzfS5idXR0b246YWN0aXZlOmFmdGVye3BhZGRpbmc6MDttYXJnaW46MDtvcGFjaXR5OjE7dHJhbnNpdGlvbjpub25lfS5jb250ZXh0LW1lbnUtbGlzdHtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjttaW4td2lkdGg6MTgwcHg7Y3Vyc29yOnBvaW50ZXI7bWF4LWhlaWdodDoxNTBweDt6LWluZGV4OjE7cGFkZGluZzoxMHB4IDA7b3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7Ym94LXNoYWRvdzowIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLC4yKSwwIDhweCAxMHB4IDFweCByZ2JhKDAsMCwwLC4xNCksMCAzcHggMTRweCAycHggcmdiYSgwLDAsMCwuMTIpfS5jb250ZXh0LW1lbnUtbGlzdCAuY29udGV4dC1tZW51LWxpc3QtaXRlbXN7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50O3BhZGRpbmc6NXB4O2Rpc3BsYXk6YmxvY2t9LmNsb3Nle2Zsb2F0OnJpZ2h0O3BhZGRpbmctcmlnaHQ6OHB4O2N1cnNvcjpwb2ludGVyfWBdXG59KVxuXG5cbmV4cG9ydCBjbGFzcyBEcmlsbGFibGVDb21wb25lbnQgZXh0ZW5kcyBWaWV3RHJpbGxhYmxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBtb3VzZUxvY2F0aW9uOiB7IGxlZnQ6IG51bWJlcjsgdG9wOiBudW1iZXIgfSA9IHsgbGVmdDogMCwgdG9wOiAwIH07XG4gIGNvbnRleHRtZW51RmxhZzogYm9vbGVhbjtcbiAgY29udGV4dFN0eWxlOiBhbnk7XG4gIENvbXBvbmVudERhdGFBcnJheTogYW55XG4gIGNvbXBvbmVudGNvdW50ZXI6IG51bWJlciA9IDE7XG4gIGRpc2FibGVGbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIGFycmF5b2ZzYW1lTGV2ZWw6IGFueTtcbiAgZXZlbnREYXRhOiBhbnk7XG4gIHJpZ2h0Q2xpY2tOb2RlRGF0YTogYW55O1xuICBwb3NpeFVwOiBib29sZWFuO1xuICBsZXZlbEFycmF5OiBhbnk7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcblxuXG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG5cbiAgICB0aGlzLkNvbXBvbmVudERhdGFBcnJheSA9IHRoaXMuZ2V0Q29tcG9uZW50RGF0YSgpO1xuICAgIHRoaXMuZ2V0RGF0YSh0aGlzLkNvbXBvbmVudERhdGFBcnJheSk7XG5cbiAgfVxuICBnZXREYXRhKGRhdGE6IGFueSkge1xuICAgIGRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcblxuICAgICAgaWYgKGVsZW1lbnQubGV2ZWwgIT09IDEpIHtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQuZHJpbGxhYmxlRXZlbnQuc3Vic2NyaWJlKChldmVudGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgIHRoaXMuaGlkZVVJKGV2ZW50ZGF0YSk7XG4gICAgICAgICAgdGhpcy5zYW1lTGV2ZWxDaGFydChldmVudGRhdGEpO1xuICAgICAgICAgIHRoaXMuU2hvd1VJKGV2ZW50ZGF0YSk7XG5cblxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUZsYWcgPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVFdmVudC5zdWJzY3JpYmUoKGV2ZW50ZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgdGhpcy5oaWRlVUkoZXZlbnRkYXRhKTtcbiAgICAgICAgICB0aGlzLnNhbWVMZXZlbENoYXJ0KGV2ZW50ZGF0YSk7XG4gICAgICAgICAgdGhpcy5TaG93VUkoZXZlbnRkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgaGlkZVVJKGV2ZW50UmVmOiBhbnkpIHtcbiAgICB0aGlzLkNvbXBvbmVudERhdGFBcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQubGV2ZWwgPT0gZXZlbnRSZWYucmVmLmxldmVsKSB7XG4gICAgICAgIGV2ZW50UmVmLnJlZi5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG4gIFNob3dVSShldmVudFJlZjogYW55KSB7XG4gICAgdGhpcy5ldmVudERhdGEgPSBbXTtcbiAgICB0aGlzLmV2ZW50RGF0YSA9IGV2ZW50UmVmO1xuICAgIHRoaXMuQ29tcG9uZW50RGF0YUFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBpZiAoZXZlbnRSZWYucmVmLnRhcmdldCA9PSBlbGVtZW50LmxldmVsKSB7XG4gICAgICAgIGlmICh0aGlzLmFycmF5b2ZzYW1lTGV2ZWwubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICB0aGlzLmRpc2FibGVGbGFnID0gdHJ1ZTtcbiAgICAgICAgICBlbGVtZW50LmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgICAgICAgIGVsZW1lbnQuZmV0Y2hEYXRhKGV2ZW50UmVmLm5vZGUpO1xuICAgICAgICAgIHRoaXMuY29tcG9uZW50Y291bnRlciA9IGVsZW1lbnQubGV2ZWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0bWVudUZsYWcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMubW91c2VMb2NhdGlvbi5sZWZ0ID0gZXZlbnRSZWYuZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICB0aGlzLm1vdXNlTG9jYXRpb24udG9wID0gZXZlbnRSZWYuZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICB0aGlzLmNvbnRleHRTdHlsZSA9IHRoaXMuZ2V0Q29udGV4dE1lbnVTdHlsZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIGlmICh0aGlzLmNvbXBvbmVudGNvdW50ZXIgPT0gZXZlbnRSZWYucmVmLmxldmVsKSB7XG4gICAgICBldmVudFJlZi5yZWYuZHJpbGxhYmxlRmxhZyA9IHRydWU7XG4gICAgfVxuXG4gIH1cbiAgcHJldmlvdXNjaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgY2hhcnRMZXZlbCA9IHRoaXMuY29tcG9uZW50Y291bnRlciAtIDE7XG4gICAgdGhpcy5Db21wb25lbnREYXRhQXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChjaGFydExldmVsID09IGVsZW1lbnQubGV2ZWwpIHtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gdHJ1ZTtcbiAgICAgICAgZWxlbWVudC5kcmF3Q2hhcnQoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb21wb25lbnRjb3VudGVyID09IGVsZW1lbnQubGV2ZWwpIHtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50Y291bnRlciA9PSAyKSB7XG4gICAgICB0aGlzLmRpc2FibGVGbGFnID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY29tcG9uZW50Y291bnRlciA9IGNoYXJ0TGV2ZWw7XG4gIH1cblxuXG4gIHNhbWVMZXZlbENoYXJ0KGV2ZW50UmVmOiBhbnkpIHtcbiAgXG4gICAgdGhpcy5hcnJheW9mc2FtZUxldmVsID0gW107XG4gICAgdGhpcy5Db21wb25lbnREYXRhQXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChldmVudFJlZi5yZWYudGFyZ2V0ID09IGVsZW1lbnQubGV2ZWwpIHtcbiAgICAgICAgdGhpcy5hcnJheW9mc2FtZUxldmVsID0gdGhpcy5hcnJheW9mc2FtZUxldmVsLmNvbmNhdChlbGVtZW50KTtcblxuICAgICAgfVxuXG4gICAgfSk7XG4gIH1cblxuICAvL01ldGhvZCBDcmVhdGVzIHN0eWxlIGlmIHR3byBzYW1lIHRhcmdldHMgZm91bmQuXG4gIGdldENvbnRleHRNZW51U3R5bGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdjdXJzb3InOiAnZGVmYXVsdCcsXG4gICAgICAncG9zaXRpb24nOiAnZml4ZWQnLFxuICAgICAgJ2Rpc3BsYXknOiB0aGlzLmNvbnRleHRtZW51RmxhZyA/ICdibG9jaycgOiAnbm9uZScsXG4gICAgICAnbGVmdCc6IHRoaXMubW91c2VMb2NhdGlvbi5sZWZ0ICsgJ3B4JyxcbiAgICAgICd0b3AnOiB0aGlzLm1vdXNlTG9jYXRpb24udG9wICsgJ3B4JyxcbiAgICAgICdib3gtc2hhZG93JzogJzFweCAxcHggMnB4ICMwMDAwMDAnLFxuICAgICAgJ3dpZHRoJzogJzE1JScsXG4gICAgfTtcbiAgfVxuXG5cblxuICBnZXRMaXN0UG9zaXRpb24oZWxlbWVudFJlZjogYW55KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGVpZ2h0ID0gMjQwO1xuICAgIGlmICgod2luZG93LnNjcmVlbi5oZWlnaHQgLSBlbGVtZW50UmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSkgPCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgb25Db250ZXh0Tm9kZUNsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLmNvbXBvbmVudGNvdW50ZXIgPSAwO1xuICAgIHRoaXMuY29udGV4dG1lbnVGbGFnID0gZmFsc2U7XG4gICAgdGhpcy5ldmVudERhdGEucmVmLmRyaWxsYWJsZUZsYWcgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVGbGFnID0gdHJ1ZTtcbiAgICBldmVudC5kcmlsbGFibGVGbGFnID0gdHJ1ZTtcbiAgICBldmVudC5mZXRjaERhdGEodGhpcy5ldmVudERhdGEubm9kZSk7XG4gICAgdGhpcy5jb21wb25lbnRjb3VudGVyID0gZXZlbnQubGV2ZWw7XG5cbiAgICBpZiAodGhpcy5jb21wb25lbnRjb3VudGVyID09IHRoaXMuZXZlbnREYXRhLnJlZi5sZXZlbCkge1xuICAgICAgdGhpcy5ldmVudERhdGEucmVmLmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2xvc2VDbGljaygpIHtcbiAgICB0aGlzLmNvbnRleHRtZW51RmxhZyA9IGZhbHNlO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IEFtZXhpb0QzRG91bnV0Q2hhcnRDb21wb25lbnQgfSBmcm9tICcuL2RvdW51dC9kb3VudXQuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzUGllQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuL3BpZS9waWUuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzTGVnZW5kIH0gZnJvbSAnLi9sZWdlbmQvbGVnZW5kLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi9iYXIvYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0xpbmVDb21wb25lbnQgfSBmcm9tICcuL2xpbmUvbGluZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQmFyc3RhY2tDb21wb25lbnQgfSBmcm9tICcuL2JhcnN0YWNrL2JhcnN0YWNrLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBHcm91cGJhckNvbXBvbmVudCB9IGZyb20gJy4vZ3JvdXBiYXIvZ3JvdXBiYXIuY29tcG9uZW50JztcbmltcG9ydCB7IERyaWxsYWJsZUNvbXBvbmVudCB9IGZyb20gJy4vZHJpbGxhYmxlL2RyaWxsYWJsZS9kcmlsbGFibGUuY29tcG9uZW50JztcbmltcG9ydCB7IENvbWJvY2hhcnRDb21wb25lbnQgfSBmcm9tICcuL2NvbWJvY2hhcnQvY29tYm9jaGFydC5jb21wb25lbnQnO1xuaW1wb3J0IHsgSGlzdG9ncmFtQ29tcG9uZW50IH0gZnJvbSAnLi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBNdWx0aWFyZWFDb21wb25lbnQgfSBmcm9tICcuL211bHRpYXJlYS9tdWx0aWFyZWEuY29tcG9uZW50JztcbmltcG9ydCB7IFNjYXR0ZXJjaGFydENvbXBvbmVudCB9IGZyb20gJy4vc2NhdHRlcmNoYXJ0L3NjYXR0ZXJjaGFydC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tDb21wb25lbnQgfSBmcm9tICcuL2NhbmRsZXN0aWNrL2NhbmRsZXN0aWNrLmNvbXBvbmVudCc7XG5pbXBvcnR7QnViYmxlQ29tcG9uZW50fSBmcm9tICcuL2J1YmJsZS9idWJibGUvYnViYmxlLmNvbXBvbmVudCc7XG5pbXBvcnR7QW1leGlvRDNUaW1lbGluZUNoYXJ0Q29tcG9uZW50fSBmcm9tICcuL3RpbWVsaW5lL3RpbWVsaW5lLmNvbXBvbmVudCdcbmV4cG9ydCBjb25zdCBEM19DT01QT05FTlRTIDogYW55W10gPSBbXG4gIEFtZXhpb0QzTGVnZW5kLFxuICBBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50LFxuICBBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50LFxuICBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50LFxuICBBbWV4aW9EM0xpbmVDb21wb25lbnQsXG4gIEJhcnN0YWNrQ29tcG9uZW50LFxuICBHcm91cGJhckNvbXBvbmVudCxcbiAgQ29tYm9jaGFydENvbXBvbmVudCxcbiAgRHJpbGxhYmxlQ29tcG9uZW50LFxuICBIaXN0b2dyYW1Db21wb25lbnQsXG4gIE11bHRpYXJlYUNvbXBvbmVudCxcbiAgU2NhdHRlcmNoYXJ0Q29tcG9uZW50LFxuICBDYW5kbGVzdGlja0NvbXBvbmVudCxcbiAgQnViYmxlQ29tcG9uZW50LFxuICBBbWV4aW9EM1RpbWVsaW5lQ2hhcnRDb21wb25lbnRcbl1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEM19DT01QT05FTlRTIH0gZnJvbSAnLi9hbWV4aW8tY2hhcnQtZDMtY29tcG9uZW50cyc7XG5pbXBvcnQge0Zvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyAgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydHtEZXZpY2VRdWVyeVNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnXG5cbmV4cG9ydCAqIGZyb20gJy4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgQ29tbW9uTW9kdWxlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICBdLFxuIFxuICBkZWNsYXJhdGlvbnM6IEQzX0NPTVBPTkVOVFMsXG4gIHByb3ZpZGVyczogW0RldmljZVF1ZXJ5U2VydmljZV0sXG4gIGV4cG9ydHM6IEQzX0NPTVBPTkVOVFNcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvQ2hhcnREM01vZHVsZSB7IH1cbiAgICAgICAgICAgICAgICJdLCJuYW1lcyI6WyJ0c2xpYl8xLl9fdmFsdWVzIiwiZDMiLCJ0c2xpYl8xLl9fZXh0ZW5kcyIsImFyYyIsImQzLmFyYyIsInBpZSIsImQzLnBpZSIsImQzLnNlbGVjdCIsImQzLmV2ZW50IiwiZDMuc2NhbGVCYW5kIiwiZDMuc2NhbGVMaW5lYXIiLCJkMy5tYXgiLCJkMy5heGlzQm90dG9tIiwiZDMuYXhpc0xlZnQiLCJtaW4iLCJtYXgiLCJkMy5zY2FsZVBvaW50IiwibGluZSIsImQzLmxpbmUiLCJkMy5zdGFjayIsImQzLnN0YWNrT2Zmc2V0RGl2ZXJnaW5nIiwiZDMubWluIiwiZDMuc2NhbGVPcmRpbmFsIiwiZDMuc2NoZW1lQ2F0ZWdvcnkxMCIsImQzLnpvb20iLCJhcmVhIiwiZDMuYXJlYSIsImQzLnNjYWxlU3FydCIsImQzLnNjYWxlVGltZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztJQXdESSxvQ0FBWSxTQUFnQjtRQXBEbEIsa0JBQWEsR0FBUSxJQUFJLFlBQVksRUFBTyxDQUFDO1FBRTdDLGlCQUFZLEdBQVEsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUU1QyxnQkFBVyxHQUFRLElBQUksWUFBWSxFQUFPLENB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