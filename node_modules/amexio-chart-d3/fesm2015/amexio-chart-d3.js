import { Input, Output, EventEmitter, Injectable, Component, ViewChild, ChangeDetectorRef, NgModule, defineInjectable, inject, ContentChildren, Inject, PLATFORM_ID } from '@angular/core';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { isPlatformBrowser, CommonModule } from '@angular/common';
import * as d3 from 'd3';
import { scaleBand, scaleLinear, max, select, axisBottom, axisLeft, event as event$1, scaleTime, scalePoint, scaleSqrt, min, zoom, stack, stackOffsetDiverging, scaleOrdinal, schemeCategory10, line, area, arc, pie } from 'd3';
import { FormsModule } from '@angular/forms';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class AmexioD3BaseChartComponent {
    /**
     * @param {?} charttype
     */
    constructor(charttype) {
        this.onLegendClick = new EventEmitter();
        this.onChartClick = new EventEmitter();
        this.onLineClick = new EventEmitter();
        this.drillableEvent = new EventEmitter();
        this.data = [];
        this.legend = true;
        this.height = "300";
        this.width = "300";
        this.title = "";
        this.labelcolor = "black";
        this.labelflag = false;
        this.level = 0;
        this.drillabledatakey = [];
        this.hScale = true;
        this.vScale = false;
        this.resizeflag = false;
        //-------------------
        this.drillableFlag = true;
        this.possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcddefghijklmonpqrstuvwxyz";
        this.colorIndex = 0;
        this.colors = [];
        this.charttype = charttype;
        this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        this.componentId = this.charttype + "-" + this.generateId();
    }
    /**
     * @protected
     * @return {?}
     */
    initializeData() {
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            element.color = this.getColor(element);
        }));
    }
    /**
     * @protected
     * @param {?} data
     * @param {?} drillablekeys
     * @return {?}
     */
    getMultipleDrillbleKeyData(data, drillablekeys) {
        /** @type {?} */
        let nodeObject = {};
        if (data) {
            for (let index = 0; index < drillablekeys.length; index++) {
                /** @type {?} */
                let element = drillablekeys[index];
                for (let [key, value] of Object.entries(data)) {
                    if (key == element) {
                        nodeObject[key] = value;
                    }
                }
            }
            return nodeObject;
        }
    }
    /**
     * @private
     * @return {?}
     */
    generateId() {
        /** @type {?} */
        let id = "";
        for (let i = 0; i < 5; i++) {
            id = id + this.possible
                .charAt(Math.floor(Math.random() * this.possible.length));
        }
        id = id + "-" + new Date().getTime();
        return id;
    }
    /**
     * @private
     * @param {?} object
     * @return {?}
     */
    getColor(object) {
        if (object.color) {
            return object.color;
        }
        else if (this.colors.length > this.colorIndex) {
            /** @type {?} */
            const color = this.colors[this.colorIndex];
            this.colorIndex++;
            return color;
        }
        else if ((this.colors.length > 0) && (this.colors.length <= this.colorIndex)) {
            this.colorIndex = 0;
            /** @type {?} */
            const color = this.colors[this.colorIndex];
            return color;
        }
        else {
            /** @type {?} */
            const color = this.predefinedcolors[this.colorIndex];
            this.colorIndex++;
            return color;
        }
    }
    /**
     * @param {?} node
     * @return {?}
     */
    legendClick(node) {
        this.onLegendClick.emit(node);
    }
    /**
     * @param {?} node
     * @return {?}
     */
    chartClick(node) {
        this.onChartClick.emit(node);
    }
    /**
     * @param {?} node
     * @return {?}
     */
    comboLineClick(node) {
        this.onLineClick.emit(node);
    }
    /**
     * @param {?} ref
     * @param {?} node
     * @param {?} event
     * @return {?}
     */
    fordrillableClick(ref, node, event) {
        this.drillableEvent.emit({ ref: ref, node: node, event: event });
    }
    /**
     * @protected
     * @param {?} d3
     * @return {?}
     */
    toolTip(d3$$1) {
        return d3$$1.select("body")
            .append("div")
            .attr('id', 'tooltipid')
            .attr('class', 'amexiod3tooltip')
            .style("position", "absolute")
            .style("z-index", "10")
            .style("fill", "black")
            .style("visibility", "hidden");
    }
    /**
     * @protected
     * @param {?} tooltipdata
     * @return {?}
     */
    toolTipContent(tooltipdata) {
        /** @type {?} */
        let tooltiphtml = "<table>";
        for (const key in tooltipdata) {
            if (tooltipdata.hasOwnProperty(key)) {
                /** @type {?} */
                const value = tooltipdata[key];
                tooltiphtml = tooltiphtml + "<tr>";
                //------------------
                //   tooltiphtml = tooltiphtml + "<td>";
                //   tooltiphtml = tooltiphtml + key+':';
                //   tooltiphtml = tooltiphtml + "</td>";
                //------------------
                tooltiphtml = tooltiphtml + "<td>";
                tooltiphtml = tooltiphtml + value;
                tooltiphtml = tooltiphtml + "</td>";
                tooltiphtml = tooltiphtml + "</tr>";
            }
        }
        tooltiphtml = tooltiphtml + "</table>";
        return tooltiphtml;
    }
    /**
     * @protected
     * @param {?} legend
     * @param {?} xaxis
     * @param {?} yaxis
     * @return {?}
     */
    toolTipWithLegendandAxis(legend, xaxis, yaxis) {
        /** @type {?} */
        let tooltiphtml = "<div>";
        tooltiphtml = tooltiphtml + "<b>" + xaxis + "</b>, ";
        tooltiphtml = tooltiphtml + legend + "</b> ";
        tooltiphtml = tooltiphtml + "<b>" + yaxis + "</b> ";
        tooltiphtml = tooltiphtml + "</div>";
        return tooltiphtml;
    }
    /**
     * @protected
     * @param {?} tooltipData
     * @return {?}
     */
    toolTipForBar(tooltipData) {
        /** @type {?} */
        let tooltiphtml = "<div>";
        for (let [key, value] of Object.entries(tooltipData)) {
            /** @type {?} */
            let sideStyle = "float:left";
            tooltiphtml = tooltiphtml + "<div>";
            tooltiphtml = tooltiphtml + "<span style =" + sideStyle + " ><b>" + key + " " + "</b>" + value + "</br></span>";
            tooltiphtml = tooltiphtml + "</div>";
        }
        return tooltiphtml;
    }
}
AmexioD3BaseChartComponent.propDecorators = {
    onLegendClick: [{ type: Output }],
    onChartClick: [{ type: Output }],
    onLineClick: [{ type: Output }],
    drillableEvent: [{ type: Output }],
    data: [{ type: Input, args: ['data',] }],
    httpurl: [{ type: Input, args: ['http-url',] }],
    httpmethod: [{ type: Input, args: ['http-method',] }],
    legend: [{ type: Input, args: ['legend',] }],
    colors: [{ type: Input, args: ['color',] }],
    height: [{ type: Input, args: ['height',] }],
    width: [{ type: Input, args: ['width',] }],
    title: [{ type: Input, args: ['title',] }],
    labelcolor: [{ type: Input, args: ['label-color',] }],
    labelflag: [{ type: Input, args: ['label',] }],
    datareader: [{ type: Input, args: ['data-reader',] }],
    level: [{ type: Input, args: ['level',] }],
    target: [{ type: Input, args: ['target',] }],
    drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
    hScale: [{ type: Input, args: ['horizontal-scale',] }],
    vScale: [{ type: Input, args: ['vertical-scale',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class CommanDataService {
    /**
     * @param {?} http
     */
    constructor(http) {
        this.http = http;
    }
    /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @return {?}
     */
    fetchUrlData(serviceUrl, methodType) {
        /** @type {?} */
        const requestJson = {};
        /** @type {?} */
        const headers = new HttpHeaders().append('Content-Type', 'application/json;charset=UTF-8');
        if (methodType === 'post') {
            return this.http.post(serviceUrl, requestJson, { headers });
        }
        else if (methodType === 'get') {
            return this.http.get(serviceUrl, { headers });
        }
    }
    /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @param {?} requestJson
     * @return {?}
     */
    postfetchData(serviceUrl, methodType, requestJson) {
        /** @type {?} */
        const headers = new HttpHeaders().append('Content-Type', 'application/json;charset=UTF-8');
        if (methodType === 'post') {
            return this.http.post(serviceUrl, requestJson, { headers });
        }
        else if (methodType === 'get') {
            return this.http.get(serviceUrl, { headers });
        }
    }
}
CommanDataService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] },
];
CommanDataService.ctorParameters = () => [
    { type: HttpClient }
];
/** @nocollapse */ CommanDataService.ngInjectableDef = defineInjectable({ factory: function CommanDataService_Factory() { return new CommanDataService(inject(HttpClient)); }, token: CommanDataService, providedIn: "root" });

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class DeviceQueryService {
    /**
     * @param {?} platformId
     */
    constructor(platformId) {
        this.platformId = platformId;
        this.rules = {
            print: 'print',
            screen: 'screen',
            phone: '(max-width: 767px)',
            tablet: '(min-width: 768px) and (max-width: 1024px)',
            desktop: '(min-width: 1025px)',
            portrait: '(orientation: portrait)',
            landscape: '(orientation: landscape)',
            retina: '(-webkit-min-device-pixel-ratio: 2) and (min-resolution: 192dpi)',
        };
        this.Check = (/**
         * @param {?} mq
         * @return {?}
         */
        function (mq) {
            if (isPlatformBrowser(this.platformId)) {
                if (!mq) {
                    return;
                }
                return window.matchMedia(mq).matches;
            }
            else {
                return;
            }
        });
        this.IsTablet = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.tablet).matches;
            }
            else {
                return null;
            }
        });
        this.IsDesktop = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.desktop).matches;
            }
            else {
                return null;
            }
        });
        this.IsPortrait = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.portrait).matches;
            }
            else {
                return null;
            }
        });
        this.IsLandscape = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.landscape).matches;
            }
            else {
                return null;
            }
        });
        this.IsRetina = (/**
         * @return {?}
         */
        function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.retina).matches;
            }
            else {
                return null;
            }
        });
        this.browserWindow = (/**
         * @return {?}
         */
        () => {
            return window;
        });
    }
    /**
     * *******************************************
     * METHODS FOR CHECKING TYPE
     * ********************************************
     * @return {?}
     */
    IsPhone() {
        if (isPlatformBrowser(this.platformId)) {
            return window.matchMedia(this.rules.phone).matches;
        }
        else {
            return null;
        }
    }
    /**
     * *******************************************
     * EVENT LISTENERS BY TYPE
     * ********************************************
     * @param {?} callBack
     * @return {?}
     */
    OnPhone(callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            const mql = window.matchMedia(this.rules.phone);
            this.mqlMethod(callBack, mql);
        }
    }
    /**
     * @param {?} callBack
     * @return {?}
     */
    OnTablet(callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            const mql = window.matchMedia(this.rules.tablet);
            this.mqlMethod(callBack, mql);
        }
    }
    /**
     * @param {?} callBack
     * @return {?}
     */
    OnDesktop(callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            const mql = window.matchMedia(this.rules.desktop);
            this.mqlMethod(callBack, mql);
        }
    }
    /**
     * @param {?} callBack
     * @return {?}
     */
    OnPortrait(callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            const mql = window.matchMedia(this.rules.portrait);
            this.mqlMethod(callBack, mql);
        }
    }
    /**
     * @param {?} callBack
     * @return {?}
     */
    OnLandscape(callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            const mql = window.matchMedia(this.rules.landscape);
            this.mqlMethod(callBack, mql);
        }
    }
    /**
     * @param {?} callBack
     * @param {?} mql
     * @return {?}
     */
    mqlMethod(callBack, mql) {
        mql.addListener((/**
         * @param {?} mql1
         * @return {?}
         */
        (mql1) => {
            if (mql1.matches) {
                callBack(mql);
            }
        }));
    }
}
DeviceQueryService.decorators = [
    { type: Injectable },
];
DeviceQueryService.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class AmexioD3DounutChartComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super('DONUTCHART');
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.pie = false;
        this.svgwidth = 300;
        this.svgheight = 300;
        this.desktoplegend = false;
        this.mobilelegend = false;
        this.keyArray = [];
        this.transformeddata = [];
        this.legendArray = [];
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (this.level <= 1) {
            /** @type {?} */
            let resp;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    resp = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.data = this.getResponseData(resp);
                        this.drawChart();
                        // this.data = this.getResponseData(resp);
                        this.transformData(this.data);
                        this.initializeData();
                        this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(this.data);
                    this.transformData(this.data);
                    this.initializeData();
                    this.plotD3Chart();
                }), 0);
            }
        }
        else {
            this.fetchData(this.drillData);
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        /** @type {?} */
        let resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                resp = response;
                this.response = resp;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.drillableFlag = true;
            this.initializeData();
            this.plotD3Chart();
        }), 0);
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @return {?}
     */
    plotD3Chart() {
        this.formLegendData();
        //this.transformData(this.data);
        //  this.data = this.transformeddata;
        /** @type {?} */
        let outerRadius = 0;
        /** @type {?} */
        let innerRadius = 0;
        outerRadius = this.svgwidth / 2;
        innerRadius = this.svgwidth / 4;
        if (this.pie) {
            innerRadius = 0;
        }
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        /** @type {?} */
        const arc$$1 = arc()
            .outerRadius(outerRadius)
            .innerRadius(innerRadius);
        /** @type {?} */
        const pie$$1 = pie()
            .value((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return d[Object.keys(d)[1]];
            //  return d.value
        }));
        this.svg = select("#" + this.componentId)
            .append('g')
            .attr('transform', 'translate(' + this.svgwidth / 2 + ',' + this.svgheight / 2 + ')')
            .selectAll('path')
            .data(pie$$1(this.data))
            .enter();
        if (this.device.IsDesktop() == true) {
            this.desktoplegend = true;
            this.mobilelegend = false;
        }
        // else{
        //        if(this.device.IsPhone()==true && this.device.IsTablet()==true)
        //        {
        //             this.desktoplegend=false;
        //             this.mobilelegend=true;
        //        }
        // }
        /** @type {?} */
        const path = this.svg.append('path')
            .attr('d', arc$$1)
            .attr('fill', (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        (d, i) => {
            if (d.data.color) {
                return d.data.color;
            }
            else {
                return "black";
            }
            //  return (d && d.data && d.data.color) ? d.data.color : "black"
        }))
            .attr('cursor', 'pointer')
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.html(this.formTooltipData(d.data)
            //  this.formLegendData(d.data)
            // this.toolTipContent(d.data)
            )
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.DonutChartClick(d.data);
            this.fordrillableClick(this, d.data, event);
            return tooltip.style("visibility", "hidden");
            //this.chartClick(d.data);
        }));
        if (this.labelflag) {
            /** @type {?} */
            const text = this.svg.append("text")
                .transition()
                .duration(200)
                .attr("transform", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return "translate(" + arc$$1.centroid(d) + ")";
            }))
                .attr("text-anchor", "middle")
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return d.data[Object.keys(d.data)[1]];
                //return d.data.value;
            }))
                .style('fill', (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.labelcolor && this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
                // return (d && d.data && d.data.textcolor) ? d.data.textcolor : "black";
            }))
                .style('font-size', '12px');
        }
    }
    /**
     * @return {?}
     */
    formLegendData() {
        this.legendArray = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let legendobject = {};
            legendobject['label'] = element[Object.keys(element)[0]];
            legendobject['value'] = element[Object.keys(element)[1]];
            legendobject['color'] = element.color;
            this.legendArray.push(legendobject);
        }));
    }
    /**
     * @param {?} legendevent
     * @return {?}
     */
    onDonutLegendClick(legendevent) {
        /** @type {?} */
        let obj = {};
        //  obj['label'] = legendevent.label;
        //  obj['value'] = legendevent.value 
        obj[this.keyArray[0]] = legendevent.label;
        obj[this.keyArray[1]] = legendevent.value;
        //delete event.color;
        this.legendClick(obj);
    }
    /**
     * @param {?} data
     * @return {?}
     */
    transformData(data) {
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let DummyObject = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                (individualvalue, keyindex) => {
                    DummyObject[this.keyArray[keyindex]] = individualvalue;
                })); //inner for loop ends
                this.transformeddata.push(DummyObject);
            } //if ends
        })); //outer for loop ends
        this.data = this.transformeddata;
    }
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    formTooltipData(tooltipData) {
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(tooltipData)) {
            if (key != 'color' && key != 'textcolor') {
                object[key] = value;
            }
        }
        return this.toolTipForBar(object);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    DonutChartClick(event) {
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(event)) {
            if (key != 'color') {
                object[key] = value;
            }
        }
        this.chartClick(object);
    }
    /**
     * @param {?} data
     * @return {?}
     */
    resize(data) {
        this.desktoplegend = false;
        this.mobilelegend = true;
        this.plotD3Chart();
    }
}
AmexioD3DounutChartComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-donut',
                template: `<div *ngIf="drillableFlag" #chartId (window:resize)="resize($event)">
    <div *ngIf="data.length > 0">

  
    <div colspan="2" style="font-size: 18px; font-weight: bold; ">
        {{title}}
    </div>
    <div [ngClass]="'donutcss'">
        <svg preserveAspectRatio="xMinYMin meet" viewBox="0 0 300 300" [attr.height]="height" [attr.width]="width" [attr.id]="componentId">
        </svg>
        <div>

            <div style="display: block; padding: 1%;">
                <div *ngIf="desktoplegend">
                    <amexio-d3-legend *ngIf="legend" (onClick)="onDonutLegendClick($event)" [data]="legendArray" style="height:100%;"></amexio-d3-legend>
                </div>
                <div *ngIf="mobilelegend">
                    <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="onDonutLegendClick($event)" [data]="legendArray" style="height:100%;"></amexio-d3-legend>
                </div>
            </div>
        </div>
        <!--  -->
        <div *ngIf="data.length < 1" class="lmask" style="padding-top:50%">
            </div>

        </div>`,
                styles: [`.donutcss{display:flex;flex-direction:row}@media screen and (max-width:1024px){.donutcss{display:flex;flex-direction:column}}`]
            },] },
];
AmexioD3DounutChartComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
AmexioD3DounutChartComponent.propDecorators = {
    pie: [{ type: Input, args: ['pie',] }],
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }],
    drillid: [{ type: ViewChild, args: ['drillid',] }],
    drillData: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class AmexioD3PieChartComponent {
    constructor() {
        this.data = [];
        this.onLegendClick = new EventEmitter();
        this.onChartClick = new EventEmitter();
        this.drillableEvent = new EventEmitter();
        this.legend = true;
        this.colors = [];
        this.width = "300";
        this.height = "300";
        this.title = "";
        this.level = 0;
        this.labelcolor = "black";
        this.labelflag = false;
        this.drillableFlag = true;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} node
     * @return {?}
     */
    legendClick(node) {
        this.onLegendClick.emit(node);
    }
    /**
     * @param {?} node
     * @return {?}
     */
    chartClick(node) {
        this.onChartClick.emit(node);
    }
    /**
     * @param {?} ref
     * @return {?}
     */
    fordrillableClick(ref) {
        this.drillableEvent.emit(ref);
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        this.drillData = data;
    }
    /**
     * @return {?}
     */
    drawChart() {
        this.donutref.drillableFlag = true;
        this.donutref.drawChart();
    }
}
AmexioD3PieChartComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-pie',
                template: `<div   *ngIf="drillableFlag">
<amexio-d3-chart-donut #id (onLegendClick)="legendClick($event)" 
                       (onChartClick)="chartClick($event)" 
                       (drillableEvent)=" fordrillableClick($event)"
                        [height]="height"
                        [width]="width"
                        [title]="title"
                        [data] = "data"
                        [pie]  = "true"
                        [color]="colors"
                        [http-url]="httpurl"
                        [http-method]="httpmethod"
                        [data-reader]="datareader"
                        [label]="labelflag"
                        [label-color]="labelcolor"
                        [level]="level"
                        [target]="target"
                        [drillable-data]="drillabledatakey"
                        [drillData]="drillData">
</amexio-d3-chart-donut>
</div>
`
            },] },
];
AmexioD3PieChartComponent.propDecorators = {
    data: [{ type: Input, args: ['data',] }],
    onLegendClick: [{ type: Output }],
    onChartClick: [{ type: Output }],
    drillableEvent: [{ type: Output }],
    donutref: [{ type: ViewChild, args: ['id',] }],
    legend: [{ type: Input }],
    colors: [{ type: Input, args: ['color',] }],
    width: [{ type: Input, args: ['width',] }],
    height: [{ type: Input, args: ['height',] }],
    title: [{ type: Input }],
    httpurl: [{ type: Input, args: ['http-url',] }],
    httpmethod: [{ type: Input, args: ['http-method',] }],
    datareader: [{ type: Input, args: ['data-reader',] }],
    level: [{ type: Input, args: ['level',] }],
    target: [{ type: Input, args: ['target',] }],
    drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
    labelcolor: [{ type: Input, args: ['label-color',] }],
    labelflag: [{ type: Input, args: ['label',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class AmexioD3Legend {
    constructor() {
        this.horizontal = false;
        this.temparr = [];
        this.onClick = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.data = this.data;
        this.temparr = this.data;
    }
    /**
     * @return {?}
     */
    ngOnChanges() {
        // debugger;
        // window.location.reload();
        this.data = this.data;
        this.temparr = this.data;
    }
    /**
     * @param {?} node
     * @return {?}
     */
    onLegendClick(node) {
        this.onClick.emit(node);
    }
}
AmexioD3Legend.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-legend',
                template: `<div style =" width: 100% ; padding-left: 20px; padding-top: 8px; ">
<table *ngIf="!horizontal" style="height: 100%;">
    <tr *ngFor = "let node of data" style="cursor: pointer;" (click)="onLegendClick(node)">
        <td style="height: 10px; width: 23px; padding-left: 2px;"
            [ngStyle]="{'background-color': node.color}"></td>
        <td>{{node.label}}</td>
    </tr>
</table>
</div>

<table *ngIf="horizontal" style="height: 100%;">
    <tr>
        <td *ngFor = "let node of data" 
                    (click)="onLegendClick(node)" 
                    style="cursor: pointer;">
            
            <div style=" display: inline-block; display: inline-block; padding: 2px;">
                    <div style=" width: 10px; display: inline-block; padding: 2px; " 
                    [ngStyle]="{'background-color': node.color}"></div>
                {{node.label}}
            </div>
        </td>
        
    </tr>
</table>

<br>
 `
            },] },
];
AmexioD3Legend.ctorParameters = () => [];
AmexioD3Legend.propDecorators = {
    data: [{ type: Input, args: ['data',] }],
    horizontal: [{ type: Input, args: ['horizontal',] }],
    onClick: [{ type: Output }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class AmexioD3BarChartComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super('bar');
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.svgheight = 300;
        this.horizontal = false;
        this.labelcolor = "black";
        this.labelflag = false;
        this.level = 0;
        this.drillabledatakey = [];
        this.hScale = true;
        this.showzeroflag = true;
        this._data = [];
        this.resizeflag = false;
        this.drillableFlag = true;
        this.colorflag = false;
        this.keyArray = [];
        this.transformeddata = [];
        this.legendArray = [];
        this.firstloading = false;
        this.inc = 0;
        this.isChartInit = false;
    }
    // private _data: any = [];
    /**
     * @param {?} v
     * @return {?}
     */
    set data(v) {
        if (v && (v.length > 0)) {
            this._data = v;
            // if(this.isChartInit){
            //   this.resize();
            // }
            // if (this.data) {
            // setTimeout(() => {
            //   this.data = this.getResponseData(this.data);
            //   this.transformData(this.data)
            //   this.initializeData();
            //   this.plotD3Chart();
            // }, 0);
            // }
            // this.cdf.detectChanges();
            // this.formLegendData();
        }
    }
    /**
     * @return {?}
     */
    get data() {
        return this._data;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            let resp;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    resp = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.data = this.getResponseData(resp);
                        // this.drawChart();
                        this.transformData(this.data);
                        this.initializeData();
                        this.plotD3Chart();
                        this.isChartInit = true;
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(this.data);
                    this.transformData(this.data);
                    this.initializeData();
                    this.plotD3Chart();
                    this.isChartInit = true;
                }), 0);
            }
        }
    }
    // Fetch Data
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        /** @type {?} */
        let resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                resp = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.initializeData();
            this.plotD3Chart();
        }), 0);
    }
    /**
     * @return {?}
     */
    ngOnChanges() {
        // console.log("repeat");
        if (this.inc > 1) {
            if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(this.data);
                    this.transformData(this.data);
                    this.initializeData();
                    this.plotD3Chart();
                }), 500);
            }
            this.formLegendData();
        }
        this.inc++;
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @return {?}
     */
    plotD3Chart() {
        this.formLegendData();
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        /** @type {?} */
        const margin = { top: 20, right: 60, bottom: 40, left: 60 };
        /** @type {?} */
        const width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        const height = this.svgheight - margin.top - margin.bottom;
        //RESIZE STEP 2 START
        // this.svg.selectAll("*").remove();
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight);
        this.svg.selectAll("*").remove();
        // this.svg.exit().remove();//remove unneeded circles
        //RESIZE STEP 2 ENDS HERE
        /** @type {?} */
        let x;
        /** @type {?} */
        let y;
        /** @type {?} */
        const g = this.svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        // vertical bar
        if (this.horizontal == false) {
            // this.svg.selectAll("*").remove();
            // -----------------------------
            if (this.data) {
                x = scaleBand()
                    .rangeRound([0, width])
                    .padding(0.1);
                //setting content for x and y axis
                x.domain(this.data.map((/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return d[Object.keys(d)[0]];
                    //    return d.label
                })));
            }
            //-----------------------------
            if (this.data) {
                y = scaleLinear()
                    .rangeRound([height, 0]);
                y.domain([0, max(this.data, (/**
                     * @param {?} d
                     * @return {?}
                     */
                    (d) => {
                        return d[Object.keys(d)[1]];
                        //return d.value;
                    }))]);
            }
            // add x axis to svg
            if (this.device.IsDesktop() == true) {
                if (this.svgwidth <= 400) {
                    g.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(axisBottom(x)).
                        selectAll("text")
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(60)")
                        .style("text-anchor", "start");
                }
                else {
                    g.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(axisBottom(x));
                }
            }
            else {
                g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            //add y axis to svg
            g.append("g")
                .call(axisLeft(y)
                .ticks(this.tickscount));
            this.plotLine(g, x, y, height, width);
            //add bar chart
            g.selectAll(".bar")
                .data(this.data)
                .enter()
                .append("rect")
                .attr("class", "bar")
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x(d[Object.keys(d)[0]]);
                // return x(d.label); 
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return y(d[Object.keys(d)[1]]);
                // return y(d.value); 
            }))
                .attr("cursor", "pointer")
                .attr("width", x.bandwidth())
                .attr("height", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return height - y(d[Object.keys(d)[1]]); }))
                .style("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                // return "blue";
                return d.color;
            }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.formTooltipData(d)
                //  this.toolTipForBar(d)
                // this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.barChartClick(d);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
                //this.chartClick(d);
            }));
            if (this.labelflag) {
                /** @type {?} */
                var yTextPadding = 40;
                this.svg.selectAll(".label")
                    .data(this.data)
                    .enter()
                    .append("text")
                    .style("font-weight", "bold")
                    .style("font-size", "1vw")
                    .attr("text-anchor", "middle")
                    .attr("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    if (this.labelcolor.length > 0) {
                        if ((this.labelcolor.length > 0) && d[Object.keys(d)[1]] > 0) {
                            return this.labelcolor;
                        }
                    }
                    else {
                        return "black";
                    }
                }))
                    .attr("x", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                (d, i) => {
                    return x(d[Object.keys(d)[0]]) + margin.left + x.bandwidth() / 2;
                }))
                    .attr("y", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                (d, i) => {
                    return y(d[Object.keys(d)[1]]) + yTextPadding;
                }))
                    .text((/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    // if (d[Object.keys(d)[1]] > 0) {
                    //   return d[Object.keys(d)[1]];
                    // }.
                    if (this.showzeroflag) {
                        return d[Object.keys(d)[1]];
                    }
                    else if (!this.showzeroflag) {
                        if (d[Object.keys(d)[1]] > 0) {
                            return d[Object.keys(d)[1]];
                        }
                    }
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.html(this.formTooltipData(d)
                    //  this.toolTipForBar(d)
                    // this.toolTipContent(d)
                    )
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    this.barChartClick(d);
                    this.fordrillableClick(this, d, event);
                    return tooltip.style("visibility", "hidden");
                    //this.chartClick(d);
                }));
            } //if ends fr 
        }
        else if (this.horizontal == true) {
            if (this.data) {
                x = scaleLinear()
                    .rangeRound([0, width]);
                //setting content for x and y axis
                x.domain([0, max(this.data, (/**
                     * @param {?} d
                     * @return {?}
                     */
                    (d) => {
                        return parseInt(d[Object.keys(d)[1]]
                        // d.value
                        );
                    }))]);
                // d[Object.keys(d)[1]]
                y = scaleBand()
                    .rangeRound([height, 0]).padding(0.1);
                y.domain(this.data.map((/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return d[Object.keys(d)[0]];
                    //return d.label;
                })));
            }
            // add x axis to svg
            g.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x).ticks(this.xtickscount));
            //add y axis to svg
            g.append("g")
                .call(axisLeft(y).ticks(this.tickscount));
            this.plotLine(g, x, y, height, width);
            //add bar chart
            g.selectAll(".bar")
                .data(this.data)
                .enter()
                .append("rect")
                .attr("class", "bar")
                .attr("x", 0)
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return y(d[Object.keys(d)[0]]
                // d.label
                );
            }))
                .attr("cursor", "pointer")
                .attr("width", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x(d[Object.keys(d)[1]]
                // d.value
                );
            }))
                .attr("height", y.bandwidth())
                .style("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return d.color; }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.formTooltipData(d)
                // this.formLegendData(d)
                // this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.barChartClick(d);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
                //this.chartClick(d);
            }));
            if (this.labelflag) {
                /** @type {?} */
                let yTextPadding = 40;
                this.svg.selectAll(".label")
                    .data(this.data)
                    .enter()
                    .append("text")
                    .style("font-weight", "bold")
                    .attr("text-anchor", "middle")
                    .attr("vertical-align", "middle")
                    .attr("margin-top", margin.top)
                    .attr("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    if (this.labelcolor.length > 0) {
                        return this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                }))
                    .attr("x", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                (d, i) => {
                    return x(d[Object.keys(d)[1]]) + yTextPadding;
                }))
                    .attr("y", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                (d, i) => {
                    return y(d[Object.keys(d)[0]])
                        + margin.top + y.bandwidth() / 2;
                }))
                    .text((/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    // return d[Object.keys(d)[1]];
                    if (this.showzeroflag) {
                        return d[Object.keys(d)[1]];
                    }
                    else if (!this.showzeroflag) {
                        if (d[Object.keys(d)[1]] > 0) {
                            return d[Object.keys(d)[1]];
                        }
                    }
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.html(this.formTooltipData(d)
                    // this.formLegendData(d)
                    // this.toolTipContent(d)
                    )
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    this.barChartClick(d);
                    this.fordrillableClick(this, d, event);
                    return tooltip.style("visibility", "hidden");
                    //this.chartClick(d);
                }));
            }
        }
        //else ends(horizontal bar logic ends)
    }
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotLine(g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y).ticks(this.tickscount)
                .tickSize(-width).tickFormat(''));
        }
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat('').ticks(this.xtickscount));
        }
    }
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    formTooltipData(tooltipData) {
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(tooltipData)) {
            if (key != 'color') {
                object[key] = value;
            }
        }
        return this.toolTipForBar(object);
    }
    /**
     * @param {?} data
     * @return {?}
     */
    transformData(data) {
        if (data && (data.length > 0)) {
            this.transformeddata = [];
            this.keyArray = data[0];
            if (data && (data.length > 0)) {
                data.forEach((/**
                 * @param {?} element
                 * @param {?} index
                 * @return {?}
                 */
                (element, index) => {
                    if (index > 0) {
                        /** @type {?} */
                        let DummyObject = {};
                        element.forEach((/**
                         * @param {?} individualvalue
                         * @param {?} keyindex
                         * @return {?}
                         */
                        (individualvalue, keyindex) => {
                            DummyObject[this.keyArray[keyindex]] = individualvalue;
                        })); //inner for loop ends
                        this.transformeddata.push(DummyObject);
                    } //if ends
                })); //outer for loop ends
            }
            this.data = this.transformeddata;
        } //
    }
    /**
     * @return {?}
     */
    formLegendData() {
        this.legendArray = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let legendobject = {};
            legendobject['label'] = element[Object.keys(element)[0]];
            legendobject['value'] = element[Object.keys(element)[1]];
            legendobject['color'] = element.color;
            this.legendArray.push(legendobject);
        }));
        this.legendArray;
    }
    /**
     * @param {?} legendevent
     * @return {?}
     */
    onBarLegendClick(legendevent) {
        /** @type {?} */
        let obj = {};
        //  obj['label'] = legendevent.label;
        //  obj['value'] = legendevent.value;
        obj[this.keyArray[0]] = legendevent.label;
        obj[this.keyArray[1]] = legendevent.value;
        //obj[legendevent.label] = legendevent.value;
        //delete event.color;
        this.legendClick(obj);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    barChartClick(event) {
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(event)) {
            if (key != 'color') {
                object[key] = value;
            }
        }
        this.chartClick(object);
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    //RESIZE STEP 5 STARTS
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotD3Chart();
    }
    // //RESIZE STEP 5 STARTS
    //   initialresize() {
    //     if (this.wt) {
    //       //RESIZE STEP 3 START
    //       // if(this.firstloading)
    //       // this.svg.selectAll("*").remove();
    //       this.resizeflag = true;
    //       if (this.svgwidth) {
    //         this.svgwidth = this.svgwidth;
    //       } else if (this.chartId) {
    //         this.svgwidth = this.chartId.nativeElement.offsetWidth;
    //       }
    //       //RESIZE STEP 3 ENDS
    //       // this.svgwidth = this.divid.nativeElement.offsetWidth;
    //       this.cdf.detectChanges();
    //       this.plotD3Chart();
    //     }
    //     this.firstloading = false;
    //   }
    // //RESIZE STEP 5 ENDS
    /**
     * @return {?}
     */
    validateData() {
        if (this.data) ;
        else {
            return "lmask";
        }
    }
}
AmexioD3BarChartComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-bar',
                template: `<div #chartId *ngIf="drillableFlag " #divid (window:resize)="validateresize()">
    <table [ngClass]="validateData()" style="width: 100%;" position=" relative">
        <ng-container *ngIf="title.length > 0">
            <tr>
                <td style="font-size: 18px; font-weight: bold; "> {{title}} </td>
            </tr>
        </ng-container>
        <tr>
            <td>
                <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId">
                </svg>
            </td>
        </tr>
        <tr *ngIf="legend">
            <td style="display: block; padding: 5px;">
                <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="onBarLegendClick($event)" [data]="legendArray" style="height:100%;">
                </amexio-d3-legend>
            </td>
        </tr>
    </table>
    <!-- <table *ngIf="!(data && data.length >0)" class="lmask">
        
    </table > -->
    <!-- <div *ngIf="data.length < 1" class="lmask" style="padding-top:50%">
    </div> -->

</div>`
            },] },
];
AmexioD3BarChartComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
AmexioD3BarChartComponent.propDecorators = {
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    horizontal: [{ type: Input }],
    labelcolor: [{ type: Input, args: ['label-color',] }],
    labelflag: [{ type: Input, args: ['label',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }],
    drillid: [{ type: ViewChild, args: ['drillid',] }],
    DOM: [{ type: ViewChild, args: ['domref',] }],
    datareader: [{ type: Input, args: ['data-reader',] }],
    level: [{ type: Input, args: ['level',] }],
    target: [{ type: Input, args: ['target',] }],
    drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
    hScale: [{ type: Input, args: ['horizontal-scale',] }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    xtickscount: [{ type: Input, args: ['xaxis-interval',] }],
    showzeroflag: [{ type: Input, args: ['show-zero-values',] }],
    _data: [{ type: Input, args: ['data',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class AmexioD3BaseLineComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} deviceQueryService
     */
    constructor(deviceQueryService) {
        super('line');
        this.deviceQueryService = deviceQueryService;
        this._data = [];
        this.xarr = [];
        this.displayindex = 0;
        this.svgheight = 300;
        // @Input('xaxis-interval') xtickscount: number = 3;
        this.linecolor = [];
        this.slant = false;
    }
    /**
     * @param {?} v
     * @return {?}
     */
    set data(v) {
        this._data = v;
        if (this._data && (this._data.length > 0)) {
            this.createXYAxisData();
        }
    }
    /**
     * @return {?}
     */
    get data() {
        return this._data;
    }
    /**
     * @protected
     * @return {?}
     */
    createXYAxisData() {
        this.labelcolor;
        this.xaxisdata = [];
        this.yaxisdata = [];
        this.multiseriesdata = [];
        this.legenddata = [];
        this.legends = [];
        this.xaxisname = this.data[0][0].label;
        /** @type {?} */
        const msdarray = [];
        /** @type {?} */
        let count = 0
        // ************************************************
        ;
        // ************************************************
        if (this.displayfield) {
            // find displayfield index
            this._data[0].forEach((/**
             * @param {?} element
             * @param {?} index
             * @return {?}
             */
            (element, index) => {
                if (element.label == this.displayfield) {
                    this.displayindex = index;
                }
            }));
        }
        // ***********************************************
        for (let index = 0; index < this._data[0].length; index++) {
            /** @type {?} */
            const legend = this._data[0][index];
            msdarray[index] = [];
            /** @type {?} */
            let obj = {};
            obj['label'] = legend.label;
            if ((this.linecolor.length > 0) && this.linecolor[index]) {
                obj['color'] = this.linecolor[index];
            }
            else {
                obj['color'] = this.predefinedcolors[index];
            }
            this.legenddata.push(obj);
            // this.legenddata.push({'label':legend.label,'color':this.predefinedcolors[index+1]});
            if (index > 0) {
                /** @type {?} */
                let obj = {};
                obj['label'] = legend.label;
                if ((this.linecolor.length > 0) && this.linecolor[count]) {
                    obj['color'] = this.linecolor[count];
                }
                else {
                    obj['color'] = this.predefinedcolors[count];
                }
                this.legends.push(obj);
                count++;
                // this.legends.push({'label':legend.label,'color':this.predefinedcolors[index]});
            }
        }
        /** @type {?} */
        let i = 0;
        // xaxisdata yaxisdata msdarray is formed here
        this._data.forEach((/**
         * @param {?} object
         * @return {?}
         */
        object => {
            if (i > 0) {
                /** @type {?} */
                let j = 0;
                /** @type {?} */
                let xobj = {};
                object.forEach((/**
                 * @param {?} a
                 * @return {?}
                 */
                a => {
                    // if (j === 0) {
                    //     this.xaxisdata.push({ 'label': a, 'value': a });
                    // } else {
                    //     this.yaxisdata.push({ 'label': a, 'value': a });
                    // }
                    if ((j > 0) && (j !== this.displayindex)) {
                        this.yaxisdata.push({ 'label': a, 'value': a });
                    }
                    if (j == 0) {
                        xobj['value'] = a;
                    }
                    if (j == this.displayindex) {
                        xobj['label'] = a;
                    }
                    msdarray[j].push(a);
                    j++;
                }));
                this.xaxisdata.push(xobj);
            }
            i++;
        }));
        for (let index = 0; index < msdarray.length; index++) {
            /** @type {?} */
            const element = msdarray[index];
            if ((index > 0) && (index !== this.displayindex)) {
                /** @type {?} */
                let md = [];
                for (let j = 0; j < element.length; j++) {
                    /** @type {?} */
                    const v = element[j];
                    md.push({ 'legend': this.legenddata[index].label, 'label': this.xaxisdata[j].label, 'value': v });
                }
                this.multiseriesdata.push(md);
                this.legends[index - 1].data = md;
            }
        }
    }
    /**
     * @param {?} width
     * @return {?}
     */
    recalculatescale(width) {
        // consider fontsize to be 10
        this.xaxisdata;
        /** @type {?} */
        let summationwidth = 0;
        if (!this.displayfield) {
            this.xaxisdata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                if (typeof (element.label) == 'string') {
                    summationwidth = summationwidth + (element.label.length * 10);
                }
                if (typeof (element.label) == 'number') {
                    /** @type {?} */
                    let n = this.findDigitCount(element.label);
                    summationwidth = summationwidth + (n * 10);
                }
            }));
        }
        if (this.displayfield) {
            this.xaxisdata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                // if (typeof (element.label) == 'string') {
                summationwidth = summationwidth + (element.label.length * 10);
                // }
            }));
        }
        if (this.displayfield && this.slant) {
            summationwidth = this.xaxisdata.length * 10;
        }
        if (summationwidth > width) {
            //  function call
            this.calculatexaxisarray(summationwidth, width);
        }
    }
    /**
     * @param {?} summationwidth
     * @param {?} width
     * @return {?}
     */
    calculatexaxisarray(summationwidth, width) {
        /** @type {?} */
        let interval = Math.round(summationwidth / width);
        this.generateNewAxis(interval, width);
    }
    /**
     * @param {?} interval
     * @param {?} avlwidth
     * @return {?}
     */
    generateNewAxis(interval, avlwidth) {
        this.xaxisdata;
        /** @type {?} */
        let arr = [];
        /** @type {?} */
        let newarr = [];
        /** @type {?} */
        let min$$1;
        /** @type {?} */
        let max$$1;
        //    make Array out of this.xaxisdata
        this.xaxisdata.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            // if (typeof (element.label) == 'number') {
            arr.push(element.label);
            // }
        }));
        //null check on arr
        if (arr.length > 0) {
            // find min
            min$$1 = Math.min.apply(null, arr);
            //find max
            max$$1 = Math.max.apply(null, arr);
            /** @type {?} */
            let temp = Math.round(avlwidth / 10);
            /** @type {?} */
            let differential = (temp - (temp * 0.2)) / 4;
            //form new arr
            /** @type {?} */
            let j = Math.round(differential);
            //   hjlkllll
            /** @type {?} */
            let i;
            /** @type {?} */
            let isredundant = false;
            if (!this.displayfield) {
                newarr[0] = min$$1;
                for (i = 1; j < this.xaxisdata.length; i++) {
                    j = Math.round((differential * i) + i);
                    isredundant = this.checkArrayRedundancy(newarr, Math.round(j));
                    if (isredundant) {
                        newarr[i] = Math.round(j + 1);
                    }
                    else {
                        newarr[i] = Math.round(j);
                    }
                }
                this.sortarr(newarr);
            }
            if (this.displayfield) {
                for (i = 0; j < this.xaxisdata.length; i++) {
                    j = Math.round((differential * i) + i);
                    if (this.xaxisdata[j]) {
                        newarr[i] = this.xaxisdata[j].label;
                    }
                    else {
                        if (this.xaxisdata[j + 1]) {
                            newarr[i] = this.xaxisdata[j + 1].label;
                        }
                    }
                }
                this.xarr = newarr;
            }
        }
    }
    /**
     * @param {?} newarr
     * @param {?} chknum
     * @return {?}
     */
    checkArrayRedundancy(newarr, chknum) {
        /** @type {?} */
        let inc = 0;
        newarr.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            if (chknum == element) {
                inc++;
            }
        }));
        if (inc > 1) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @param {?} newarr
     * @return {?}
     */
    sortarr(newarr) {
        /** @type {?} */
        let i;
        /** @type {?} */
        let j;
        /** @type {?} */
        let temp;
        for (i = 0; i < newarr.length; ++i) {
            for (j = i + 1; j < newarr.length; ++j) {
                if (newarr[i] > newarr[j]) {
                    temp = newarr[i];
                    newarr[i] = newarr[j];
                    newarr[j] = temp;
                }
            }
        }
        //    newarr;
        this.setXaxisData(newarr);
    }
    /**
     * @param {?} newarr
     * @return {?}
     */
    setXaxisData(newarr) {
        this.xarr = newarr;
        // this.xaxisdata.push({label: 125, value: 125});
        // chk if newarr elements are present in xaxisdata
        /** @type {?} */
        let ispresent = false;
        newarr.forEach((/**
         * @param {?} arrelement
         * @return {?}
         */
        arrelement => {
            this.xaxisdata.forEach((/**
             * @param {?} xaxiselement
             * @return {?}
             */
            xaxiselement => {
                if (arrelement == xaxiselement.label) {
                    ispresent = true;
                }
            }));
            if (!ispresent) {
                //create & push an obj in xaxisdata
                /** @type {?} */
                let obj = { label: arrelement, value: arrelement };
                this.xaxisdata.push(obj);
            }
            ispresent = false;
        }));
        //  
        // change arr to arr of objs
        /** @type {?} */
        let xdata = [];
        newarr.forEach((/**
         * @param {?} element
         * @return {?}
         */
        (element) => {
            /** @type {?} */
            let obj = { label: element, value: element };
            xdata.push(obj);
        }));
        this.xaxisdata;
        this.xaxisdata1 = xdata;
        //initialize xaxis data
    }
    /**
     * @param {?} n
     * @return {?}
     */
    findDigitCount(n) {
        /** @type {?} */
        let count = 0;
        if (n >= 1)
            ++count;
        while (n / 10 >= 1) {
            n /= 10;
            ++count;
        }
        return count;
    }
    /**
     * @param {?} width
     * @return {?}
     */
    setXinterval(width) {
        /** @type {?} */
        let interval = Math.round(this.xaxisdata.length / this.xinterval);
        /** @type {?} */
        let arr = [];
        /** @type {?} */
        let newarr = [];
        //    make Array out of this.xaxisdata
        this.xaxisdata.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            if (typeof (element.label) == 'number') {
                arr.push(element.label);
            }
        }));
        /** @type {?} */
        let min$$1 = Math.min.apply(null, arr);
        //find max
        /** @type {?} */
        let max$$1 = Math.max.apply(null, arr);
        /** @type {?} */
        let j = interval;
        /** @type {?} */
        let i;
        /** @type {?} */
        let ispresent = false;
        newarr[0] = min$$1;
        // assa
        for (i = 1; j < max$$1; i++) {
            j = interval * i;
            newarr[i] = j;
        }
        // newarr[i] = max;
        //inset numbers which are not present in xaxis domain but present in newarr
        newarr.forEach((/**
         * @param {?} arrelement
         * @return {?}
         */
        arrelement => {
            this.xaxisdata.forEach((/**
             * @param {?} xaxiselement
             * @return {?}
             */
            xaxiselement => {
                if (xaxiselement.label == arrelement) {
                    ispresent = true;
                }
            }));
            if (!ispresent) {
                /** @type {?} */
                let obj = { label: arrelement, value: arrelement };
                this.xaxisdata.push(obj);
            }
            ispresent = false;
        }));
        // this.sortarr(newarr);
        // newarr;
        // this.xaxisdata;
        this.xarr = newarr;
    }
    /**
     * @param {?} width
     * @return {?}
     */
    setDisplayfieldXinterval(width) {
        /** @type {?} */
        let interval = Math.round(this.xaxisdata.length / this.xinterval);
        /** @type {?} */
        let arr = [];
        /** @type {?} */
        let newarr = [];
        //    make Array out of this.xaxisdata
        this.xaxisdata.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            arr.push(element.label);
        }));
        /** @type {?} */
        let min$$1 = 0;
        /** @type {?} */
        let max$$1 = this.xaxisdata.length - 1;
        /** @type {?} */
        let j = interval;
        /** @type {?} */
        let i;
        newarr[0] = this.xaxisdata[min$$1].label;
        for (i = 1; j < max$$1; i++) {
            newarr[i] = this.xaxisdata[j].label;
            j = interval * i;
        }
        newarr.push(this.xaxisdata[max$$1].label);
        this.xarr = newarr;
    }
    // formatxaxisarr() {
    //     let formattedarr = [];
    //     let temp = '';
    //     if(this.xarr) {
    //     if (typeof (this.xarr[0]) == 'string') {
    //         // treat string
    //         this.xarr.forEach(element => {
    //             if (typeof (element) == 'string') {
    //                 temp = '';
    //                 temp = element[0] + element[1] + '..'
    //                 formattedarr.push(temp)
    //             }
    //         });
    //          this.xarr = formattedarr;
    //     }
    //     if (typeof (this.xarr[0]) == 'number') {
    //         // treat numerials
    //         // wrap numbers
    //     }
    //              }
    // }
    /**
     * @protected
     * @return {?}
     */
    initChart() {
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        //RESIZE STEP 2 START
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight);
        this.svg.selectAll("*").remove();
        /** @type {?} */
        const margin = { top: 40, right: 20, bottom: 30, left: 40 };
        //RESIZE STEP 2 ENDS HERE
        /** @type {?} */
        const width = +this.svgwidth - margin.left - margin.right;
        // this.xaxisdata;
        if (this.xinterval) {
            if (!this.displayfield) {
                this.setXinterval(width);
            }
            if (this.displayfield) {
                this.setDisplayfieldXinterval(width);
            }
        }
        else {
            this.recalculatescale(width);
        }
        /** @type {?} */
        const height = +this.svgheight - margin.top - margin.bottom;
        /** @type {?} */
        const g = this.svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        const x = scalePoint()
            .rangeRound([0, width])
            .padding(0.1);
        /** @type {?} */
        const y = scaleLinear()
            .rangeRound([height, 0]);
        if (this.xaxisdata) {
            x.domain(this.xaxisdata.map((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (typeof (d.label) == 'string') {
                    return d.label;
                }
                else {
                    return parseInt(d.value);
                }
            })));
        }
        if (this.yaxisdata) {
            y.domain([0, max(this.yaxisdata, (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => { return d.value; }))]);
        }
        //add axis
        /** @type {?} */
        let xaxisbottom = axisBottom(x);
        if (this.xarr.length > 0) {
            // if(this.slant) {
            // this.formatxaxisarr();
            //  }
            xaxisbottom.tickValues(this.xarr);
        }
        if (this.deviceQueryService.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xaxisbottom
                // d3.axisBottom(x)
                // .tickValues(this.xarr)
                ).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                /** @type {?} */
                let bottomaxis = g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xaxisbottom);
                if (this.slant) {
                    // this.formatxaxisarr(); 
                    bottomaxis.selectAll("text")
                        .attr("cursor", "pointer")
                        .on("mouseover", (/**
                     * @param {?} d
                     * @return {?}
                     */
                    (d) => {
                        return tooltip.style("visibility", "visible");
                    }))
                        .on("mousemove", (/**
                     * @param {?} d
                     * @return {?}
                     */
                    (d) => {
                        return tooltip.html(this.callXaxisTooltip(d))
                            .style("top", (event$1.pageY - 10) + "px")
                            .style("left", (event$1.pageX + 10) + "px");
                    }))
                        .on("mouseout", (/**
                     * @param {?} d
                     * @return {?}
                     */
                    (d) => {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .on("click", (/**
                     * @param {?} d
                     * @return {?}
                     */
                    (d) => {
                        return tooltip.style("visibility", "hidden");
                    }))
                        .attr("y", 0)
                        .attr("x", 9)
                        .attr("dy", ".35em")
                        .attr("transform", "rotate(90)")
                        .style("text-anchor", "start")
                        .style("font-size", 10);
                }
            }
        }
        else {
            g.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(xaxisbottom).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start")
                .style("font-size", 10);
        }
        g.append("g")
            .call(axisLeft(y).ticks(this.tickscount));
        // tickSize(0,10));
        /** @type {?} */
        let rawdata = this._data;
        // call function to alter legends if displayfield condn satisfy
        this.alterLegend();
        return {
            g, x, y, height, width, rawdata
        };
        // 
    }
    /**
     * @protected
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotScale(g, x, y, height, width) {
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat(''));
        }
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y).ticks(this.tickscount)
                .tickSize(-width).tickFormat(''));
        }
    }
    /**
     * @param {?} node
     * @return {?}
     */
    legendClick(node) {
        // const legendNode = JSON.parse(JSON.stringify(node));
        // delete legendNode.color;
        // legendNode.data.forEach(element => {
        //     delete element.legend;
        // });
        // const legendNode = JSON.parse(JSON.stringify(node));
        // delete legendNode.color;
        // legendNode.data.forEach(element => {
        //     delete element.legend;
        // });
        /** @type {?} */
        let obj = {};
        obj["label"] = node.label;
        /** @type {?} */
        let data = [];
        node.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let object = {};
            object[element.legend] = element.value;
            object[this.xaxisname] = element.label;
            //   object[element.label] = element.value;
            data.push(object);
        }));
        obj["data"] = data;
        this.onLegendClick.emit(obj);
        // this.onLegendClick.emit(legendNode);
    }
    /**
     * @return {?}
     */
    alterLegend() {
        this.linelegends = [];
        if (this.displayfield) {
            this.legends.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                if (element.label !== this.displayfield) {
                    this.linelegends.push(element);
                }
            }));
        }
        else {
            this.linelegends = this.legends;
        }
    }
    /**
     * @param {?} tooltipdata
     * @return {?}
     */
    callXaxisTooltip(tooltipdata) {
        /** @type {?} */
        var obj = {};
        obj['x-axis'] = tooltipdata;
        return this.toolTipForBar(obj);
    }
}
AmexioD3BaseLineComponent.propDecorators = {
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    xinterval: [{ type: Input, args: ['data',] }, { type: Input, args: ['xaxis-interval',] }],
    httpurl: [{ type: Input, args: ['http-url',] }],
    httpmethod: [{ type: Input, args: ['http-method',] }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    linecolor: [{ type: Input, args: ['color',] }],
    displayfield: [{ type: Input, args: ['display-field',] }],
    slant: [{ type: Input, args: ['rotate',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class AmexioD3LineComponent extends AmexioD3BaseLineComponent {
    /**
     * @param {?} deviceQueryService
     * @param {?} cdf
     * @param {?} myservice
     */
    constructor(deviceQueryService, cdf, myservice) {
        super(deviceQueryService);
        this.deviceQueryService = deviceQueryService;
        this.cdf = cdf;
        this.myservice = myservice;
        this.labelcolor = '';
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            let resp;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    resp = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.data = this.getResponseData(resp);
                        this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(this.data);
                    this.plotD3Chart();
                }), 0);
            }
        }
    }
    /**
     * @return {?}
     */
    ngOnChanges() {
        if (this.data) {
            setTimeout((/**
             * @return {?}
             */
            () => {
                this.data = this.getResponseData(this.data);
                this.plotD3Chart();
            }), 0);
        }
    }
    /**
     * @return {?}
     */
    validateData() {
        if (this.data) ;
        else {
            return "lmask";
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        /** @type {?} */
        let resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                resp = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.plotD3Chart();
        }), 0);
    }
    //RESIZE STEP 5 STARTS
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            // this.resizewt = this.chartId.nativeElement.offsetWidth;
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotD3Chart();
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @return {?}
     */
    plotD3Chart() {
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        /** @type {?} */
        const linechart = this.initChart();
        this.rawdata = linechart.rawdata;
        // this.svgwidth = linechart.width;
        this.plotScale(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width);
        this.plotLine(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width, [], tooltip, (1));
        if (this.multiseriesdata) {
            for (let index = 0; index < this.multiseriesdata.length; index++) {
                this.plotLine(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width, this.multiseriesdata[index], tooltip, (index + 1));
            }
        }
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    /**
     * @private
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} data
     * @param {?} tooltip
     * @param {?} i
     * @return {?}
     */
    plotLine(g, x, y, height, width, data, tooltip, i) {
        /** @type {?} */
        const line$$1 = line()
            .x((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return x(d.label); }))
            .y((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return y(d.value); }));
        g.append("path")
            .datum(data)
            .attr("fill", "none")
            .attr("stroke", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            if (this.linecolor.length > 0) {
                if (this.linecolor[i - 1]) {
                    return this.linecolor[i - 1];
                }
                else {
                    return this.predefinedcolors[i - 1];
                }
            }
            else if (this.linecolor.length < 1) {
                return this.predefinedcolors[i - 1];
                //  return tempcolor;
            }
        }))
            .attr("stroke-width", 1.5)
            .attr("d", line$$1);
        g.selectAll('dot')
            .data(data)
            .enter()
            .append('circle')
            .attr("cx", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return x(d.label); }))
            .attr("cy", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return y(d.value); }))
            .attr('r', 2)
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            if (this.linecolor.length > 0) {
                if (this.linecolor[i - 1]) {
                    return this.linecolor[i - 1];
                }
                else {
                    return this.predefinedcolors[i - 1];
                }
            }
            else if (this.linecolor.length < 1) {
                //  return tempcolor;
                return this.predefinedcolors[i - 1];
            }
        }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.html(this.callTooltip(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.lineChartClick(d);
            this.fordrillableClick(this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        //lets plot labels here
        if (this.labelflag) {
            g.selectAll('label')
                .data(data)
                .enter()
                .append('text')
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                // if (this.labelcolor && this.labelcolor.length > 0) {
                //   return this.labelcolor;
                // } else {
                //   return "black";
                // }
                if (this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else if (this.linecolor.length > 0) {
                    if (this.linecolor[i - 1]) {
                        return this.linecolor[i - 1];
                    }
                    else {
                        return this.predefinedcolors[i - 1];
                    }
                }
                else if (this.linecolor.length < 1) {
                    //  return tempcolor;
                    return this.predefinedcolors[i - 1];
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            (d, i) => {
                return x(d.label);
            }))
                .attr("y", (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            (d, i) => {
                return y(d.value) - 10;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return d.value;
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.callTooltip(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.lineChartClick(d);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
        }
    }
    /**
     * @param {?} d
     * @return {?}
     */
    lineChartClick(d) {
        /** @type {?} */
        let obj = {};
        obj[d.legend] = d.value;
        obj[this.xaxisname] = d.label;
        this.chartClick(obj);
    }
    /**
     * @param {?} tooltipdata
     * @return {?}
     */
    callTooltip(tooltipdata) {
        /** @type {?} */
        let obj = {};
        obj[tooltipdata.legend] = tooltipdata.value;
        obj[this.xaxisname] = tooltipdata.label;
        return this.toolTipForBar(obj);
    }
}
AmexioD3LineComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-line',
                template: `<div  #chartId *ngIf="drillableFlag" #divid (window:resize)="validateresize()"> 
    <table [ngClass]="validateData()"  style="width: 100%;" > 
            <ng-container *ngIf = "title.length > 0">
            <tr><td style="font-size: 18px; font-weight: bold; "> {{title}} </td></tr>
            </ng-container>
            <tr>
                <td>
                    <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId">
                    </svg>            
                </td>
            </tr>
            <tr  *ngIf="legend">
                <td style="display: block; padding: 5px;">
                        <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="legendClick($event)" 
                                            [data]="linelegends" style="height:100%;">
                        </amexio-d3-legend>
                </td>
            
            </tr>
    </table>
    <!-- <div *ngIf="data.length < 1" class="lmask" style="padding-top:50%">
        </div> -->
    </div>
    
    <!-- {{legends | json}} -->`
            },] },
];
AmexioD3LineComponent.ctorParameters = () => [
    { type: DeviceQueryService },
    { type: ChangeDetectorRef },
    { type: CommanDataService }
];
AmexioD3LineComponent.propDecorators = {
    labelcolor: [{ type: Input, args: ['label-color',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }],
    drillid: [{ type: ViewChild, args: ['drillid',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class BarstackComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super('barstack');
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.maxYValue = 0;
        this.data = [];
        this.barwidth = 0;
        this.title = "";
        this.legend = true;
        this.color = [];
        this.svgheight = 300;
        this.onLegendClick = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    this.httpresponse = response;
                    this.data = this.getResponseData(response);
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.transformData(this.data);
                        this.plotChart();
                    }), 0);
                }));
            }
            else if (this.data1) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.transformData(this.data1);
                    this.plotChart();
                }), 0);
            }
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.data = this.getResponseData(this.httpresponse);
            this.transformData(this.data);
            this.plotChart();
        }), 0);
    }
    /**
     * @param {?} data1
     * @return {?}
     */
    transformData(data1) {
        this.keyArray = [];
        this.legendArray = [];
        data1.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        (element, i) => {
            if (i == 0) {
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} index
                 * @return {?}
                 */
                (innerelement, index) => {
                    if (index > 0) {
                        this.legendArray[innerelement] = { 'data': [] };
                        this.keyArray.push(innerelement);
                    }
                    else if (index == 0) {
                        this.xaxis = innerelement;
                    }
                }));
            }
        }));
        /** @type {?} */
        let tempinnerarray;
        tempinnerarray = [];
        data1.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let obj = {};
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} innerindex
                 * @return {?}
                 */
                (innerelement, innerindex) => {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        const key = this.keyArray[innerindex - 1];
                        obj[key] = element[innerindex];
                        /** @type {?} */
                        const legenddata = this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                        }
                    }
                }));
                tempinnerarray.push(obj);
            }
        }));
        this.data = [];
        tempinnerarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            this.data.push(element);
        }));
        /** @type {?} */
        let maxY = 0;
        /** @type {?} */
        let yaxismaxArray = [];
        //find max for yaxis
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        (element) => {
            for (let [key, value] of Object.entries(element)) {
                this.keyArray.forEach((/**
                 * @param {?} key1
                 * @return {?}
                 */
                key1 => {
                    if (key == key1) {
                        maxY = maxY + value;
                    }
                })); //keyarray loop ends here
            } //for ends here
            yaxismaxArray.push(maxY);
            maxY = 0;
        })); // foreach ends
        // foreach ends
        /** @type {?} */
        let tempLarge = 0;
        /** @type {?} */
        let i;
        for (i = 0; i < yaxismaxArray.length; i++) {
            if (yaxismaxArray[i] > tempLarge) {
                this.maxYValue = yaxismaxArray[i];
            } //if ends
        } // for ends
        this.legends = [];
        this.keyArray.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            /** @type {?} */
            const legenddata = this.legendArray[element];
            if (this.color.length > 0) {
                /** @type {?} */
                let object = { 'label': element, 'color': this.color[index], 'data': legenddata.data };
                this.legends.push(object);
            }
            else {
                /** @type {?} */
                let object = { 'label': element, 'color': this.predefinedcolors[index], 'data': legenddata.data };
                this.legends.push(object);
            }
        }));
    }
    /**
     * @return {?}
     */
    plotChart() {
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        /** @type {?} */
        let margin = { top: 30, right: 30, bottom: 90, left: 60 };
        /** @type {?} */
        let colors = this.predefinedcolors;
        if (this.device.IsDesktop()) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        //this.svgwidth = this.chartId.nativeElement.offsetWidth;
        /** @type {?} */
        let data;
        data = this.data;
        /** @type {?} */
        let keysetarray = [];
        if (this.httpmethod && this.httpurl) {
            for (let [key, value] of Object.entries(this.data[0])) {
                keysetarray.push(key);
            }
            this.keyArray = keysetarray;
            this.keyArray.splice(0, 1);
        }
        /** @type {?} */
        let series = stack().keys(this.keyArray)
            .offset(stackOffsetDiverging)(this.data);
        /** @type {?} */
        let width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        let height
        //  = this.svgheight - margin.bottom - margin.top;
        ;
        //  = this.svgheight - margin.bottom - margin.top;
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight);
        if (this.device.IsDesktop()) {
            this.offsetheight = this.chartId.nativeElement.offsetHeight;
            //  - margin.bottom -margin.top;
            height = this.offsetheight;
        }
        else {
            height = this.chartId.nativeElement.offsetHeight - 10;
        }
        /** @type {?} */
        let x = scaleBand()
            .domain(data.map((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return d[Object.keys(d)[0]];
        })))
            .rangeRound([margin.left, this.svgwidth - margin.right])
            .padding(0.35);
        /** @type {?} */
        let y = scaleLinear()
            .domain([min(this.stackMin(series)),
            this.maxYValue
            // d3.max(this.stackMax(series))
        ])
            .rangeRound([height - margin.bottom, margin.top]);
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + y(0) + ")")
                    .call(axisBottom(x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + y(0) + ")")
                    .call(axisBottom(x));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + y(0) + ")")
                .call(axisBottom(x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        this.svg.append("g")
            .attr("transform", "translate(" + margin.left + ",0)")
            .call(axisLeft(y).ticks(this.tickscount));
        this.plotLine(this.svg, x, y, height, width, margin.left);
        /** @type {?} */
        let svgRect = this.svg.append("g")
            .selectAll("g")
            .data(series)
            .enter().append("g")
            .attr("fill", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        (d, index) => {
            if (this.color.length > 0) {
                if (this.color[index]) {
                    return this.color[index];
                }
                else {
                    return colors[index];
                }
            }
            else {
                return colors[index];
            }
        }))
            .selectAll("rect")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return d;
        }));
        svgRect.enter().append("rect")
            .attr("width", x.bandwidth()).attr('id', (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        (d, i) => {
            return d.data[i];
        }))
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return x(+d.data[Object.keys(d.data)[0]]);
        }))
            .attr("y", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        (d, index) => {
            return y(d[1]);
        }))
            .attr("cursor", "pointer")
            .attr("height", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        (d, index) => {
            return y(d[0]) - y(d[1]);
        }))
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.html(this.setKey(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.setBarClickText(d);
            this.fordrillableClick(this, d, event);
            return tooltip.style("visibility", "hidden");
            // this.chartClick(d);
        }));
        // -------------------------
        if (this.labelflag) {
            svgRect.enter()
                .append("text")
                .style("font-weight", "bold")
                .style("font-size", "1vw")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.labelcolor && this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x(+d.data[Object.keys(d.data)[0]]) + x.bandwidth() / 2;
            }))
                .attr("y", (/**
             * @param {?} d
             * @param {?} index
             * @return {?}
             */
            (d, index) => {
                return y(d[1]) + 20;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if ((d[Object.keys(d)[1]] - d[Object.keys(d)[0]]) > 0) {
                    return d[Object.keys(d)[1]] - d[Object.keys(d)[0]];
                }
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.setKey(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.setBarClickText(d);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
                // this.chartClick(d);
            }));
        }
    }
    /**
     * @param {?} serie
     * @return {?}
     */
    stackMin(serie) {
        return min(serie, (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d[0]; }));
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotChart();
    }
    /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} m
     * @return {?}
     */
    plotLine(svg, x, y, height, width, m) {
        if (this.hScale) {
            svg.append('g')
                .attr("transform", "translate(" + m + ",0)")
                .attr("color", "lightgrey")
                .call(axisLeft(y).ticks(this.tickscount)
                .tickSize(-width).tickFormat(''));
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    legendClick(event) {
        /** @type {?} */
        let obj = {};
        obj["label"] = event.label;
        /** @type {?} */
        let data = [];
        event.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let object = {};
            object[element.label] = element.value;
            data.push(object);
        }));
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    }
    /**
     * @param {?} d
     * @return {?}
     */
    setKey(d) {
        /** @type {?} */
        let diff = d[0] - d[1];
        if (diff < 0) {
            diff = (diff * (-1));
        }
        for (let [key, value] of Object.entries(d.data)) {
            if (value == diff) {
                /** @type {?} */
                let object = {};
                object[key] = value;
                object[this.xaxis] = d.data[Object.keys(d.data)[0]];
                return (this.toolTipForBar(object));
            }
        }
    }
    /**
     * @param {?} d
     * @return {?}
     */
    setBarClickText(d) {
        /** @type {?} */
        let diff = d[0] - d[1];
        if (diff < 0) {
            diff = (diff * (-1));
        }
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(d.data)) {
            if (value == diff) {
                object[key] = value;
                object[this.xaxis] = d.data[Object.keys(d.data)[0]];
            }
        }
        this.chartClick(object);
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
}
BarstackComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-barstack',
                template: `<div #chartId *ngIf="drillableFlag" (window:resize)="validateresize()">
    <table *ngIf="data1.length > 0" style="width: 100%;">
            <ng-container *ngIf = "title.length > 0">
        <tr>
            <td style="font-size: 18px; font-weight: bold; "> {{title}} </td>
        </tr>
            </ng-container>
        <tr>
            <td>
                <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId">
                </svg>
            </td>
        </tr>
        <tr *ngIf="legend">
            <td style="display: block; padding: 5px;">
                <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="legendClick($event)" [data]="legends"
                    style="height:100%;">
                </amexio-d3-legend>
            </td>

        </tr>
    </table>
    <div *ngIf="data1.length < 1" class="lmask" style="padding-top:50%">
    </div>
</div>`,
                styles: [``]
            },] },
];
BarstackComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
BarstackComponent.propDecorators = {
    data1: [{ type: Input, args: ['data',] }],
    barwidth: [{ type: Input }],
    title: [{ type: Input }],
    legend: [{ type: Input }],
    color: [{ type: Input }],
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }],
    drillid: [{ type: ViewChild, args: ['drillid',] }],
    onLegendClick: [{ type: Output }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class GroupbarComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super('multibar');
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.data = [];
        this.legend = true;
        this.barwidth = 0;
        this.onLegendClick = new EventEmitter();
        this.svgheight = 300;
        this.showzeroflag = true;
        this.groupbarchartArray = [];
        this.urllegendArray = [];
        this.defualtColors = [];
        this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            let res;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    res = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.data = this.getResponseData(res);
                        this.initializeData();
                        this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(this.data);
                    this.initializeData();
                    this.plotD3Chart();
                }), 0);
            }
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        /** @type {?} */
        let resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                resp = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.initializeData();
            this.plotD3Chart();
        }), 0);
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @return {?}
     */
    plotD3Chart() {
        this.convertToJSON();
        this.plotGroupBarChart();
        this.transformData(this.data);
    }
    /**
     * @private
     * @return {?}
     */
    plotGroupBarChart() {
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        this.defualtColors = this.predefinedcolors;
        // this.svgwidth = this.chartId.nativeElement.offsetWidth;
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        const margin = { top: 20, right: 20, bottom: 50, left: 40 };
        /** @type {?} */
        const width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        const height = this.svgheight - margin.top - margin.bottom;
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        const x0 = scaleBand()
            .rangeRound([0, width])
            .padding(0.2);
        /** @type {?} */
        const x1 = scaleBand().padding(0.1);
        /** @type {?} */
        const y = scaleLinear()
            .rangeRound([height, 0]);
        //setting x and y domains
        this.years = this.groupbarchartArray.map((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d.labels; }));
        /** @type {?} */
        let label = this.groupbarchartArray[0].values.map((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d.label; }));
        x0.domain(this.years);
        x1.domain(label).rangeRound([0, x0.bandwidth()]);
        y.domain([0, max(this.groupbarchartArray, (/**
             * @param {?} labels
             * @return {?}
             */
            (labels) => { return max(labels.values, (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return d.value; })); }))]);
        //dynamic barwidth
        if (this.barwidth > 0) {
            this.barwidth = this.barwidth;
        }
        else {
            this.barwidth = x0.bandwidth;
        }
        // add x axis to svg
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x0)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x0));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x0)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        //add y axis to svg
        this.svg.append("g")
            .call(axisLeft(y)
            .ticks(10).ticks(this.tickscount));
        this.plotLine(this.svg, y, height, width);
        // svg.select('.y').transition().duration(500).delay(1300).style('opacity', '1');
        //adding bars
        /** @type {?} */
        let slice = this.svg.selectAll(".slice")
            .data(this.groupbarchartArray)
            .enter().append("g")
            .attr("class", "g")
            .attr("transform", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            (d.values).forEach((/**
             * @param {?} element
             * @param {?} index
             * @return {?}
             */
            (element, index) => {
                //splice 0 
                if (element.value && (element.value < 1)) {
                    d.values.splice(0, index);
                }
            }));
            return "translate(" + x0(d.labels) + ",0)";
        }));
        slice.selectAll("rect")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d.values; }))
            .enter().
            append("rect")
            .attr("width", x1.bandwidth)
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return x1(d.label);
        }))
            .style("fill", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        (d, index) => {
            if (this.colors.length > 0) {
                if (this.colors[index]) {
                    return this.colors[index];
                }
                else {
                    return this.defualtColors[index];
                }
            }
            else {
                return this.defualtColors[index];
            }
        }))
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return y(0); }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return height - y(0); }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.html(this.setKey(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })).on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.groupbarClick(d);
            this.fordrillableClick(this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        // -------------------------------------------------------
        if (this.labelflag) {
            slice.selectAll("text")
                .data((/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return d.values; }))
                .enter().append("text")
                .attr("width", x1.bandwidth)
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x1(d.label) + x1.bandwidth() / 2;
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return y(d.value); }))
                .attr("height", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return height - y(0); }))
                .style("font-weight", "bold")
                .style("font-size", "1vw")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.labelcolor && this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                // if((d.value > 0) ) {
                // return d.value;
                // }
                if (this.showzeroflag) {
                    return d.value;
                }
                else if (!this.showzeroflag) {
                    if (d.value > 0) {
                        return d.value;
                    }
                }
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.setKey(d)
                //  this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })).on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.groupbarClick(d);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
                // this.chartClick(d);
            }));
        }
        slice.selectAll("rect")
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return y(d.value);
        }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return height - y(d.value); }));
    }
    /**
     * @param {?} d
     * @return {?}
     */
    groupbarClick(d) {
        /** @type {?} */
        let object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        this.chartClick(object);
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotGroupBarChart();
    }
    /**
     * @param {?} event
     * @return {?}
     */
    legendClick(event) {
        /** @type {?} */
        let obj = {};
        obj["label"] = event.label;
        /** @type {?} */
        let data = [];
        event.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let object = {};
            object[element.label] = element.value;
            data.push(object);
        }));
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    }
    //2d array to json conversion
    /**
     * @return {?}
     */
    convertToJSON() {
        /** @type {?} */
        let groupChartObj = { "labels": "", values: [] };
        /** @type {?} */
        let firstRowOfData = this.data[0];
        this.xaxisData = this.data[0][0];
        for (let i = 1; i < this.data.length; i++) {
            /** @type {?} */
            let multiSeriesArray = [];
            /** @type {?} */
            let valueOfJ;
            for (let j = 1; j < this.data[i].length; j++) {
                valueOfJ = this.data[i][0];
                /** @type {?} */
                let singleBarObj = {};
                singleBarObj["value"] = this.data[i][j];
                singleBarObj["label"] = firstRowOfData[j];
                singleBarObj["xaxis"] = this.data[i][0];
                multiSeriesArray.push(singleBarObj);
            }
            if (multiSeriesArray.length) {
                groupChartObj["values"] = multiSeriesArray;
                /** @type {?} */
                let newLabelsValues = valueOfJ;
                /** @type {?} */
                let newGroupDataObj = Object.assign({}, groupChartObj);
                newGroupDataObj['labels'] = newLabelsValues + '';
                this.groupbarchartArray.push(newGroupDataObj);
            }
        }
    }
    /**
     * @return {?}
     */
    transformto2dArray() {
        /** @type {?} */
        let result = [];
        result.push("years");
        this.data.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        (element, i) => {
            if (i == 0) {
                element.values.forEach((/**
                 * @param {?} element2
                 * @return {?}
                 */
                element2 => {
                    result.push(element2.label);
                }));
            }
        }));
        this.urllegendArray.push(result);
        /** @type {?} */
        let temparray = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            temparray = [];
            /** @type {?} */
            let values;
            /** @type {?} */
            let year = element.labels;
            temparray.push(year);
            element.values.forEach((/**
             * @param {?} element2
             * @return {?}
             */
            element2 => {
                values = element2.value;
                temparray.push(values);
            }));
            this.urllegendArray.push(temparray);
        }));
    }
    /**
     * @param {?} data
     * @return {?}
     */
    transformData(data) {
        this.keyArray = [];
        this.legendArray = [];
        data.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        (element, i) => {
            if (i == 0) {
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} index
                 * @return {?}
                 */
                (innerelement, index) => {
                    if (index > 0) {
                        this.legendArray[innerelement] = { 'data': [] };
                        this.keyArray.push(innerelement);
                    }
                }));
            }
        }));
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let obj = {};
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} innerindex
                 * @return {?}
                 */
                (innerelement, innerindex) => {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        const key = this.keyArray[innerindex - 1];
                        obj[key] = element[innerindex];
                        /** @type {?} */
                        const legenddata = this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                        }
                    }
                }));
            }
        }));
        this.legends = [];
        this.keyArray.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            /** @type {?} */
            const legenddata = this.legendArray[element];
            /** @type {?} */
            let object;
            if (this.colors.length > 0) {
                object = { 'label': element, 'color': this.colors[index], 'data': legenddata.data };
            }
            else {
                object = { 'label': element, 'color': this.predefinedcolors[index], 'data': legenddata.data };
            }
            this.legends.push(object);
        }));
    }
    /**
     * @param {?} d
     * @return {?}
     */
    setKey(d) {
        /** @type {?} */
        let object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        return (this.toolTipForBar(object));
    }
    /**
     * @param {?} g
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotLine(g, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    }
}
GroupbarComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-multiseries',
                template: `<div  #chartId *ngIf="drillableFlag" (window:resize)="validateresize()"> 
<table *ngIf="data.length > 0"  style="width: 100%;">
    <tr *ngIf = "title.length > 0" >
        <td colspan="2" style="font-size: 18px; font-weight: bold; "> {{title}} </td>
    </tr>
    <tr>
        <td>
            <svg [attr.height]="height" [attr.width]="width" [attr.id]="componentId">
            </svg>
        </td>
    </tr>
    <tr *ngIf="legend">
        <td style="display: block; padding: 5px;">
            <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="legendClick($event)" [data]="legends" style="height:100%;"></amexio-d3-legend>
        </td>
    </tr>
</table>
<div *ngIf="data.length < 1" class="lmask" style="padding-top:50%">
    </div>
</div>


`,
                styles: [``]
            },] },
];
GroupbarComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
GroupbarComponent.propDecorators = {
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }],
    drillid: [{ type: ViewChild, args: ['drillid',] }],
    data: [{ type: Input, args: ['data',] }],
    legend: [{ type: Input }],
    barwidth: [{ type: Input }],
    onLegendClick: [{ type: Output }],
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    showzeroflag: [{ type: Input, args: ['show-zero-values',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class CombochartComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super('combochart');
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.svgheight = 300;
        this.lineColor = "black";
        this.label = false;
        this.horizontal = false;
        this.barwidth = 0;
        //   @Input('line-data-index') lineInput: any;
        this.lineInput = [];
        this.barInput = [];
        this.showzeroflag = true;
        this.simpleComboFlag = false;
        this.completeconverteddata = [];
        this.simpleCombodata = [];
        this.groupbarchartArray = [];
        this.highercolorindex = 0;
        this.colorflag = false;
        this.keyArray = [];
        this.transformeddata = [];
        this.legendArray = [];
        this.legends = [];
        this.LineArray = [];
        this.outputData = [];
        this.higherdot1colorindex = 0;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            let resp;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    resp = response;
                    this.httpresponse = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.data = this.getResponseData(resp);
                        this.transformData();
                        this.initializeData();
                        this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(this.data);
                    this.transformData();
                    this.initializeData();
                    this.plotD3Chart();
                }), 0);
            }
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    // this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.data = this.getResponseData(this.httpresponse);
            this.transformData();
            this.initializeData();
            this.plotD3Chart();
        }), 0);
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @return {?}
     */
    transformData() {
        this.formDatastructure();
        this.tranasforsimplejson();
    }
    /**
     * @return {?}
     */
    formDatastructure() {
        // for line
        //call createjson() for complete data for line
        this.lineflag = true;
        this.createjson(this.data);
        //validate scenarios
        //validate scenario1: bar + line + data
        if ((this.barInput.length > 0) && (this.lineInput.length > 0) &&
            (this.data[0].length > 2)) {
            this.sc1 = true;
            this.createData1(this.barInput, this.data);
        }
        else if ((this.lineInput.length > 0) &&
            //##get it checked
            (this.data[0].length > 1)) {
            this.sc2 = true;
            //if so set sc2barflag
            this.data[0].forEach((/**
             * @param {?} column
             * @return {?}
             */
            column => {
                this.lineInput.forEach((/**
                 * @param {?} linename
                 * @return {?}
                 */
                linename => {
                    if (column !== linename) {
                        this.sc2barflag = true;
                        // u can plot bar now
                    }
                }));
            }));
            this.createData1(null, this.data);
            //chk if sc2barflag is set or reset
            if (this.sc2barflag == true) ;
        } //else if of sc2 ends
        else if ((this.barInput.length > 0) && (this.data[0].length > 1)) {
            this.sc3 = true;
            this.createData1(this.barInput, this.data);
        }
        else if ((this.barInput.length < 1) && (this.lineInput.length < 1) && this.data[0].length > 1) {
            this.sc4 = true;
            this.createData1(null, this.data);
        }
    }
    /**
     * @param {?} inpdata
     * @param {?} fulldata
     * @return {?}
     */
    createData1(inpdata, fulldata) {
        /** @type {?} */
        let linearr = [];
        this.lineInput.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            linearr.push(element.column);
        }));
        this.firstrow = this.data[0];
        /** @type {?} */
        let dummyArray = [];
        dummyArray.push(0);
        fulldata.forEach((/**
         * @param {?} record
         * @param {?} index
         * @return {?}
         */
        (record, index) => {
            if (index === 0) {
                // THIS LOGIC IS USED FOR FINDING INDEXS AND ADD INTO dummyArray ARRAY
                record.forEach((/**
                 * @param {?} innerObject
                 * @param {?} innerIndex
                 * @return {?}
                 */
                (innerObject, innerIndex) => {
                    //validates scenario1 and 3
                    if (this.sc1 == true || this.sc3 == true) {
                        this.barInput.forEach((/**
                         * @param {?} elementOfInputData
                         * @return {?}
                         */
                        (elementOfInputData) => {
                            //aja
                            if (innerObject === elementOfInputData.column) {
                                //dummyarray has index stack
                                dummyArray.push(innerIndex);
                            }
                        }));
                    } //sc1 and sc3 validation done
                    //validates scenario 2
                    if (this.sc2 == true) {
                        if (this.sc2barflag == true) {
                            this.lineInput.forEach((/**
                             * @param {?} elementOfLineData
                             * @return {?}
                             */
                            (elementOfLineData) => {
                                if ((innerObject !== elementOfLineData.column) && (innerIndex !== 0)) {
                                    if (linearr.includes(innerObject) == false) {
                                        if (dummyArray.includes(innerIndex)) ;
                                        else {
                                            dummyArray.push(innerIndex);
                                            return;
                                        }
                                    } // }
                                    //   }
                                    // });
                                }
                            }));
                        }
                    }
                }));
                //validates scenario 4
                if (this.sc4 == true) {
                    // chk if barflag is set
                    /** @type {?} */
                    let columns = this.data[0].length;
                    if (columns > 1) {
                        dummyArray.push(1);
                    }
                }
                // dummyArray.push(0);
                /** @type {?} */
                let firstArray = [];
                // FOR FIRST RECORD
                dummyArray.forEach((/**
                 * @param {?} object
                 * @param {?} dummyIndex
                 * @return {?}
                 */
                (object, dummyIndex) => {
                    firstArray.push(record[object]);
                }));
                this.outputData.push(firstArray);
            }
            else {
                /** @type {?} */
                let newData = [];
                record.forEach((/**
                 * @param {?} innerObject
                 * @param {?} innerIndex
                 * @return {?}
                 */
                (innerObject, innerIndex) => {
                    dummyArray.forEach((/**
                     * @param {?} object
                     * @param {?} dummyIndex
                     * @return {?}
                     */
                    (object, dummyIndex) => {
                        if (innerIndex === object) {
                            newData.push(innerObject);
                        }
                    }));
                }));
                this.outputData.push(newData);
            }
        }));
        this.createjson(this.outputData);
        // this.formLegendData(this.outputData);
    }
    /**
     * @param {?} arraydata
     * @return {?}
     */
    createjson(arraydata) {
        /** @type {?} */
        let groupChartObj = { "labels": "", values: [] };
        this.groupbarchartArray = [];
        /** @type {?} */
        let firstRowOfData = arraydata[0];
        this.xaxisData = this.data[0][0];
        for (let i = 1; i < arraydata.length; i++) {
            /** @type {?} */
            let multiSeriesArray = [];
            /** @type {?} */
            let valueOfJ;
            for (let j = 1; j < arraydata[i].length; j++) {
                valueOfJ = arraydata[i][0];
                /** @type {?} */
                let singleBarObj = {};
                singleBarObj["value"] = arraydata[i][j];
                singleBarObj["label"] = firstRowOfData[j];
                singleBarObj["xaxis"] = arraydata[i][0];
                multiSeriesArray.push(singleBarObj);
            }
            if (multiSeriesArray.length) {
                groupChartObj["values"] = multiSeriesArray;
                /** @type {?} */
                let newLabelsValues = valueOfJ;
                /** @type {?} */
                let newGroupDataObj = Object.assign({}, groupChartObj);
                newGroupDataObj['labels'] = newLabelsValues + '';
                this.groupbarchartArray.push(newGroupDataObj);
            }
        }
        if (this.lineflag) {
            this.groupbarchartArray;
            this.LineArray = this.groupbarchartArray;
        }
        else {
            this.groupbarchartArray = [];
            /** @type {?} */
            let firstRowOfData = arraydata[0];
            // this.xaxisData = this.data[0][0];
            for (let i = 1; i < arraydata.length; i++) {
                /** @type {?} */
                let multiSeriesArray = [];
                /** @type {?} */
                let valueOfJ;
                for (let j = 1; j < arraydata[i].length; j++) {
                    valueOfJ = arraydata[i][0];
                    /** @type {?} */
                    let singleBarObj = {};
                    singleBarObj["value"] = arraydata[i][j];
                    singleBarObj["label"] = firstRowOfData[j];
                    singleBarObj["xaxis"] = arraydata[i][0];
                    multiSeriesArray.push(singleBarObj);
                }
                if (multiSeriesArray.length) {
                    groupChartObj["values"] = multiSeriesArray;
                    /** @type {?} */
                    let newLabelsValues = valueOfJ;
                    /** @type {?} */
                    let newGroupDataObj = Object.assign({}, groupChartObj);
                    newGroupDataObj['labels'] = newLabelsValues + '';
                    this.groupbarchartArray.push(newGroupDataObj);
                }
            }
            this.groupbarchartArray;
        }
    }
    /**
     * @return {?}
     */
    plotD3Chart() {
        //plot multiseries chart
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        /** @type {?} */
        let colors = this.predefinedcolors;
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        const margin = { top: 20, right: 20, bottom: 50, left: 40 };
        /** @type {?} */
        const width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        const height = this.svgheight - margin.top - margin.bottom;
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        const x0 = scaleBand()
            .rangeRound([0, width])
            .padding(0.2);
        /** @type {?} */
        const x1 = scaleBand().padding(0.1);
        /** @type {?} */
        const y = scaleLinear()
            .rangeRound([height, 0]);
        //setting x and y domains
        this.years = this.groupbarchartArray.map((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d.labels; }));
        /** @type {?} */
        let label = this.groupbarchartArray[0].values.map((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d.label; }));
        x0.domain(this.years);
        x1.domain(label).rangeRound([0, x0.bandwidth()]);
        y.domain([0, max(this.groupbarchartArray, (/**
             * @param {?} labels
             * @return {?}
             */
            (labels) => { return max(labels.values, (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return d.value; })); }))]);
        //dynamic barwidth
        if (this.barwidth > 0) {
            this.barwidth = this.barwidth;
        }
        else {
            this.barwidth = x0.bandwidth;
        }
        // add x axis to svg
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x0)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x0));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x0)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        //add y axis to svg
        this.svg.append("g")
            .call(axisLeft(y)
            .ticks(this.tickscount));
        this.plotLineForMultiSeries(this.svg, y, height, width);
        //adding bars
        /** @type {?} */
        let slice = this.svg.selectAll(".slice")
            .data(this.groupbarchartArray)
            .enter().append("g")
            .attr("class", "g")
            .attr("transform", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return "translate(" + x0(d.labels) + ",0)"; }));
        slice.selectAll("rect")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d.values; }))
            .enter().append("rect")
            .attr("width", x1.bandwidth)
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return x1(d.label);
        }))
            .style("fill", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        (d, index) => {
            this.higherdot1colorindex = index;
            this.legendcolorindex = index;
            return colors[index];
        }))
            .attr("y", (/**
         * @param {?} d
         * @param {?} ind
         * @return {?}
         */
        (d, ind) => { return y(d.value); }))
            .attr("height", (/**
         * @param {?} d
         * @param {?} ind
         * @return {?}
         */
        (d, ind) => {
            return height - y(d.value);
        }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.html(this.setKey(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })).on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.groupbarClick(d);
            this.fordrillableClick(this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        // -------------------------------------------------------
        //bar label
        // if (this.labelflag) {
        slice.selectAll("text")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d.values; }))
            .enter().append("text")
            .attr("opacity", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            /** @type {?} */
            let visibility = false;
            if (this.barInput.length > 0) {
                this.barInput.forEach((/**
                 * @param {?} barname
                 * @return {?}
                 */
                (barname) => {
                    if ((barname.column == d.label) && (barname.label == true)) {
                        visibility = true;
                        return;
                    }
                }));
                if (visibility) {
                    return 1;
                }
                else {
                    return 0;
                }
            } // outer if 
            else if ((this.sc4 == true) && (this.label == true)) {
                return 1;
            }
            else {
                return 0;
            }
        }))
            .attr("width", x1.bandwidth)
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return x1(d.label) + x1.bandwidth() / 2;
        }))
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return y(d.value); }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return height - y(0); }))
            .style("font-weight", "bold")
            .style("font-size", "1vw")
            .attr("text-anchor", "middle")
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            if (this.labelcolor.length > 0) {
                return this.labelcolor;
            }
            else {
                return "black";
            }
        })) //bar label
            .text((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            if (this.showzeroflag) {
                return d.value;
            }
            else if (!this.showzeroflag) {
                if (d.value > 0) {
                    return d.value;
                }
            }
            // return d.value;
        }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.html(this.setKey(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })).on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.groupbarClick(d);
            this.fordrillableClick(this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        // }
        slice.selectAll("rect")
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return y(d.value);
        }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return height - y(d.value); }));
        // ------------------------------------------------------------------
        //sigle / multi line code starts here
        //code here fr multi line
        /** @type {?} */
        let i;
        // let lineName;
        /** @type {?} */
        let slice1 = this.svg.selectAll(".slice")
            .data(this.transformeddata)
            .enter().append("g")
            .attr("class", "g");
        this.higherdot1colorindex++;
        this.lineInput.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            if (element.color) ;
            else {
                element["color"] = colors[this.higherdot1colorindex];
                this.higherdot1colorindex++;
            }
        }));
        //line validation for scenario 1 and 2
        if (this.lineInput.length > 0) {
            for (i = 0; i < this.lineInput.length; i++) {
                /** @type {?} */
                let lineName = this.lineInput[i];
                /** @type {?} */
                let valueline = line()
                    .x((/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return x0(d[Object.keys(d)[0]]);
                }))
                    .y((/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => { return y(d[lineName.column]); }));
                /** @type {?} */
                let shift = margin.left + x1.bandwidth() / 2;
                slice1.append("path")
                    .data([this.transformeddata])
                    .attr("fill", "none")
                    .style("stroke", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    if (lineName.color) {
                        return lineName.color;
                    }
                }))
                    .attr("stroke-width", 1.5)
                    .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                    .attr("d", valueline);
                // points1
                /** @type {?} */
                let dotslice = slice1.selectAll("dot")
                    .data(this.transformeddata)
                    .enter()
                    .append("circle")
                    .attr("class", "point1")
                    .attr("cursor", "pointer")
                    .style("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    if (lineName.color) {
                        return lineName.color;
                    }
                }))
                    .attr("cx", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return x0(d[Object.keys(d)[0]]);
                }))
                    .attr("cy", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return y(d[lineName.column]);
                }))
                    .attr("r", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => { return 5; }))
                    .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.html(this.formTooltipLineData(d, lineName, false))
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    this.onComboLineClick(d, lineName, false);
                    this.fordrillableClick(this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
                // }
                // 
            } // line code ends
        } //lineinput if condition ends here
        else if ((this.sc4 == true) && (this.data[0].length > 2)) {
            //  lineName = this.lineInput[i];
            /** @type {?} */
            let valueline = line()
                .x((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x0(d[Object.keys(d)[0]]);
                //  return x1(d[Object.keys(d)[0]]);
            }))
                .y((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return y(d[Object.keys(d)[2]]
                // d[lineName]
                );
            }));
            /** @type {?} */
            let shift = margin.left + x1.bandwidth() / 2;
            slice1.append("path")
                .data([this.transformeddata])
                .attr("fill", "none")
                .style("stroke", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.lineColor !== "black") {
                    return this.lineColor;
                }
                else {
                    return colors[2];
                }
            }))
                .attr("stroke-width", 1.5)
                .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                .attr("d", valueline);
            // points1
            slice1.selectAll("dot")
                .data(this.transformeddata).enter().append("circle")
                .attr("class", "point1")
                .attr("cursor", "pointer")
                .style("stroke", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.lineColor !== "black") {
                    return this.lineColor;
                }
                else {
                    return colors[2];
                }
            }))
                .style("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.lineColor !== "black") {
                    return this.lineColor;
                }
                else {
                    return colors[2];
                }
            }))
                .attr("cx", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x0(d[Object.keys(d)[0]]);
            }))
                .attr("cy", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return y(d[Object.keys(d)[2]]
                // d[lineName]
                );
            }))
                .attr("r", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return 5; }))
                .attr("transform", "translate( " + x1.bandwidth() / 2 + ", 0 )")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.formTooltipLineData(d, null, true))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.onComboLineClick(d, null, true);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
        }
        //line label validation for scenario 1 and 2
        if (this.lineInput.length > 0) {
            for (i = 0; i < this.lineInput.length; i++) {
                /** @type {?} */
                let lineName1 = this.lineInput[i];
                if (lineName1.label) {
                    if (lineName1.label == true) {
                        slice1.selectAll("labels")
                            .data(this.transformeddata)
                            .enter().append("text")
                            .style("font-weight", "bold")
                            .attr("text-anchor", "middle")
                            .attr("fill", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        (d) => {
                            if (lineName1.labelcolor) {
                                return lineName1.labelcolor;
                            }
                            else {
                                return "black";
                            }
                        }))
                            .attr("x", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        (d) => {
                            return x0(d[Object.keys(d)[0]]);
                        }))
                            .attr("y", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        (d) => {
                            return y(d[lineName1.column]);
                        }))
                            .text((/**
                         * @param {?} d
                         * @return {?}
                         */
                        (d) => {
                            return d[lineName1.column];
                            // d[lineName];
                        }))
                            .attr("transform", "translate( " +
                            // margin.left
                            x1.bandwidth() / 2
                            // shift
                            + ", 19 )")
                            .attr("cursor", "pointer")
                            .on("mouseover", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        (d) => {
                            return tooltip.style("visibility", "visible");
                        }))
                            .on("mousemove", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        (d) => {
                            return tooltip.html(this.formTooltipLineData(d, lineName1, false))
                                .style("top", (event$1.pageY - 10) + "px")
                                .style("left", (event$1.pageX + 10) + "px");
                        }))
                            .on("mouseout", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        (d) => {
                            return tooltip.style("visibility", "hidden");
                        }))
                            .on("click", (/**
                         * @param {?} d
                         * @return {?}
                         */
                        (d) => {
                            this.onComboLineClick(d, lineName1, false);
                            this.fordrillableClick(this, d, event);
                            return tooltip.style("visibility", "hidden");
                        }));
                    }
                }
            }
        }
        else if ((this.sc4 == true) && (this.data[0].length > 2) && (this.label == true)) {
            //trial line label for 4th scenario
            slice1.selectAll("labels")
                .data(this.transformeddata)
                .enter().append("text")
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x0(d[Object.keys(d)[0]]);
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return y(d[Object.keys(d)[2]]
                // d[lineName]
                );
                //  + 50;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return d[Object.keys(d)[2]];
                // d[lineName];
            }))
                .attr("transform", "translate( " +
                // margin.left
                x1.bandwidth() / 2
                // shift
                + ", 19 )")
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.formTooltipLineData(d, null, true))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.onComboLineClick(d, null, true);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
        }
        this.formLegendData(this.outputData);
    }
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotLine(g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    }
    /**
     * @param {?} d
     * @return {?}
     */
    setKey(d) {
        /** @type {?} */
        let object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        return (this.toolTipForBar(object));
    }
    /**
     * @return {?}
     */
    finMaxLineValue() {
        /** @type {?} */
        let lineValues = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        (element) => {
            for (let [key, value] of Object.entries(element)) {
                this.lineInput.forEach((/**
                 * @param {?} line
                 * @return {?}
                 */
                (line$$1) => {
                    if (line$$1 == key) {
                        lineValues.push(value);
                    }
                }));
            }
        }));
        /** @type {?} */
        let max$$1 = 0;
        /** @type {?} */
        let j;
        for (j = 0; j < lineValues.length; j++) {
            if (lineValues[j] > max$$1) {
                max$$1 = lineValues[j];
            }
        }
        this.lineRange = max$$1;
    }
    /**
     * @param {?} d
     * @return {?}
     */
    groupbarClick(d) {
        /** @type {?} */
        let object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        this.chartClick(object);
    }
    /**
     * @param {?} g
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotLineForMultiSeries(g, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotD3Chart();
    }
    /**
     * @return {?}
     */
    tranasforsimplejson() {
        this.transformeddata = [];
        this.keyArray = this.data[0];
        this.data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let DummyObject = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                (individualvalue, keyindex) => {
                    DummyObject[this.keyArray[keyindex]] = individualvalue;
                })); //inner for loop ends
                this.transformeddata.push(DummyObject);
            } //if ends
        })); //outer for loop ends
    }
    /**
     * @param {?} data
     * @param {?} line
     * @param {?} flag
     * @return {?}
     */
    formTooltipLineData(data, line$$1, flag) {
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(data)) {
            //flag is considered true for forth scenario
            if (flag == true) {
                if (key == this.data[0][2]) {
                    object[key] = value;
                }
            } // if foe true flag ends here
            else {
                if (key == line$$1.column) {
                    object[key] = value;
                }
            } //else for false flag ends here
        }
        return this.toolTipForBar(object);
    }
    /**
     * @param {?} data
     * @param {?} line
     * @param {?} flag
     * @return {?}
     */
    onComboLineClick(data, line$$1, flag) {
        // flag is considered true for 4th scenario
        /** @type {?} */
        let object = {};
        /** @type {?} */
        let i = 0;
        for (let [key, value] of Object.entries(data)) {
            if (i == 0 || i == 1) {
                if (key != "color") {
                    object[key] = value;
                }
            }
            if (flag == true) {
                if (key == this.data[0][2]) {
                    object[key] = value;
                }
            }
            else {
                if (key == line$$1.column) {
                    object[key] = value;
                }
            }
            i++;
        }
        //this calls base class function
        this.comboLineClick(object);
    }
    /**
     * @param {?} data
     * @return {?}
     */
    formLegendData(data) {
        this.keyArray = [];
        this.legendArray = [];
        data.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        (element, i) => {
            if (i == 0) {
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} index
                 * @return {?}
                 */
                (innerelement, index) => {
                    if (index > 0) {
                        this.legendArray[innerelement] = { 'data': [] };
                        this.keyArray.push(innerelement);
                    }
                }));
            }
        }));
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let obj = {};
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} innerindex
                 * @return {?}
                 */
                (innerelement, innerindex) => {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        const key = this.keyArray[innerindex - 1];
                        obj[key] = element[innerindex];
                        /** @type {?} */
                        const legenddata = this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'label': element[0], 'value': element[innerindex] });
                        }
                    }
                }));
            }
        }));
        this.legends = [];
        this.keyArray.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            /** @type {?} */
            const legenddata = this.legendArray[element];
            /** @type {?} */
            let object = { 'label': element, 'color': this.predefinedcolors[index], 'data': legenddata.data };
            this.legends.push(object);
        }));
        //this logic will wrk fr sc1 and sc2
        if (this.lineInput.length > 0) {
            /** @type {?} */
            let inc = 1;
            this.lineInput.forEach((/**
             * @param {?} element
             * @return {?}
             */
            (element) => {
                /** @type {?} */
                let object = {};
                object["label"] = element.column;
                if (element.color) {
                    object["color"] = element.color;
                }
                else {
                    object["color"] = this.predefinedcolors[this.legendcolorindex + inc];
                    inc++;
                }
                object["data"] = [];
                this.legends.push(object);
            }));
            this.legends;
            this.transformeddata;
            this.legends.forEach((/**
             * @param {?} legendelement
             * @return {?}
             */
            legendelement => {
                this.lineInput.forEach((/**
                 * @param {?} lineelement
                 * @return {?}
                 */
                lineelement => {
                    if (lineelement.column == legendelement.label) {
                        this.transformeddata.forEach((/**
                         * @param {?} singlerow
                         * @return {?}
                         */
                        singlerow => {
                            /** @type {?} */
                            let obj = {};
                            // d[Object.keys(d)[0]]
                            obj["label"] = singlerow[Object.keys(singlerow)[0]];
                            obj["value"] = singlerow[legendelement.label];
                            legendelement.data.push(obj);
                        }));
                    }
                }));
            }));
        }
        //this logic works for sc4
        // chk if line column exist in data1
        if ((this.sc4 == true) && (this.data[0].length > 2)) {
            /** @type {?} */
            let object = [];
            object["label"] = this.data[0][2];
            object["color"] = this.predefinedcolors[2];
            object["data"] = [];
            this.legends.push(object);
            //logic to push data
            this.data.forEach((/**
             * @param {?} element
             * @param {?} index
             * @return {?}
             */
            (element, index) => {
                if (index > 0) {
                    /** @type {?} */
                    let object = [];
                    object["label"] = element[0];
                    object["value"] = element[2];
                    this.legends[1].data.push(object);
                }
            }));
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    legendClick(event) {
        /** @type {?} */
        let obj = {};
        obj["label"] = event.label;
        /** @type {?} */
        let data = [];
        event.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let object = {};
            object[element.label] = element.value;
            data.push(object);
        }));
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    }
}
CombochartComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-combochart',
                template: ` 
<div #chartId *ngIf="drillableFlag" (window:resize)="validateresize()">
    <table *ngIf="data.length > 0" style="width: 100%;">
      <tr *ngIf = "title.length > 0">
          <td style="font-size: 18px; font-weight: bold; "> {{title}} </td>
      </tr>
      <tr>
          <td>
              <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId">
              </svg>
          </td>
      </tr>
      <tr *ngIf="legend">
          <td style="display: block; padding: 5px;">
              <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="legendClick($event)" [data]="legends" style="height:100%;">
              </amexio-d3-legend> 
          </td>
      </tr>
    </table>
    <div *ngIf="data.length < 1" class="lmask" style="padding-top:50%">
    </div>
    </div>`,
                styles: [``]
            },] },
];
CombochartComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
CombochartComponent.propDecorators = {
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    lineColor: [{ type: Input, args: ['line-color',] }],
    label: [{ type: Input }],
    horizontal: [{ type: Input }],
    barwidth: [{ type: Input }],
    lineInput: [{ type: Input, args: ['line-data-index',] }],
    barInput: [{ type: Input, args: ['bar-data-index',] }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    showzeroflag: [{ type: Input, args: ['show-zero-values',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class HistogramComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super('histogram');
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.svgheight = 400;
        this.color = "blue";
        this.datahisto = [];
        this.values = [];
        this.array = [];
        this.xaxisArray = [];
        this.yaxisArray = [];
        this.yaxisData = [];
        this.histogramarray = [];
        this.histogramdata = [];
        this.lengtharray = [];
        this.arrayofLength = [];
        this.chartData = [];
        this.finaldataarray = [];
        this.tooltipArray = [];
        this.index = 0;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        /** @type {?} */
        let res;
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    res = response;
                    this.httpresponse = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.datahisto = [];
                        this.datahisto = this.getResponseData(res);
                        this.transformData();
                        this.plotXaxis();
                        this.plotYaxis();
                        this.tooltipData();
                        this.dataforChart();
                        this.transformData1(this.finaldataarray);
                        this.plotChart();
                    }), 0);
                }));
            }
            else if (this.datahisto) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.datahisto = this.getResponseData(this.datahisto);
                    this.transformData();
                    this.plotXaxis();
                    this.plotYaxis();
                    this.tooltipData();
                    this.dataforChart();
                    this.transformData1(this.finaldataarray);
                    this.plotChart();
                }), 0);
            }
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    //this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.datahisto = this.getResponseData(this.httpresponse);
            this.transformData();
            this.plotXaxis();
            this.plotYaxis();
            this.tooltipData();
            this.dataforChart();
            this.transformData1(this.finaldataarray);
            this.plotChart();
        }), 0);
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @param {?} data1
     * @return {?}
     */
    transformData1(data1) {
        this.keyArray = [];
        this.legendArray = [];
        data1.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        (element, i) => {
            if (i == 0) {
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} index
                 * @return {?}
                 */
                (innerelement, index) => {
                    if (index > 0) {
                        this.legendArray[innerelement] = { 'data': [] };
                        this.keyArray.push(innerelement);
                    }
                    else if (index == 0) {
                        this.xaxis = innerelement;
                    }
                }));
            }
        }));
        /** @type {?} */
        let tempinnerarray;
        tempinnerarray = [];
        data1.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let obj = {};
                element.forEach((/**
                 * @param {?} innerelement
                 * @param {?} innerindex
                 * @return {?}
                 */
                (innerelement, innerindex) => {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        const key = this.keyArray[innerindex - 1];
                        obj[key] = element[innerindex];
                        /** @type {?} */
                        const legenddata = this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                        }
                    }
                }));
                tempinnerarray.push(obj);
            }
        }));
        this.data = [];
        tempinnerarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            this.data.push(element);
        }));
        this.legends = [];
        /** @type {?} */
        let element = this.datahisto[0];
        /** @type {?} */
        let object = { 'label': element[1] + " " + "of" + " " + element[0], 'color': this.color };
        this.legends.push(object);
    }
    /**
     * @return {?}
     */
    plotChart() {
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        /** @type {?} */
        let data;
        data = this.data;
        /** @type {?} */
        let series;
        series = [];
        series = stack().keys(this.keyArray)
            .offset(stackOffsetDiverging)(this.data);
        /** @type {?} */
        let i = 0;
        /** @type {?} */
        let tempdata;
        tempdata = [];
        tempdata = series;
        tempdata.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            element.forEach((/**
             * @param {?} innerelement
             * @return {?}
             */
            innerelement => {
                /** @type {?} */
                let singletooltip = [];
                singletooltip.push(innerelement.data.tooltipdata[i]);
                innerelement.push(singletooltip);
            }));
            i++;
        }));
        /** @type {?} */
        let chartdata = [];
        for (i = 0; i < tempdata.length - 1; i++) {
            chartdata.push(tempdata[i]);
        }
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE
        }
        /** @type {?} */
        const margin = { top: 20, right: 20, bottom: 50, left: 60 };
        /** @type {?} */
        const width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        const height = this.svgheight - margin.top - margin.bottom;
        //const height = +svg.attr("height") - margin.top - margin.bottom;
        /** @type {?} */
        let x;
        /** @type {?} */
        let y;
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        let barWidth = (width / this.chartData.length);
        x = scalePoint()
            .domain(this.xaxisArray, (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d; }))
            .rangeRound([0, width]);
        y = scaleLinear().rangeRound([height, 0]);
        y.domain([0, max(this.arrayofLength)]);
        /** @type {?} */
        let z = scaleOrdinal(schemeCategory10);
        this.arrayofLength = [];
        // add x axis to svg
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        /** @type {?} */
        let horizontalpadding = 0.05;
        //add y axis to svg
        this.svg.append("g")
            .call(axisLeft(y).ticks(this.tickscount));
        this.plotLine(this.svg, x, y, height, width);
        /** @type {?} */
        let histogramBar = this.svg.append("g")
            .selectAll("g")
            .data(chartdata)
            .enter().append("g")
            .attr("fill", this.color)
            .selectAll("rect")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return d;
        }));
        /** @type {?} */
        let histogramBar1 = this.svg.append("g")
            .selectAll("g")
            .data(chartdata)
            .enter().append("g")
            .selectAll("labels")
            .data((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return d;
        }));
        histogramBar.enter().append("rect")
            .attr("width", barWidth - 1)
            .attr("y", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        (d, index) => {
            return y(d[1]);
        }))
            .attr("cursor", "pointer")
            .attr("height", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        (d, index) => {
            return Math.abs(y(d[0]) - y(d[1] - horizontalpadding));
        }))
            .attr("transform", (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        (d, i) => {
            /** @type {?} */
            let translate = [barWidth * i, 0];
            return "translate(" + translate + ")";
        }))
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "visible");
        })).on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            /** @type {?} */
            let data = d[2];
            return tooltip.html(this.setKey(data[0]))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })).on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            /** @type {?} */
            let clickdata = d[2];
            this.histogramClick(clickdata[0]);
            this.fordrillableClick(this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        if (this.labelflag) {
            histogramBar1.enter()
                .append("text")
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.labelcolor && this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("y", (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            (d, i) => {
                return y(d[1]);
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                /** @type {?} */
                let data;
                /** @type {?} */
                let data2;
                data = d[2];
                data2 = data[0];
                if (data2) {
                    return data2.value;
                }
                else {
                    return null;
                }
            }))
                .attr("transform", (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            (d, i) => {
                /** @type {?} */
                let translate = [((barWidth * i) + barWidth / 2), (Math.abs(y(d[0]) - y(d[1] - horizontalpadding)))];
                return "translate(" + translate + ")";
            }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            })).on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                /** @type {?} */
                let data = d[2];
                return tooltip.html(this.setKey(data[0]))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })).on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                /** @type {?} */
                let clickdata = d[2];
                this.histogramClick(clickdata[0]);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
            }))
                .attr("cursor", "pointer");
        }
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    histogramClick(obj) {
        /** @type {?} */
        let object = {};
        /** @type {?} */
        let data = this.datahisto[0];
        /** @type {?} */
        let label1 = data[1];
        /** @type {?} */
        let label2 = data[0];
        if (obj.label.length) {
            object[label2 + ":"] = obj.label;
            object[label1 + ":"] = obj.value;
        }
        this.chartClick(object);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    legendClick(event) {
        this.onLegendClick.emit(this.datahisto);
    }
    /**
     * @return {?}
     */
    transformData() {
        this.array = [];
        this.values = [];
        this.datahisto.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            this.values.push(element[1]);
        }));
        for (let i = 1; i < this.values.length; i++) {
            this.array.push(this.values[i]);
        }
    }
    /**
     * @return {?}
     */
    plotXaxis() {
        this.xaxisArray = [];
        this.xaxisArray.push(0);
        /** @type {?} */
        let newvalue = 0;
        /** @type {?} */
        let value = Math.ceil(max(this.array));
        if (value % 10 == 0) {
            value = value;
        }
        else {
            value = (10 - value % 10) + value;
        }
        /** @type {?} */
        let quotient = value / 5;
        while (newvalue < value) {
            newvalue = newvalue + quotient;
            this.xaxisArray.push(newvalue);
        }
    }
    /**
     * @return {?}
     */
    plotYaxis() {
        /** @type {?} */
        let tempvalue = 0;
        /** @type {?} */
        let lengthofArray = 0;
        /** @type {?} */
        let lengthcount = 0;
        /** @type {?} */
        let templength = 0;
        /** @type {?} */
        let newvalue = 0;
        this.yaxisArray = [];
        this.histogramarray = [];
        this.lengtharray = [];
        this.histogramdata = [];
        this.arrayofLength = [];
        this.chartData = [];
        this.xaxisArray.forEach((/**
         * @param {?} element1
         * @return {?}
         */
        element1 => {
            this.yaxisArray = [];
            this.array.forEach((/**
             * @param {?} element2
             * @return {?}
             */
            element2 => {
                if (tempvalue < element2 && element2 <= element1) {
                    this.yaxisArray.push(element2);
                }
                lengthofArray = this.yaxisArray.length;
            }));
            if (templength > lengthofArray) {
                lengthcount = templength;
            }
            else {
                lengthcount = lengthofArray;
            }
            templength = lengthcount;
            tempvalue = element1;
            this.lengtharray.push(lengthofArray);
        }));
        /** @type {?} */
        let value = Math.ceil(templength);
        /** @type {?} */
        let quotient = value / 5;
        while (newvalue <= value) {
            newvalue = newvalue + quotient;
            this.yaxisData.push(newvalue);
        }
        for (let i = 1; i < this.histogramarray.length; i++) {
            this.histogramdata.push(this.histogramarray[i]);
        }
        for (let i = 1; i < this.lengtharray.length; i++) {
            this.arrayofLength.push(this.lengtharray[i]);
        }
        for (let i = 0; i < this.arrayofLength.length; i++) {
            /** @type {?} */
            let data = {};
            data["value"] = this.arrayofLength[i];
            this.chartData.push(data);
        }
        this.array = [];
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.transformData();
        this.plotXaxis();
        this.plotYaxis();
        this.tooltipData();
        this.dataforChart();
        this.transformData1(this.finaldataarray);
        this.plotChart();
    }
    /**
     * @return {?}
     */
    dataforChart() {
        this.finaldataarray = [] = [];
        /** @type {?} */
        let initialArray = [];
        /** @type {?} */
        let temparray = [];
        initialArray.push('level');
        /** @type {?} */
        let maxElement = Math.max.apply(null, this.arrayofLength);
        /** @type {?} */
        let maxlength = maxElement;
        /** @type {?} */
        let n = 1;
        while (n <= maxElement) {
            initialArray.push('' + n);
            n++;
        }
        initialArray.push('tooltipdata');
        /** @type {?} */
        let length = this.arrayofLength.length;
        /** @type {?} */
        let number = 1;
        /** @type {?} */
        let j = 0;
        this.finaldataarray.push(initialArray);
        for (let i = 0; i < this.arrayofLength.length; i++) {
            /** @type {?} */
            let value = this.arrayofLength[i];
            /** @type {?} */
            let tempvalue = value;
            temparray = [];
            temparray.push('' + i);
            maxElement = maxlength;
            if (value > 0) {
                while (value != 0) {
                    temparray.push(number);
                    value--;
                }
                maxElement = maxElement - tempvalue;
                while (maxElement != 0) {
                    temparray.push(0);
                    maxElement--;
                }
            }
            else {
                while (maxElement != 0) {
                    temparray.push(0);
                    maxElement--;
                }
            }
            temparray.push(this.tooltipArray[j]);
            this.finaldataarray.push(temparray);
            j++;
        }
    }
    /**
     * @return {?}
     */
    tooltipData() {
        /** @type {?} */
        let arrayofTooltip = [];
        /** @type {?} */
        let obj = { "label": "", "value": "" };
        this.datahisto.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            obj = { "label": "", "value": "" };
            obj["label"] = element[0];
            obj["value"] = element[1];
            arrayofTooltip.push(obj);
        }));
        /** @type {?} */
        let value1 = this.xaxisArray[0];
        /** @type {?} */
        let tooltipdata = [];
        for (let j = 1; j < this.xaxisArray.length; j++) {
            tooltipdata = [];
            /** @type {?} */
            let value2 = this.xaxisArray[j];
            arrayofTooltip.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                if (value1 <= element.value && element.value <= value2) {
                    /** @type {?} */
                    let tooltipobj = { "label": "", "value": "" };
                    tooltipobj["label"] = element["label"];
                    tooltipobj["value"] = element["value"];
                    tooltipdata.push(tooltipobj);
                }
            }));
            this.tooltipArray.push(tooltipdata);
            value1 = value2;
        }
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    setKey(obj) {
        /** @type {?} */
        let object = {};
        /** @type {?} */
        let data = this.datahisto[0];
        /** @type {?} */
        let label1 = data[1];
        /** @type {?} */
        let label2 = data[0];
        object[label2 + ":"] = obj.label;
        object[label1 + ":"] = obj.value;
        return (this.toolTipForBar(object));
    }
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotLine(g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    }
}
HistogramComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-histogram',
                template: `<div #chartId *ngIf="drillableFlag" (window:resize)="validateresize()">
    <table *ngIf="datahisto.length > 0" style="width: 100%;">
        <tr *ngIf="title.length > 0">
            <td colspan="2" style="font-size: 18px; font-weight: bold; "> {{title}} </td>
        </tr>
        <tr>
            <td>
                <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId">
                </svg>
            </td>
        </tr>
        <tr *ngIf="legend">
            <td style="display: block; padding: 5px;">
                <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="legendClick($event)" [data]="legends" style="height:100%;"></amexio-d3-legend>
            </td>
        </tr>
    </table>
    <div *ngIf="datahisto.length < 1" class="lmask" style="padding-top:50%">
        </div>
</div>`,
                styles: [`.bar{background-color:#3943cf;padding:.02px}`]
            },] },
];
HistogramComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
HistogramComponent.propDecorators = {
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    color: [{ type: Input, args: ['color',] }],
    datahisto: [{ type: Input, args: ['data',] }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ScatterchartComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super('scatter');
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.svgheight = 300;
        this.color = "blue";
        this.zoomflag = false;
        this.zoominitiated = false;
        this.keyArray = [];
        this.transformeddata = [];
        this.legendarray = [];
        this.resizebtnflag = false;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        this.dataFormatted = [];
        if (this.level <= 1) {
            /** @type {?} */
            let resp;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    resp = response;
                    this.httpresponse = resp;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.data = this.getResponseData(resp);
                        this.dataFormatted = this.data;
                        this.transformData(this.dataFormatted);
                        this.colorGeneration();
                        this.legendCreation();
                        this.plotScatterChart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.dataFormatted = this.data;
                    this.data = this.getResponseData(this.data);
                    this.transformData(this.data);
                    this.colorGeneration();
                    this.legendCreation();
                    this.plotScatterChart();
                }), 0);
            }
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    //this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.data = this.getResponseData(this.httpresponse);
            this.dataFormatted = this.data;
            this.transformData(this.data);
            this.colorGeneration();
            this.legendCreation();
            this.plotScatterChart();
        }), 0);
    }
    // Method to transform data in key value pair 
    /**
     * @param {?} data
     * @return {?}
     */
    transformData(data) {
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let DummyObject = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                (individualvalue, keyindex) => {
                    DummyObject[this.keyArray[keyindex]] = individualvalue;
                }));
                this.transformeddata.push(DummyObject);
            }
        }));
        this.data = this.transformeddata;
    }
    // Method get response data using data reader
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    // Method to plot d3 chart
    /**
     * @return {?}
     */
    plotScatterChart() {
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        /** @type {?} */
        const margin = { top: 20, right: 20, bottom: 30, left: 60 };
        /** @type {?} */
        const width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        const height = this.svgheight - margin.top - margin.bottom;
        /** @type {?} */
        let x;
        /** @type {?} */
        let y;
        x = scaleLinear()
            .rangeRound([0, width]);
        y = scaleLinear()
            .rangeRound([height, 0]);
        /** @type {?} */
        let xAxis = axisBottom(x);
        /** @type {?} */
        let yAxis = axisLeft(y).ticks(this.tickscount);
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        x.domain([0, max(this.data, (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return d[Object.keys(d)[0]]; }))]);
        y.domain([0, max(this.data, (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return d[Object.keys(d)[1]]; }))]);
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis)
                    .append("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .style("text-anchor", "start");
            }
        }
        else {
            this.svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        // this.svg.append("g")
        //   .attr("class", "x axis")
        //   .attr("transform", "translate(0," + height + ")")
        //   .call(xAxis)
        //   .append("text")
        //   .attr("class", "label")
        //   .attr("x", width)
        //   .attr("y", -6)
        //   .style("text-anchor", "end");
        this.svg.append("g")
            .attr("class", "y axis")
            .call(yAxis)
            .append("text")
            .attr("class", "label")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end");
        if (this.dataFormatted[0].length == 2) {
            this.plotLine(this.svg, x, y, height, width);
            this.node = this.svg.selectAll(".dot")
                .data(this.data)
                .enter().append("circle")
                .attr("class", "dot")
                .attr("fill", this.color)
                .attr("r", 4.5)
                .attr("cursor", "pointer")
                .attr("cx", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x(d[Object.keys(d)[0]]);
            }))
                .attr("cy", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return y(d[Object.keys(d)[1]]); }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.scatterChartClick(d);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
            // ------------------------------------------------------------------------------
            if (this.labelflag) {
                this.nodelabel = this.svg.selectAll("labels")
                    .data(this.data)
                    .enter().append("text")
                    .style("font-weight", "bold")
                    .attr("text-anchor", "middle")
                    .attr("vertical-align", "middle")
                    .attr("margin-top", margin.top)
                    .attr("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    if (this.labelcolor.length > 0) {
                        return this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                }))
                    .attr("x", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                (d, i) => {
                    return x(d[Object.keys(d)[0]]) + 11;
                }))
                    .attr("y", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                (d, i) => {
                    return y(d[Object.keys(d)[1]]);
                }))
                    .text((/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return d[Object.keys(d)[1]];
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.html(this.formTooltipData(d))
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    this.scatterChartClick(d);
                    this.fordrillableClick(this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
            }
        }
        else {
            this.plotLine(this.svg, x, y, height, width);
            this.node = this.svg.selectAll(".dot")
                .data(this.transformeddata)
                .enter().append("circle")
                .attr("class", "dot")
                .attr("r", 4.5)
                .attr("cursor", "pointer")
                .attr("cx", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x(d[Object.keys(d)[0]]);
            }))
                .attr("cy", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return y(d[Object.keys(d)[1]]); }))
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return d[Object.keys(d)[4]]; }))
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.scatterChartClick(d);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
            if (this.labelflag) {
                this.nodelabel = this.svg.selectAll("labels")
                    .data(this.data)
                    .enter().append("text")
                    .style("font-weight", "bold")
                    .attr("text-anchor", "middle")
                    .attr("vertical-align", "middle")
                    .attr("margin-top", margin.top)
                    .attr("fill", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    if (this.labelcolor.length > 0) {
                        return this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                }))
                    .attr("x", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                (d, i) => {
                    return x(d[Object.keys(d)[0]]) + 11;
                }))
                    .attr("y", (/**
                 * @param {?} d
                 * @param {?} i
                 * @return {?}
                 */
                (d, i) => {
                    return y(d[Object.keys(d)[1]]);
                }))
                    .text((/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return d[Object.keys(d)[1]];
                }))
                    .attr("cursor", "pointer")
                    .on("mouseover", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "visible");
                }))
                    .on("mousemove", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.html(this.formTooltipData(d))
                        .style("top", (event$1.pageY - 10) + "px")
                        .style("left", (event$1.pageX + 10) + "px");
                }))
                    .on("mouseout", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    return tooltip.style("visibility", "hidden");
                }))
                    .on("click", (/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    this.scatterChartClick(d);
                    this.fordrillableClick(this, d, event);
                    return tooltip.style("visibility", "hidden");
                }));
            }
        }
        //create zoom handler 
        if (this.zoomflag) {
            this.zoominitiated = true;
            /** @type {?} */
            let zoom_handler = zoom()
                .on("zoom", this.zoom_actions.bind(this));
            zoom_handler(this.svg);
        }
    }
    /**
     * @return {?}
     */
    togglebtnflag() {
        this.resizebtnflag = true;
    }
    /**
     * @return {?}
     */
    zoom_actions() {
        this.node.attr("transform", event$1.transform);
        if (this.labelflag) {
            this.nodelabel.attr("transform", event$1.transform);
        }
        this.resizebtnflag = true;
        this.zoominitiated = false;
    }
    /**
     * @return {?}
     */
    resizesvg() {
        // this.svg = null;
        this.svg.selectAll("*").remove();
        this.plotScatterChart();
        this.resizebtnflag = false;
    }
    // Method to form tooltip data
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    formTooltipData(tooltipData) {
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(tooltipData)) {
            if (key != 'color') {
                object[key] = value;
            }
        }
        return this.toolTipForBar(object);
    }
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    scatterChartClick(event) {
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(event)) {
            if (key !== 'color') {
                object[key] = value;
            }
        }
        this.chartClick(object);
    }
    // method to create Legend
    /**
     * @return {?}
     */
    legendCreation() {
        if (this.dataFormatted[0].length == 2) {
            this.legends = [];
            /** @type {?} */
            let element = this.dataFormatted[0];
            /** @type {?} */
            let object = { 'label': element[0] + " " + "vs" + " " + element[1], 'color': this.color };
            this.legends.push(object);
        }
        else {
            this.legends = [];
            this.legendarray.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                /** @type {?} */
                let legendobject = {};
                legendobject['label'] = element.label;
                legendobject['color'] = element.color;
                this.legends.push(legendobject);
            }));
        }
    }
    // Method on Legend Click
    /**
     * @param {?} legendevent
     * @return {?}
     */
    onScatterLegendClick(legendevent) {
        if (this.dataFormatted[0].length == 2) {
            this.onLegendClick.emit(this.data);
        }
        else {
            this.legendarray.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                if (legendevent.label == element.label) {
                    /** @type {?} */
                    let arr = element.value;
                    /** @type {?} */
                    let temparr = [];
                    arr.forEach((/**
                     * @param {?} element
                     * @return {?}
                     */
                    element => {
                        /** @type {?} */
                        let obj = {};
                        for (let [key, value] of Object.entries(element)) {
                            if (key !== 'color') {
                                obj[key] = value;
                            }
                        } //for end
                        temparr.push(obj);
                    })); //for each ends
                    this.legendClick(temparr);
                }
            }));
        }
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    // Method for responsiveness
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotScatterChart();
    }
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotLine(g, x, y, height, width) {
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat(''));
        }
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    }
    /**
     * @return {?}
     */
    colorGeneration() {
        this.legendarray = [];
        /** @type {?} */
        let i = 0;
        /** @type {?} */
        let names = this.dataFormatted
            .map((/**
         * @param {?} e
         * @return {?}
         */
        e => e[2]))
            .filter((/**
         * @param {?} e
         * @param {?} i
         * @param {?} a
         * @return {?}
         */
        (e, i, a) => a.indexOf(e) === i));
        for (let j = 1; j < names.length; j++) {
            /** @type {?} */
            let value = [];
            /** @type {?} */
            let obj = { "label": "", "color": "", "value": [] };
            this.transformeddata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                if (element[Object.keys(element)[2]] == names[j]) {
                    element['color'] = this.predefinedcolors[i];
                    value.push(element);
                }
            }));
            obj["value"] = value;
            obj["label"] = names[j];
            obj["color"] = this.predefinedcolors[i];
            this.legendarray.push(obj);
            i++;
        }
    }
    /**
     * @return {?}
     */
    formLegendData() {
        this.legendData = [];
        this.legendarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let legendobject = {};
            legendobject['label'] = element.label;
            legendobject['color'] = element.color;
            this.legendData.push(legendobject);
        }));
    }
}
ScatterchartComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-scatter',
                template: `<div #chartId  *ngIf="drillableFlag" (window:resize)="validateresize()">
        <table *ngIf="data.length > 0"  style="width: 100%;">
            <tr >
                <td colspan="2" style="font-size: 18px; font-weight: bold; "> {{title}}
                 <span *ngIf="resizebtnflag">
               <button  type="reset" class="fa fa-search-minus" style="cursor: pointer; float:right" (click)="resizesvg()">
               </button>
               </span>     
                </td>
            </tr>
            <tr>
                <td>
                    <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId">
                    </svg>
                </td>
            </tr>
            <tr *ngIf="legend">
                <td style="display: block; padding: 5px;">
                    <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="onScatterLegendClick($event)" [data]="legends" style="height:100%;"></amexio-d3-legend>
                </td>
            </tr>
        </table>
        <div *ngIf="data.length < 1" class="lmask" style="padding-top:50%">
            </div>
    </div>`,
                styles: [``]
            },] },
];
ScatterchartComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
ScatterchartComponent.propDecorators = {
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    color: [{ type: Input, args: ['color',] }],
    zoomflag: [{ type: Input, args: ['zoom-enable',] }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class MultiareaComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super("areachart");
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.svgheight = 350;
        this.colorarray = [];
        this.onLegendClick = new EventEmitter();
        this.onTooltipClick = new EventEmitter();
        this.togglelabel = false;
        this.margin = {};
        this.keyArray = [];
        this.transformeddata = [];
        this.data1 = [];
        this.legendArray = [];
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        this.togglelabel = false;
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    this.httpresponse = response;
                    this.data = this.getResponseData(response);
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.transformData(this.data);
                        this.initAreaChart();
                        this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data1) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.transformData(this.data);
                    this.initAreaChart();
                    this.plotD3Chart();
                }), 0);
            }
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    //this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.data = this.getResponseData(this.httpresponse);
            this.transformData(this.data);
            this.initAreaChart();
            this.plotD3Chart();
        }), 0);
    }
    /**
     * @return {?}
     */
    initAreaChart() {
        this.tooltip = this.toolTip(d3);
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        this.margin = { top: 30, right: 44, bottom: 50, left: 30 },
            this.width = this.svgwidth - this.margin.left - this.margin.right,
            this.height = this.svgheight - this.margin.top - this.margin.bottom;
        //find max and initialize max
        this.maximumValue = this.findMaxData(this.data);
        this.x = scalePoint()
            .range([0, this.width]);
        // .padding(0.1);
        this.y = scaleLinear()
            .rangeRound([this.height, 0]);
        this.areaArray = [];
        //set x y domain
        this.areaArray = this.data.map((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d[Object.keys(d)[0]]; }));
        this.x.domain(this.areaArray);
        this.y.domain([0, this.maximumValue]);
        //initialize svg
        this.svg =
            select("#" + this.componentId)
                .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
                .attr("width", this.width + this.margin.left + this.margin.right)
                .attr("height", this.height + this.margin.top + this.margin.bottom);
        this.predefinedColors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
    }
    /**
     * @return {?}
     */
    plotD3Chart() {
        this.formLegendData();
        /** @type {?} */
        let counter;
        /** @type {?} */
        let g = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
        // add the X 
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                g.append("g")
                    .attr("transform", "translate(0," + this.height + ")")
                    .call(axisBottom(this.x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                g.append("g")
                    .attr("transform", "translate(0," + this.height + ")")
                    .call(axisBottom(this.x));
            }
        }
        else {
            g.append("g")
                .attr("transform", "translate(0," + this.height + ")")
                .call(axisBottom(this.x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        // add the Y Axis
        g.append("g")
            .call(axisLeft(this.y).ticks(this.tickscount));
        this.plotLine(g, this.x, this.y, this.height, this.width);
        for (counter = 1; counter < this.keyArray.length; counter++) {
            /** @type {?} */
            let innerGroup = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
            this.plotAreaChart(innerGroup, counter, this);
        }
        //call method to plot points
        /** @type {?} */
        let increment;
        for (increment = 1; increment < this.keyArray.length; increment++) {
            //plot line
            /** @type {?} */
            let innerGroup = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
            this.PlotLineDot(innerGroup, increment, this);
        } //increment for ends
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    PlotLineDot(g, i, thisa) {
        /** @type {?} */
        let flag = this.togglelabel;
        /** @type {?} */
        const line$$1 = line()
            .x((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return thisa.x(d[Object.keys(d)[0]]); }))
            .y((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return thisa.y(d[Object.keys(d)[i]]); }));
        g.append("path")
            .data([thisa.data])
            .attr("fill", "none")
            .attr("stroke", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            if (this.colorarray.length > 0) {
                if (this.colorarray[i - 1]) {
                    return this.colorarray[i - 1];
                }
                else {
                    return thisa.predefinedcolors[i];
                }
            }
            else {
                return thisa.predefinedcolors[i];
            }
        }))
            .attr("stroke-width", 1.5)
            .attr("d", line$$1)
            .attr("opacity", 0.2)
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")");
        "translate(" + 0 + "," + 0 + ")");
        //----------
        g.selectAll('dot')
            .data(thisa.data)
            .enter()
            .append('circle')
            .attr('opacity', 0)
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            if (this.colorarray.length > 0) {
                if (this.colorarray[i - 1]) {
                    return this.colorarray[i - 1];
                }
                else {
                    return thisa.predefinedcolors[i];
                }
            }
            else {
                return thisa.predefinedcolors[i];
            }
        }))
            .attr("cx", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return thisa.x(d[Object.keys(d)[0]]); }))
            .attr("cy", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return thisa.y(d[Object.keys(d)[i]]); }))
            .attr('r', 4)
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.formTooltipData(d, i);
            return this.tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return this.tooltip.html(this.formTooltipData(d, i))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return this.tooltip.style("visibility", "hidden");
        }))
            .style("opacity", 1)
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.onAreaTooltipClick(d, i);
            this.fordrillableClick(this, d, event);
            return this.tooltip.style("visibility", "hidden");
            //this.chartClick(d);
        }))
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")");
        "translate(" + 0 + "," + 0 + ")");
        // -----------------------------------------------------------------
        if (this.labelflag) {
            g.selectAll('labels')
                .data(thisa.data)
                .enter()
                .append('text')
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.labelcolor && this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                // let length = String(d[Object.keys(d)[i]]).length
                return thisa.x(d[Object.keys(d)[0]]) + 20;
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                /** @type {?} */
                let key = [Object.keys(d)[i]];
                if (flag) {
                    return thisa.y(d[key]) - 5; // fr up
                }
                else {
                    return thisa.y(d[key]) + 15;
                }
                // return thisa.y(d[Object.keys(d)[i]]);
                //  return y(d[Object.keys(d)[1]])+yTextPadding;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return d[Object.keys(d)[i]];
            }))
                .attr("transform", "translate(" + 0 + "," + 0 + ")")
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.formTooltipData(d, i);
                return this.tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return this.tooltip.html(this.formTooltipData(d, i))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return this.tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.onAreaTooltipClick(d, i);
                this.fordrillableClick(this, d, event);
                return this.tooltip.style("visibility", "hidden");
                //this.chartClick(d);
            }));
        }
        if (this.togglelabel) {
            this.togglelabel = false;
        }
        else {
            this.togglelabel = true;
        }
    }
    /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    plotAreaChart(g, i, thisa) {
        // calculate area and valueline
        // define the line
        /** @type {?} */
        const valueline = line()
            .x((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            /** @type {?} */
            let key = [Object.keys(d)[0]];
            return thisa.x(d[key]);
        }))
            .y((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            /** @type {?} */
            let key = [Object.keys(d)[i]];
            return thisa.y(d[key]);
        }));
        // add the valueline path.
        g.append("path")
            .data([this.data])
            .style("stroke", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            if (this.colorarray.length > 0) {
                //  return this.colorarray[i-1];
                if (this.colorarray[i - 1]) {
                    return this.colorarray[i - 1];
                }
                else {
                    return this.predefinedcolors[i];
                }
            }
            else {
                return this.predefinedColors[i];
            }
        }))
            .attr("fill", "none")
            .style("stroke-width", "2px")
            .attr("d", valueline)
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")");
        "translate(" + 0 + "," + 0 + ")");
        // define the area
        /** @type {?} */
        let area$$1 = area()
            .x((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            /** @type {?} */
            let key = [Object.keys(d)[0]];
            return thisa.x(d[key]);
        }))
            .y0(this.height)
            .y1((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            /** @type {?} */
            let key = [Object.keys(d)[i]];
            return thisa.y(d[key]);
        }));
        g.append("path")
            .data([this.data])
            .attr("d", area$$1)
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")")
        "translate(" + 0 + "," + 0 + ")")
            .style("stroke", "none")
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            if (this.colorarray.length > 0) {
                if (this.colorarray[i - 1]) {
                    return this.colorarray[i - 1];
                }
                else {
                    return this.predefinedcolors[i];
                }
            }
            else {
                return this.predefinedColors[i];
            }
        }))
            .style("opacity", 0.5);
    }
    /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    onAreaTooltipClick(tooltipData, count) {
        /** @type {?} */
        let obj = {};
        obj[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
        obj[this.keyArray[count]] = tooltipData[Object.keys(tooltipData)[count]];
        this.chartClick(obj);
    }
    /**
     * @param {?} data
     * @return {?}
     */
    findMaxData(data) {
        /** @type {?} */
        let tempArray = [];
        /** @type {?} */
        let largeValues = [];
        /** @type {?} */
        let maxValue;
        //logic to search 3 largest values 
        data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let value;
            for (let [key, value] of Object.entries(element)) {
                //exempts first column of data as it is treated as x-axis
                if (key != this.keyArray[0]) {
                    tempArray.push(value);
                }
            } //for loop end
            value = this.findLargestValue(tempArray);
            largeValues.push(value);
        }));
        maxValue = this.findLargestValue(largeValues);
        return maxValue;
    }
    /**
     * @param {?} array
     * @return {?}
     */
    findLargestValue(array) {
        /** @type {?} */
        let i;
        /** @type {?} */
        let max$$1 = 0;
        for (i = 0; i < array.length; i++) {
            if (array[i] > max$$1) {
                max$$1 = array[i];
            } //if ends 
        } //max ends
        return max$$1;
    }
    //covert data
    /**
     * @param {?} data
     * @return {?}
     */
    transformData(data) {
        this.transformeddata = [];
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let DummyObject = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                (individualvalue, keyindex) => {
                    DummyObject[this.keyArray[keyindex]] = individualvalue;
                })); //inner for loop ends
                this.transformeddata.push(DummyObject);
            } //if ends
        })); //outer for loop ends
        //outer for loop ends
        /** @type {?} */
        let parsedtransformeddata = JSON.parse(JSON.stringify(this.transformeddata));
        this.data = parsedtransformeddata;
    }
    /**
     * @return {?}
     */
    formLegendData() {
        this.legendArray = [];
        /** @type {?} */
        let counter = 0;
        this.keyArray.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let legendobject = {};
                legendobject['label'] = element;
                if ((this.colorarray.length > 0) && (this.colorarray[counter])) {
                    legendobject['color'] = this.colorarray[counter];
                }
                else {
                    legendobject['color'] = this.predefinedColors[counter + 1];
                }
                this.legendArray.push(legendobject);
                counter++;
            }
        }));
    }
    /**
     * @param {?} legendData
     * @return {?}
     */
    onAreaLegendClick(legendData) {
        /** @type {?} */
        let obj = {};
        obj["label"] = legendData.label;
        /** @type {?} */
        let data = [];
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            for (let [key, value] of Object.entries(element)) {
                if (key == legendData.label) {
                    /** @type {?} */
                    let object = {};
                    object[key] = value;
                    data.push(object);
                } //inner if ends
            } //inner forloop ends
        })); //outer foreach ends
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            // this.resizewt = this.chartId.nativeElement.offsetWidth;
            // console.log("", new Date().getTime(), " ", this.resizewt);
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.initAreaChart();
        this.plotD3Chart();
    }
    /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    formTooltipData(tooltipData, count) {
        /** @type {?} */
        let obj = {};
        obj[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
        obj[this.keyArray[count]] = tooltipData[Object.keys(tooltipData)[count]];
        return this.toolTipForBar(obj);
    }
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotLine(g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    }
    /**
     * @return {?}
     */
    validateData() {
        if (this.data) ;
        else {
            return "lmask";
        }
    }
}
MultiareaComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-multiarea',
                template: `
<div #chartId *ngIf="drillableFlag" #divid (window:resize)="validateresize()">
<table [ngClass]="validateData()" style="width: 100%;">
  <tr *ngIf = "title.length > 0">
      <td style="font-size: 18px; font-weight: bold; "> {{title}} </td>
  </tr>
  <tr>
      <td>
          <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId">
          </svg>
      </td>
  </tr>
  <tr *ngIf="legend" >
      <td style="display: block; padding: 5px;">
          <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="onAreaLegendClick($event)" [data]="legendArray" style="height:100%;">
          </amexio-d3-legend>
      </td>
  </tr>
</table>
<!-- <div *ngIf="data.length < 1" class="lmask" style="padding-top:50%">
    </div> -->
</div>`,
                styles: [``]
            },] },
];
MultiareaComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
MultiareaComponent.propDecorators = {
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    colorarray: [{ type: Input, args: ['color',] }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }],
    onLegendClick: [{ type: Output }],
    onTooltipClick: [{ type: Output }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class CandlestickComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super("candlestickwaterfallchart");
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.svgheight = 300;
        this.showzeroflag = true;
        this.onLegendClick = new EventEmitter();
        this.predefinedColor = [];
        this.keyArray = [];
        this.margin = {};
        this.legendArray = [];
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        this.predefinedColor = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    //this.data = response;
                    this.httpresponse = response;
                    this.data = this.getResponseData(response);
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.transformData(this.data);
                        this.initializeData();
                        this.plotXYAxis();
                        this.plotD3Chart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.transformData(this.data);
                    this.initializeData();
                    this.plotXYAxis();
                    this.plotD3Chart();
                }), 0);
            }
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    //this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.data = this.getResponseData(this.httpresponse);
            this.transformData(this.data);
            this.initializeData();
            this.plotXYAxis();
            this.plotD3Chart();
        }), 0);
    }
    /**
     * @return {?}
     */
    initializeData() {
        this.tooltip = this.toolTip(d3);
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        this.margin = { top: 20, right: 30, bottom: 50, left: 60 },
            this.width = this.svgwidth - this.margin.left - this.margin.right,
            this.height = this.svgheight - this.margin.top - this.margin.bottom;
    }
    /**
     * @return {?}
     */
    plotXYAxis() {
        // set the ranges
        this.x = scaleBand().range([0, this.width]);
        this.y = scaleLinear()
            .rangeRound([this.height, 0]);
        // scale the range of the data
        /** @type {?} */
        let candlestickArray = this.data.map((/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return d[Object.keys(d)[0]];
        }));
        this.x.domain(candlestickArray);
        /** @type {?} */
        let max$$1 = max(this.data, (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d.end; }));
        this.y.domain([0, max$$1]);
        // this.svg = d3.select("#" + this.componentId)
        //RESIZE STEP 2 START
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", this.width + this.margin.left + this.margin.right)
            .attr("height", this.height + this.margin.top + this.margin.bottom)
            .append("g")
            .attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
        // add the X Axis
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + this.height + ")")
                    .call(axisBottom(this.x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + this.height + ")")
                    .call(axisBottom(this.x));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + this.height + ")")
                .call(axisBottom(this.x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        // this.svg.append("g")
        //   .attr("transform", "translate(0," + this.height + ")")
        //   .call(d3.axisBottom(this.x));
        // add the Y Axis
        this.svg.append("g")
            .call(axisLeft(this.y).ticks(this.tickscount));
        this.plotLine(this.svg, this.x, this.y, this.height, this.width);
    }
    /**
     * @return {?}
     */
    plotD3Chart() {
        /** @type {?} */
        let bar = this.svg.selectAll(".bar")
            .data(this.data)
            .enter().append("g")
            .attr("class", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return "bar " + d.class; }))
            .attr("transform", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return "translate(" + this.x(d[Object.keys(d)[0]]) + ",0)";
        }));
        bar.append("rect")
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return this.y(Math.max(d.start, d.end)); }))
            .attr("height", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return Math.abs(this.y(d.start) - this.y(d.end)); }))
            .attr("width", this.x.bandwidth())
            .attr("fill", (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        (d, i) => {
            return this.predefinedColor[i];
        }))
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.formTooltipData(d);
            return this.tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return this.tooltip.html(this.formTooltipData(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return this.tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.onCandlestickClick(d);
            this.fordrillableClick(this, d, event);
            return this.tooltip.style("visibility", "hidden");
        }));
        if (this.labelflag) {
            bar.append("text")
                .style("font-weight", "bold")
                .style("font-size", "1vw")
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.labelcolor && this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return (this.x.bandwidth()) / 2;
            }))
                .attr("y", (/**
             * @param {?} d
             * @param {?} index
             * @return {?}
             */
            (d, index) => {
                return this.y(Math.max(d.start, d.end)) + 20;
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                // return d[Object.keys(d)[1]]
                if (this.showzeroflag) {
                    return d[Object.keys(d)[1]];
                }
                else if (!this.showzeroflag) {
                    if (d[Object.keys(d)[1]] > 0) {
                        return d[Object.keys(d)[1]];
                    }
                }
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.formTooltipData(d);
                return this.tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return this.tooltip.html(this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return this.tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.onCandlestickClick(d);
                this.fordrillableClick(this, d, event);
                return this.tooltip.style("visibility", "hidden");
            }));
        }
    }
    /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotLine(svg, x, y, height, width) {
        if (this.hScale) {
            svg.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    transformData(data) {
        this.transformeddata = [];
        this.keyArray = [];
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let DummyObject = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                (individualvalue, keyindex) => {
                    DummyObject[this.keyArray[keyindex]] = individualvalue;
                })); //inner for loop ends
                this.transformeddata.push(DummyObject);
            } //if ends
        })); //outer for loop ends 
        this.data = this.transformeddata;
        this.addDataKeys();
        this.formLegendData();
    }
    /**
     * @return {?}
     */
    addDataKeys() {
        /** @type {?} */
        let cumulative = 0;
        for (let i = 0; i < this.data.length; i++) {
            this.data[i]["start"] = cumulative;
            cumulative += this.data[i][this.keyArray[1]];
            this.data[i]["end"] = cumulative;
            this.data[i]["class"] = (this.data[i][this.keyArray[1]] >= 0) ? 'positive' : 'negative';
        }
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    formTooltipData(tooltipData) {
        /** @type {?} */
        let object = {};
        object[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
        object[this.keyArray[1]] = tooltipData[Object.keys(tooltipData)[1]];
        return this.toolTipForBar(object);
    }
    /**
     * @param {?} chartData
     * @return {?}
     */
    onCandlestickClick(chartData) {
        /** @type {?} */
        let object = {};
        object[this.keyArray[0]] = chartData[Object.keys(chartData)[0]];
        object[this.keyArray[1]] = chartData[Object.keys(chartData)[1]];
        this.chartClick(object);
    }
    /**
     * @return {?}
     */
    formLegendData() {
        this.legendArray = [];
        this.data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            for (let [key, value] of Object.entries(element)) {
                if (key == this.keyArray[0]) {
                    /** @type {?} */
                    let object = {};
                    object["label"] = value;
                    object["color"] = this.predefinedColor[index];
                    this.legendArray.push(object);
                }
            }
        }));
    }
    /**
     * @param {?} chartData
     * @return {?}
     */
    onCandlestickLegendClick(chartData) {
        /** @type {?} */
        let object = {};
        this.data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            for (let [key, value] of Object.entries(element)) {
                if (value == chartData.label) {
                    object[chartData.label] = element[Object.keys(element)[1]];
                }
            }
        }));
        this.onLegendClick.emit(object);
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            // this.resizewt = this.chartId.nativeElement.offsetWidth;
            // console.log("", new Date().getTime(), " ", this.resizewt);
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.initializeData();
        this.plotXYAxis();
        this.plotD3Chart();
    }
}
CandlestickComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-waterfall',
                template: `
<div #chartId *ngIf="drillableFlag"  (window:resize)="validateresize()" >
<table *ngIf="data.length > 0" style="width: 100%;" >
  <tr *ngIf = "title.length > 0">
      <td style="font-size: 18px; font-weight: bold; "> {{title}} </td>
  </tr>
  <tr>
      <td>
          <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId">
          </svg>
      </td>
  </tr>
  <tr *ngIf="legend">
      <td style="display: block; padding: 5px;">
          <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="onCandlestickLegendClick($event)" [data]="legendArray" style="height:100%;">
          </amexio-d3-legend>
      </td>
  </tr>
</table>
<div *ngIf="data.length < 1" class="lmask" style="padding-top:50%">
    </div>
</div>`,
                styles: [``]
            },] },
];
CandlestickComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
CandlestickComponent.propDecorators = {
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    data: [{ type: Input }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    showzeroflag: [{ type: Input, args: ['show-zero-values',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }],
    onLegendClick: [{ type: Output }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class BubbleComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super('bubble');
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.svgheight = 300;
        this.color = "blue";
        this.zoomflag = false;
        this.zoominitiated = false;
        this.keyArray = [];
        this.transformeddata = [];
        this.colors = [];
        this.xaxisArray = [];
        this.xarray = [];
        this.legends = [];
        this.legendarray = [];
        this.resizebtnflag = false;
        this.legendData = [];
        this.minxvalue = 0;
        this.maxxvalue = 0;
        this.bubblechartdata = [];
        this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        this.data1 = [];
        if (this.level <= 1) {
            /** @type {?} */
            let resp;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    resp = response;
                    this.httpresponse = resp;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.data = this.getResponseData(resp);
                        this.data1 = this.data;
                        this.xaxisData();
                        this.transformData(this.data1);
                        this.transformdata();
                        this.colorGeneration();
                        this.formLegendData();
                        this.plotBubbleChart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data1 = this.data;
                    this.data = this.getResponseData(this.data);
                    this.xaxisData();
                    this.transformData(this.data);
                    this.transformdata();
                    this.colorGeneration();
                    this.formLegendData();
                    this.plotBubbleChart();
                }), 0);
            }
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                this.httpresponse = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    //this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.data = this.getResponseData(this.httpresponse);
            this.data1 = this.data;
            this.xaxisData();
            this.transformData(this.data1);
            this.transformdata();
            this.colorGeneration();
            this.formLegendData();
            this.plotBubbleChart();
        }), 0);
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @param {?} data
     * @return {?}
     */
    transformData(data) {
        this.colordata = [];
        this.keyArray = data[0];
        data.forEach((/**
         * @param {?} element
         * @param {?} index
         * @return {?}
         */
        (element, index) => {
            if (index > 0) {
                /** @type {?} */
                let DummyObject = {};
                element.forEach((/**
                 * @param {?} individualvalue
                 * @param {?} keyindex
                 * @return {?}
                 */
                (individualvalue, keyindex) => {
                    DummyObject[this.keyArray[keyindex]] = individualvalue;
                }));
                this.transformeddata.push(DummyObject);
            }
        }));
        this.data = this.transformeddata;
        this.colordata = this.transformeddata;
    }
    /**
     * @return {?}
     */
    plotBubbleChart() {
        /** @type {?} */
        let colors = this.predefinedcolors;
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE
        }
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        /** @type {?} */
        const margin = { top: 20, right: 60, bottom: 50, left: 60 };
        /** @type {?} */
        const width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        const height = this.svgheight - margin.top - margin.bottom;
        /** @type {?} */
        let x;
        /** @type {?} */
        let y;
        x = scaleLinear()
            .rangeRound([0, width]);
        y = scaleLinear()
            .rangeRound([height, 0]);
        /** @type {?} */
        let xAxis = axisBottom(x).ticks(this.xtickscount);
        /** @type {?} */
        let yAxis = axisLeft(y).ticks(this.tickscount);
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        y.domain([0, max(this.data, (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return d[Object.keys(d)[2]]; }))]);
        x.domain([this.minxvalue, this.maxxvalue]);
        /** @type {?} */
        let rScale = scaleSqrt().rangeRound([6, 30]);
        rScale.domain([min(this.data, (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return d[Object.keys(d)[4]]; })), max(this.data, (/**
             * @param {?} d
             * @param {?} i
             * @return {?}
             */
            (d, i) => { return d[Object.keys(d)[4]]; }))]);
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis)
                    .append("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis)
                    .append("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .style("text-anchor", "start");
            }
        }
        else {
            this.svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        this.svg.append("g")
            .attr("class", "y axis")
            .call(yAxis)
            .append("text")
            .attr("class", "label")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end");
        this.plotLine(this.svg, x, y, height, width);
        this.node = this.svg.selectAll(".dot")
            .data(this.bubblechartdata)
            .enter().append("circle")
            .attr("class", "dot")
            .attr("r", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return rScale(d[Object.keys(d)[4]]); }))
            .attr("cursor", "pointer")
            .attr("cx", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return x(d[Object.keys(d)[1]]);
        }))
            .attr("cy", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return y(d[Object.keys(d)[2]]); }))
            .attr("fill", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d[Object.keys(d)[5]]; }))
            .attr('opacity', 0.7)
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.html(this.formTooltipData(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            // if(!this.zoominitiated) {
            this.bubbleChartClick(d);
            this.fordrillableClick(this, d, event);
            return tooltip.style("visibility", "hidden");
            // }
        }));
        //label
        if (this.labelflag) {
            this.nodelabel = this.svg.selectAll("labels")
                .data(this.bubblechartdata)
                .enter().append("text")
                .style("font-weight", "bold")
                .style("font-size", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return rScale(d[Object.keys(d)[4]]) - 4;
            }))
                .attr("text-anchor", "middle")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.labelcolor && this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x(d[Object.keys(d)[1]]);
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return y(d[Object.keys(d)[2]]); }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return d[Object.keys(d)[0]];
            }))
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                // if(!this.zoominitiated) {
                this.bubbleChartClick(d);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
                // }
            }));
        }
        //create zoom handler 
        if (this.zoomflag) {
            this.zoominitiated = true;
            /** @type {?} */
            let zoom_handler = zoom()
                .on("zoom", this.zoom_actions.bind(this));
            zoom_handler(this.svg);
        }
    }
    /**
     * @return {?}
     */
    togglebtnflag() {
        this.resizebtnflag = true;
    }
    /**
     * @return {?}
     */
    zoom_actions() {
        this.node.attr("transform", event$1.transform);
        if (this.labelflag) {
            this.nodelabel.attr("transform", event$1.transform);
        }
        this.resizebtnflag = true;
        this.zoominitiated = false;
    }
    /**
     * @return {?}
     */
    resizesvg() {
        // this.svg = null;
        this.svg.selectAll("*").remove();
        this.plotBubbleChart();
        this.resizebtnflag = false;
    }
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    formTooltipData(tooltipData) {
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(tooltipData)) {
            if (key != 'color') {
                object[key] = value;
            }
        }
        return this.toolTipForBar(object);
    }
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    bubbleChartClick(event) {
        /** @type {?} */
        let object = {};
        for (let [key, value] of Object.entries(event)) {
            if (key !== 'color') {
                object[key] = value;
            }
        }
        this.chartClick(object);
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotBubbleChart();
    }
    /**
     * @return {?}
     */
    xaxisData() {
        /** @type {?} */
        let array = [];
        this.minxvalue = 0;
        this.maxxvalue = 0;
        this.xaxisArray = [];
        this.xarray = [];
        this.data1.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            array.push(element[1]);
        }));
        for (let i = 1; i < array.length; i++) {
            this.xaxisArray.push(array[i]);
        }
        /** @type {?} */
        let minvalue = Math.floor(min(this.xaxisArray));
        /** @type {?} */
        let maxvalue = Math.ceil(max(this.xaxisArray));
        this.minxvalue = 5 * (Math.floor(Math.abs(minvalue / 5)));
        this.maxxvalue = 5 * (Math.ceil(Math.abs(maxvalue / 5)));
    }
    /**
     * @return {?}
     */
    colorGeneration() {
        this.legendarray = [];
        /** @type {?} */
        let i = 0;
        /** @type {?} */
        let names = this.data1
            .map((/**
         * @param {?} e
         * @return {?}
         */
        e => e[3]))
            .filter((/**
         * @param {?} e
         * @param {?} i
         * @param {?} a
         * @return {?}
         */
        (e, i, a) => a.indexOf(e) === i));
        for (let j = 1; j < names.length; j++) {
            /** @type {?} */
            let value = [];
            /** @type {?} */
            let obj = { "label": "", "color": "", "value": [] };
            this.colordata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                if (element[Object.keys(element)[3]] == names[j]) {
                    element['color'] = this.predefinedcolors[i];
                    value.push(element);
                }
            }));
            obj["value"] = value;
            obj["label"] = names[j];
            obj["color"] = this.predefinedcolors[i];
            this.legendarray.push(obj);
            i++;
        }
    }
    /**
     * @return {?}
     */
    formLegendData() {
        this.legendData = [];
        this.legendarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let legendobject = {};
            legendobject['label'] = element.label;
            legendobject['color'] = element.color;
            this.legendData.push(legendobject);
        }));
    }
    /**
     * @param {?} legendevent
     * @return {?}
     */
    onBubbleLegendClick(legendevent) {
        this.legendarray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let obj = {};
            /** @type {?} */
            let temparr = [];
            if (legendevent.label == element.label) {
                /** @type {?} */
                let arr = element.value;
                arr.forEach((/**
                 * @param {?} element
                 * @return {?}
                 */
                element => {
                    for (let [key, value] of Object.entries(element)) {
                        if (key !== 'color') {
                            obj[key] = value;
                        }
                    } // for ends
                    temparr.push(obj);
                })); // for each ends
                this.legendClick(temparr);
            }
        }));
    }
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    plotLine(g, x, y, height, width) {
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat('').ticks(this.xtickscount));
        }
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat('').ticks(this.tickscount));
        }
    }
    /**
     * @return {?}
     */
    transformdata() {
        this.bubblechartdata = [];
        /** @type {?} */
        let buubledata = [];
        this.colordata.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        (element, i) => {
            buubledata.push(element[Object.keys(element)[4]]);
        }));
        /** @type {?} */
        let data = buubledata.sort((/**
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        (a, b) => { return b - a; }));
        for (let j = 0; j <= data.length; j++) {
            this.colordata.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                if (data[j] == element[Object.keys(element)[4]])
                    this.bubblechartdata.push(element);
            }));
        }
    }
}
BubbleComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-bubble',
                template: `<div #chartId *ngIf="drillableFlag" (window:resize)="validateresize()">
    <table *ngIf="data.length > 0" style="width: 100%;">
        <tr>
            <td colspan="2" style="font-size: 18px; font-weight: bold; "> {{title}}
                <span *ngIf="resizebtnflag">
                    <button type="reset" class="fa fa-search-minus" style="cursor: pointer; float:right" (click)="resizesvg()">
                    </button>
                </span>
            </td>
            <td></td>
        </tr>
        <tr>
            <td>
                <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId">
                </svg>
            </td>
        </tr>
        <tr *ngIf="legend">
            <td style="display: block; padding: 5px;">
                <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="onBubbleLegendClick($event)" [data]="legendData"
                    style="height:100%;"></amexio-d3-legend>
            </td>
        </tr>
    </table>
    <div *ngIf="data.length < 1" class="lmask" style="padding-top:50%">
    </div>
</div>`,
                styles: [``]
            },] },
];
BubbleComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
BubbleComponent.propDecorators = {
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    color: [{ type: Input, args: ['color',] }],
    zoomflag: [{ type: Input, args: ['zoom-enable',] }],
    tickscount: [{ type: Input, args: ['yaxis-interval',] }],
    xtickscount: [{ type: Input, args: ['xaxis-interval',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class AmexioD3TimelineChartComponent extends AmexioD3BaseChartComponent {
    /**
     * @param {?} myservice
     * @param {?} cdf
     * @param {?} device
     */
    constructor(myservice, cdf, device) {
        super('timeline');
        this.myservice = myservice;
        this.cdf = cdf;
        this.device = device;
        this.svgheight = 200;
        this.level = 0;
        this.drillabledatakey = [];
        this.labelcolor = "black";
        this.labelflag = false;
        this.lanes = [];
        this.timelinechartData = [];
        this.drillableFlag = true;
        this.resizeflag = false;
        this.monthlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.wt = this.svgwidth;
        if (this.level <= 1) {
            /** @type {?} */
            let resp;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe((/**
                 * @param {?} response
                 * @return {?}
                 */
                (response) => {
                    resp = response;
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                }), (/**
                 * @return {?}
                 */
                () => {
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.data = this.getResponseData(resp);
                        this.transformTODate(this.data);
                        this.transformData(this.urldata);
                        this.plotChart();
                    }), 0);
                }));
            }
            else if (this.data) {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(this.data);
                    this.transformData(this.data);
                    this.plotChart();
                }), 0);
            }
        }
    }
    /**
     * @param {?} data
     * @return {?}
     */
    fetchData(data) {
        /** @type {?} */
        let requestJson;
        /** @type {?} */
        let key = this.drillabledatakey;
        /** @type {?} */
        let resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            let drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            (response) => {
                resp = response;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
            }), (/**
             * @return {?}
             */
            () => {
                setTimeout((/**
                 * @return {?}
                 */
                () => {
                    this.data = this.getResponseData(resp);
                    this.drawChart();
                }), 0);
            }));
        }
    }
    /**
     * @return {?}
     */
    drawChart() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            this.transformTODate(this.data);
            this.transformData(this.urldata);
            this.plotChart();
        }), 0);
    }
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    getResponseData(httpResponse) {
        /** @type {?} */
        let responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            const dr = this.datareader.split('.');
            for (const ir of dr) {
                responsedata = responsedata[ir];
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
    }
    /**
     * @return {?}
     */
    plotChart() {
        /** @type {?} */
        let laneLength = this.lanes.length;
        /** @type {?} */
        const tooltip = this.toolTip(d3);
        if (this.resizeflag == false) {
            //RESIZE STEP 1
            if (this.wt) {
                this.svgwidth = this.wt;
            }
            else if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            //RESIZE STEP 1 ENDS HERE 
        }
        /** @type {?} */
        let m = [20, 25, 15, 120];
        /** @type {?} */
        let //top right bottom left
        width = this.svgwidth - m[1] - m[3];
        /** @type {?} */
        let height = this.svgheight - m[0] - m[2];
        /** @type {?} */
        let miniHeight = laneLength * 12 + 50;
        /** @type {?} */
        let mainHeight = height - miniHeight - 50;
        /** @type {?} */
        let mindate;
        /** @type {?} */
        let maxdate;
        /** @type {?} */
        let barheight = 20;
        if (this.httpurl && this.httpmethod) {
            mindate = this.urldata[0][1].getFullYear(),
                maxdate = this.urldata[this.urldata.length - 1][2].getFullYear();
        }
        else {
            mindate = this.data[0][1].getFullYear(),
                maxdate = this.data[this.data.length - 1][2].getFullYear();
        }
        /** @type {?} */
        let x = scaleTime()
            .domain([this.mindate, this.maxdate])
            .range([0, width]);
        /** @type {?} */
        let x1 = scaleLinear()
            .domain([mindate, maxdate])
            .range([m[3], width + m[3]]);
        /** @type {?} */
        let y1 = scaleLinear()
            .domain([0, laneLength])
            .range([0, miniHeight]);
        this.svg = select("#" + this.componentId)
            .attr('viewBox', '0 0 ' + this.svgwidth + ' ' + this.svgheight)
            .attr("width", width + m[1] + m[3])
            .attr("height", height + m[0] + m[2]);
        if (this.device.IsDesktop() == true) {
            if (this.svgwidth <= 400) {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x1).ticks(this.xtickscount)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            else {
                this.svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x1).ticks(this.xtickscount));
            }
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x1).ticks(this.xtickscount)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        /** @type {?} */
        let mini = this.svg.append("g")
            .attr("transform", "translate(" + m[3] + "," + (mainHeight + m[0]) + ")")
            .attr("width", width)
            .attr("height", mainHeight)
            .attr("class", "mini");
        //mini lanes and texts
        mini.append("g").selectAll(".laneLines")
            .data(this.timelinechartData)
            .enter().append("line")
            .attr("y1", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return y1(d.lane); }))
            .attr("x2", width)
            .attr("y2", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return y1(d.lane); }))
            .attr("stroke", "lightgray");
        mini.append("g").selectAll(".laneText")
            .data(this.lanes)
            .enter().append("text")
            .text((/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return d; }))
            .attr("x", -m[1])
            .attr("y", (/**
         * @param {?} d
         * @param {?} i
         * @return {?}
         */
        (d, i) => { return y1(i + .5); }))
            .attr("dy", ".5ex")
            .attr("text-anchor", "end")
            .attr("class", "laneText");
        //mini item rects
        mini.append("g").selectAll("miniItems")
            .data(this.timelinechartData)
            .enter().append("rect")
            .attr("class", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return "miniItem" + d.lane; }))
            .attr("fill", (/**
         * @param {?} d
         * @param {?} index
         * @return {?}
         */
        (d, index) => { return this.predefinedcolors[index]; }))
            .attr("x", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return x(d.start); }))
            .attr("y", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => { return (y1(d.lane + .5) - 5); }))
            .attr("width", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return Math.abs(x(d.end) - x(d.start));
        }))
            .attr("height", barheight)
            .attr("cursor", "pointer")
            .on("mouseover", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "visible");
        }))
            .on("mousemove", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.html(this.formTooltipData(d)
            //  this.toolTipForBar(d)
            // this.toolTipContent(d)
            )
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }))
            .on("mouseout", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            return tooltip.style("visibility", "hidden");
        }))
            .on("click", (/**
         * @param {?} d
         * @return {?}
         */
        (d) => {
            this.timelineChartClick(d);
            this.fordrillableClick(this, d, event);
            return tooltip.style("visibility", "hidden");
        }));
        /** @type {?} */
        let barwidth;
        //mini labels
        /** @type {?} */
        let monthlist1 = this.monthlist;
        if (this.labelflag) {
            mini.append("g").selectAll(".miniLabels")
                .data(this.timelinechartData)
                .enter().append("text")
                .style("font-weight", "bold")
                .attr("fill", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
            }))
                .style("font-size", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                barwidth = Math.min(Math.abs(x(d.end) - x(d.start)));
                return barwidth / 20 + "px";
            }))
                .text((/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                if (d.id) {
                    /** @type {?} */
                    let startfullyear = d.start.getFullYear();
                    /** @type {?} */
                    let startMonth = monthlist1[d.start.getMonth()];
                    /** @type {?} */
                    let endfullyear = d.end.getFullYear();
                    /** @type {?} */
                    let endMonth = monthlist1[d.end.getMonth()];
                    /** @type {?} */
                    let date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
                    return date;
                }
            }))
                .attr("x", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return x(d.start);
            }))
                .attr("y", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => { return y1(d.lane + .5); }))
                .attr("dy", "1.2ex")
                .attr("dx", "9ex")
                .attr("cursor", "pointer")
                .on("mouseover", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "visible");
            }))
                .on("mousemove", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.html(this.formTooltipData(d)
                //  this.toolTipForBar(d)
                // this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            }))
                .on("mouseout", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                return tooltip.style("visibility", "hidden");
            }))
                .on("click", (/**
             * @param {?} d
             * @return {?}
             */
            (d) => {
                this.timelineChartClick(d);
                this.fordrillableClick(this, d, event);
                return tooltip.style("visibility", "hidden");
            }));
        }
    }
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    formTooltipData(tooltipData) {
        /** @type {?} */
        let object = {};
        /** @type {?} */
        let mlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
        /** @type {?} */
        let label1 = "Duration";
        /** @type {?} */
        let label2 = "Name";
        /** @type {?} */
        let startfullyear = tooltipData.start.getFullYear();
        /** @type {?} */
        let startMonth = mlist[tooltipData.start.getMonth()];
        /** @type {?} */
        let endfullyear = tooltipData.end.getFullYear();
        /** @type {?} */
        let endMonth = mlist[tooltipData.end.getMonth()];
        /** @type {?} */
        let date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
        object[label2 + ":"] = tooltipData.id;
        object[label1 + ":"] = date;
        return this.toolTipForBar(object);
    }
    /**
     * @param {?} data
     * @return {?}
     */
    transformTODate(data) {
        this.urldata = [];
        data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            /** @type {?} */
            let dataobj = [];
            /** @type {?} */
            let startdate = new Date(element[1]);
            /** @type {?} */
            let enddate = new Date(element[2]);
            dataobj.push(element[0]);
            dataobj.push(startdate);
            dataobj.push(enddate);
            this.urldata.push(dataobj);
        }));
    }
    /**
     * @param {?} data
     * @return {?}
     */
    transformData(data) {
        this.lanes = [];
        this.timelinechartData = [];
        this.legends = [];
        /** @type {?} */
        let datalength = data.length - 1;
        /** @type {?} */
        let length = data.length;
        this.mindate = data[0][1];
        this.maxdate = data[datalength][2];
        /** @type {?} */
        let mlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
        data.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        (element, i) => {
            /** @type {?} */
            let dataObj = { "lane": "", "id": "", "start": "", "end": "" };
            this.lanes.push(element[0]);
            dataObj["lane"] = i;
            dataObj["id"] = element[0];
            dataObj["start"] = element[1];
            dataObj["end"] = element[2];
            this.timelinechartData.push(dataObj);
        }));
        this.timelinechartData.forEach((/**
         * @param {?} element
         * @param {?} i
         * @return {?}
         */
        (element, i) => {
            /** @type {?} */
            let startfullyear = element.start.getFullYear();
            /** @type {?} */
            let startMonth = mlist[element.start.getMonth()];
            /** @type {?} */
            let endfullyear = element.end.getFullYear();
            /** @type {?} */
            let endMonth = mlist[element.end.getMonth()];
            /** @type {?} */
            let date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
            /** @type {?} */
            let object = { 'label': this.lanes[i], 'color': this.predefinedcolors[i], 'Duration': date };
            this.legends.push(object);
        }));
        /** @type {?} */
        let Obj = { "lane": "", "id": "", "start": "", "end": "" };
        Obj["lane"] = length;
        this.timelinechartData.push(Obj);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    timelineChartClick(event) {
        /** @type {?} */
        let object = {};
        /** @type {?} */
        let mlist = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
        /** @type {?} */
        let startfullyear = event.start.getFullYear();
        /** @type {?} */
        let startMonth = mlist[event.start.getMonth()];
        /** @type {?} */
        let endfullyear = event.end.getFullYear();
        /** @type {?} */
        let endMonth = mlist[event.end.getMonth()];
        /** @type {?} */
        let date = startMonth + " " + startfullyear + "-" + endMonth + " " + endfullyear;
        object["Name"] = event.id;
        object["Duration"] = date;
        this.chartClick(object);
    }
    //RESIZE STEP 4 STARTS
    /**
     * @return {?}
     */
    validateresize() {
        setTimeout((/**
         * @return {?}
         */
        () => {
            if (this.wt) ;
            else {
                this.resize();
            }
        }), 0);
    }
    //RESIZE STEP 4 ENDS
    /**
     * @return {?}
     */
    resize() {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        if (this.wt) {
            this.svgwidth = this.wt;
        }
        else if (this.chartId) {
            // this.resizewt = this.chartId.nativeElement.offsetWidth;
            // console.log("", new Date().getTime(), " ", this.resizewt);
            this.svgwidth = this.chartId.nativeElement.offsetWidth;
        }
        this.cdf.detectChanges();
        this.plotChart();
    }
    /**
     * @param {?} event
     * @return {?}
     */
    timelinelegendClick(event) {
        /** @type {?} */
        let obj = {};
        for (let [key, value] of Object.entries(event)) {
            if (key !== 'color') {
                obj[key] = value;
            }
        }
        this.onLegendClick.emit(obj);
    }
}
AmexioD3TimelineChartComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-d3-chart-timeline',
                template: `
<div  #chartId *ngIf="drillableFlag"  (window:resize)="validateresize()" >
    <table style="width: 100%;" position=" relative">
        <tr *ngIf = "title.length > 0">
            <td style="font-size: 18px; font-weight: bold; "> {{title}} </td>
        </tr>
        <tr>
            <td>
                <svg [attr.height]="svgheight" [attr.width]="svgwidth" [attr.id]="componentId" 
              >
                </svg>
            </td>
        </tr>
        <tr *ngIf="legend">
            <td style="display: block; padding: 5px;">
                <amexio-d3-legend *ngIf="legend" [horizontal]="true" (onClick)="timelinelegendClick($event)" [data]="legends" style="height:100%;">
                </amexio-d3-legend>
            </td>
        </tr>
    </table>
    </div>`
            },] },
];
AmexioD3TimelineChartComponent.ctorParameters = () => [
    { type: CommanDataService },
    { type: ChangeDetectorRef },
    { type: DeviceQueryService }
];
AmexioD3TimelineChartComponent.propDecorators = {
    data: [{ type: Input, args: ['data',] }],
    chartId: [{ type: ViewChild, args: ['chartId',] }],
    divid: [{ type: ViewChild, args: ['divid',] }],
    svgwidth: [{ type: Input, args: ['width',] }],
    svgheight: [{ type: Input, args: ['height',] }],
    datareader: [{ type: Input, args: ['data-reader',] }],
    level: [{ type: Input, args: ['level',] }],
    target: [{ type: Input, args: ['target',] }],
    drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
    labelcolor: [{ type: Input, args: ['label-color',] }],
    labelflag: [{ type: Input, args: ['label',] }],
    xtickscount: [{ type: Input, args: ['xaxis-interval',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ViewDrillableComponent {
    constructor() {
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        return this.getComponentData();
    }
    /**
     * @return {?}
     */
    getComponentData() {
        this.chartInputArray = [];
        this.barchartinput = this.queryBarchartinput.toArray();
        this.groupbarchartinput = this.QueryGroupbarchartinput.toArray();
        this.linechartinput = this.QueryLinechartinput.toArray();
        this.donutchartinput = this.QueryDonutchartinput.toArray();
        this.piechartinput = this.QueryPiechartinput.toArray();
        this.barstackchartinput = this.QueryBarStackchartinput.toArray();
        this.combochartinput = this.QueryCombochartinput.toArray();
        this.histogramchartinput = this.QueryHistogramchartinput.toArray();
        this.scatterchartinput = this.QuerySatterchartinput.toArray();
        this.multiareachartinput = this.QueryMultiareachartinput.toArray();
        this.candlestickchartinput = this.QueryCandlestickchartinput.toArray();
        this.bubblechartinput = this.QueryBubblechartinput.toArray();
        this.timelinechartinput = this.QueryTimechartinput.toArray();
        this.chartInputArray = this.chartInputArray.concat(this.barchartinput, this.groupbarchartinput, this.linechartinput, this.donutchartinput, this.piechartinput, this.barstackchartinput, this.combochartinput, this.histogramchartinput, this.scatterchartinput, this.multiareachartinput, this.candlestickchartinput, this.bubblechartinput, this.timelinechartinput);
        return this.chartInputArray;
    }
}
ViewDrillableComponent.propDecorators = {
    queryBarchartinput: [{ type: ContentChildren, args: [AmexioD3BarChartComponent, { descendants: true },] }],
    QueryGroupbarchartinput: [{ type: ContentChildren, args: [GroupbarComponent, { descendants: true },] }],
    QueryLinechartinput: [{ type: ContentChildren, args: [AmexioD3LineComponent, { descendants: true },] }],
    QueryPiechartinput: [{ type: ContentChildren, args: [AmexioD3PieChartComponent, { descendants: true },] }],
    QueryDonutchartinput: [{ type: ContentChildren, args: [AmexioD3DounutChartComponent, { descendants: true },] }],
    QueryBarStackchartinput: [{ type: ContentChildren, args: [BarstackComponent, { descendants: true },] }],
    QueryCombochartinput: [{ type: ContentChildren, args: [CombochartComponent, { descendants: true },] }],
    QueryHistogramchartinput: [{ type: ContentChildren, args: [HistogramComponent, { descendants: true },] }],
    QuerySatterchartinput: [{ type: ContentChildren, args: [ScatterchartComponent, { descendants: true },] }],
    QueryMultiareachartinput: [{ type: ContentChildren, args: [MultiareaComponent, { descendants: true },] }],
    QueryCandlestickchartinput: [{ type: ContentChildren, args: [CandlestickComponent, { descendants: true },] }],
    QueryBubblechartinput: [{ type: ContentChildren, args: [BubbleComponent, { descendants: true },] }],
    QueryTimechartinput: [{ type: ContentChildren, args: [AmexioD3TimelineChartComponent, { descendants: true },] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class DrillableComponent extends ViewDrillableComponent {
    constructor() {
        super();
        this.mouseLocation = { left: 0, top: 0 };
        this.componentcounter = 1;
        this.disableFlag = false;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        this.ComponentDataArray = this.getComponentData();
        this.getData(this.ComponentDataArray);
    }
    /**
     * @param {?} data
     * @return {?}
     */
    getData(data) {
        data.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            if (element.level !== 1) {
                element.drillableFlag = false;
                element.drillableEvent.subscribe((/**
                 * @param {?} eventdata
                 * @return {?}
                 */
                (eventdata) => {
                    this.hideUI(eventdata);
                    this.sameLevelChart(eventdata);
                    this.ShowUI(eventdata);
                }));
            }
            else {
                this.disableFlag = false;
                element.drillableEvent.subscribe((/**
                 * @param {?} eventdata
                 * @return {?}
                 */
                (eventdata) => {
                    this.hideUI(eventdata);
                    this.sameLevelChart(eventdata);
                    this.ShowUI(eventdata);
                }));
            }
        }));
    }
    /**
     * @param {?} eventRef
     * @return {?}
     */
    hideUI(eventRef) {
        this.ComponentDataArray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            if (element.level == eventRef.ref.level) {
                eventRef.ref.drillableFlag = false;
            }
        }));
    }
    /**
     * @param {?} eventRef
     * @return {?}
     */
    ShowUI(eventRef) {
        this.eventData = [];
        this.eventData = eventRef;
        this.ComponentDataArray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            if (eventRef.ref.target == element.level) {
                if (this.arrayofsameLevel.length == 1) {
                    this.disableFlag = true;
                    element.drillableFlag = true;
                    element.fetchData(eventRef.node);
                    this.componentcounter = element.level;
                }
                else {
                    this.contextmenuFlag = true;
                    this.mouseLocation.left = eventRef.event.clientX;
                    this.mouseLocation.top = eventRef.event.clientY;
                    this.contextStyle = this.getContextMenuStyle();
                }
            }
        }));
        if (this.componentcounter == eventRef.ref.level) {
            eventRef.ref.drillableFlag = true;
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    previouschartClick(event) {
        /** @type {?} */
        let chartLevel = this.componentcounter - 1;
        this.ComponentDataArray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            if (chartLevel == element.level) {
                element.drillableFlag = true;
                element.drawChart();
            }
            else if (this.componentcounter == element.level) {
                element.drillableFlag = false;
            }
        }));
        if (this.componentcounter == 2) {
            this.disableFlag = false;
        }
        this.componentcounter = chartLevel;
    }
    /**
     * @param {?} eventRef
     * @return {?}
     */
    sameLevelChart(eventRef) {
        this.arrayofsameLevel = [];
        this.ComponentDataArray.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            if (eventRef.ref.target == element.level) {
                this.arrayofsameLevel = this.arrayofsameLevel.concat(element);
            }
        }));
    }
    //Method Creates style if two same targets found.
    /**
     * @return {?}
     */
    getContextMenuStyle() {
        return {
            'cursor': 'default',
            'position': 'fixed',
            'display': this.contextmenuFlag ? 'block' : 'none',
            'left': this.mouseLocation.left + 'px',
            'top': this.mouseLocation.top + 'px',
            'box-shadow': '1px 1px 2px #000000',
            'width': '15%',
        };
    }
    /**
     * @param {?} elementRef
     * @return {?}
     */
    getListPosition(elementRef) {
        /** @type {?} */
        const height = 240;
        if ((window.screen.height - elementRef.getBoundingClientRect().bottom) < height) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onContextNodeClick(event) {
        this.componentcounter = 0;
        this.contextmenuFlag = false;
        this.eventData.ref.drillableFlag = false;
        this.disableFlag = true;
        event.drillableFlag = true;
        event.fetchData(this.eventData.node);
        this.componentcounter = event.level;
        if (this.componentcounter == this.eventData.ref.level) {
            this.eventData.ref.drillableFlag = true;
        }
    }
    /**
     * @return {?}
     */
    onCloseClick() {
        this.contextmenuFlag = false;
    }
}
DrillableComponent.decorators = [
    { type: Component, args: [{
                selector: 'amexio-drillable',
                template: `
<div > 
    <ng-container *ngIf="disableFlag">
            <button type="button" class="button"
             (click)="previouschartClick($event)">
             <i class="fa fa-arrow-left"></i> 
             
            </button>
</ng-container>

<ng-content></ng-content>

</div>

<span [ngStyle]="contextStyle" >
  <ul *ngIf="contextmenuFlag" class="close-thik" class="context-menu-list"  >
    <span (click)="onCloseClick()" class="close"><i class="fa fa-close"></i></span>
  <li (click)="onContextNodeClick(itemConfig)" class="context-menu-list-items" 
  *ngFor="let itemConfig of arrayofsameLevel">
  <em [ngStyle]="{'padding-left': itemConfig.icon ? '5px':'19px'}"></em>
  <span style="white-space: nowrap;display: inline ; padding-left:5px">{{itemConfig.title}}
  </span>
  </li>
  </ul>
  </span>
  `,
                styles: [`.button{position:relative;border:1px solid #555;font-weight:400;color:#000;padding:.5rem 1rem;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;border-radius:3px}.button:after{content:"";background:#000;display:block;position:absolute;padding-top:300%;padding-left:350%;margin-left:-20px!important;margin-top:-120%;opacity:0;transition:.8s}.button:active:after{padding:0;margin:0;opacity:1;transition:none}.context-menu-list{display:block;position:absolute;flex-direction:column;min-width:180px;cursor:pointer;max-height:150px;z-index:1;padding:10px 0;overflow-y:auto;background-color:#fff!important;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.context-menu-list .context-menu-list-items{text-decoration:none;font-size:14px!important;padding:5px;display:block}.close{float:right;padding-right:8px;cursor:pointer}`]
            },] },
];
DrillableComponent.ctorParameters = () => [];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/** @type {?} */
const D3_COMPONENTS = [
    AmexioD3Legend,
    AmexioD3DounutChartComponent,
    AmexioD3BarChartComponent,
    AmexioD3PieChartComponent,
    AmexioD3LineComponent,
    BarstackComponent,
    GroupbarComponent,
    CombochartComponent,
    DrillableComponent,
    HistogramComponent,
    MultiareaComponent,
    ScatterchartComponent,
    CandlestickComponent,
    BubbleComponent,
    AmexioD3TimelineChartComponent
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class AmexioChartD3Module {
}
AmexioChartD3Module.decorators = [
    { type: NgModule, args: [{
                imports: [
                    FormsModule,
                    CommonModule
                ],
                declarations: D3_COMPONENTS,
                providers: [DeviceQueryService],
                exports: D3_COMPONENTS
            },] },
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */

export { AmexioChartD3Module, DeviceQueryService, AmexioD3DounutChartComponent, AmexioD3PieChartComponent, AmexioD3BarChartComponent, AmexioD3LineComponent, BarstackComponent, GroupbarComponent, D3_COMPONENTS as a, AmexioD3BaseChartComponent as c, ViewDrillableComponent as h, BubbleComponent as m, CandlestickComponent as l, CombochartComponent as f, DrillableComponent as g, HistogramComponent as i, AmexioD3Legend as b, AmexioD3BaseLineComponent as e, MultiareaComponent as k, ScatterchartComponent as j, CommanDataService as d, AmexioD3TimelineChartComponent as n };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1leGlvLWNoYXJ0LWQzLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2Jhc2UvYmFzZS5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZS50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZS50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9kb3VudXQvZG91bnV0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9waWUvcGllLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9sZWdlbmQvbGVnZW5kLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9iYXIvYmFyLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9saW5lL2Jhc2VsaW5lLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9saW5lL2xpbmUuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2JhcnN0YWNrL2JhcnN0YWNrLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9ncm91cGJhci9ncm91cGJhci5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvY29tYm9jaGFydC9jb21ib2NoYXJ0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9zY2F0dGVyY2hhcnQvc2NhdHRlcmNoYXJ0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9tdWx0aWFyZWEvbXVsdGlhcmVhLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9jYW5kbGVzdGljay9jYW5kbGVzdGljay5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvYnViYmxlL2J1YmJsZS9idWJibGUuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL3RpbWVsaW5lL3RpbWVsaW5lLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9iYXNlL3ZpZXcuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2RyaWxsYWJsZS9kcmlsbGFibGUvZHJpbGxhYmxlLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9hbWV4aW8tY2hhcnQtZDMtY29tcG9uZW50cy50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9hbWV4aW8tY2hhcnQtZDMubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudHtcblxuICAgIEBPdXRwdXQoKSBvbkxlZ2VuZENsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIEBPdXRwdXQoKSBvbkNoYXJ0Q2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgQE91dHB1dCgpIG9uTGluZUNsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgIFxuICAgIEBPdXRwdXQoKSBkcmlsbGFibGVFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICBcbiAgICBASW5wdXQoJ2RhdGEnKSBkYXRhOiBhbnkgPSBbXTtcblxuICAgIEBJbnB1dCgnaHR0cC11cmwnKSBodHRwdXJsOiBhbnk7XG4gICAgXG4gICAgQElucHV0KCdodHRwLW1ldGhvZCcpIGh0dHBtZXRob2Q6IGFueTtcblxuICAgIEBJbnB1dCgnbGVnZW5kJykgbGVnZW5kOiBib29sZWFuID0gdHJ1ZSA7XG5cbiAgICBASW5wdXQoJ2NvbG9yJykgY29sb3JzOiBhbnk7XG5cbiAgICBASW5wdXQoJ2hlaWdodCcpIGhlaWdodDogYW55ID0gXCIzMDBcIjtcblxuICAgIEBJbnB1dCgnd2lkdGgnKSB3aWR0aCA6IGFueSA9IFwiMzAwXCI7XG5cbiAgICBASW5wdXQoJ3RpdGxlJykgdGl0bGU6IGFueSA9IFwiXCI7XG5cbiAgICBASW5wdXQoJ2xhYmVsLWNvbG9yJykgbGFiZWxjb2xvcjogc3RyaW5nID0gXCJibGFja1wiO1xuXG4gICAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIGFkZGVkIGxhdGVyIG9uXG4gICAgQElucHV0KCdkYXRhLXJlYWRlcicpIGRhdGFyZWFkZXI6IHN0cmluZztcbiAgICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gICAgQElucHV0KCd0YXJnZXQnKSB0YXJnZXQ6IG51bWJlcjtcbiAgICBASW5wdXQoJ2RyaWxsYWJsZS1kYXRhJykgZHJpbGxhYmxlZGF0YWtleTogYW55W10gPSBbXTtcbiAgICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlOyAgIFxuICAgIEBJbnB1dCgndmVydGljYWwtc2NhbGUnKSAgIHZTY2FsZSA6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGRyaWxsYWJsZUZsYWc6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICBwcmVkZWZpbmVkY29sb3JzOiBzdHJpbmdbXTtcbiAgICBcbiAgICBjb21wb25lbnRJZCA6IHN0cmluZztcblxuICAgIHByaXZhdGUgIHBvc3NpYmxlIDogc3RyaW5nID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RkZWZnaGlqa2xtb25wcXJzdHV2d3h5elwiO1xuXG4gICAgY29sb3JJbmRleDogbnVtYmVyID0gMDtcblxuICAgIGNoYXJ0dHlwZSA6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGNoYXJ0dHlwZTpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jaGFydHR5cGUgPSBjaGFydHR5cGU7XG4gICAgICAgIHRoaXMucHJlZGVmaW5lZGNvbG9ycyA9IFtcIiMzMzY2Y2NcIiwgXCIjZGMzOTEyXCIsIFwiI2ZmOTkwMFwiLCBcIiMxMDk2MThcIiwgXCIjOTkwMDk5XCIsIFwiIzAwOTljNlwiLCBcIiNkZDQ0NzdcIiwgXCIjNjZhYTAwXCIsIFwiI2I4MmUyZVwiLCBcIiMzMTYzOTVcIiwgXCIjOTk0NDk5XCIsIFwiIzIyYWE5OVwiLCBcIiNhYWFhMTFcIiwgXCIjNjYzM2NjXCIsIFwiI2U2NzMwMFwiLCBcIiM4YjA3MDdcIiwgXCIjNjUxMDY3XCIsIFwiIzMyOTI2MlwiLCBcIiM1NTc0YTZcIiwgXCIjM2IzZWFjXCJdO1xuICAgICAgICB0aGlzLmNvbXBvbmVudElkID0gdGhpcy5jaGFydHR5cGUgICsgXCItXCIgKyB0aGlzLmdlbmVyYXRlSWQoKTtcbiAgICB9XG4gIFxuICAgIHByb3RlY3RlZCBpbml0aWFsaXplRGF0YSgpIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgICAgdGhpcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgZWxlbWVudC5jb2xvciA9IHRoaXMuZ2V0Q29sb3IoZWxlbWVudCk7XG4gICAgICAgICAgIH0pO1xuICAgICB9XG5cbiAgICAgIHByb3RlY3RlZCBnZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhOmFueSxkcmlsbGFibGVrZXlzOmFueSlcbiAgICAgIHtcbiAgICAgICBcbiAgICAgICAgICBsZXQgbm9kZU9iamVjdD17fTtcbiAgICAgICAgICBpZihkYXRhKVxuICAgICAgICAgIHtcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkcmlsbGFibGVrZXlzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICBsZXQgZWxlbWVudCA9IGRyaWxsYWJsZWtleXNbaW5kZXhdO1xuICAgICAgICAgICBmb3IgKGxldCBba2V5LHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gZWxlbWVudCkgXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVPYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbm9kZU9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICBcbiB9XG4gICAgIFxuIHByaXZhdGUgZ2VuZXJhdGVJZCgpe1xuICAgICAgIGxldCBpZCA9IFwiXCI7XG4gICAgICAgZm9yKGxldCBpID0gMDsgaTw1OyBpKyspe1xuICAgICAgICBpZCA9IGlkICsgdGhpcy5wb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdGhpcy5wb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgICB9XG4gICAgICAgaWQgPSBpZCArIFwiLVwiK25ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBwcml2YXRlICBnZXRDb2xvcihvYmplY3QgOiBhbnkpe1xuICAgICAgICBpZiAob2JqZWN0LmNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0LmNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY29sb3JzLmxlbmd0aCA+IHRoaXMuY29sb3JJbmRleCkge1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLmNvbG9yc1t0aGlzLmNvbG9ySW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5jb2xvckluZGV4Kys7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHRoaXMuY29sb3JzLmxlbmd0aCA+IDApICYmICh0aGlzLmNvbG9ycy5sZW5ndGggPD0gdGhpcy5jb2xvckluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy5jb2xvckluZGV4ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5jb2xvcnNbdGhpcy5jb2xvckluZGV4XTtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW3RoaXMuY29sb3JJbmRleF07XG4gICAgICAgICAgICB0aGlzLmNvbG9ySW5kZXgrKztcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbGVnZW5kQ2xpY2sobm9kZTphbnkpe1xuICAgICAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChub2RlKTtcbiAgICB9XG5cbiAgICBjaGFydENsaWNrKG5vZGU6YW55KXtcbiAgICAgICAgdGhpcy5vbkNoYXJ0Q2xpY2suZW1pdChub2RlKTtcbiAgICB9XG4gICAgXG4gICAgY29tYm9MaW5lQ2xpY2sobm9kZTogYW55KXtcbiAgICAgICAgdGhpcy5vbkxpbmVDbGljay5lbWl0KG5vZGUpO1xuICAgIH1cbiAgICBmb3JkcmlsbGFibGVDbGljayhyZWY6IGFueSxub2RlOiBhbnksZXZlbnQ6IGFueSlcbiAgICAge1xuICAgICAgICB0aGlzLmRyaWxsYWJsZUV2ZW50LmVtaXQoe3JlZjogcmVmLG5vZGU6IG5vZGUsZXZlbnQ6IGV2ZW50fSk7XG4gICAgfVxuICAgIHByb3RlY3RlZCB0b29sVGlwIChkMzphbnkpIDphbnl7XG4gICAgICAgcmV0dXJuICBkMy5zZWxlY3QoXCJib2R5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcImRpdlwiKVxuICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsJ3Rvb2x0aXBpZCcpXG4gICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywnYW1leGlvZDN0b29sdGlwJylcbiAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiei1pbmRleFwiLCBcIjEwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLFwiYmxhY2tcIilcbiAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b29sVGlwQ29udGVudCh0b29sdGlwZGF0YTphbnkpIDphbnl7XG4gICAgICAgbGV0IHRvb2x0aXBodG1sID0gXCI8dGFibGU+XCI7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0b29sdGlwZGF0YSkge1xuICAgICAgICBpZiAodG9vbHRpcGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdG9vbHRpcGRhdGFba2V5XTtcbiAgICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8dHI+XCI7XG4vLy0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjx0ZD5cIjtcbiAgICAgICAgLy8gICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsga2V5Kyc6JztcbiAgICAgICAgLy8gICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L3RkPlwiO1xuLy8tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8dGQ+XCI7XG4gICAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIHZhbHVlO1xuICAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjwvdGQ+XCI7XG4gICAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPC90cj5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPC90YWJsZT5cIjtcblxuICAgICAgcmV0dXJuIHRvb2x0aXBodG1sO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b29sVGlwV2l0aExlZ2VuZGFuZEF4aXMobGVnZW5kOiBzdHJpbmcsIHhheGlzOnN0cmluZywgeWF4aXM6IHN0cmluZykgOmFueXtcbiAgICAgICAgbGV0IHRvb2x0aXBodG1sID0gXCI8ZGl2PlwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8Yj5cIit4YXhpcytcIjwvYj4sIFwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgbGVnZW5kK1wiPC9iPiBcIjtcbiAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPGI+XCIreWF4aXMrXCI8L2I+IFwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBodG1sO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b29sVGlwRm9yQmFyKHRvb2x0aXBEYXRhOiBhbnkpOiBhbnl7XG4gICAgICAgICBsZXQgdG9vbHRpcGh0bWw9IFwiPGRpdj5cIjtcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgICAgICAgbGV0IHNpZGVTdHlsZT1cImZsb2F0OmxlZnRcIjtcbiAgICAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjxkaXY+XCI7XG4gICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8c3BhbiBzdHlsZSA9XCIrc2lkZVN0eWxlK1wiID48Yj5cIiArIGtleSArXCIgXCIrIFwiPC9iPlwiICt2YWx1ZSArIFwiPC9icj48L3NwYW4+XCI7XG4gICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgICByZXR1cm4gdG9vbHRpcGh0bWw7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCxIdHRwQ2xpZW50TW9kdWxlLEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMvaW5kZXgnO1xuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgQ29tbWFuRGF0YVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaHR0cDpIdHRwQ2xpZW50KSB7IH1cbiAgc2VydmljZVVybDogc3RyaW5nO1xuXG4gIGZldGNoVXJsRGF0YShzZXJ2aWNlVXJsOiBzdHJpbmcsIG1ldGhvZFR5cGU6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgY29uc3QgcmVxdWVzdEpzb24gPSB7fTtcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04Jyk7XG4gICAgaWYgKG1ldGhvZFR5cGUgPT09ICdwb3N0Jykge1xuICAgIHJldHVybiB0aGlzLmh0dHAucG9zdChzZXJ2aWNlVXJsLCByZXF1ZXN0SnNvbiwge2hlYWRlcnN9KTtcbiAgICB9ZWxzZSBpZiAobWV0aG9kVHlwZSA9PT0gJ2dldCcpIHtcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldChzZXJ2aWNlVXJsLCB7aGVhZGVyc30pO1xuICAgIH1cbn1cblxuXG5wb3N0ZmV0Y2hEYXRhKHNlcnZpY2VVcmw6IHN0cmluZywgbWV0aG9kVHlwZTogc3RyaW5nLHJlcXVlc3RKc29uOmFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gXG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnKTtcbiAgaWYgKG1ldGhvZFR5cGUgPT09ICdwb3N0Jykge1xuICByZXR1cm4gdGhpcy5odHRwLnBvc3Qoc2VydmljZVVybCwgcmVxdWVzdEpzb24sIHtoZWFkZXJzfSk7XG4gIH1lbHNlIGlmIChtZXRob2RUeXBlID09PSAnZ2V0Jykge1xuICByZXR1cm4gdGhpcy5odHRwLmdldChzZXJ2aWNlVXJsLCB7aGVhZGVyc30pO1xuICB9XG59XG5cblxuXG5cblxuXG59IiwiXG5pbXBvcnQgeyBpc1BsYXRmb3JtQnJvd3NlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIFBMQVRGT1JNX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LEh0dHBDbGllbnRNb2R1bGUsSHR0cEhlYWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERldmljZVF1ZXJ5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoIEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogYW55KSB7XG5cbiAgfVxuXG4gIHJ1bGVzID0ge1xuICAgIHByaW50OiAncHJpbnQnLFxuICAgIHNjcmVlbjogJ3NjcmVlbicsXG4gICAgcGhvbmU6ICcobWF4LXdpZHRoOiA3NjdweCknLFxuICAgIHRhYmxldDogJyhtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1heC13aWR0aDogMTAyNHB4KScsXG4gICAgZGVza3RvcDogJyhtaW4td2lkdGg6IDEwMjVweCknLFxuICAgIHBvcnRyYWl0OiAnKG9yaWVudGF0aW9uOiBwb3J0cmFpdCknLFxuICAgIGxhbmRzY2FwZTogJyhvcmllbnRhdGlvbjogbGFuZHNjYXBlKScsXG4gICAgcmV0aW5hOiAnKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMikgYW5kIChtaW4tcmVzb2x1dGlvbjogMTkyZHBpKScsXG4gIH07XG5cbiAgQ2hlY2sgPSBmdW5jdGlvbihtcTogYW55KSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIGlmICghbXEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKG1xKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICBNRVRIT0RTIEZPUiBDSEVDS0lORyBUWVBFXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBJc1Bob25lKCkge1xuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEodGhpcy5ydWxlcy5waG9uZSkubWF0Y2hlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgSXNUYWJsZXQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMudGFibGV0KS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNEZXNrdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmRlc2t0b3ApLm1hdGNoZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICBJc1BvcnRyYWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnBvcnRyYWl0KS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNMYW5kc2NhcGUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMubGFuZHNjYXBlKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNSZXRpbmEgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucmV0aW5hKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgYnJvd3NlcldpbmRvdyA9ICgpID0+IHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgIEVWRU5UIExJU1RFTkVSUyBCWSBUWVBFXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBPblBob25lKGNhbGxCYWNrOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGNhbGxCYWNrID09PSAnZnVuY3Rpb24nICYmIGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgICAgY29uc3QgbXFsOiBNZWRpYVF1ZXJ5TGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucGhvbmUpO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPblRhYmxldChjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnRhYmxldCk7XG4gICAgICAgIHRoaXMubXFsTWV0aG9kKGNhbGxCYWNrLCBtcWwpO1xuICAgIH1cbiAgfVxuXG4gIE9uRGVza3RvcChjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmRlc2t0b3ApO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPblBvcnRyYWl0KGNhbGxCYWNrOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGNhbGxCYWNrID09PSAnZnVuY3Rpb24nICYmIGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgICAgY29uc3QgbXFsOiBNZWRpYVF1ZXJ5TGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucG9ydHJhaXQpO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPbkxhbmRzY2FwZShjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmxhbmRzY2FwZSk7XG4gICAgICAgIHRoaXMubXFsTWV0aG9kKGNhbGxCYWNrLCBtcWwpO1xuICAgIH1cbiAgfVxuXG4gIG1xbE1ldGhvZChjYWxsQmFjazogYW55LCBtcWw6IGFueSkge1xuICAgIG1xbC5hZGRMaXN0ZW5lcigobXFsMTogTWVkaWFRdWVyeUxpc3QpID0+IHtcbiAgICAgIGlmIChtcWwxLm1hdGNoZXMpIHtcbiAgICAgICAgY2FsbEJhY2sobXFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSAnLi4vYmFzZS9jaGFydC5jb21wb25lbnQnO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1kb251dCcsXG4gIHRlbXBsYXRlOiBgPGRpdiAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjY2hhcnRJZCAod2luZG93OnJlc2l6ZSk9XCJyZXNpemUoJGV2ZW50KVwiPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA+IDBcIj5cblxuICBcbiAgICA8ZGl2IGNvbHNwYW49XCIyXCIgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj5cbiAgICAgICAge3t0aXRsZX19XG4gICAgPC9kaXY+XG4gICAgPGRpdiBbbmdDbGFzc109XCInZG9udXRjc3MnXCI+XG4gICAgICAgIDxzdmcgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaW5ZTWluIG1lZXRcIiB2aWV3Qm94PVwiMCAwIDMwMCAzMDBcIiBbYXR0ci5oZWlnaHRdPVwiaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwid2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgPGRpdj5cblxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiAxJTtcIj5cbiAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZGVza3RvcGxlZ2VuZFwiPlxuICAgICAgICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIChvbkNsaWNrKT1cIm9uRG9udXRMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kQXJyYXlcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPjwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwibW9iaWxlbGVnZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uRG9udXRMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kQXJyYXlcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPjwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPCEtLSAgLS0+XG4gICAgICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PmAsXG4gIHN0eWxlczogW2AuZG9udXRjc3N7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvd31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjEwMjRweCl7LmRvbnV0Y3Nze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59fWBdXG59KVxuZXhwb3J0IGNsYXNzIEFtZXhpb0QzRG91bnV0Q2hhcnRDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0IHtcblxuICBASW5wdXQoJ3BpZScpIHBpZTogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RyaWxsaWQnKSBkcmlsbGlkOiBhbnk7XG4gIGRlc2t0b3BsZWdlbmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgbW9iaWxlbGVnZW5kOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGRyaWxsRGF0YTogYW55O1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ0RPTlVUQ0hBUlQnKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuXG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcblxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcblxuICAgICAgfSBlbHNlXG4gICAgICAgIGlmICh0aGlzLmRhdGEpIHtcblxuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuXG4gICAgICB0aGlzLmZldGNoRGF0YSh0aGlzLmRyaWxsRGF0YSk7XG4gICAgfVxuICB9XG5cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuXG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcDtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcblxuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG5cbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgIH0sIDApO1xuXG4gIH1cblxuICBnZXRSZXNwb25zZURhdGEoaHR0cFJlc3BvbnNlOiBhbnkpIHtcbiAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICB9XG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICAvL3RoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgIC8vICB0aGlzLmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgICBsZXQgb3V0ZXJSYWRpdXMgPSAwO1xuICAgIGxldCBpbm5lclJhZGl1cyA9IDA7XG5cbiAgICBvdXRlclJhZGl1cyA9IHRoaXMuc3Znd2lkdGggLyAyO1xuICAgIGlubmVyUmFkaXVzID0gdGhpcy5zdmd3aWR0aCAvIDQ7XG5cbiAgICBpZiAodGhpcy5waWUpIHtcbiAgICAgIGlubmVyUmFkaXVzID0gMDtcbiAgICB9XG5cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcblxuICAgIGNvbnN0IGFyYyA9IGQzLmFyYygpXG4gICAgICAub3V0ZXJSYWRpdXMob3V0ZXJSYWRpdXMpXG4gICAgICAuaW5uZXJSYWRpdXMoaW5uZXJSYWRpdXMpO1xuXG4gICAgY29uc3QgcGllID0gZDMucGllKClcbiAgICAgIC52YWx1ZSgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgIC8vICByZXR1cm4gZC52YWx1ZVxuICAgICAgfSk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB0aGlzLnN2Z3dpZHRoIC8gMiArICcsJyArIHRoaXMuc3ZnaGVpZ2h0IC8gMiArICcpJylcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEocGllKHRoaXMuZGF0YSkpXG4gICAgICAuZW50ZXIoKTtcblxuICAgIGlmICh0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKSA9PSB0cnVlKSB7XG4gICAgICB0aGlzLmRlc2t0b3BsZWdlbmQgPSB0cnVlO1xuICAgICAgdGhpcy5tb2JpbGVsZWdlbmQgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gZWxzZXtcbiAgICAvLyAgICAgICAgaWYodGhpcy5kZXZpY2UuSXNQaG9uZSgpPT10cnVlICYmIHRoaXMuZGV2aWNlLklzVGFibGV0KCk9PXRydWUpXG4gICAgLy8gICAgICAgIHtcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmRlc2t0b3BsZWdlbmQ9ZmFsc2U7XG4gICAgLy8gICAgICAgICAgICAgdGhpcy5tb2JpbGVsZWdlbmQ9dHJ1ZTtcbiAgICAvLyAgICAgICAgfVxuICAgIC8vIH1cblxuICAgIGNvbnN0IHBhdGggPSB0aGlzLnN2Zy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2QnLCBhcmMpXG4gICAgICAuYXR0cignZmlsbCcsIChkLCBpKSA9PiB7XG4gICAgICAgIGlmIChkLmRhdGEuY29sb3IpIHtcbiAgICAgICAgICByZXR1cm4gZC5kYXRhLmNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIHJldHVybiAoZCAmJiBkLmRhdGEgJiYgZC5kYXRhLmNvbG9yKSA/IGQuZGF0YS5jb2xvciA6IFwiYmxhY2tcIlxuICAgICAgfSlcbiAgICAgIC5hdHRyKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLmRhdGEpXG5cbiAgICAgICAgICAvLyAgdGhpcy5mb3JtTGVnZW5kRGF0YShkLmRhdGEpXG4gICAgICAgICAgLy8gdGhpcy50b29sVGlwQ29udGVudChkLmRhdGEpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5Eb251dENoYXJ0Q2xpY2soZC5kYXRhKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLmRhdGEsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAvL3RoaXMuY2hhcnRDbGljayhkLmRhdGEpO1xuICAgICAgfSk7XG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gdGhpcy5zdmcuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigyMDApXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgYXJjLmNlbnRyb2lkKGQpICsgXCIpXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLnRleHQoKGQpID0+IHtcblxuICAgICAgICAgIHJldHVybiBkLmRhdGFbT2JqZWN0LmtleXMoZC5kYXRhKVsxXV1cblxuICAgICAgICAgIC8vcmV0dXJuIGQuZGF0YS52YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yICYmIHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyByZXR1cm4gKGQgJiYgZC5kYXRhICYmIGQuZGF0YS50ZXh0Y29sb3IpID8gZC5kYXRhLnRleHRjb2xvciA6IFwiYmxhY2tcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTJweCcpO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgIHRoaXMubGVnZW5kQXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMF1dO1xuICAgICAgbGVnZW5kb2JqZWN0Wyd2YWx1ZSddID0gZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVsxXV07XG4gICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSBlbGVtZW50LmNvbG9yO1xuICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBvbkRvbnV0TGVnZW5kQ2xpY2sobGVnZW5kZXZlbnQ6IGFueSkge1xuICAgIGxldCBvYmogPSB7fTtcblxuICAgIC8vICBvYmpbJ2xhYmVsJ10gPSBsZWdlbmRldmVudC5sYWJlbDtcbiAgICAvLyAgb2JqWyd2YWx1ZSddID0gbGVnZW5kZXZlbnQudmFsdWUgXG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMF1dID0gbGVnZW5kZXZlbnQubGFiZWw7XG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMV1dID0gbGVnZW5kZXZlbnQudmFsdWU7XG4gICAgLy9kZWxldGUgZXZlbnQuY29sb3I7XG4gICAgdGhpcy5sZWdlbmRDbGljayhvYmopO1xuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gZGF0YVswXTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBEdW1teU9iamVjdCA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICBEdW1teU9iamVjdFt0aGlzLmtleUFycmF5W2tleWluZGV4XV0gPSBpbmRpdmlkdWFsdmFsdWU7XG4gICAgICAgIH0pOy8vaW5uZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgIH0vL2lmIGVuZHNcbiAgICB9KTsvL291dGVyIGZvciBsb29wIGVuZHNcbiAgICB0aGlzLmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIGZvcm1Ub29sdGlwRGF0YSh0b29sdGlwRGF0YTogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0b29sdGlwRGF0YSkpIHtcbiAgICAgIGlmIChrZXkgIT0gJ2NvbG9yJyAmJiBrZXkgIT0gJ3RleHRjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgRG9udXRDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgcmVzaXplKGRhdGE6IGFueSkge1xuXG4gICAgdGhpcy5kZXNrdG9wbGVnZW5kID0gZmFsc2U7XG4gICAgdGhpcy5tb2JpbGVsZWdlbmQgPSB0cnVlO1xuICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1waWUnLFxuICB0ZW1wbGF0ZTogYDxkaXYgICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIj5cbjxhbWV4aW8tZDMtY2hhcnQtZG9udXQgI2lkIChvbkxlZ2VuZENsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgKG9uQ2hhcnRDbGljayk9XCJjaGFydENsaWNrKCRldmVudClcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgKGRyaWxsYWJsZUV2ZW50KT1cIiBmb3JkcmlsbGFibGVDbGljaygkZXZlbnQpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtoZWlnaHRdPVwiaGVpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt3aWR0aF09XCJ3aWR0aFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGl0bGVdPVwidGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFdID0gXCJkYXRhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtwaWVdICA9IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtodHRwLXVybF09XCJodHRwdXJsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtodHRwLW1ldGhvZF09XCJodHRwbWV0aG9kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhLXJlYWRlcl09XCJkYXRhcmVhZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtsYWJlbF09XCJsYWJlbGZsYWdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2xhYmVsLWNvbG9yXT1cImxhYmVsY29sb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2xldmVsXT1cImxldmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0YXJnZXRdPVwidGFyZ2V0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkcmlsbGFibGUtZGF0YV09XCJkcmlsbGFibGVkYXRha2V5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkcmlsbERhdGFdPVwiZHJpbGxEYXRhXCI+XG48L2FtZXhpby1kMy1jaGFydC1kb251dD5cbjwvZGl2PlxuYFxufSlcbmV4cG9ydCBjbGFzcyBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoJ2RhdGEnKSBkYXRhOiBhbnkgPSBbXTtcblxuICBAT3V0cHV0KCkgb25MZWdlbmRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgpIG9uQ2hhcnRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgpIGRyaWxsYWJsZUV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBWaWV3Q2hpbGQoJ2lkJykgZG9udXRyZWY6IGFueTtcblxuICBASW5wdXQoKSBsZWdlbmQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcnM6IGFueSA9IFtdO1xuXG4gIEBJbnB1dCgnd2lkdGgnKSB3aWR0aDogYW55ID0gXCIzMDBcIjtcblxuICBASW5wdXQoJ2hlaWdodCcpIGhlaWdodDogYW55ID0gXCIzMDBcIjtcblxuICBASW5wdXQoKSB0aXRsZTogYW55ID0gXCJcIjtcblxuICBASW5wdXQoJ2h0dHAtdXJsJykgaHR0cHVybDogYW55O1xuXG4gIEBJbnB1dCgnaHR0cC1tZXRob2QnKSBodHRwbWV0aG9kOiBhbnk7XG5cbiAgQElucHV0KCdkYXRhLXJlYWRlcicpIGRhdGFyZWFkZXI6IHN0cmluZztcblxuICBASW5wdXQoJ2xldmVsJykgbGV2ZWwgPSAwO1xuXG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG5cbiAgQElucHV0KCdkcmlsbGFibGUtZGF0YScpIGRyaWxsYWJsZWRhdGFrZXk6IGFueVxuXG4gIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG5cbiAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGRyaWxsYWJsZUZsYWc6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGRyaWxsRGF0YTogYW55O1xuXG5cbiAgbmdPbkluaXQoKSB7XG5cbiAgfVxuXG4gIGxlZ2VuZENsaWNrKG5vZGU6IGFueSkge1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG5vZGUpO1xuICB9XG5cbiAgY2hhcnRDbGljayhub2RlOiBhbnkpIHtcbiAgICB0aGlzLm9uQ2hhcnRDbGljay5lbWl0KG5vZGUpO1xuICB9XG5cblxuICBmb3JkcmlsbGFibGVDbGljayhyZWY6IGFueSkge1xuICAgIHRoaXMuZHJpbGxhYmxlRXZlbnQuZW1pdChyZWYpO1xuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMuZHJpbGxEYXRhID0gZGF0YTtcbiAgfVxuXG4gIGRyYXdDaGFydCgpIHtcblxuICAgIHRoaXMuZG9udXRyZWYuZHJpbGxhYmxlRmxhZyA9IHRydWU7XG4gICAgdGhpcy5kb251dHJlZi5kcmF3Q2hhcnQoKTtcblxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgT25DaGFuZ2VzLCBPbkluaXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvciA6ICdhbWV4aW8tZDMtbGVnZW5kJyxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgc3R5bGUgPVwiIHdpZHRoOiAxMDAlIDsgcGFkZGluZy1sZWZ0OiAyMHB4OyBwYWRkaW5nLXRvcDogOHB4OyBcIj5cbjx0YWJsZSAqbmdJZj1cIiFob3Jpem9udGFsXCIgc3R5bGU9XCJoZWlnaHQ6IDEwMCU7XCI+XG4gICAgPHRyICpuZ0ZvciA9IFwibGV0IG5vZGUgb2YgZGF0YVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyO1wiIChjbGljayk9XCJvbkxlZ2VuZENsaWNrKG5vZGUpXCI+XG4gICAgICAgIDx0ZCBzdHlsZT1cImhlaWdodDogMTBweDsgd2lkdGg6IDIzcHg7IHBhZGRpbmctbGVmdDogMnB4O1wiXG4gICAgICAgICAgICBbbmdTdHlsZV09XCJ7J2JhY2tncm91bmQtY29sb3InOiBub2RlLmNvbG9yfVwiPjwvdGQ+XG4gICAgICAgIDx0ZD57e25vZGUubGFiZWx9fTwvdGQ+XG4gICAgPC90cj5cbjwvdGFibGU+XG48L2Rpdj5cblxuPHRhYmxlICpuZ0lmPVwiaG9yaXpvbnRhbFwiIHN0eWxlPVwiaGVpZ2h0OiAxMDAlO1wiPlxuICAgIDx0cj5cbiAgICAgICAgPHRkICpuZ0ZvciA9IFwibGV0IG5vZGUgb2YgZGF0YVwiIFxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25MZWdlbmRDbGljayhub2RlKVwiIFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjtcIj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cIiBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgcGFkZGluZzogMnB4O1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiIHdpZHRoOiAxMHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHBhZGRpbmc6IDJweDsgXCIgXG4gICAgICAgICAgICAgICAgICAgIFtuZ1N0eWxlXT1cInsnYmFja2dyb3VuZC1jb2xvcic6IG5vZGUuY29sb3J9XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAge3tub2RlLmxhYmVsfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L3RkPlxuICAgICAgICBcbiAgICA8L3RyPlxuPC90YWJsZT5cblxuPGJyPlxuIGBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNMZWdlbmQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdFxue1xuXG4gICAgQElucHV0KCdkYXRhJykgZGF0YSA6IGFueTtcblxuICAgIEBJbnB1dCgnaG9yaXpvbnRhbCcpIGhvcml6b250YWwgOiBib29sZWFuID0gZmFsc2U7XG4gICAgdGVtcGFycjogYW55W10gPSBbXTtcbiAgICBAT3V0cHV0KCkgb25DbGljayA6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgY29uc3RydWN0b3IoKXtcbiAgIFxuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuXG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgdGhpcy50ZW1wYXJyID0gdGhpcy5kYXRhO1xuICAgIH1cbiAgICBuZ09uQ2hhbmdlcygpIHtcbiAgICAgICAgLy8gZGVidWdnZXI7XG4gICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLnRlbXBhcnIgPSB0aGlzLmRhdGE7XG4gICAgfVxuXG4gICAgb25MZWdlbmRDbGljayhub2RlOmFueSl7XG4gICAgICAgIHRoaXMub25DbGljay5lbWl0KG5vZGUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIENoYW5nZURldGVjdG9yUmVmLCBPbkNoYW5nZXMsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBkZWJ1ZyB9IGZyb20gXCJ1dGlsXCI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1iYXInLFxuICB0ZW1wbGF0ZTogYDxkaXYgI2NoYXJ0SWQgKm5nSWY9XCJkcmlsbGFibGVGbGFnIFwiICNkaXZpZCAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlIFtuZ0NsYXNzXT1cInZhbGlkYXRlRGF0YSgpXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIiBwb3NpdGlvbj1cIiByZWxhdGl2ZVwiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwidGl0bGUubGVuZ3RoID4gMFwiPlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQmFyTGVnZW5kQ2xpY2soJGV2ZW50KVwiIFtkYXRhXT1cImxlZ2VuZEFycmF5XCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICAgICAgICA8L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgIDwvdGFibGU+XG4gICAgPCEtLSA8dGFibGUgKm5nSWY9XCIhKGRhdGEgJiYgZGF0YS5sZW5ndGggPjApXCIgY2xhc3M9XCJsbWFza1wiPlxuICAgICAgICBcbiAgICA8L3RhYmxlID4gLS0+XG4gICAgPCEtLSA8ZGl2ICpuZ0lmPVwiZGF0YS5sZW5ndGggPCAxXCIgY2xhc3M9XCJsbWFza1wiIHN0eWxlPVwicGFkZGluZy10b3A6NTAlXCI+XG4gICAgPC9kaXY+IC0tPlxuXG48L2Rpdj5gXG59KVxuXG5leHBvcnQgY2xhc3MgQW1leGlvRDNCYXJDaGFydENvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgUGxvdENhcnQsIE9uQ2hhbmdlcyB7XG5cbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgpIGhvcml6b250YWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCdsYWJlbC1jb2xvcicpIGxhYmVsY29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIjtcbiAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZHJpbGxpZCcpIGRyaWxsaWQ6IGFueTtcbiAgQFZpZXdDaGlsZCgnZG9tcmVmJykgRE9NOiBFbGVtZW50UmVmO1xuICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG4gIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdO1xuICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoJ3lheGlzLWludGVydmFsJykgdGlja3Njb3VudDogbnVtYmVyO1xuICBASW5wdXQoJ3hheGlzLWludGVydmFsJykgeHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCdzaG93LXplcm8tdmFsdWVzJykgc2hvd3plcm9mbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCdkYXRhJykgX2RhdGE6IGFueSA9IFtdO1xuXG4gIHd0OiBudW1iZXI7XG4gIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY2hlY2ttb2I6IGJvb2xlYW47XG4gIHJlc2l6ZWc6IGFueTtcbiAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gIC8vIGRhdGE6IGFueTtcbiAgeGF4aXM6IGFueTtcbiAgeWF4aXM6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIGNvbG9yZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBvYmplY3Q6IGFueTtcbiAgbGVnZW5kQXJyYXk6IGFueVtdID0gW107XG4gIGZpcnN0bG9hZGluZyA9IGZhbHNlO1xuICBpbmMgPSAwXG4gIC8vIHByaXZhdGUgX2RhdGE6IGFueSA9IFtdO1xuICBzZXQgZGF0YSh2OiBhbnkpIHtcblxuICAgIGlmICh2ICYmICh2Lmxlbmd0aCA+IDApKSB7XG4gICAgICB0aGlzLl9kYXRhID0gdjtcbiAgICAgIC8vIGlmKHRoaXMuaXNDaGFydEluaXQpe1xuICAgICAgLy8gICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgLy8gfVxuICAgICAgLy8gaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgIC8vICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSlcbiAgICAgIC8vICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgLy8gICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAvLyB9LCAwKTtcbiAgICAgIC8vIH1cbiAgICAgIC8vIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcblxuICAgICAgLy8gdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgIH1cblxuICB9XG5cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignYmFyJyk7XG4gIH1cblxuICBpc0NoYXJ0SW5pdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEpIHtcbiAgICAgIGxldCByZXNwOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKVxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuXG4gICAgICAgICAgICB0aGlzLmlzQ2hhcnRJbml0ID0gdHJ1ZTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKVxuICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgdGhpcy5pc0NoYXJ0SW5pdCA9IHRydWU7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEZldGNoIERhdGFcbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuXG5cbiAgICAgIH0pO1xuXG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgfSwgMCk7XG5cbiAgfVxuXG4gIG5nT25DaGFuZ2VzKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwicmVwZWF0XCIpO1xuICAgIGlmICh0aGlzLmluYyA+IDEpIHtcbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgNTAwKTtcblxuICAgICAgfVxuXG4gICAgICB0aGlzLmZvcm1MZWdlbmREYXRhKCk7XG4gICAgfSB0aGlzLmluYysrXG5cbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICBwbG90RDNDaGFydCgpOiBhbnkge1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuXG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG5cbiAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiA2MCwgYm90dG9tOiA0MCwgbGVmdDogNjAgfTtcblxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gICAgLy9SRVNJWkUgU1RFUCAyIFNUQVJUXG4gICAgLy8gdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXR0cigndmlld0JveCcsICcwIDAgJyArIHRoaXMuc3Znd2lkdGggKyAnICcgKyB0aGlzLnN2Z2hlaWdodCk7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAvLyB0aGlzLnN2Zy5leGl0KCkucmVtb3ZlKCk7Ly9yZW1vdmUgdW5uZWVkZWQgY2lyY2xlc1xuICAgIC8vUkVTSVpFIFNURVAgMiBFTkRTIEhFUkVcbiAgICBsZXQgeCwgeTtcbiAgICBjb25zdCBnID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcbiAgICAvLyB2ZXJ0aWNhbCBiYXJcbiAgICBpZiAodGhpcy5ob3Jpem9udGFsID09IGZhbHNlKSB7XG4gICAgICAvLyB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgeCA9IGQzLnNjYWxlQmFuZCgpXG4gICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgICAgICAucGFkZGluZygwLjEpO1xuXG4gICAgICAgIC8vc2V0dGluZyBjb250ZW50IGZvciB4IGFuZCB5IGF4aXNcbiAgICAgICAgeC5kb21haW4odGhpcy5kYXRhLm1hcCgoZCkgPT4ge1xuXG4gICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMF1dO1xuICAgICAgICAgIC8vICAgIHJldHVybiBkLmxhYmVsXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG4gICAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgodGhpcy5kYXRhLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAvL3JldHVybiBkLnZhbHVlO1xuICAgICAgICB9KV0pO1xuXG4gICAgICB9XG4gICAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuICAgICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWxzZSB7XG4gICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcblxuICAgICAgfVxuXG4gICAgICAvL2FkZCB5IGF4aXMgdG8gc3ZnXG4gICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja3ModGhpcy50aWNrc2NvdW50KSlcblxuICAgICAgdGhpcy5wbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgICAgLy9hZGQgYmFyIGNoYXJ0XG4gICAgICBnLnNlbGVjdEFsbChcIi5iYXJcIilcbiAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmFyXCIpXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICAvLyByZXR1cm4geChkLmxhYmVsKTsgXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKTtcbiAgICAgICAgICAvLyByZXR1cm4geShkLnZhbHVlKTsgXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIHguYmFuZHdpZHRoKCkpXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KGRbT2JqZWN0LmtleXMoZClbMV1dKTsgfSlcblxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgLy8gcmV0dXJuIFwiYmx1ZVwiO1xuICAgICAgICAgIHJldHVybiBkLmNvbG9yO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICAgIC8vICB0aGlzLnRvb2xUaXBGb3JCYXIoZClcbiAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICAgIHZhciB5VGV4dFBhZGRpbmcgPSA0MDtcbiAgICAgICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmxhYmVsXCIpXG4gICAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxdndcIilcbiAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaWYgKCh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkgJiYgZFtPYmplY3Qua2V5cyhkKVsxXV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pICsgbWFyZ2luLmxlZnQgKyB4LmJhbmR3aWR0aCgpIC8gMjtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pICsgeVRleHRQYWRkaW5nO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIChkW09iamVjdC5rZXlzKGQpWzFdXSA+IDApIHtcbiAgICAgICAgICAgIC8vICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMV1dO1xuICAgICAgICAgICAgLy8gfS5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICAgICAgaWYgKGRbT2JqZWN0LmtleXMoZClbMV1dID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfS8vaWYgZW5kcyBmciBcbiAgICB9XG4gICAgLy8gaG9yaXpvbnRhbCBiYXJcbiAgICBlbHNlIGlmICh0aGlzLmhvcml6b250YWwgPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICB4ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAgIC5yYW5nZVJvdW5kKFswLCB3aWR0aF0pXG4gICAgICAgICAgO1xuXG5cbiAgICAgICAgLy9zZXR0aW5nIGNvbnRlbnQgZm9yIHggYW5kIHkgYXhpc1xuICAgICAgICB4LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZGF0YSxcbiAgICAgICAgICAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KFxuICAgICAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzFdXVxuICAgICAgICAgICAgICAvLyBkLnZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXSk7XG4gICAgICAgIC8vIGRbT2JqZWN0LmtleXMoZClbMV1dXG4gICAgICAgIHkgPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgICAgIC5yYW5nZVJvdW5kKFtoZWlnaHQsIDBdKS5wYWRkaW5nKDAuMSk7XG4gICAgICAgIHkuZG9tYWluKHRoaXMuZGF0YS5tYXAoKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAvL3JldHVybiBkLmxhYmVsO1xuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICAgIC8vIGFkZCB4IGF4aXMgdG8gc3ZnXG4gICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLnRpY2tzKHRoaXMueHRpY2tzY291bnQpKTtcblxuICAgICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpXG5cbiAgICAgIHRoaXMucGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCk7XG4gICAgICAvL2FkZCBiYXIgY2hhcnRcbiAgICAgIGcuc2VsZWN0QWxsKFwiLmJhclwiKVxuICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJiYXJcIilcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDApXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAgIC8vIGQubGFiZWxcbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVsxXV1cbiAgICAgICAgICAgIC8vIGQudmFsdWVcbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIHkuYmFuZHdpZHRoKCkpXG4gICAgICAgIC5zdHlsZShcImZpbGxcIiwgKGQpID0+IHsgcmV0dXJuIGQuY29sb3I7IH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgLy8gdGhpcy5mb3JtTGVnZW5kRGF0YShkKVxuICAgICAgICAgICAgLy8gdGhpcy50b29sVGlwQ29udGVudChkKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuYmFyQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgLy90aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgbGV0IHlUZXh0UGFkZGluZyA9IDQwO1xuICAgICAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIubGFiZWxcIilcbiAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcInZlcnRpY2FsLWFsaWduXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJtYXJnaW4tdG9wXCIsIG1hcmdpbi50b3ApXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInhcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMV1dKSArIHlUZXh0UGFkZGluZztcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVswXV0pXG4gICAgICAgICAgICAgICsgbWFyZ2luLnRvcCArIHkuYmFuZHdpZHRoKCkgLyAyO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIC8vIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICAgICAgaWYgKGRbT2JqZWN0LmtleXMoZClbMV1dID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgICAvLyB0aGlzLmZvcm1MZWdlbmREYXRhKGQpXG4gICAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfVxuICAgIC8vZWxzZSBlbmRzKGhvcml6b250YWwgYmFyIGxvZ2ljIGVuZHMpXG5cbiAgfVxuXG4gIHBsb3RMaW5lKGcsIHgsIHksIGhlaWdodCwgd2lkdGgpIHtcblxuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudClcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnZTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyArIGhlaWdodCArICcpJylcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KS5cbiAgICAgICAgICB0aWNrU2l6ZSgtdGhpcy53aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy54dGlja3Njb3VudClcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmb3JtVG9vbHRpcERhdGEodG9vbHRpcERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModG9vbHRpcERhdGEpKSB7XG4gICAgICBpZiAoa2V5ICE9ICdjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICBpZiAoZGF0YSAmJiAoZGF0YS5sZW5ndGggPiAwKSkge1xuICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICAgIHRoaXMua2V5QXJyYXkgPSBkYXRhWzBdO1xuICAgICAgaWYgKGRhdGEgJiYgKGRhdGEubGVuZ3RoID4gMCkpIHtcblxuICAgICAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgbGV0IER1bW15T2JqZWN0ID0ge307XG4gICAgICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgICAgICB9Ly9pZiBlbmRzXG4gICAgICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgfVxuICAgICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgfS8vXG4gIH1cblxuICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgdGhpcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICBsZWdlbmRvYmplY3RbJ2xhYmVsJ10gPSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzBdXTtcbiAgICAgIGxlZ2VuZG9iamVjdFsndmFsdWUnXSA9IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMV1dO1xuICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gZWxlbWVudC5jb2xvcjtcbiAgICAgIHRoaXMubGVnZW5kQXJyYXkucHVzaChsZWdlbmRvYmplY3QpO1xuICAgIH0pO1xuICAgIHRoaXMubGVnZW5kQXJyYXk7XG4gIH1cblxuICBvbkJhckxlZ2VuZENsaWNrKGxlZ2VuZGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgLy8gIG9ialsnbGFiZWwnXSA9IGxlZ2VuZGV2ZW50LmxhYmVsO1xuICAgIC8vICBvYmpbJ3ZhbHVlJ10gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVswXV0gPSBsZWdlbmRldmVudC5sYWJlbDtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVsxXV0gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICAvL29ialtsZWdlbmRldmVudC5sYWJlbF0gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICAvL2RlbGV0ZSBldmVudC5jb2xvcjtcbiAgICB0aGlzLmxlZ2VuZENsaWNrKG9iaik7XG4gIH1cblxuICBiYXJDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIC8vUkVTSVpFIFNURVAgNSBTVEFSVFNcbiAgcmVzaXplKCkge1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICBpZiAodGhpcy53dCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMud3Q7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB9XG4gICAgdGhpcy5jZGYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgfVxuICAvLyAvL1JFU0laRSBTVEVQIDUgU1RBUlRTXG4gIC8vICAgaW5pdGlhbHJlc2l6ZSgpIHtcbiAgLy8gICAgIGlmICh0aGlzLnd0KSB7XG4gIC8vICAgICAgIC8vUkVTSVpFIFNURVAgMyBTVEFSVFxuICAvLyAgICAgICAvLyBpZih0aGlzLmZpcnN0bG9hZGluZylcbiAgLy8gICAgICAgLy8gdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcblxuICAvLyAgICAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAvLyAgICAgICBpZiAodGhpcy5zdmd3aWR0aCkge1xuICAvLyAgICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnN2Z3dpZHRoO1xuXG4gIC8vICAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gIC8vICAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuXG4gIC8vICAgICAgIH1cbiAgLy8gICAgICAgLy9SRVNJWkUgU1RFUCAzIEVORFNcbiAgLy8gICAgICAgLy8gdGhpcy5zdmd3aWR0aCA9IHRoaXMuZGl2aWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcblxuICAvLyAgICAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gIC8vICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICAvLyAgICAgfVxuICAvLyAgICAgdGhpcy5maXJzdGxvYWRpbmcgPSBmYWxzZTtcbiAgLy8gICB9XG4gIC8vIC8vUkVTSVpFIFNURVAgNSBFTkRTXG4gIHZhbGlkYXRlRGF0YSgpIHtcbiAgICBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibG1hc2tcIlxuICAgIH1cbiAgfVxuXG5cbn0iLCJpbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCB9IGZyb20gXCIuLi9iYXNlL2Jhc2UuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5pbXBvcnQgeyBuZWFyZXIgfSBmcm9tIFwicVwiO1xuXG5leHBvcnQgY2xhc3MgQW1leGlvRDNCYXNlTGluZUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IHtcbiAgICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9kYXRhOiBhbnkgPSBbXTtcbiAgICBwcml2YXRlIHhheGlzZGF0YTogYW55W107XG4gICAgcHJpdmF0ZSB4YXhpc2RhdGExOiBhbnlbXTtcbiAgICBwcml2YXRlIHlheGlzZGF0YTogYW55W107XG4gICAgcHJpdmF0ZSBsZWdlbmRkYXRhOiBhbnlbXTtcbiAgICBsZWdlbmRzOiBhbnlbXTtcbiAgICBsaW5lbGVnZW5kczogYW55W107XG4gICAgeGFycjogYW55W10gPSBbXTtcbiAgICBwcm90ZWN0ZWQgeGF4aXNuYW1lOiBhbnk7XG4gICAgcHJvdGVjdGVkIG11bHRpc2VyaWVzZGF0YTogYW55W107XG4gICAgc3ZnOiBhbnk7XG4gICAgZGlzcGxheWluZGV4OiBudW1iZXIgPSAwO1xuICAgIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0ID0gMzAwO1xuXG4gICAgQElucHV0KCdkYXRhJylcblxuICAgIEBJbnB1dCgneGF4aXMtaW50ZXJ2YWwnKSB4aW50ZXJ2YWw6IG51bWJlcjtcblxuICAgIEBJbnB1dCgnaHR0cC11cmwnKSBodHRwdXJsOiBhbnk7XG5cbiAgICBASW5wdXQoJ2h0dHAtbWV0aG9kJykgaHR0cG1ldGhvZDogYW55O1xuXG4gICAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgICAvLyBASW5wdXQoJ3hheGlzLWludGVydmFsJykgeHRpY2tzY291bnQ6IG51bWJlciA9IDM7XG4gICAgQElucHV0KCdjb2xvcicpIGxpbmVjb2xvciA9IFtdO1xuXG4gICAgQElucHV0KCdkaXNwbGF5LWZpZWxkJykgZGlzcGxheWZpZWxkOiBzdHJpbmc7XG5cbiAgICBASW5wdXQoJ3JvdGF0ZScpIHNsYW50ID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGV2aWNlUXVlcnlTZXJ2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoJ2xpbmUnKTtcbiAgICB9XG5cbiAgICBzZXQgZGF0YSh2OiBhbnkpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IHY7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhICYmICh0aGlzLl9kYXRhLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVhZQXhpc0RhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjcmVhdGVYWUF4aXNEYXRhKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxhYmVsY29sb3JcbiAgICAgICAgdGhpcy54YXhpc2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy55YXhpc2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5tdWx0aXNlcmllc2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5sZWdlbmRkYXRhID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kcyA9IFtdO1xuICAgICAgICB0aGlzLnhheGlzbmFtZSA9IHRoaXMuZGF0YVswXVswXS5sYWJlbDtcbiAgICAgICAgY29uc3QgbXNkYXJyYXk6IGFueVtdID0gW107XG4gICAgICAgIGxldCBjb3VudCA9IDBcbiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlmaWVsZCkge1xuICAgICAgICAgICAgLy8gZmluZCBkaXNwbGF5ZmllbGQgaW5kZXhcblxuICAgICAgICAgICAgdGhpcy5fZGF0YVswXS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubGFiZWwgPT0gdGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5aW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX2RhdGFbMF0ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsZWdlbmQgPSB0aGlzLl9kYXRhWzBdW2luZGV4XTtcbiAgICAgICAgICAgIG1zZGFycmF5W2luZGV4XSA9IFtdO1xuICAgICAgICAgICAgbGV0IG9iaiA9IHt9O1xuICAgICAgICAgICAgb2JqWydsYWJlbCddID0gbGVnZW5kLmxhYmVsO1xuICAgICAgICAgICAgaWYgKCh0aGlzLmxpbmVjb2xvci5sZW5ndGggPiAwKSAmJiB0aGlzLmxpbmVjb2xvcltpbmRleF0pIHtcbiAgICAgICAgICAgICAgICBvYmpbJ2NvbG9yJ10gPSB0aGlzLmxpbmVjb2xvcltpbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbJ2NvbG9yJ10gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sZWdlbmRkYXRhLnB1c2gob2JqKTtcbiAgICAgICAgICAgIC8vIHRoaXMubGVnZW5kZGF0YS5wdXNoKHsnbGFiZWwnOmxlZ2VuZC5sYWJlbCwnY29sb3InOnRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleCsxXX0pO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgICAgICBvYmpbJ2xhYmVsJ10gPSBsZWdlbmQubGFiZWw7XG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLmxpbmVjb2xvci5sZW5ndGggPiAwKSAmJiB0aGlzLmxpbmVjb2xvcltjb3VudF0pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqWydjb2xvciddID0gdGhpcy5saW5lY29sb3JbY291bnRdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialsnY29sb3InXSA9IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tjb3VudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmxlZ2VuZHMucHVzaCh7J2xhYmVsJzpsZWdlbmQubGFiZWwsJ2NvbG9yJzp0aGlzLnByZWRlZmluZWRjb2xvcnNbaW5kZXhdfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgLy8geGF4aXNkYXRhIHlheGlzZGF0YSBtc2RhcnJheSBpcyBmb3JtZWQgaGVyZVxuXG4gICAgICAgIHRoaXMuX2RhdGEuZm9yRWFjaChvYmplY3QgPT4ge1xuXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgaiA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHhvYmogPSB7fTtcbiAgICAgICAgICAgICAgICBvYmplY3QuZm9yRWFjaChhID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy54YXhpc2RhdGEucHVzaCh7ICdsYWJlbCc6IGEsICd2YWx1ZSc6IGEgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnlheGlzZGF0YS5wdXNoKHsgJ2xhYmVsJzogYSwgJ3ZhbHVlJzogYSB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoaiA+IDApICYmIChqICE9PSB0aGlzLmRpc3BsYXlpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueWF4aXNkYXRhLnB1c2goeyAnbGFiZWwnOiBhLCAndmFsdWUnOiBhIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeG9ialsndmFsdWUnXSA9IGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PSB0aGlzLmRpc3BsYXlpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeG9ialsnbGFiZWwnXSA9IGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIG1zZGFycmF5W2pdLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLnB1c2goeG9iaik7XG5cblxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtc2RhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcblxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG1zZGFycmF5W2luZGV4XTtcblxuICAgICAgICAgICAgaWYgKChpbmRleCA+IDApICYmIChpbmRleCAhPT0gdGhpcy5kaXNwbGF5aW5kZXgpKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgbWQ6IGFueVtdID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbGVtZW50Lmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IGVsZW1lbnRbal07XG4gICAgICAgICAgICAgICAgICAgIG1kLnB1c2goeyAnbGVnZW5kJzogdGhpcy5sZWdlbmRkYXRhW2luZGV4XS5sYWJlbCwgJ2xhYmVsJzogdGhpcy54YXhpc2RhdGFbal0ubGFiZWwsICd2YWx1ZSc6IHYgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXNlcmllc2RhdGEucHVzaChtZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWdlbmRzW2luZGV4IC0gMV0uZGF0YSA9IG1kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVjYWxjdWxhdGVzY2FsZSh3aWR0aDogYW55KSB7XG5cbiAgICAgICAgLy8gY29uc2lkZXIgZm9udHNpemUgdG8gYmUgMTBcbiAgICAgICAgdGhpcy54YXhpc2RhdGE7XG4gICAgICAgIGxldCBzdW1tYXRpb253aWR0aCA9IDA7XG4gICAgICAgIGlmICghdGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZWxlbWVudC5sYWJlbCkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VtbWF0aW9ud2lkdGggPSBzdW1tYXRpb253aWR0aCArIChlbGVtZW50LmxhYmVsLmxlbmd0aCAqIDEwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZWxlbWVudC5sYWJlbCkgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSB0aGlzLmZpbmREaWdpdENvdW50KGVsZW1lbnQubGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICBzdW1tYXRpb253aWR0aCA9IHN1bW1hdGlvbndpZHRoICsgKG4gKiAxMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiAoZWxlbWVudC5sYWJlbCkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzdW1tYXRpb253aWR0aCA9IHN1bW1hdGlvbndpZHRoICsgKGVsZW1lbnQubGFiZWwubGVuZ3RoICogMTApO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheWZpZWxkICYmIHRoaXMuc2xhbnQpIHtcbiAgICAgICAgICAgIHN1bW1hdGlvbndpZHRoID0gdGhpcy54YXhpc2RhdGEubGVuZ3RoICogMTA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3VtbWF0aW9ud2lkdGggPiB3aWR0aCkge1xuICAgICAgICAgICAgLy8gIGZ1bmN0aW9uIGNhbGxcblxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGV4YXhpc2FycmF5KHN1bW1hdGlvbndpZHRoLCB3aWR0aCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNhbGN1bGF0ZXhheGlzYXJyYXkoc3VtbWF0aW9ud2lkdGg6IGFueSwgd2lkdGg6IGFueSkge1xuXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IE1hdGgucm91bmQoc3VtbWF0aW9ud2lkdGggLyB3aWR0aCk7XG4gICAgICAgICB0aGlzLmdlbmVyYXRlTmV3QXhpcyhpbnRlcnZhbCwgd2lkdGgpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlTmV3QXhpcyhpbnRlcnZhbCwgYXZsd2lkdGgpIHtcbiAgICAgICAgdGhpcy54YXhpc2RhdGFcblxuICAgICAgICBsZXQgYXJyID0gW107XG4gICAgICAgIGxldCBuZXdhcnIgPSBbXTtcbiAgICAgICAgbGV0IG1pbjtcbiAgICAgICAgbGV0IG1heDtcbiAgICAgICAgLy8gICAgbWFrZSBBcnJheSBvdXQgb2YgdGhpcy54YXhpc2RhdGFcbiAgICAgICAgdGhpcy54YXhpc2RhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgKGVsZW1lbnQubGFiZWwpID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBhcnIucHVzaChlbGVtZW50LmxhYmVsKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9udWxsIGNoZWNrIG9uIGFyclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGZpbmQgbWluXG5cbiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluLmFwcGx5KG51bGwsIGFycik7XG4gICAgICAgICAgICAvL2ZpbmQgbWF4XG4gICAgICAgICAgICBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCBhcnIpO1xuXG4gICAgICAgICAgICBsZXQgdGVtcCA9IE1hdGgucm91bmQoYXZsd2lkdGggLyAxMClcbiAgICAgICAgICAgIGxldCBkaWZmZXJlbnRpYWwgPSAodGVtcCAtICh0ZW1wICogMC4yKSkgLyA0O1xuXG4gICAgICAgICAgICAvL2Zvcm0gbmV3IGFyclxuXG4gICAgICAgICAgICBsZXQgaiA9IE1hdGgucm91bmQoZGlmZmVyZW50aWFsKTtcbiAgICAgICAgICAgIC8vICAgaGpsa2xsbGxcbiAgICAgICAgICAgIGxldCBpO1xuICAgICAgICAgICAgbGV0IGlzcmVkdW5kYW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5kaXNwbGF5ZmllbGQpIHtcbiAgICAgICAgICAgICAgICBuZXdhcnJbMF0gPSBtaW47XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxOyBqIDwgdGhpcy54YXhpc2RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaiA9IE1hdGgucm91bmQoKGRpZmZlcmVudGlhbCAqIGkpICsgaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaXNyZWR1bmRhbnQgPSB0aGlzLmNoZWNrQXJyYXlSZWR1bmRhbmN5KG5ld2FyciwgTWF0aC5yb3VuZChqKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc3JlZHVuZGFudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gTWF0aC5yb3VuZChqICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdhcnJbaV0gPSBNYXRoLnJvdW5kKGopO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0YXJyKG5ld2Fycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BsYXlmaWVsZCkge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGogPCB0aGlzLnhheGlzZGF0YS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgIGogPSBNYXRoLnJvdW5kKChkaWZmZXJlbnRpYWwgKiBpKSArIGkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnhheGlzZGF0YVtqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gdGhpcy54YXhpc2RhdGFbal0ubGFiZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy54YXhpc2RhdGFbaiArIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gdGhpcy54YXhpc2RhdGFbaiArIDFdLmxhYmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy54YXJyID0gbmV3YXJyO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVja0FycmF5UmVkdW5kYW5jeShuZXdhcnIsIGNoa251bSkge1xuICAgICAgICBsZXQgaW5jID0gMFxuICAgICAgICBuZXdhcnIuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChjaGtudW0gPT0gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGluYysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5jID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc29ydGFycihuZXdhcnI6IGFueSkge1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IGo7XG4gICAgICAgIGxldCB0ZW1wO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3YXJyLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgbmV3YXJyLmxlbmd0aDsgKytqKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3YXJyW2ldID4gbmV3YXJyW2pdKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IG5ld2FycltpXTtcbiAgICAgICAgICAgICAgICAgICAgbmV3YXJyW2ldID0gbmV3YXJyW2pdO1xuICAgICAgICAgICAgICAgICAgICBuZXdhcnJbal0gPSB0ZW1wO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICAgIG5ld2FycjtcbiAgICAgICAgdGhpcy5zZXRYYXhpc0RhdGEobmV3YXJyKVxuICAgIH1cblxuICAgIHNldFhheGlzRGF0YShuZXdhcnI6IGFueSkge1xuXG4gICAgICAgIHRoaXMueGFyciA9IG5ld2FycjtcblxuICAgICAgICAvLyB0aGlzLnhheGlzZGF0YS5wdXNoKHtsYWJlbDogMTI1LCB2YWx1ZTogMTI1fSk7XG5cbiAgICAgICAgLy8gY2hrIGlmIG5ld2FyciBlbGVtZW50cyBhcmUgcHJlc2VudCBpbiB4YXhpc2RhdGFcbiAgICAgICAgbGV0IGlzcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICBuZXdhcnIuZm9yRWFjaChhcnJlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goeGF4aXNlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyZWxlbWVudCA9PSB4YXhpc2VsZW1lbnQubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNwcmVzZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFpc3ByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZSAmIHB1c2ggYW4gb2JqIGluIHhheGlzZGF0YVxuICAgICAgICAgICAgICAgIGxldCBvYmogPSB7IGxhYmVsOiBhcnJlbGVtZW50LCB2YWx1ZTogYXJyZWxlbWVudCB9O1xuICAgICAgICAgICAgICAgIHRoaXMueGF4aXNkYXRhLnB1c2gob2JqKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXNwcmVzZW50ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICBcblxuICAgICAgICAvLyBjaGFuZ2UgYXJyIHRvIGFyciBvZiBvYmpzXG4gICAgICAgIGxldCB4ZGF0YSA9IFtdO1xuICAgICAgICBuZXdhcnIuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgICAgICBsZXQgb2JqID0geyBsYWJlbDogZWxlbWVudCwgdmFsdWU6IGVsZW1lbnQgfVxuICAgICAgICAgICAgeGRhdGEucHVzaChvYmopO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy54YXhpc2RhdGE7XG4gICAgICAgIHRoaXMueGF4aXNkYXRhMSA9IHhkYXRhO1xuICAgICAgICAvL2luaXRpYWxpemUgeGF4aXMgZGF0YVxuICAgIH1cblxuICAgIGZpbmREaWdpdENvdW50KG46IG51bWJlcikge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBpZiAobiA+PSAxKSsrY291bnQ7XG5cbiAgICAgICAgd2hpbGUgKG4gLyAxMCA+PSAxKSB7XG4gICAgICAgICAgICBuIC89IDEwO1xuICAgICAgICAgICAgKytjb3VudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuXG4gICAgc2V0WGludGVydmFsKHdpZHRoOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGludGVydmFsID0gTWF0aC5yb3VuZCh0aGlzLnhheGlzZGF0YS5sZW5ndGggLyB0aGlzLnhpbnRlcnZhbCk7XG5cbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBsZXQgbmV3YXJyID0gW107XG4gICAgICAgIC8vICAgIG1ha2UgQXJyYXkgb3V0IG9mIHRoaXMueGF4aXNkYXRhXG4gICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIChlbGVtZW50LmxhYmVsKSA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKGVsZW1lbnQubGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIGxldCBtaW4gPSBNYXRoLm1pbi5hcHBseShudWxsLCBhcnIpO1xuICAgICAgICAvL2ZpbmQgbWF4XG4gICAgICAgIGxldCBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCBhcnIpO1xuICAgICAgICBsZXQgaiA9IGludGVydmFsO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IGlzcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICBuZXdhcnJbMF0gPSBtaW47XG4gICAgICAgIC8vIGFzc2FcbiAgICAgICAgZm9yIChpID0gMTsgaiA8IG1heDsgaSsrKSB7XG4gICAgICAgICAgICBqID0gaW50ZXJ2YWwgKiBpO1xuICAgICAgICAgICAgbmV3YXJyW2ldID0gajtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5ld2FycltpXSA9IG1heDtcblxuICAgICAgICAvL2luc2V0IG51bWJlcnMgd2hpY2ggYXJlIG5vdCBwcmVzZW50IGluIHhheGlzIGRvbWFpbiBidXQgcHJlc2VudCBpbiBuZXdhcnJcblxuICAgICAgICBuZXdhcnIuZm9yRWFjaChhcnJlbGVtZW50ID0+IHtcblxuICAgICAgICAgICAgdGhpcy54YXhpc2RhdGEuZm9yRWFjaCh4YXhpc2VsZW1lbnQgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHhheGlzZWxlbWVudC5sYWJlbCA9PSBhcnJlbGVtZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaXNwcmVzZW50ID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIWlzcHJlc2VudCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IHsgbGFiZWw6IGFycmVsZW1lbnQsIHZhbHVlOiBhcnJlbGVtZW50IH1cbiAgICAgICAgICAgICAgICB0aGlzLnhheGlzZGF0YS5wdXNoKG9iaik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlzcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0aGlzLnNvcnRhcnIobmV3YXJyKTtcblxuICAgICAgICAvLyBuZXdhcnI7XG4gICAgICAgIC8vIHRoaXMueGF4aXNkYXRhO1xuICAgICAgICB0aGlzLnhhcnIgPSBuZXdhcnI7XG5cbiAgICB9XG5cbiAgICBzZXREaXNwbGF5ZmllbGRYaW50ZXJ2YWwod2lkdGgpIHtcbiAgICAgICAgbGV0IGludGVydmFsID0gTWF0aC5yb3VuZCh0aGlzLnhheGlzZGF0YS5sZW5ndGggLyB0aGlzLnhpbnRlcnZhbCk7XG5cbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBsZXQgbmV3YXJyID0gW107XG4gICAgICAgIC8vICAgIG1ha2UgQXJyYXkgb3V0IG9mIHRoaXMueGF4aXNkYXRhXG4gICAgICAgIHRoaXMueGF4aXNkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBhcnIucHVzaChlbGVtZW50LmxhYmVsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBtaW4gPSAwO1xuICAgICAgICBsZXQgbWF4ID0gdGhpcy54YXhpc2RhdGEubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IGogPSBpbnRlcnZhbDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIG5ld2FyclswXSA9IHRoaXMueGF4aXNkYXRhW21pbl0ubGFiZWw7XG4gICAgICAgIGZvciAoaSA9IDE7IGogPCBtYXg7IGkrKykge1xuICAgICAgICAgICAgbmV3YXJyW2ldID0gdGhpcy54YXhpc2RhdGFbal0ubGFiZWw7XG4gICAgICAgICAgICBqID0gaW50ZXJ2YWwgKiBpO1xuICAgICAgICB9XG4gICAgICAgIG5ld2Fyci5wdXNoKHRoaXMueGF4aXNkYXRhW21heF0ubGFiZWwpXG4gICAgICAgIHRoaXMueGFyciA9IG5ld2FycjtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXR4YXhpc2FycigpIHtcbiAgICAvLyAgICAgbGV0IGZvcm1hdHRlZGFyciA9IFtdO1xuICAgIC8vICAgICBsZXQgdGVtcCA9ICcnO1xuXG4gICAgLy8gICAgIGlmKHRoaXMueGFycikge1xuXG4gICAgLy8gICAgIGlmICh0eXBlb2YgKHRoaXMueGFyclswXSkgPT0gJ3N0cmluZycpIHtcbiAgICAvLyAgICAgICAgIC8vIHRyZWF0IHN0cmluZ1xuICAgIC8vICAgICAgICAgdGhpcy54YXJyLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIFxuICAgIC8vICAgICAgICAgICAgIGlmICh0eXBlb2YgKGVsZW1lbnQpID09ICdzdHJpbmcnKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRlbXAgPSAnJztcbiAgICAvLyAgICAgICAgICAgICAgICAgdGVtcCA9IGVsZW1lbnRbMF0gKyBlbGVtZW50WzFdICsgJy4uJ1xuICAgIC8vICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRhcnIucHVzaCh0ZW1wKVxuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICAgICAgIHRoaXMueGFyciA9IGZvcm1hdHRlZGFycjtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGlmICh0eXBlb2YgKHRoaXMueGFyclswXSkgPT0gJ251bWJlcicpIHtcbiAgICAvLyAgICAgICAgIC8vIHRyZWF0IG51bWVyaWFsc1xuICAgIC8vICAgICAgICAgLy8gd3JhcCBudW1iZXJzXG5cbiAgICAvLyAgICAgfVxuICAgIC8vICAgICAgICAgICAgICB9XG4gICAgLy8gfVxuXG5cbiAgICBwcm90ZWN0ZWQgaW5pdENoYXJ0KCk6IGFueSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgICAgICAvL1JFU0laRSBTVEVQIDIgU1RBUlRcbiAgICAgICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgICAgICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpO1xuICAgICAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuXG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiA0MCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA0MCB9O1xuICAgICAgICAvL1JFU0laRSBTVEVQIDIgRU5EUyBIRVJFXG4gICAgICAgIGNvbnN0IHdpZHRoID0gK3RoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICAgICAgLy8gdGhpcy54YXhpc2RhdGE7XG5cbiAgICAgICAgaWYgKHRoaXMueGludGVydmFsKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzcGxheWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRYaW50ZXJ2YWwod2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGxheWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXREaXNwbGF5ZmllbGRYaW50ZXJ2YWwod2lkdGgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVzY2FsZSh3aWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoZWlnaHQgPSArdGhpcy5zdmdoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgICAgICAgY29uc3QgZyA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICAgICAgY29uc3QgeCA9IGQzLnNjYWxlUG9pbnQoKVxuICAgICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgICAgICAgIC5wYWRkaW5nKDAuMSk7XG5cbiAgICAgICAgY29uc3QgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5yYW5nZVJvdW5kKFtoZWlnaHQsIDBdKTtcbiAgICAgICAgbGV0IHhkb21haW47XG4gICAgICAgIGlmICh0aGlzLnhheGlzZGF0YSkge1xuXG4gICAgICAgICAgICB4LmRvbWFpbih0aGlzLnhheGlzZGF0YS5tYXAoKGQpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGQubGFiZWwpID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmxhYmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGQudmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMueWF4aXNkYXRhKSB7XG4gICAgICAgICAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRoaXMueWF4aXNkYXRhLCAoZCkgPT4geyByZXR1cm4gZC52YWx1ZTsgfSldKTtcbiAgICAgICAgfVxuICAgICAgICAvL2FkZCBheGlzXG4gICAgICAgIGxldCB4YXhpc2JvdHRvbSA9IGQzLmF4aXNCb3R0b20oeCk7XG4gICAgICAgIGlmICh0aGlzLnhhcnIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gaWYodGhpcy5zbGFudCkge1xuICAgICAgICAgICAgLy8gdGhpcy5mb3JtYXR4YXhpc2FycigpO1xuICAgICAgICAgICAgLy8gIH1cbiAgICAgICAgICAgICB4YXhpc2JvdHRvbS50aWNrVmFsdWVzKHRoaXMueGFycilcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXZpY2VRdWVyeVNlcnZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG5cbiAgICAgICAgICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgICAgICAuY2FsbCh4YXhpc2JvdHRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZDMuYXhpc0JvdHRvbSh4KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLnRpY2tWYWx1ZXModGhpcy54YXJyKVxuICAgICAgICAgICAgICAgICAgICApLlxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG5cbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgYm90dG9tYXhpcyA9IGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgICAgIC5jYWxsKHhheGlzYm90dG9tKVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2xhbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtYXR4YXhpc2FycigpOyBcblxuICAgICAgICAgICAgICAgICAgICBib3R0b21heGlzLnNlbGVjdEFsbChcInRleHRcIilcblxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFhheGlzVG9vbHRpcChkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDkwKVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIDEwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLy8gICAuYXR0cihcImNvbG9yXCIsIFwiZ3JleVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKHhheGlzYm90dG9tKS5cbiAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCAxMCk7XG4gICAgICAgICAgICA7XG4gICAgICAgIH1cblxuICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC8vIC5hdHRyKFwiY29sb3JcIiwgXCJncmV5XCIpXG4gICAgICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrcyh0aGlzLnRpY2tzY291bnQpKVxuICAgICAgICAvLyB0aWNrU2l6ZSgwLDEwKSk7XG4gICAgICAgIGxldCByYXdkYXRhID0gdGhpcy5fZGF0YTtcblxuXG4gICAgICAgIC8vIGNhbGwgZnVuY3Rpb24gdG8gYWx0ZXIgbGVnZW5kcyBpZiBkaXNwbGF5ZmllbGQgY29uZG4gc2F0aXNmeVxuICAgICAgICB0aGlzLmFsdGVyTGVnZW5kKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGcsIHgsIHksIGhlaWdodCwgd2lkdGgsIHJhd2RhdGFcbiAgICAgICAgfVxuICAgICAgICAvLyBcblxuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIHBsb3RTY2FsZShnOiBhbnksIHg6IGFueSwgeTogYW55LCBoZWlnaHQ6IGFueSwgd2lkdGg6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy52U2NhbGUpIHtcbiAgICAgICAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkuXG4gICAgICAgICAgICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICAgICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudClcbiAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGVnZW5kQ2xpY2sobm9kZTogYW55KSB7XG5cbiAgICAgICAgLy8gY29uc3QgbGVnZW5kTm9kZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobm9kZSkpO1xuICAgICAgICAvLyBkZWxldGUgbGVnZW5kTm9kZS5jb2xvcjtcbiAgICAgICAgLy8gbGVnZW5kTm9kZS5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIC8vICAgICBkZWxldGUgZWxlbWVudC5sZWdlbmQ7XG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW1wibGFiZWxcIl0gPSBub2RlLmxhYmVsO1xuICAgICAgICBsZXQgZGF0YSA9IFtdO1xuICAgICAgICBub2RlLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGxldCBvYmplY3QgPSB7fTtcblxuICAgICAgICAgICAgb2JqZWN0W2VsZW1lbnQubGVnZW5kXSA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgICBvYmplY3RbdGhpcy54YXhpc25hbWVdID0gZWxlbWVudC5sYWJlbDtcbiAgICAgICAgICAgIC8vICAgb2JqZWN0W2VsZW1lbnQubGFiZWxdID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgIGRhdGEucHVzaChvYmplY3QpO1xuICAgICAgICB9KTtcbiAgICAgICAgb2JqW1wiZGF0YVwiXSA9IGRhdGE7XG4gICAgICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG9iaik7XG5cbiAgICAgICAgLy8gdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQobGVnZW5kTm9kZSk7XG4gICAgfVxuXG5cbiAgICBhbHRlckxlZ2VuZCgpIHtcbiAgICAgICAgdGhpcy5saW5lbGVnZW5kcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5kaXNwbGF5ZmllbGQpIHtcblxuICAgICAgICAgICAgdGhpcy5sZWdlbmRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubGFiZWwgIT09IHRoaXMuZGlzcGxheWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZWxlZ2VuZHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGluZWxlZ2VuZHMgPSB0aGlzLmxlZ2VuZHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxsWGF4aXNUb29sdGlwKHRvb2x0aXBkYXRhOiBhbnkpIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICBvYmpbJ3gtYXhpcyddID0gdG9vbHRpcGRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIElucHV0LCBDaGFuZ2VEZXRlY3RvclJlZiwgT25DaGFuZ2VzIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUxpbmVDb21wb25lbnQgfSBmcm9tIFwiLi9iYXNlbGluZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCB7IERldmljZVF1ZXJ5U2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZVwiO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1saW5lJyxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICNkaXZpZCAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+IFxuICAgIDx0YWJsZSBbbmdDbGFzc109XCJ2YWxpZGF0ZURhdGEoKVwiICBzdHlsZT1cIndpZHRoOiAxMDAlO1wiID4gXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICAgICAgICA8dHI+PHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPjwvdHI+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHIgICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFdPVwibGluZWxlZ2VuZHNcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwvdHI+XG4gICAgPC90YWJsZT5cbiAgICA8IS0tIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICAgICAgPC9kaXY+IC0tPlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDwhLS0ge3tsZWdlbmRzIHwganNvbn19IC0tPmBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNMaW5lQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlTGluZUNvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0LCBPbkNoYW5nZXMge1xuICAgIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yID0gJyc7XG4gICAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gICAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgICBAVmlld0NoaWxkKCdkcmlsbGlkJykgZHJpbGxpZDogYW55O1xuICAgIHd0OiBudW1iZXI7XG4gICAgcmF3ZGF0YTogYW55O1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkZXZpY2VRdWVyeVNlcnZpY2U6IERldmljZVF1ZXJ5U2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwdWJsaWMgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSkge1xuICAgICAgICBzdXBlcihkZXZpY2VRdWVyeVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgICAgICAgbGV0IHJlc3A6IGFueVxuICAgICAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBuZ09uQ2hhbmdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhbGlkYXRlRGF0YSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJsbWFza1wiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RKc29uO1xuICAgICAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICAgICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXdDaGFydCgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIC8vUkVTSVpFIFNURVAgNSBTVEFSVFNcbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMucmVzaXpld3QgPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICB9XG4gICAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gICAgfVxuXG4gICAgcGxvdEQzQ2hhcnQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vUkVTSVpFIFNURVAgMVxuICAgICAgICAgICAgaWYgKHRoaXMud3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1JFU0laRSBTVEVQIDEgRU5EUyBIRVJFIFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuXG4gICAgICAgIGNvbnN0IGxpbmVjaGFydCA9IHRoaXMuaW5pdENoYXJ0KCk7XG5cbiAgICAgICAgdGhpcy5yYXdkYXRhID0gbGluZWNoYXJ0LnJhd2RhdGE7XG4gICAgICAgIC8vIHRoaXMuc3Znd2lkdGggPSBsaW5lY2hhcnQud2lkdGg7XG4gICAgICAgIHRoaXMucGxvdFNjYWxlKGxpbmVjaGFydC5nLCBsaW5lY2hhcnQueCwgbGluZWNoYXJ0LnksIGxpbmVjaGFydC5oZWlnaHQsIGxpbmVjaGFydC53aWR0aCk7XG5cbiAgICAgICAgdGhpcy5wbG90TGluZShsaW5lY2hhcnQuZywgbGluZWNoYXJ0LngsIGxpbmVjaGFydC55LCBsaW5lY2hhcnQuaGVpZ2h0LFxuICAgICAgICAgICAgbGluZWNoYXJ0LndpZHRoLCBbXSwgdG9vbHRpcCwgKDEpKTtcbiAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMubXVsdGlzZXJpZXNkYXRhKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5tdWx0aXNlcmllc2RhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbG90TGluZShsaW5lY2hhcnQuZywgbGluZWNoYXJ0LngsIGxpbmVjaGFydC55LCBsaW5lY2hhcnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lY2hhcnQud2lkdGgsIHRoaXMubXVsdGlzZXJpZXNkYXRhW2luZGV4XSwgdG9vbHRpcCwgKGluZGV4ICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgXG5cbiAgICB9XG5cblxuICAgIC8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbiAgICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApXG4gICAgfVxuICAgIC8vUkVTSVpFIFNURVAgNCBFTkRTXG5cbiAgICBwcml2YXRlIHBsb3RMaW5lKGc6IGFueSwgeDogYW55LCB5OiBhbnksIGhlaWdodDogYW55LCB3aWR0aDogYW55LCBkYXRhOiBhbnksIHRvb2x0aXA6IGFueSwgaTogbnVtYmVyKTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgbGluZSA9IGQzLmxpbmUoKVxuICAgICAgICAgICAgLngoKGQpID0+IHsgcmV0dXJuIHgoZC5sYWJlbCk7IH0pXG4gICAgICAgICAgICAueSgoZCkgPT4geyByZXR1cm4geShkLnZhbHVlKTsgfSk7XG4gICAgICAgIGNvbnN0IHRlbXBjb2xvciA9IFwiYmxhY2tcIjtcbiAgICAgICAgZy5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgICAuZGF0dW0oZGF0YSlcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yW2kgLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZWNvbG9yW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIC8vICByZXR1cm4gdGVtcGNvbG9yO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDEuNSlcbiAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBsaW5lKVxuICAgICAgICAgICAgLy8gLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAzNyArIFwiLFwiICsgMCArIFwiKVwiKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgICBcbiAgICAgICAgZy5zZWxlY3RBbGwoJ2RvdCcpXG4gICAgICAgICAgICAuZGF0YShkYXRhKVxuICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7ICByZXR1cm4geChkLmxhYmVsKTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgIHJldHVybiB5KGQudmFsdWUpOyB9KVxuICAgICAgICAgICAgLmF0dHIoJ3InLCAyKVxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yW2kgLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZWNvbG9yW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGluZWNvbG9yLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gIHJldHVybiB0ZW1wY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgIC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgMzcgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVG9vbHRpcChkKSlcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvL2xldHMgcGxvdCBsYWJlbHMgaGVyZVxuICAgICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgICAgIGcuc2VsZWN0QWxsKCdsYWJlbCcpXG4gICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5saW5lY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGluZWNvbG9yW2kgLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVjb2xvcltpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmxpbmVjb2xvci5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgcmV0dXJuIHRlbXBjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgoZC5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHkoZC52YWx1ZSkgLSAxMDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIDM3ICsgXCIsXCIgKyAwICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRvb2x0aXAoZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgbGluZUNoYXJ0Q2xpY2soZDogYW55KSB7XG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW2QubGVnZW5kXSA9IGQudmFsdWU7XG4gICAgICAgIG9ialt0aGlzLnhheGlzbmFtZV0gPSBkLmxhYmVsO1xuICAgICAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqKTtcbiAgICB9XG5cbiAgICBjYWxsVG9vbHRpcCh0b29sdGlwZGF0YTogYW55KSB7XG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW3Rvb2x0aXBkYXRhLmxlZ2VuZF0gPSB0b29sdGlwZGF0YS52YWx1ZTtcbiAgICAgICAgb2JqW3RoaXMueGF4aXNuYW1lXSA9IHRvb2x0aXBkYXRhLmxhYmVsO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sVGlwRm9yQmFyKG9iaik7XG4gICAgfVxuXG5cbiAgXG59IiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1iYXJzdGFjaycsXG4gIHRlbXBsYXRlOiBgPGRpdiAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlICpuZ0lmPVwiZGF0YTEubGVuZ3RoID4gMFwiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICAgICAgICA8L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgICAgICA8L3RkPlxuXG4gICAgICAgIDwvdHI+XG4gICAgPC90YWJsZT5cbiAgICA8ZGl2ICpuZ0lmPVwiZGF0YTEubGVuZ3RoIDwgMVwiIGNsYXNzPVwibG1hc2tcIiBzdHlsZT1cInBhZGRpbmctdG9wOjUwJVwiPlxuICAgIDwvZGl2PlxuPC9kaXY+YCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuZXhwb3J0IGNsYXNzIEJhcnN0YWNrQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBsZWdlbmRBcnJheTogYW55W107XG4gIG1heFlWYWx1ZTogbnVtYmVyID0gMDtcbiAga2V5QXJyYXk6IGFueVtdO1xuICBwcmVkZWZpbmVkY29sb3JzOiBhbnlbXTtcbiAgbGVnZW5kczogYW55W107XG4gIGNoYXJ0dHlwZTogc3RyaW5nO1xuICBkYXRhOiBhbnkgPSBbXTtcbiAgZGF0YXJlYWRlcmRhdGE6IGFueVtdO1xuICB4YXhpczogYW55O1xuICB3dDogbnVtYmVyO1xuICBASW5wdXQoJ2RhdGEnKSBkYXRhMTogYW55XG4gIEBJbnB1dCgpIGJhcndpZHRoOiBudW1iZXIgPSAwO1xuICBASW5wdXQoKSB0aXRsZTogU3RyaW5nID0gXCJcIjtcbiAgQElucHV0KCkgbGVnZW5kOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCkgY29sb3I6IHN0cmluZ1tdID0gW107XG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ3lheGlzLWludGVydmFsJykgdGlja3Njb3VudDogbnVtYmVyO1xuIFxuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZHJpbGxpZCcpIGRyaWxsaWQ6IGFueTtcbiAgQE91dHB1dCgpIG9uTGVnZW5kQ2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBodHRwcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIG9mZnNldGhlaWdodDogYW55O1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgY2RmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkZXZpY2U6IERldmljZVF1ZXJ5U2VydmljZSkge1xuICAgIHN1cGVyKCdiYXJzdGFjaycpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy53dCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlcztcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHRoaXMuaHR0cHJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcG9uc2UpO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhMSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhMSk7XG4gICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cblxuICB0cmFuc2Zvcm1EYXRhKGRhdGExOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5sZWdlbmRBcnJheSA9IFtdO1xuXG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZEFycmF5W2lubmVyZWxlbWVudF0gPSB7ICdkYXRhJzogW10gfTtcbiAgICAgICAgICAgIHRoaXMua2V5QXJyYXkucHVzaChpbm5lcmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnhheGlzID0gaW5uZXJlbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgdGVtcGlubmVyYXJyYXk6IGFueVtdO1xuICAgIHRlbXBpbm5lcmFycmF5ID0gW107XG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IG9iajogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbm5lcmluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGlubmVyaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlBcnJheVtpbm5lcmluZGV4IC0gMV07XG4gICAgICAgICAgICBvYmpba2V5XSA9IGVsZW1lbnRbaW5uZXJpbmRleF07XG4gICAgICAgICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtrZXldO1xuICAgICAgICAgICAgaWYgKGxlZ2VuZGRhdGEpIHtcbiAgICAgICAgICAgICAgbGVnZW5kZGF0YS5kYXRhLnB1c2goeyAndmFsdWUnOiBlbGVtZW50W2lubmVyaW5kZXhdLCAnbGFiZWwnOiBlbGVtZW50WzBdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBpbm5lcmFycmF5LnB1c2gob2JqKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHRlbXBpbm5lcmFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmRhdGEucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICBsZXQgbWF4WTogYW55ID0gMDtcbiAgICBsZXQgeWF4aXNtYXhBcnJheSA9IFtdO1xuICAgIC8vZmluZCBtYXggZm9yIHlheGlzXG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuXG4gICAgICAgIHRoaXMua2V5QXJyYXkuZm9yRWFjaChrZXkxID0+IHtcbiAgICAgICAgICBpZiAoa2V5ID09IGtleTEpIHtcbiAgICAgICAgICAgIG1heFkgPSBtYXhZICsgdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTsvL2tleWFycmF5IGxvb3AgZW5kcyBoZXJlXG5cbiAgICAgIH0vL2ZvciBlbmRzIGhlcmVcbiAgICAgIHlheGlzbWF4QXJyYXkucHVzaChtYXhZKTtcbiAgICAgIG1heFkgPSAwO1xuICAgIH0pOy8vIGZvcmVhY2ggZW5kc1xuICAgIGxldCB0ZW1wTGFyZ2UgPSAwLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB5YXhpc21heEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoeWF4aXNtYXhBcnJheVtpXSA+IHRlbXBMYXJnZSkge1xuICAgICAgICB0aGlzLm1heFlWYWx1ZSA9IHlheGlzbWF4QXJyYXlbaV07XG4gICAgICB9Ly9pZiBlbmRzXG4gICAgfS8vIGZvciBlbmRzXG5cbiAgICB0aGlzLmxlZ2VuZHMgPSBbXVxuICAgIHRoaXMua2V5QXJyYXkuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGxlZ2VuZGRhdGEgPSB0aGlzLmxlZ2VuZEFycmF5W2VsZW1lbnRdO1xuICAgICAgaWYgKHRoaXMuY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50LCAnY29sb3InOiB0aGlzLmNvbG9yW2luZGV4XSwgJ2RhdGEnOiBsZWdlbmRkYXRhLmRhdGEgfTtcbiAgICAgICAgdGhpcy5sZWdlbmRzLnB1c2gob2JqZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnQsICdjb2xvcic6IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF0sICdkYXRhJzogbGVnZW5kZGF0YS5kYXRhIH07XG4gICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwbG90Q2hhcnQoKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG4gICAgbGV0IG1hcmdpbiA9IHsgdG9wOiAzMCwgcmlnaHQ6IDMwLCBib3R0b206IDkwLCBsZWZ0OiA2MCB9O1xuICAgIGxldCBjb2xvcnMgPSB0aGlzLnByZWRlZmluZWRjb2xvcnM7XG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIC8vdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIGxldCBkYXRhO1xuICAgIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgbGV0IGtleXNldGFycmF5OiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5kYXRhWzBdKSkge1xuICAgICAgICBrZXlzZXRhcnJheS5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgICB0aGlzLmtleUFycmF5ID0ga2V5c2V0YXJyYXk7XG4gICAgICB0aGlzLmtleUFycmF5LnNwbGljZSgwLCAxKTtcbiAgICB9XG4gXG5cbiAgICBsZXQgc2VyaWVzID0gZDMuc3RhY2soKS5rZXlzKHRoaXMua2V5QXJyYXkpXG4gICAgICAub2Zmc2V0KGQzLnN0YWNrT2Zmc2V0RGl2ZXJnaW5nKVxuICAgICAgKHRoaXMuZGF0YSk7XG5cbiAgICAgbGV0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGxldCBoZWlnaHRcbiAgICAvLyAgPSB0aGlzLnN2Z2hlaWdodCAtIG1hcmdpbi5ib3R0b20gLSBtYXJnaW4udG9wO1xuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgICAgICAgICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAgICAgICAgICAgXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpKSB7XG5cbiAgICAgIHRoaXMub2Zmc2V0aGVpZ2h0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgICAvLyAgLSBtYXJnaW4uYm90dG9tIC1tYXJnaW4udG9wO1xuICAgICAgaGVpZ2h0ID0gdGhpcy5vZmZzZXRoZWlnaHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGVpZ2h0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gMTA7XG4gICAgfVxuXG4gICAgbGV0IHggPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgLmRvbWFpbihkYXRhLm1hcCgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICB9KSlcbiAgICAgIC5yYW5nZVJvdW5kKFttYXJnaW4ubGVmdCwgdGhpcy5zdmd3aWR0aC1tYXJnaW4ucmlnaHRdKVxuICAgICAgLnBhZGRpbmcoMC4zNSk7XG5cbiAgICBsZXQgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5kb21haW4oW2QzLm1pbih0aGlzLnN0YWNrTWluKHNlcmllcykpLFxuICAgICAgdGhpcy5tYXhZVmFsdWVcbiAgICAgICAgLy8gZDMubWF4KHRoaXMuc3RhY2tNYXgoc2VyaWVzKSlcbiAgICAgIF0pXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0IC0gbWFyZ2luLmJvdHRvbSwgbWFyZ2luLnRvcF0pO1xuICAgIGlmICh0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKSA9PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5zdmd3aWR0aCA8PSA0MDApIHtcbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB5KDApICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkuXG4gICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB5KDApICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpO1xuICAgICAgfVxuXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgeSgwKSArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsMClcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuXG4gICAgdGhpcy5wbG90TGluZSh0aGlzLnN2ZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCwgbWFyZ2luLmxlZnQpXG5cbiAgICBsZXQgc3ZnUmVjdCA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAuZGF0YShzZXJpZXMpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAodGhpcy5jb2xvcltpbmRleF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JzW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc2VsZWN0QWxsKFwicmVjdFwiKVxuICAgICAgLmRhdGEoKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9KVxuXG4gICAgc3ZnUmVjdC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgeC5iYW5kd2lkdGgoKSkuYXR0cignaWQnLCAoZCwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gZC5kYXRhW2ldO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4geCgrZC5kYXRhW09iamVjdC5rZXlzKGQuZGF0YSlbMF1dKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcInlcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiB5KGRbMV0pO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiB5KGRbMF0pIC0geShkWzFdKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQ6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKHRoaXMuc2V0S2V5KGQpKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICB0aGlzLnNldEJhckNsaWNrVGV4dChkKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgLy8gdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgfSk7XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgc3ZnUmVjdC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxdndcIilcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yICYmIHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ4XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHgoK2QuZGF0YVtPYmplY3Qua2V5cyhkLmRhdGEpWzBdXSkgKyB4LmJhbmR3aWR0aCgpIC8gMjtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KGRbMV0pICsgMjA7XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgaWYoKGRbT2JqZWN0LmtleXMoZClbMV1dIC0gZFtPYmplY3Qua2V5cyhkKVswXV0pID4gMCkge1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXSAtIGRbT2JqZWN0LmtleXMoZClbMF1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZDogYW55KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbCh0aGlzLnNldEtleShkKSlcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0QmFyQ2xpY2tUZXh0KGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAvLyB0aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHN0YWNrTWluKHNlcmllKSB7XG4gICAgcmV0dXJuIGQzLm1pbihzZXJpZSwgKGQpID0+IHsgcmV0dXJuIGRbMF07IH0pO1xuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLnBsb3RDaGFydCgpO1xuICB9XG5cbiAgcGxvdExpbmUoc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoLCBtKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBzdmcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtICsgXCIsMClcIilcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrcyh0aGlzLnRpY2tzY291bnQpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgIH1cbiAgfVxuXG4gIGxlZ2VuZENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgb2JqW1wibGFiZWxcIl0gPSBldmVudC5sYWJlbDtcbiAgICBsZXQgZGF0YSA9IFtdO1xuICAgIGV2ZW50LmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgIG9iamVjdFtlbGVtZW50LmxhYmVsXSA9IGVsZW1lbnQudmFsdWU7XG4gICAgICBkYXRhLnB1c2gob2JqZWN0KTtcbiAgICB9KTtcbiAgICBvYmpbXCJkYXRhXCJdID0gZGF0YTtcbiAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICB9XG5cbiAgc2V0S2V5KGQ6IGFueSkge1xuICAgIGxldCBkaWZmID0gZFswXSAtIGRbMV07XG4gICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICBkaWZmID0gKGRpZmYgKiAoLTEpKTtcbiAgICB9XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGQuZGF0YSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBkaWZmKSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgb2JqZWN0W3RoaXMueGF4aXNdID0gZC5kYXRhW09iamVjdC5rZXlzKGQuZGF0YSlbMF1dO1xuICAgICAgICByZXR1cm4gKHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRCYXJDbGlja1RleHQoZDogYW55KSB7XG4gICAgbGV0IGRpZmYgPSBkWzBdIC0gZFsxXTtcbiAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgIGRpZmYgPSAoZGlmZiAqICgtMSkpO1xuICAgIH1cbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGQuZGF0YSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBkaWZmKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIG9iamVjdFt0aGlzLnhheGlzXSA9IGQuZGF0YVtPYmplY3Qua2V5cyhkLmRhdGEpWzBdXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICBnZXRSZXNwb25zZURhdGEoaHR0cFJlc3BvbnNlOiBhbnkpIHtcbiAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICB9XG5cbn1cbiIsIlxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS9iYXNlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJ1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LW11bHRpc2VyaWVzJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+IFxuPHRhYmxlICpuZ0lmPVwiZGF0YS5sZW5ndGggPiAwXCIgIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgPHRyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCIgPlxuICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgICAgPHRkPlxuICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwiaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwid2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj48L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbjwvdGFibGU+XG48ZGl2ICpuZ0lmPVwiZGF0YS5sZW5ndGggPCAxXCIgY2xhc3M9XCJsbWFza1wiIHN0eWxlPVwicGFkZGluZy10b3A6NTAlXCI+XG4gICAgPC9kaXY+XG48L2Rpdj5cblxuXG5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgR3JvdXBiYXJDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RyaWxsaWQnKSBkcmlsbGlkOiBhbnk7XG4gIEBJbnB1dCgnZGF0YScpIGRhdGE6IGFueSA9IFtdO1xuICBASW5wdXQoKSBsZWdlbmQ6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoKSBiYXJ3aWR0aDogbnVtYmVyID0gMDtcbiAgQE91dHB1dCgpIG9uTGVnZW5kQ2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCdzaG93LXplcm8tdmFsdWVzJykgc2hvd3plcm9mbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgZ3JvdXBiYXJjaGFydEFycmF5OiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55O1xuICB4YXhpc0RhdGE6IGFueTtcbiAga2V5QXJyYXk6IGFueTtcbiAgbGVnZW5kczogYW55O1xuICB5ZWFyczogYW55O1xuICB1cmxsZWdlbmRBcnJheSA9IFtdO1xuICBzdmc6IGFueTtcbiAgd3Q6IGFueTtcbiAgZGVmdWFsdENvbG9yczogYW55ID0gW107XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ211bHRpYmFyJyk7XG4gICAgdGhpcy5wcmVkZWZpbmVkY29sb3JzID0gW1wiIzMzNjZjY1wiLCBcIiNkYzM5MTJcIiwgXCIjZmY5OTAwXCIsIFwiIzEwOTYxOFwiLCBcIiM5OTAwOTlcIiwgXCIjMDA5OWM2XCIsIFwiI2RkNDQ3N1wiLCBcIiM2NmFhMDBcIiwgXCIjYjgyZTJlXCIsIFwiIzMxNjM5NVwiLCBcIiM5OTQ0OTlcIiwgXCIjMjJhYTk5XCIsIFwiI2FhYWExMVwiLCBcIiM2NjMzY2NcIiwgXCIjZTY3MzAwXCIsIFwiIzhiMDcwN1wiLCBcIiM2NTEwNjdcIiwgXCIjMzI5MjYyXCIsIFwiIzU1NzRhNlwiLCBcIiMzYjNlYWNcIl07XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBsZXQgcmVzOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXMgPSByZXNwb25zZTtcblxuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXMpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICB9LCAwKTtcblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZldGNoRGF0YShkYXRhOiBhbnkpIHtcbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG5cbiAgICB9LCAwKTtcblxuICB9XG5cbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG4gIHBsb3REM0NoYXJ0KCk6IHZvaWQge1xuICAgIHRoaXMuY29udmVydFRvSlNPTigpO1xuICAgIHRoaXMucGxvdEdyb3VwQmFyQ2hhcnQoKTtcbiAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgfVxuXG4gIHByaXZhdGUgcGxvdEdyb3VwQmFyQ2hhcnQoKTogdm9pZCB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG4gICAgdGhpcy5kZWZ1YWx0Q29sb3JzID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzO1xuICAgIC8vIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDUwLCBsZWZ0OiA0MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXR0cigndmlld0JveCcsICcwIDAgJyArIHRoaXMuc3Znd2lkdGggKyAnICcgKyB0aGlzLnN2Z2hlaWdodClcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cblxuICAgIGNvbnN0IHgwID0gZDMuc2NhbGVCYW5kKClcbiAgICAgIC5yYW5nZVJvdW5kKFswLCB3aWR0aF0pXG4gICAgICAucGFkZGluZygwLjIpO1xuXG4gICAgY29uc3QgeDEgPSBkMy5zY2FsZUJhbmQoKS5wYWRkaW5nKDAuMSk7XG5cbiAgICBjb25zdCB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pO1xuXG4gICAgLy9zZXR0aW5nIHggYW5kIHkgZG9tYWluc1xuICAgIHRoaXMueWVhcnMgPSB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheS5tYXAoKGQpID0+IHsgcmV0dXJuIGQubGFiZWxzOyB9KTtcbiAgICBsZXQgbGFiZWwgPSB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheVswXS52YWx1ZXMubWFwKChkKSA9PiB7IHJldHVybiBkLmxhYmVsOyB9KTtcblxuICAgIHgwLmRvbWFpbih0aGlzLnllYXJzKTtcbiAgICB4MS5kb21haW4obGFiZWwpLnJhbmdlUm91bmQoWzAsIHgwLmJhbmR3aWR0aCgpXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmdyb3VwYmFyY2hhcnRBcnJheSwgKGxhYmVscykgPT4geyByZXR1cm4gZDMubWF4KGxhYmVscy52YWx1ZXMsIChkKSA9PiB7IHJldHVybiBkLnZhbHVlOyB9KTsgfSldKTtcblxuICAgIC8vZHluYW1pYyBiYXJ3aWR0aFxuICAgIGlmICh0aGlzLmJhcndpZHRoID4gMCkge1xuICAgICAgdGhpcy5iYXJ3aWR0aCA9IHRoaXMuYmFyd2lkdGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5iYXJ3aWR0aCA9IHgwLmJhbmR3aWR0aDtcbiAgICB9XG5cbiAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuXG5cblxuICAgIGlmICh0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKSA9PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5zdmd3aWR0aCA8PSA0MDApIHtcbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgwKSkuXG4gICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgwKSkuXG4gICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG5cbiAgICB9XG5cblxuXG4gICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgIC50aWNrcygxMCkudGlja3ModGhpcy50aWNrc2NvdW50KSlcblxuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHksIGhlaWdodCwgd2lkdGgpO1xuXG4gICAgLy8gc3ZnLnNlbGVjdCgnLnknKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKS5kZWxheSgxMzAwKS5zdHlsZSgnb3BhY2l0eScsICcxJyk7XG4gICAgLy9hZGRpbmcgYmFyc1xuIFxuICAgIGxldCBzbGljZSA9IHRoaXMuc3ZnLnNlbGVjdEFsbChcIi5zbGljZVwiKVxuICAgICAgLmRhdGEodGhpcy5ncm91cGJhcmNoYXJ0QXJyYXkpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgKGQpID0+IHsgXG4gICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xuICAgICAgICAoZC52YWx1ZXMpLmZvckVhY2goKGVsZW1lbnQsaW5kZXgpID0+IHtcbiAgICAgICAgICAvL3NwbGljZSAwIFxuICAgICAgICAgIGlmKGVsZW1lbnQudmFsdWUgJiYgKGVsZW1lbnQudmFsdWUgPCAxKSkge1xuICAgICAgICAgIGQudmFsdWVzLnNwbGljZSgwLGluZGV4KTtcbiAgICAgICAgICB9IFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgeDAoZC5sYWJlbHMpICsgXCIsMClcIjsgfSk7XG5cbiAgICAgc2xpY2Uuc2VsZWN0QWxsKFwicmVjdFwiKVxuICAgICAgLmRhdGEoKGQpID0+IHsgcmV0dXJuIGQudmFsdWVzOyB9KVxuICAgICAgLmVudGVyKCkuXG4gICAgICBhcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHgxLmJhbmR3aWR0aFxuICAgIClcbiAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4geDEoZC5sYWJlbClcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoXCJmaWxsXCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jb2xvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmICh0aGlzLmNvbG9yc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yc1tpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmdWFsdENvbG9yc1tpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmRlZnVhbHRDb2xvcnNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgfSlcbiAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4geSgwKTsgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KDApOyB9KVxuICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLnNldEtleShkKSlcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuZ3JvdXBiYXJDbGljayhkKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICB9KVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgc2xpY2Uuc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuZGF0YSgoZCkgPT4geyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB4MS5iYW5kd2lkdGgpXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4MShkLmxhYmVsKSArIHgxLmJhbmR3aWR0aCgpIC8gMlxuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInlcIiwgKGQpID0+IHsgcmV0dXJuIHkoZC52YWx1ZSk7IH0pXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KDApOyB9KVxuICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMXZ3XCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgLy8gaWYoKGQudmFsdWUgPiAwKSApIHtcbiAgICAgICAgICAvLyByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgaWYodGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZighdGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICAgIGlmKGQudmFsdWUgPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLnNldEtleShkKVxuICAgICAgICAgICAgLy8gIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KS5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuZ3JvdXBiYXJDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgLy8gdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBzbGljZS5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcInlcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHkoZC52YWx1ZSk7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHsgcmV0dXJuIGhlaWdodCAtIHkoZC52YWx1ZSk7IH0pO1xuICB9XG5cbiAgZ3JvdXBiYXJDbGljayhkOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgb2JqZWN0W2QubGFiZWxdID0gZC52YWx1ZTtcbiAgICBvYmplY3RbdGhpcy54YXhpc0RhdGFdID0gZC54YXhpcztcbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gIC8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbiAgdmFsaWRhdGVyZXNpemUoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICByZXNpemUoKSB7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5wbG90R3JvdXBCYXJDaGFydCgpO1xuICB9XG5cbiAgbGVnZW5kQ2xpY2soZXZlbnQ6IGFueSkge1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbXCJsYWJlbFwiXSA9IGV2ZW50LmxhYmVsO1xuICAgIGxldCBkYXRhID0gW107XG4gICAgZXZlbnQuZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGV0IG9iamVjdCA9IHt9O1xuICAgICAgb2JqZWN0W2VsZW1lbnQubGFiZWxdID0gZWxlbWVudC52YWx1ZTtcbiAgICAgIGRhdGEucHVzaChvYmplY3QpO1xuICAgIH0pO1xuICAgIG9ialtcImRhdGFcIl0gPSBkYXRhO1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG9iaik7IFxuICB9XG5cbiAgLy8yZCBhcnJheSB0byBqc29uIGNvbnZlcnNpb25cbiAgY29udmVydFRvSlNPTigpIHtcbiAgICBsZXQgZ3JvdXBDaGFydE9iaiA9IHsgXCJsYWJlbHNcIjogXCJcIiwgdmFsdWVzOiBbXSB9O1xuICAgIGxldCBmaXJzdFJvd09mRGF0YSA9IHRoaXMuZGF0YVswXTtcbiAgICB0aGlzLnhheGlzRGF0YSA9IHRoaXMuZGF0YVswXVswXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbXVsdGlTZXJpZXNBcnJheSA9IFtdO1xuICAgICAgbGV0IHZhbHVlT2ZKOiBhbnk7XG5cbiAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgdGhpcy5kYXRhW2ldLmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgdmFsdWVPZkogPSB0aGlzLmRhdGFbaV1bMF07XG4gICAgICAgIGxldCBzaW5nbGVCYXJPYmogPSB7fTtcbiAgICAgICAgc2luZ2xlQmFyT2JqW1widmFsdWVcIl0gPSB0aGlzLmRhdGFbaV1bal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcInhheGlzXCJdID0gdGhpcy5kYXRhW2ldWzBdO1xuICAgICAgICBtdWx0aVNlcmllc0FycmF5LnB1c2goc2luZ2xlQmFyT2JqKTtcbiAgICAgIH1cbiAgICAgIGlmIChtdWx0aVNlcmllc0FycmF5Lmxlbmd0aCkge1xuICAgICAgICBncm91cENoYXJ0T2JqW1widmFsdWVzXCJdID0gbXVsdGlTZXJpZXNBcnJheTtcbiAgICAgICAgbGV0IG5ld0xhYmVsc1ZhbHVlczogYW55ID0gdmFsdWVPZko7XG4gICAgICAgIGxldCBuZXdHcm91cERhdGFPYmogPSBPYmplY3QuYXNzaWduKHt9LCBncm91cENoYXJ0T2JqKTtcbiAgICAgICAgbmV3R3JvdXBEYXRhT2JqWydsYWJlbHMnXSA9IG5ld0xhYmVsc1ZhbHVlcyArICcnO1xuICAgICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheS5wdXNoKG5ld0dyb3VwRGF0YU9iaik7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuXG4gIHRyYW5zZm9ybXRvMmRBcnJheSgpIHtcbiAgICBsZXQgaSA9IDBcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgcmVzdWx0LnB1c2goXCJ5ZWFyc1wiKTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LnZhbHVlcy5mb3JFYWNoKGVsZW1lbnQyID0+IHtcbiAgICAgICAgICByZXN1bHQucHVzaChlbGVtZW50Mi5sYWJlbCk7XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgICB0aGlzLnVybGxlZ2VuZEFycmF5LnB1c2gocmVzdWx0KTtcblxuICAgIGxldCB0ZW1wYXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRlbXBhcnJheSA9IFtdO1xuICAgICAgbGV0IHZhbHVlczogYW55O1xuICAgICAgbGV0IHllYXIgPSBlbGVtZW50LmxhYmVscztcbiAgICAgIHRlbXBhcnJheS5wdXNoKHllYXIpO1xuICAgICAgZWxlbWVudC52YWx1ZXMuZm9yRWFjaChlbGVtZW50MiA9PiB7XG4gICAgICAgIHZhbHVlcyA9IGVsZW1lbnQyLnZhbHVlO1xuICAgICAgICB0ZW1wYXJyYXkucHVzaCh2YWx1ZXMpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVybGxlZ2VuZEFycmF5LnB1c2godGVtcGFycmF5KTtcbiAgICB9KVxuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5sZWdlbmRBcnJheSA9IFtdO1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZEFycmF5W2lubmVyZWxlbWVudF0gPSB7ICdkYXRhJzogW10gfTtcbiAgICAgICAgICAgIHRoaXMua2V5QXJyYXkucHVzaChpbm5lcmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgb2JqOiBhbnkgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbm5lcmVsZW1lbnQsIGlubmVyaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5uZXJpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmtleUFycmF5W2lubmVyaW5kZXggLSAxXTtcbiAgICAgICAgICAgIG9ialtrZXldID0gZWxlbWVudFtpbm5lcmluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGxlZ2VuZGRhdGEgPSB0aGlzLmxlZ2VuZEFycmF5W2tleV07XG4gICAgICAgICAgICBpZiAobGVnZW5kZGF0YSkge1xuICAgICAgICAgICAgICBsZWdlbmRkYXRhLmRhdGEucHVzaCh7ICd2YWx1ZSc6IGVsZW1lbnRbaW5uZXJpbmRleF0sICdsYWJlbCc6IGVsZW1lbnRbMF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgdGhpcy5rZXlBcnJheS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbGVnZW5kZGF0YSA9IHRoaXMubGVnZW5kQXJyYXlbZWxlbWVudF07XG4gICAgICBsZXQgb2JqZWN0O1xuICAgICAgaWYgKHRoaXMuY29sb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50LCAnY29sb3InOiB0aGlzLmNvbG9yc1tpbmRleF0sICdkYXRhJzogbGVnZW5kZGF0YS5kYXRhIH07XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgIG9iamVjdCA9IHsgJ2xhYmVsJzogZWxlbWVudCwgJ2NvbG9yJzogdGhpcy5wcmVkZWZpbmVkY29sb3JzW2luZGV4XSwgJ2RhdGEnOiBsZWdlbmRkYXRhLmRhdGEgfTtcbiAgICAgICB9XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0S2V5KGQ6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBvYmplY3RbZC5sYWJlbF0gPSBkLnZhbHVlO1xuICAgIG9iamVjdFt0aGlzLnhheGlzRGF0YV0gPSBkLnhheGlzO1xuICAgIHJldHVybiAodGhpcy50b29sVGlwRm9yQmFyKG9iamVjdCkpO1xuICB9XG5cbiAgcGxvdExpbmUoZywgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgQ2hhbmdlRGV0ZWN0b3JSZWYsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmUvc3JjL3JlbmRlcjMvdXRpbFwiO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNvbWJvY2hhcnQnLFxuICB0ZW1wbGF0ZTogYCBcbjxkaXYgI2NoYXJ0SWQgKm5nSWY9XCJkcmlsbGFibGVGbGFnXCIgKHdpbmRvdzpyZXNpemUpPVwidmFsaWRhdGVyZXNpemUoKVwiPlxuICAgIDx0YWJsZSAqbmdJZj1cImRhdGEubGVuZ3RoID4gMFwiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XG4gICAgICA8dHIgKm5nSWYgPSBcInRpdGxlLmxlbmd0aCA+IDBcIj5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj4ge3t0aXRsZX19IDwvdGQ+XG4gICAgICA8L3RyPlxuICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICAgIDx0ciAqbmdJZj1cImxlZ2VuZFwiPlxuICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPiBcbiAgICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgQ29tYm9jaGFydENvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgUGxvdENhcnQge1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCdsaW5lLWNvbG9yJykgbGluZUNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG4gIEBJbnB1dCgpIGxhYmVsOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGhvcml6b250YWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgYmFyd2lkdGg6IG51bWJlciA9IDA7XG4gIC8vICAgQElucHV0KCdsaW5lLWRhdGEtaW5kZXgnKSBsaW5lSW5wdXQ6IGFueTtcbiAgQElucHV0KCdsaW5lLWRhdGEtaW5kZXgnKSBsaW5lSW5wdXQ6IGFueVtdID0gW107XG4gIEBJbnB1dCgnYmFyLWRhdGEtaW5kZXgnKSBiYXJJbnB1dDogYW55W10gPSBbXTtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCdzaG93LXplcm8tdmFsdWVzJykgc2hvd3plcm9mbGFnOiBib29sZWFuID0gdHJ1ZTtcblxuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgc2ltcGxlQ29tYm9GbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbXBsZXRlY29udmVydGVkZGF0YTogYW55W10gPSBbXTtcbiAgc2ltcGxlQ29tYm9kYXRhOiBhbnlbXSA9IFtdO1xuICBmaXJzdHJvdzogYW55W107XG4gIHllYXJzOiBhbnk7XG4gIGRhdGE6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIHRvdGFsQ29sdW1uczogbnVtYmVyO1xuICBncm91cGJhcmNoYXJ0QXJyYXk6IGFueVtdID0gW107XG4gIGhpZ2hlcmNvbG9yaW5kZXg6IG51bWJlciA9IDA7XG4gIGxlZ2VuZGNvbG9yaW5kZXg6IGFueTtcbiAgeGF4aXNEYXRhOiBhbnk7XG4gIGNvbG9yZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBvYmplY3Q6IGFueTtcbiAgbGVnZW5kQXJyYXk6IGFueVtdID0gW107XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBvZmZzZXRoZWlnaHQ6IGFueTtcbiAgbGluZVJhbmdlOiBhbnk7XG4gIGxlZ2VuZHM6IGFueVtdID0gW107XG5cbiAgdG90YWxjb2x1bW5zXG4gIHNjMTogYm9vbGVhbjtcbiAgc2MyOiBib29sZWFuO1xuICBzYzJiYXJmbGFnOiBib29sZWFuO1xuICBzYzM6IGJvb2xlYW47XG4gIHNjNDogYm9vbGVhbjtcbiAgTGluZUFycmF5OiBhbnkgPSBbXTtcbiAgb3V0cHV0RGF0YTogYW55ID0gW107XG4gIGxpbmVmbGFnOiBib29sZWFuO1xuICBoaWdoZXJkb3QxY29sb3JpbmRleCA9IDA7XG4gIHd0OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ2NvbWJvY2hhcnQnKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEpIHtcbiAgICAgIGxldCByZXNwOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhKCkge1xuICAgIHRoaXMuZm9ybURhdGFzdHJ1Y3R1cmUoKTtcbiAgICB0aGlzLnRyYW5hc2ZvcnNpbXBsZWpzb24oKTtcbiAgfVxuXG4gIGZvcm1EYXRhc3RydWN0dXJlKCkge1xuXG4gICAgLy8gZm9yIGxpbmVcbiAgICAvL2NhbGwgY3JlYXRlanNvbigpIGZvciBjb21wbGV0ZSBkYXRhIGZvciBsaW5lXG4gICAgdGhpcy5saW5lZmxhZyA9IHRydWU7XG4gICAgdGhpcy5jcmVhdGVqc29uKHRoaXMuZGF0YSk7XG5cbiAgICAvL3ZhbGlkYXRlIHNjZW5hcmlvc1xuICAgIC8vdmFsaWRhdGUgc2NlbmFyaW8xOiBiYXIgKyBsaW5lICsgZGF0YVxuICAgIGlmICgodGhpcy5iYXJJbnB1dC5sZW5ndGggPiAwKSAmJiAodGhpcy5saW5lSW5wdXQubGVuZ3RoID4gMCkgJiZcbiAgICAgICh0aGlzLmRhdGFbMF0ubGVuZ3RoID4gMikpIHtcbiAgICAgIHRoaXMuc2MxID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3JlYXRlRGF0YTEodGhpcy5iYXJJbnB1dCwgdGhpcy5kYXRhKTtcbiAgICB9XG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzI6IGxpbmUgKyBkYXRhXG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzIuMSBsaW5lICsgZGF0YSBjb2x1bW5zIG9ubHkgdHdvIHRoZW4gb25seSBsaW5lIHdpbGwgYmUgcGxvdFxuICAgIGVsc2UgaWYgKCh0aGlzLmxpbmVJbnB1dC5sZW5ndGggPiAwKSAmJlxuICAgICAgLy8jI2dldCBpdCBjaGVja2VkXG4gICAgICAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDEpKSB7XG4gICAgICB0aGlzLnNjMiA9IHRydWU7XG4gICAgICAvL2RlY2lkZSB3aGV0aGVyIG9ubHkgbGluZSB3aWxsIGJlIHBsb3Qgb3IgYmFyIGFsc29cblxuICAgICAgLy9jaGsgaWYgZGF0YVswXSBoYXMgYW55IGV4dHJhIGNvbHVtbiBsZWF2aW5nIGxpbmVpbnB1dCBhcnJheVxuICAgICAgbGV0IGJhcmZsYWc6IGJvb2xlYW47XG4gICAgICAvL2lmIHNvIHNldCBzYzJiYXJmbGFnXG4gICAgICB0aGlzLmRhdGFbMF0uZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgICB0aGlzLmxpbmVJbnB1dC5mb3JFYWNoKGxpbmVuYW1lID0+IHtcbiAgICAgICAgICBpZiAoY29sdW1uICE9PSBsaW5lbmFtZSkge1xuICAgICAgICAgICAgdGhpcy5zYzJiYXJmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHUgY2FuIHBsb3QgYmFyIG5vd1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5jcmVhdGVEYXRhMShudWxsLCB0aGlzLmRhdGEpO1xuXG4gICAgICAvL2NoayBpZiBzYzJiYXJmbGFnIGlzIHNldCBvciByZXNldFxuICAgICAgaWYgKHRoaXMuc2MyYmFyZmxhZyA9PSB0cnVlKSB7XG4gICAgICAgIC8vcGxvdCBiYXIgICsgbGluZVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwbG90IG9ubHkgbGluZVxuICAgICAgfVxuXG4gICAgfS8vZWxzZSBpZiBvZiBzYzIgZW5kc1xuXG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzM6IGJhciArIGRhdGFcbiAgICBlbHNlIGlmICgodGhpcy5iYXJJbnB1dC5sZW5ndGggPiAwKSAmJiAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDEpKSB7XG4gICAgICB0aGlzLnNjMyA9IHRydWU7XG4gICAgICB0aGlzLmNyZWF0ZURhdGExKHRoaXMuYmFySW5wdXQsIHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgLy92YWxpZGF0ZSBzY2VuYXJpbzQ6IGRhdGFcbiAgICBlbHNlIGlmICgodGhpcy5iYXJJbnB1dC5sZW5ndGggPCAxKSAmJiAodGhpcy5saW5lSW5wdXQubGVuZ3RoIDwgMSkgJiYgdGhpcy5kYXRhWzBdLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuc2M0ID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3JlYXRlRGF0YTEobnVsbCwgdGhpcy5kYXRhKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVEYXRhMShpbnBkYXRhOiBhbnlbXSwgZnVsbGRhdGE6IGFueVtdKSB7XG4gICAgbGV0IGxpbmVhcnIgPSBbXTtcbiAgICB0aGlzLmxpbmVJbnB1dC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGluZWFyci5wdXNoKGVsZW1lbnQuY29sdW1uKTtcbiAgICB9KTtcbiAgICB0aGlzLmZpcnN0cm93ID0gdGhpcy5kYXRhWzBdXG5cbiAgICBsZXQgZHVtbXlBcnJheSA9IFtdO1xuICAgIGR1bW15QXJyYXkucHVzaCgwKTtcbiAgICBmdWxsZGF0YS5mb3JFYWNoKChyZWNvcmQ6IGFueVtdLCBpbmRleDogYW55KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgLy8gVEhJUyBMT0dJQyBJUyBVU0VEIEZPUiBGSU5ESU5HIElOREVYUyBBTkQgQUREIElOVE8gZHVtbXlBcnJheSBBUlJBWVxuICAgICAgICByZWNvcmQuZm9yRWFjaCgoaW5uZXJPYmplY3Q6IGFueSwgaW5uZXJJbmRleDogYW55KSA9PiB7XG4gICAgICAgICAgLy92YWxpZGF0ZXMgc2NlbmFyaW8xIGFuZCAzXG4gICAgICAgICAgaWYgKHRoaXMuc2MxID09IHRydWUgfHwgdGhpcy5zYzMgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5iYXJJbnB1dC5mb3JFYWNoKChlbGVtZW50T2ZJbnB1dERhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAvL2FqYVxuICAgICAgICAgICAgICBpZiAoaW5uZXJPYmplY3QgPT09IGVsZW1lbnRPZklucHV0RGF0YS5jb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAvL2R1bW15YXJyYXkgaGFzIGluZGV4IHN0YWNrXG4gICAgICAgICAgICAgICAgZHVtbXlBcnJheS5wdXNoKGlubmVySW5kZXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9Ly9zYzEgYW5kIHNjMyB2YWxpZGF0aW9uIGRvbmVcbiAgICAgICAgICAvL3ZhbGlkYXRlcyBzY2VuYXJpbyAyXG4gICAgICAgICAgaWYgKHRoaXMuc2MyID09IHRydWUpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2MyYmFyZmxhZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgdGhpcy5saW5lSW5wdXQuZm9yRWFjaCgoZWxlbWVudE9mTGluZURhdGE6IGFueSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKChpbm5lck9iamVjdCAhPT0gZWxlbWVudE9mTGluZURhdGEuY29sdW1uKSAmJiAoaW5uZXJJbmRleCAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgIC8vZHVtbXlhcnJheSBoYXMgaW5kZXggc3RhY2tcbiAgICAgICAgICAgICAgICAgIC8vIGR1bW15QXJyYXkuZm9yRWFjaChkdW1teWVsZW1lbnQgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAvLyAgIGlmKGR1bW15ZWxlbWVudCAhPT0gaW5uZXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgLy8gaWYgKCAobGluZWFyci5pbmNsdWRlcyhpbm5lck9iamVjdCkgPT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICBsaW5lYXJyLmluY2x1ZGVzKGlubmVyT2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgIGlmIChsaW5lYXJyLmluY2x1ZGVzKGlubmVyT2JqZWN0KSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHVtbXlBcnJheS5pbmNsdWRlcyhpbm5lckluZGV4KSkge1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgZHVtbXlBcnJheS5wdXNoKGlubmVySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSAgLy8gfVxuICAgICAgICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vdmFsaWRhdGVzIHNjZW5hcmlvIDRcbiAgICAgICAgaWYgKHRoaXMuc2M0ID09IHRydWUpIHtcbiAgICAgICAgICAvLyBjaGsgaWYgYmFyZmxhZyBpcyBzZXRcbiAgICAgICAgICBsZXQgY29sdW1ucyA9IHRoaXMuZGF0YVswXS5sZW5ndGg7XG4gICAgICAgICAgaWYgKGNvbHVtbnMgPiAxKSB7XG4gICAgICAgICAgICBkdW1teUFycmF5LnB1c2goMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZHVtbXlBcnJheS5wdXNoKDApO1xuICAgICAgICBsZXQgZmlyc3RBcnJheSA9IFtdO1xuICAgICAgICAvLyBGT1IgRklSU1QgUkVDT1JEXG4gICAgICAgIGR1bW15QXJyYXkuZm9yRWFjaCgob2JqZWN0OiBhbnksIGR1bW15SW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgIGZpcnN0QXJyYXkucHVzaChyZWNvcmRbb2JqZWN0XSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm91dHB1dERhdGEucHVzaChmaXJzdEFycmF5KTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5ld0RhdGEgPSBbXTtcbiAgICAgICAgcmVjb3JkLmZvckVhY2goKGlubmVyT2JqZWN0OiBhbnksIGlubmVySW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgIGR1bW15QXJyYXkuZm9yRWFjaCgob2JqZWN0OiBhbnksIGR1bW15SW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlubmVySW5kZXggPT09IG9iamVjdCkge1xuICAgICAgICAgICAgICBuZXdEYXRhLnB1c2goaW5uZXJPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhLnB1c2gobmV3RGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNyZWF0ZWpzb24odGhpcy5vdXRwdXREYXRhKTtcbiAgICAvLyB0aGlzLmZvcm1MZWdlbmREYXRhKHRoaXMub3V0cHV0RGF0YSk7XG4gIH1cblxuICBjcmVhdGVqc29uKGFycmF5ZGF0YTogYW55W10pIHtcbiAgICBsZXQgZ3JvdXBDaGFydE9iaiA9IHsgXCJsYWJlbHNcIjogXCJcIiwgdmFsdWVzOiBbXSB9O1xuXG4gICAgdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXkgPSBbXTtcbiAgICBsZXQgZmlyc3RSb3dPZkRhdGEgPSBhcnJheWRhdGFbMF07XG4gICAgdGhpcy54YXhpc0RhdGEgPSB0aGlzLmRhdGFbMF1bMF07XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFycmF5ZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG11bHRpU2VyaWVzQXJyYXkgPSBbXTtcbiAgICAgIGxldCB2YWx1ZU9mSjogYW55O1xuICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCBhcnJheWRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFsdWVPZkogPSBhcnJheWRhdGFbaV1bMF07XG4gICAgICAgIGxldCBzaW5nbGVCYXJPYmogPSB7fTtcbiAgICAgICAgc2luZ2xlQmFyT2JqW1widmFsdWVcIl0gPSBhcnJheWRhdGFbaV1bal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcInhheGlzXCJdID0gYXJyYXlkYXRhW2ldWzBdO1xuICAgICAgICBzaW5nbGVCYXJPYmo7XG4gICAgICAgIG11bHRpU2VyaWVzQXJyYXkucHVzaChzaW5nbGVCYXJPYmopO1xuICAgICAgfVxuICAgICAgaWYgKG11bHRpU2VyaWVzQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIGdyb3VwQ2hhcnRPYmpbXCJ2YWx1ZXNcIl0gPSBtdWx0aVNlcmllc0FycmF5O1xuICAgICAgICBsZXQgbmV3TGFiZWxzVmFsdWVzOiBhbnkgPSB2YWx1ZU9mSjtcbiAgICAgICAgbGV0IG5ld0dyb3VwRGF0YU9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGdyb3VwQ2hhcnRPYmopO1xuICAgICAgICBuZXdHcm91cERhdGFPYmpbJ2xhYmVscyddID0gbmV3TGFiZWxzVmFsdWVzICsgJyc7XG4gICAgICAgIHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5LnB1c2gobmV3R3JvdXBEYXRhT2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMubGluZWZsYWcpIHtcblxuICAgICAgdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXk7XG5cbiAgICAgIHRoaXMuTGluZUFycmF5ID0gdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheSA9IFtdO1xuXG4gICAgICBsZXQgZmlyc3RSb3dPZkRhdGEgPSBhcnJheWRhdGFbMF07XG4gICAgICAvLyB0aGlzLnhheGlzRGF0YSA9IHRoaXMuZGF0YVswXVswXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnJheWRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG11bHRpU2VyaWVzQXJyYXkgPSBbXTtcbiAgICAgICAgbGV0IHZhbHVlT2ZKOiBhbnk7XG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgYXJyYXlkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFsdWVPZkogPSBhcnJheWRhdGFbaV1bMF07XG4gICAgICAgICAgbGV0IHNpbmdsZUJhck9iaiA9IHt9O1xuICAgICAgICAgIHNpbmdsZUJhck9ialtcInZhbHVlXCJdID0gYXJyYXlkYXRhW2ldW2pdO1xuICAgICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgICAgc2luZ2xlQmFyT2JqW1wieGF4aXNcIl0gPSBhcnJheWRhdGFbaV1bMF07XG4gICAgICAgICAgc2luZ2xlQmFyT2JqO1xuICAgICAgICAgIG11bHRpU2VyaWVzQXJyYXkucHVzaChzaW5nbGVCYXJPYmopO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtdWx0aVNlcmllc0FycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGdyb3VwQ2hhcnRPYmpbXCJ2YWx1ZXNcIl0gPSBtdWx0aVNlcmllc0FycmF5O1xuICAgICAgICAgIGxldCBuZXdMYWJlbHNWYWx1ZXM6IGFueSA9IHZhbHVlT2ZKO1xuICAgICAgICAgIGxldCBuZXdHcm91cERhdGFPYmogPSBPYmplY3QuYXNzaWduKHt9LCBncm91cENoYXJ0T2JqKTtcbiAgICAgICAgICBuZXdHcm91cERhdGFPYmpbJ2xhYmVscyddID0gbmV3TGFiZWxzVmFsdWVzICsgJyc7XG4gICAgICAgICAgdGhpcy5ncm91cGJhcmNoYXJ0QXJyYXkucHVzaChuZXdHcm91cERhdGFPYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheTtcbiAgICB9XG5cbiAgfVxuXG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIC8vcGxvdCBtdWx0aXNlcmllcyBjaGFydFxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGxldCBjb2xvcnMgPSB0aGlzLnByZWRlZmluZWRjb2xvcnM7XG4gICAgaWYgKHRoaXMucmVzaXplZmxhZyA9PSBmYWxzZSkge1xuICAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgICBpZiAodGhpcy53dCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuXG4gICAgICB9XG4gICAgICAvL1JFU0laRSBTVEVQIDEgRU5EUyBIRVJFIFxuICAgIH1cbiAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA1MCwgbGVmdDogNDAgfTtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnN2Z2hlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgY29uc3QgeDAgPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgIC5wYWRkaW5nKDAuMik7XG5cbiAgICBjb25zdCB4MSA9IGQzLnNjYWxlQmFuZCgpLnBhZGRpbmcoMC4xKTtcblxuICAgIGNvbnN0IHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cbiAgICAvL3NldHRpbmcgeCBhbmQgeSBkb21haW5zXG4gICAgdGhpcy55ZWFycyA9IHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5Lm1hcCgoZCkgPT4geyByZXR1cm4gZC5sYWJlbHM7IH0pO1xuICAgIGxldCBsYWJlbCA9IHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5WzBdLnZhbHVlcy5tYXAoKGQpID0+IHsgcmV0dXJuIGQubGFiZWw7IH0pO1xuXG4gICAgeDAuZG9tYWluKHRoaXMueWVhcnMpO1xuICAgIHgxLmRvbWFpbihsYWJlbCkucmFuZ2VSb3VuZChbMCwgeDAuYmFuZHdpZHRoKCldKTtcbiAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5LCAobGFiZWxzKSA9PiB7IHJldHVybiBkMy5tYXgobGFiZWxzLnZhbHVlcywgKGQpID0+IHsgcmV0dXJuIGQudmFsdWU7IH0pOyB9KV0pO1xuXG4gICAgLy9keW5hbWljIGJhcndpZHRoXG4gICAgaWYgKHRoaXMuYmFyd2lkdGggPiAwKSB7XG4gICAgICB0aGlzLmJhcndpZHRoID0gdGhpcy5iYXJ3aWR0aDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmJhcndpZHRoID0geDAuYmFuZHdpZHRoO1xuICAgIH1cblxuICAgIC8vIGFkZCB4IGF4aXMgdG8gc3ZnXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKS5cbiAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4MCkpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICB9XG5cbiAgICAvL2FkZCB5IGF4aXMgdG8gc3ZnXG4gICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgLnRpY2tzKHRoaXMudGlja3Njb3VudCkpXG5cbiAgICB0aGlzLnBsb3RMaW5lRm9yTXVsdGlTZXJpZXModGhpcy5zdmcsIHksIGhlaWdodCwgd2lkdGgpO1xuICAgIC8vYWRkaW5nIGJhcnNcbiAgICBsZXQgc2xpY2UgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuc2xpY2VcIilcbiAgICAgIC5kYXRhKHRoaXMuZ3JvdXBiYXJjaGFydEFycmF5KVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7IHJldHVybiBcInRyYW5zbGF0ZShcIiArIHgwKGQubGFiZWxzKSArIFwiLDApXCI7IH0pO1xuXG5cbiAgICBzbGljZS5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4geyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHgxLmJhbmR3aWR0aClcbiAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4geDEoZC5sYWJlbClcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoXCJmaWxsXCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICB0aGlzLmhpZ2hlcmRvdDFjb2xvcmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMubGVnZW5kY29sb3JpbmRleCA9IGluZGV4O1xuICAgICAgICByZXR1cm4gY29sb3JzW2luZGV4XVxuICAgICAgfSlcbiAgICAgIC5hdHRyKFwieVwiLCAoZCwgaW5kKSA9PiB7IHJldHVybiB5KGQudmFsdWUpOyB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQsIGluZCkgPT4ge1xuICAgICAgICByZXR1cm4gaGVpZ2h0IC0geShkLnZhbHVlKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgIHRoaXMuc2V0S2V5KGQpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuZ3JvdXBiYXJDbGljayhkKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9iYXIgbGFiZWxcbiAgICAvLyBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICBzbGljZS5zZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4geyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcIm9wYWNpdHlcIixcbiAgICAgICAgKGQpID0+IHtcbiAgICAgICAgICBsZXQgdmlzaWJpbGl0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKHRoaXMuYmFySW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5iYXJJbnB1dC5mb3JFYWNoKChiYXJuYW1lOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgaWYgKChiYXJuYW1lLmNvbHVtbiA9PSBkLmxhYmVsKSAmJiAoYmFybmFtZS5sYWJlbCA9PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh2aXNpYmlsaXR5KSB7XG4gICAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0vLyBvdXRlciBpZiBcbiAgICAgICAgICAvLyB2YWxpZGF0aW9uIG9mIHNjZW5hcmlvNFxuICAgICAgICAgIGVsc2UgaWYgKCh0aGlzLnNjNCA9PSB0cnVlKSAmJiAodGhpcy5sYWJlbCA9PSB0cnVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB4MS5iYW5kd2lkdGgpXG4gICAgICAuYXR0cihcInhcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHgxKGQubGFiZWwpICsgeDEuYmFuZHdpZHRoKCkgLyAyXG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7IHJldHVybiB5KGQudmFsdWUpOyB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHsgcmV0dXJuIGhlaWdodCAtIHkoMCk7IH0pXG4gICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjF2d1wiKVxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgfVxuICAgICAgfSkvL2JhciBsYWJlbFxuICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgaWYodGhpcy5zaG93emVyb2ZsYWcpIHtcbiAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKCF0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgIGlmKGQudmFsdWUgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIGQudmFsdWU7XG4gICAgICB9KVxuICAgICAgLy9iYXIgbGFiZWwgY2xpY2sgbG9naWNcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgdGhpcy5zZXRLZXkoZClcbiAgICAgICAgKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSkub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5ncm91cGJhckNsaWNrKGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAvLyB9XG4gICAgc2xpY2Uuc2VsZWN0QWxsKFwicmVjdFwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB5KGQudmFsdWUpO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBoZWlnaHQgLSB5KGQudmFsdWUpOyB9KTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vc2lnbGUgLyBtdWx0aSBsaW5lIGNvZGUgc3RhcnRzIGhlcmVcbiAgICAvL2NvZGUgaGVyZSBmciBtdWx0aSBsaW5lXG4gICAgbGV0IGk7XG4gICAgLy8gbGV0IGxpbmVOYW1lO1xuICAgIGxldCBzbGljZTEgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuc2xpY2VcIilcbiAgICAgIC5kYXRhKHRoaXMudHJhbnNmb3JtZWRkYXRhKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImdcIilcbiAgICB0aGlzLmhpZ2hlcmRvdDFjb2xvcmluZGV4KytcbiAgICB0aGlzLmxpbmVJbnB1dC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuY29sb3IpIHtcblxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnRbXCJjb2xvclwiXSA9IGNvbG9yc1t0aGlzLmhpZ2hlcmRvdDFjb2xvcmluZGV4XTtcbiAgICAgICAgdGhpcy5oaWdoZXJkb3QxY29sb3JpbmRleCsrO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy9saW5lIHZhbGlkYXRpb24gZm9yIHNjZW5hcmlvIDEgYW5kIDJcbiAgICBpZiAodGhpcy5saW5lSW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGluZUlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjb2xvcmluY3JlbWVudGVyID0gMTtcbiAgICAgICAgbGV0IGxpbmVOYW1lID0gdGhpcy5saW5lSW5wdXRbaV07XG4gICAgICAgIGxldCB2YWx1ZWxpbmUgPSBkMy5saW5lKClcbiAgICAgICAgICAueCgoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgwKGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC55KChkKSA9PiB7IHJldHVybiB5KGRbbGluZU5hbWUuY29sdW1uXSk7IH0pO1xuXG4gICAgICAgIGxldCBzaGlmdCA9IG1hcmdpbi5sZWZ0ICsgeDEuYmFuZHdpZHRoKCkgLyAyO1xuXG4gICAgICAgIHNsaWNlMS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgLmRhdGEoW3RoaXMudHJhbnNmb3JtZWRkYXRhXSlcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJub25lXCIpXG4gICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsXG4gICAgICAgICAgICAoZCkgPT4ge1xuICAgICAgICAgICAgICBpZiAobGluZU5hbWUuY29sb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluZU5hbWUuY29sb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMS41KVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKCBcIiArIHgxLmJhbmR3aWR0aCgpIC8gMiArIFwiLCAwIClcIilcbiAgICAgICAgICAuYXR0cihcImRcIiwgdmFsdWVsaW5lKTtcbiAgICAgICAgLy8gcG9pbnRzMVxuICAgICAgICBsZXQgZG90c2xpY2UgPSBzbGljZTEuc2VsZWN0QWxsKFwiZG90XCIpXG4gICAgICAgICAgLmRhdGEodGhpcy50cmFuc2Zvcm1lZGRhdGEpXG4gICAgICAgICAgLmVudGVyKClcblxuICAgICAgICAgIC5hcHBlbmQoXCJjaXJjbGVcIilcbiAgICAgICAgICAvLyAubWVyZ2UocG9pbnRzMSlcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwicG9pbnQxXCIpXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLFxuICAgICAgICAgICAgKGQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGxpbmVOYW1lLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmVOYW1lLmNvbG9yXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geDAoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJjeVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHkoZFtsaW5lTmFtZS5jb2x1bW5dKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwiclwiLCAoZCkgPT4geyByZXR1cm4gNTsgfSlcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgKyB4MS5iYW5kd2lkdGgoKSAvIDIgKyBcIiwgMCApXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwTGluZURhdGEoZCwgbGluZU5hbWUsIGZhbHNlKSlcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tYm9MaW5lQ2xpY2soZCwgbGluZU5hbWUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gXG4gICAgICB9Ly8gbGluZSBjb2RlIGVuZHNcblxuICAgIH0vL2xpbmVpbnB1dCBpZiBjb25kaXRpb24gZW5kcyBoZXJlXG4gICAgLy9zY2VuYXJpbyA0IHZhbGlkYXRpb24gZm9yIGxpbmUgYXNzdW1wdGlvblxuICAgIGVsc2UgaWYgKCh0aGlzLnNjNCA9PSB0cnVlKSAmJiAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDIpKSB7XG5cbiAgICAgIC8vICBsaW5lTmFtZSA9IHRoaXMubGluZUlucHV0W2ldO1xuICAgICAgbGV0IHZhbHVlbGluZSA9IGQzLmxpbmUoKVxuICAgICAgICAvLyB2YWx1ZWxpbmUuZGF0YSh0aGlzLmNvbXBsZXRlY29udmVydGVkZGF0YSlcbiAgICAgICAgLngoKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4geDAoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICAgIC8vICByZXR1cm4geDEoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICB9KVxuICAgICAgICAueSgoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVsyXV1cbiAgICAgICAgICAgIC8vIGRbbGluZU5hbWVdXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGxldCBzaGlmdCA9IG1hcmdpbi5sZWZ0ICsgeDEuYmFuZHdpZHRoKCkgLyAyO1xuICAgICAgc2xpY2UxLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgLmRhdGEoW3RoaXMudHJhbnNmb3JtZWRkYXRhXSlcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxuICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5saW5lQ29sb3IgIT09IFwiYmxhY2tcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbMl07XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAxLjUpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKCBcIiArIHgxLmJhbmR3aWR0aCgpIC8gMiArIFwiLCAwIClcIilcbiAgICAgICAgLmF0dHIoXCJkXCIsIHZhbHVlbGluZSk7XG5cbiAgICAgIC8vIHBvaW50czFcbiAgICAgIHNsaWNlMS5zZWxlY3RBbGwoXCJkb3RcIilcbiAgICAgICAgLmRhdGEodGhpcy50cmFuc2Zvcm1lZGRhdGEpLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC8vIC5tZXJnZShwb2ludHMxKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwicG9pbnQxXCIpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5saW5lQ29sb3IgIT09IFwiYmxhY2tcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbMl07XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGluZUNvbG9yICE9PSBcImJsYWNrXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JzWzJdXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHgwKGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjeVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVsyXV1cbiAgICAgICAgICAgIC8vIGRbbGluZU5hbWVdXG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJyXCIsIChkKSA9PiB7IHJldHVybiA1OyB9KVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgKyB4MS5iYW5kd2lkdGgoKSAvIDIgKyBcIiwgMCApXCIpXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwTGluZURhdGEoZCwgbnVsbCwgdHJ1ZSkpXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLm9uQ29tYm9MaW5lQ2xpY2soZCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vbGluZSBsYWJlbCB2YWxpZGF0aW9uIGZvciBzY2VuYXJpbyAxIGFuZCAyXG4gICAgaWYgKHRoaXMubGluZUlucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgIC8vaXRlcmF0aW9uIG9uIGxpbmVpbnB1dFxuICAgICAgbGV0IGxhYmVscG9zdG9nZ2xlID0gZmFsc2U7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5saW5lSW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGxpbmVOYW1lMSA9IHRoaXMubGluZUlucHV0W2ldO1xuICAgICAgICBpZiAobGluZU5hbWUxLmxhYmVsKSB7XG4gICAgICAgICAgaWYgKGxpbmVOYW1lMS5sYWJlbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICBzbGljZTEuc2VsZWN0QWxsKFwibGFiZWxzXCIpXG4gICAgICAgICAgICAgIC5kYXRhKHRoaXMudHJhbnNmb3JtZWRkYXRhKVxuICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsaW5lTmFtZTEubGFiZWxjb2xvcikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmVOYW1lMS5sYWJlbGNvbG9yO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHgwKGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZFtsaW5lTmFtZTEuY29sdW1uXSlcblxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGV4dCgoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW2xpbmVOYW1lMS5jb2x1bW5dO1xuICAgICAgICAgICAgICAgIC8vIGRbbGluZU5hbWVdO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgK1xuICAgICAgICAgICAgICAgIC8vIG1hcmdpbi5sZWZ0XG4gICAgICAgICAgICAgICAgeDEuYmFuZHdpZHRoKCkgLyAyXG4gICAgICAgICAgICAgICAgLy8gc2hpZnRcbiAgICAgICAgICAgICAgICArIFwiLCAxOSApXCIpXG4gICAgICAgICAgICAgIC8vbGluZSBsYWJlbCBjbGljayBsb2dpYyBzdGFydHMgaGVyZVxuICAgICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBMaW5lRGF0YShkLCBsaW5lTmFtZTEsIGZhbHNlKSlcbiAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21ib0xpbmVDbGljayhkLCBsaW5lTmFtZTEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH1cblxuICAgIC8vbGluZSBsYWJlbCB2YWxpZGF0aW9uIGZvciBzY2VuYXJpbyA0XG4gICAgZWxzZSBpZiAoKHRoaXMuc2M0ID09IHRydWUpICYmICh0aGlzLmRhdGFbMF0ubGVuZ3RoID4gMikgJiYgKHRoaXMubGFiZWwgPT0gdHJ1ZSkpIHtcbiAgICAgIC8vdHJpYWwgbGluZSBsYWJlbCBmb3IgNHRoIHNjZW5hcmlvXG4gICAgICBzbGljZTEuc2VsZWN0QWxsKFwibGFiZWxzXCIpXG4gICAgICAgIC5kYXRhKHRoaXMudHJhbnNmb3JtZWRkYXRhKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4MChkW09iamVjdC5rZXlzKGQpWzBdXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuXG4gICAgICAgICAgcmV0dXJuIHkoXG4gICAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzJdXVxuICAgICAgICAgICAgLy8gZFtsaW5lTmFtZV1cbiAgICAgICAgICApXG4gICAgICAgICAgLy8gICsgNTA7XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMl1dO1xuICAgICAgICAgIC8vIGRbbGluZU5hbWVdO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSggXCIgK1xuICAgICAgICAgIC8vIG1hcmdpbi5sZWZ0XG4gICAgICAgICAgeDEuYmFuZHdpZHRoKCkgLyAyXG4gICAgICAgICAgLy8gc2hpZnRcbiAgICAgICAgICArIFwiLCAxOSApXCIpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAvLyBsaW5lIGxhYmVsIGNsaWNrIGxvZ2ljXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwTGluZURhdGEoZCwgbnVsbCwgdHJ1ZSkpXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLm9uQ29tYm9MaW5lQ2xpY2soZCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgdGhpcy5mb3JtTGVnZW5kRGF0YSh0aGlzLm91dHB1dERhdGEpXG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKS50aWNrcyh0aGlzLnRpY2tzY291bnQpKTtcbiAgICB9XG4gIH1cblxuICBzZXRLZXkoZDogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFtkLmxhYmVsXSA9IGQudmFsdWU7XG4gICAgb2JqZWN0W3RoaXMueGF4aXNEYXRhXSA9IGQueGF4aXM7XG4gICAgcmV0dXJuICh0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KSk7XG4gIH1cblxuICBmaW5NYXhMaW5lVmFsdWUoKSB7XG4gICAgbGV0IGxpbmVWYWx1ZXMgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnQpKSB7XG4gICAgICAgIHRoaXMubGluZUlucHV0LmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgICBpZiAobGluZSA9PSBrZXkpIHtcbiAgICAgICAgICAgIGxpbmVWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBtYXggPSAwLCBqO1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGxpbmVWYWx1ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChsaW5lVmFsdWVzW2pdID4gbWF4KSB7XG4gICAgICAgIG1heCA9IGxpbmVWYWx1ZXNbal07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubGluZVJhbmdlID0gbWF4O1xuICB9XG5cbiAgZ3JvdXBiYXJDbGljayhkOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgb2JqZWN0W2QubGFiZWxdID0gZC52YWx1ZTtcbiAgICBvYmplY3RbdGhpcy54YXhpc0RhdGFdID0gZC54YXhpcztcbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gIHBsb3RMaW5lRm9yTXVsdGlTZXJpZXMoZywgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gIH1cblxuICB0cmFuYXNmb3JzaW1wbGVqc29uKCkge1xuICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IHRoaXMuZGF0YVswXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IER1bW15T2JqZWN0ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgIER1bW15T2JqZWN0W3RoaXMua2V5QXJyYXlba2V5aW5kZXhdXSA9IGluZGl2aWR1YWx2YWx1ZTtcbiAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgfS8vaWYgZW5kc1xuICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuICB9XG5cbiAgZm9ybVRvb2x0aXBMaW5lRGF0YShkYXRhOiBhbnksIGxpbmU6IGFueSwgZmxhZzogYm9vbGVhbikge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgIC8vZmxhZyBpcyBjb25zaWRlcmVkIHRydWUgZm9yIGZvcnRoIHNjZW5hcmlvXG4gICAgICBpZiAoZmxhZyA9PSB0cnVlKSB7XG4gICAgICAgIGlmIChrZXkgPT0gdGhpcy5kYXRhWzBdWzJdKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfS8vIGlmIGZvZSB0cnVlIGZsYWcgZW5kcyBoZXJlXG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGtleSA9PSBsaW5lLmNvbHVtbikge1xuICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0vL2Vsc2UgZm9yIGZhbHNlIGZsYWcgZW5kcyBoZXJlXG5cbiAgICB9XG5cblxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIG9uQ29tYm9MaW5lQ2xpY2soZGF0YTogYW55LCBsaW5lOiBhbnksIGZsYWc6IGJvb2xlYW4pIHtcbiAgICAvLyBmbGFnIGlzIGNvbnNpZGVyZWQgdHJ1ZSBmb3IgNHRoIHNjZW5hcmlvXG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgIGlmIChpID09IDAgfHwgaSA9PSAxKSB7XG4gICAgICAgIGlmIChrZXkgIT0gXCJjb2xvclwiKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmxhZyA9PSB0cnVlKSB7XG4gICAgICAgIGlmIChrZXkgPT0gdGhpcy5kYXRhWzBdWzJdKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGtleSA9PSBsaW5lLmNvbHVtbikge1xuICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaSsrO1xuICAgIH1cbiAgICAvL3RoaXMgY2FsbHMgYmFzZSBjbGFzcyBmdW5jdGlvblxuICAgIHRoaXMuY29tYm9MaW5lQ2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMua2V5QXJyYXkgPSBbXTtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kQXJyYXlbaW5uZXJlbGVtZW50XSA9IHsgJ2RhdGEnOiBbXSB9O1xuICAgICAgICAgICAgdGhpcy5rZXlBcnJheS5wdXNoKGlubmVyZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBvYmo6IGFueSA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5uZXJpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbm5lcmluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXMua2V5QXJyYXlbaW5uZXJpbmRleCAtIDFdO1xuICAgICAgICAgICAgb2JqW2tleV0gPSBlbGVtZW50W2lubmVyaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgbGVnZW5kZGF0YSA9IHRoaXMubGVnZW5kQXJyYXlba2V5XTtcbiAgICAgICAgICAgIGlmIChsZWdlbmRkYXRhKSB7XG4gICAgICAgICAgICAgIGxlZ2VuZGRhdGEuZGF0YS5wdXNoKHsgJ2xhYmVsJzogZWxlbWVudFswXSwgJ3ZhbHVlJzogZWxlbWVudFtpbm5lcmluZGV4XSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5LmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtlbGVtZW50XTtcbiAgICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnQsICdjb2xvcic6IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF0sICdkYXRhJzogbGVnZW5kZGF0YS5kYXRhIH07XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLy90aGlzIGxvZ2ljIHdpbGwgd3JrIGZyIHNjMSBhbmQgc2MyXG4gICAgaWYgKHRoaXMubGluZUlucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBpbmMgPSAxO1xuICAgICAgdGhpcy5saW5lSW5wdXQuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgb2JqZWN0W1wibGFiZWxcIl0gPSBlbGVtZW50LmNvbHVtbjtcbiAgICAgICAgaWYgKGVsZW1lbnQuY29sb3IpIHtcbiAgICAgICAgICBvYmplY3RbXCJjb2xvclwiXSA9IGVsZW1lbnQuY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbdGhpcy5sZWdlbmRjb2xvcmluZGV4ICsgaW5jXTtcbiAgICAgICAgICBpbmMrKztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3RbXCJkYXRhXCJdID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubGVnZW5kc1xuICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgICBsZXQgdGVtcGRhdGFhcnJheSA9IFtdO1xuXG4gICAgICB0aGlzLmxlZ2VuZHMuZm9yRWFjaChsZWdlbmRlbGVtZW50ID0+IHtcbiAgICAgICAgdGhpcy5saW5lSW5wdXQuZm9yRWFjaChsaW5lZWxlbWVudCA9PiB7XG4gICAgICAgICAgaWYgKGxpbmVlbGVtZW50LmNvbHVtbiA9PSBsZWdlbmRlbGVtZW50LmxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5mb3JFYWNoKHNpbmdsZXJvdyA9PiB7XG4gICAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgICAgLy8gZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAgICAgb2JqW1wibGFiZWxcIl0gPSBzaW5nbGVyb3dbT2JqZWN0LmtleXMoc2luZ2xlcm93KVswXV07XG4gICAgICAgICAgICAgIG9ialtcInZhbHVlXCJdID0gc2luZ2xlcm93W2xlZ2VuZGVsZW1lbnQubGFiZWxdO1xuICAgICAgICAgICAgICBsZWdlbmRlbGVtZW50LmRhdGEucHVzaChvYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vdGhpcyBsb2dpYyB3b3JrcyBmb3Igc2M0XG4gICAgLy8gY2hrIGlmIGxpbmUgY29sdW1uIGV4aXN0IGluIGRhdGExXG4gICAgaWYgKCh0aGlzLnNjNCA9PSB0cnVlKSAmJiAodGhpcy5kYXRhWzBdLmxlbmd0aCA+IDIpKSB7XG5cbiAgICAgIGxldCBvYmplY3QgPSBbXTtcbiAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gdGhpcy5kYXRhWzBdWzJdO1xuICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbMl07XG4gICAgICBvYmplY3RbXCJkYXRhXCJdID0gW107XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgICAgbGV0IHRlbXBhcnJheSA9IFtdO1xuICAgICAgLy9sb2dpYyB0byBwdXNoIGRhdGFcbiAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgbGV0IG9iamVjdCA9IFtdO1xuICAgICAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gZWxlbWVudFswXTtcbiAgICAgICAgICBvYmplY3RbXCJ2YWx1ZVwiXSA9IGVsZW1lbnRbMl07XG4gICAgICAgICAgdGhpcy5sZWdlbmRzWzFdLmRhdGEucHVzaChvYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBsZWdlbmRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IG9iaiA9IHt9O1xuICAgIG9ialtcImxhYmVsXCJdID0gZXZlbnQubGFiZWw7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICBldmVudC5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICBvYmplY3RbZWxlbWVudC5sYWJlbF0gPSBlbGVtZW50LnZhbHVlO1xuICAgICAgZGF0YS5wdXNoKG9iamVjdCk7XG4gICAgfSk7XG4gICAgb2JqW1wiZGF0YVwiXSA9IGRhdGE7XG4gICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQob2JqKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBPbkluaXQsIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LWhpc3RvZ3JhbScsXG4gIHRlbXBsYXRlOiBgPGRpdiAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlICpuZ0lmPVwiZGF0YWhpc3RvLmxlbmd0aCA+IDBcIiBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxuICAgICAgICA8dHIgKm5nSWY9XCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0ciAqbmdJZj1cImxlZ2VuZFwiPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJsZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhaGlzdG8ubGVuZ3RoIDwgMVwiIGNsYXNzPVwibG1hc2tcIiBzdHlsZT1cInBhZGRpbmctdG9wOjUwJVwiPlxuICAgICAgICA8L2Rpdj5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2AuYmFye2JhY2tncm91bmQtY29sb3I6IzM5NDNjZjtwYWRkaW5nOi4wMnB4fWBdXG59KVxuZXhwb3J0IGNsYXNzIEhpc3RvZ3JhbUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSA0MDA7XG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcjogc3RyaW5nID0gXCJibHVlXCI7XG4gIEBJbnB1dCgnZGF0YScpIGRhdGFoaXN0bzogYW55ID0gW107XG4gIEBJbnB1dCgneWF4aXMtaW50ZXJ2YWwnKSB0aWNrc2NvdW50OiBudW1iZXI7XG4gXG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICB3dDogbnVtYmVyO1xuICBodHRwcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIGRhdGExOiBhbnk7XG4gIHZhbHVlczogYW55W10gPSBbXTtcbiAgYXJyYXk6IGFueVtdID0gW107XG4gIHhheGlzQXJyYXk6IGFueVtdID0gW107XG4gIHlheGlzQXJyYXk6IGFueVtdID0gW107XG4gIHlheGlzRGF0YTogYW55W10gPSBbXTtcbiAgaGlzdG9ncmFtYXJyYXk6IGFueVtdID0gW107XG4gIGhpc3RvZ3JhbWRhdGE6IGFueVtdID0gW11cbiAgbGVuZ3RoYXJyYXk6IGFueVtdID0gW107XG4gIGFycmF5b2ZMZW5ndGg6IGFueVtdID0gW107XG4gIGNoYXJ0RGF0YTogYW55W10gPSBbXTtcbiAgZmluYWxkYXRhYXJyYXk6IGFueVtdID0gW107XG4gIGxlZ2VuZEFycmF5OiBhbnlbXTtcbiAga2V5QXJyYXk6IGFueVtdO1xuICBwcmVkZWZpbmVkY29sb3JzOiBhbnlbXTtcbiAgbGVnZW5kczogYW55W107XG4gIGNoYXJ0dHlwZTogc3RyaW5nO1xuICBkYXRhOiBhbnlbXTtcbiAgZGF0YXJlYWRlcmRhdGE6IGFueVtdO1xuICB4YXhpczogYW55O1xuICB0ZW1wcDogYW55O1xuICB0b29sdGlwQXJyYXk6IGFueVtdID0gW107XG4gIGluZGV4ID0gMDtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignaGlzdG9ncmFtJyk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICBsZXQgcmVzOiBhbnlcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXMgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhaGlzdG8gPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZGF0YWhpc3RvID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSgpXG4gICAgICAgICAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgICAgICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcERhdGEoKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YWhpc3RvKSB7XG5cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGFoaXN0byA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YWhpc3RvKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEoKVxuICAgICAgICAgIHRoaXMucGxvdFhheGlzKCk7XG4gICAgICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgICAgICB0aGlzLnRvb2x0aXBEYXRhKCk7XG4gICAgICAgICAgdGhpcy5kYXRhZm9yQ2hhcnQoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgICAgIHRoaXMucGxvdENoYXJ0KCk7XG5cbiAgICAgICAgfSwgMCk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuXG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRhdGFoaXN0byA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuaHR0cHJlc3BvbnNlKTtcbiAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSgpXG4gICAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgIHRoaXMudG9vbHRpcERhdGEoKTtcbiAgICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhMShkYXRhMTogYW55KSB7XG4gICAgdGhpcy5rZXlBcnJheSA9IFtdO1xuICAgIHRoaXMubGVnZW5kQXJyYXkgPSBbXTtcbiAgICBkYXRhMS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kQXJyYXlbaW5uZXJlbGVtZW50XSA9IHsgJ2RhdGEnOiBbXSB9O1xuICAgICAgICAgICAgdGhpcy5rZXlBcnJheS5wdXNoKGlubmVyZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID09IDApIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXMgPSBpbm5lcmVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgdGVtcGlubmVyYXJyYXk6IGFueVtdO1xuICAgIHRlbXBpbm5lcmFycmF5ID0gW107XG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IG9iajogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbm5lcmluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGlubmVyaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlBcnJheVtpbm5lcmluZGV4IC0gMV07XG4gICAgICAgICAgICBvYmpba2V5XSA9IGVsZW1lbnRbaW5uZXJpbmRleF07XG4gICAgICAgICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtrZXldO1xuICAgICAgICAgICAgaWYgKGxlZ2VuZGRhdGEpIHtcbiAgICAgICAgICAgICAgbGVnZW5kZGF0YS5kYXRhLnB1c2goeyAndmFsdWUnOiBlbGVtZW50W2lubmVyaW5kZXhdLCAnbGFiZWwnOiBlbGVtZW50WzBdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBpbm5lcmFycmF5LnB1c2gob2JqKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHRlbXBpbm5lcmFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmRhdGEucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICBsZXQgZWxlbWVudCA9IHRoaXMuZGF0YWhpc3RvWzBdO1xuICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnRbMV0gKyBcIiBcIiArIFwib2ZcIiArIFwiIFwiICsgZWxlbWVudFswXSwgJ2NvbG9yJzogdGhpcy5jb2xvciB9O1xuICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gIH1cblxuICBwbG90Q2hhcnQoKSB7XG5cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBsZXQgZGF0YTtcbiAgICBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBrZXlzZXRhcnJheTogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgc2VyaWVzO1xuICAgIHNlcmllcyA9IFtdO1xuICAgIHNlcmllcyA9IGQzLnN0YWNrKCkua2V5cyh0aGlzLmtleUFycmF5KVxuICAgICAgLm9mZnNldChkMy5zdGFja09mZnNldERpdmVyZ2luZylcbiAgICAgICh0aGlzLmRhdGEpO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgdGVtcGRhdGE7XG4gICAgdGVtcGRhdGEgPSBbXTtcbiAgICB0ZW1wZGF0YSA9IHNlcmllcztcbiAgICB0ZW1wZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgZWxlbWVudC5mb3JFYWNoKGlubmVyZWxlbWVudCA9PiB7XG4gICAgICAgIGxldCBzaW5nbGV0b29sdGlwID0gW107XG4gICAgICAgIHNpbmdsZXRvb2x0aXAucHVzaChpbm5lcmVsZW1lbnQuZGF0YS50b29sdGlwZGF0YVtpXSk7XG4gICAgICAgIGlubmVyZWxlbWVudC5wdXNoKHNpbmdsZXRvb2x0aXApO1xuICAgICAgfSk7XG4gICAgICBpKys7XG4gICAgfSk7XG5cbiAgICBsZXQgY2hhcnRkYXRhID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IHRlbXBkYXRhLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY2hhcnRkYXRhLnB1c2godGVtcGRhdGFbaV0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkVcbiAgICB9XG4gICAgY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNTAsIGxlZnQ6IDYwIH07XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLnN2Z3dpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zdmdoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgIC8vY29uc3QgaGVpZ2h0ID0gK3N2Zy5hdHRyKFwiaGVpZ2h0XCIpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBsZXQgeCwgeTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgIC5hdHRyKCd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmd3aWR0aCArICcgJyArIHRoaXMuc3ZnaGVpZ2h0KVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXG4gICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgIGxldCBiYXJXaWR0aCA9ICh3aWR0aCAvIHRoaXMuY2hhcnREYXRhLmxlbmd0aCk7XG4gICAgbGV0IGluYyA9IGJhcldpZHRoIC8gMjtcbiAgICB4ID0gZDMuc2NhbGVQb2ludCgpXG4gICAgICAuZG9tYWluKHRoaXMueGF4aXNBcnJheSwgKGQpID0+IHsgcmV0dXJuIGQ7IH0pXG4gICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcblxuXG4gICAgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmFycmF5b2ZMZW5ndGgpXSk7XG5cbiAgICBsZXQgeiA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTEwKTtcbiAgICB0aGlzLmFycmF5b2ZMZW5ndGggPSBbXTtcbiAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpLlxuICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkuXG4gICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG5cbiAgICB9XG5cbiAgICBsZXQgaG9yaXpvbnRhbHBhZGRpbmcgPSAwLjA1O1xuICAgIC8vYWRkIHkgYXhpcyB0byBzdmdcbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrcyh0aGlzLnRpY2tzY291bnQpKTtcblxuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHgsIHksIGhlaWdodCwgd2lkdGgpO1xuXG4gICAgbGV0IGhpc3RvZ3JhbUJhciA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAuZGF0YShjaGFydGRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgdGhpcy5jb2xvcilcbiAgICAgIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0pXG5cbiAgICBsZXQgaGlzdG9ncmFtQmFyMSA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAuZGF0YShjaGFydGRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAvLyAuYXR0cihcImZpbGxcIiwgdGhpcy5jb2xvcilcbiAgICAgIC5zZWxlY3RBbGwoXCJsYWJlbHNcIilcbiAgICAgIC5kYXRhKChkKSA9PiB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSlcbiAgICBsZXQgY250ID0gMDtcblxuXG4gICAgaGlzdG9ncmFtQmFyLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBiYXJXaWR0aCAtIDEpXG4gICAgICAuYXR0cihcInlcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNudCsrO1xuICAgICAgICByZXR1cm4geShkWzFdKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoeShkWzBdKSAtIHkoZFsxXSAtIGhvcml6b250YWxwYWRkaW5nKSk7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgKGQsIGkpID0+IHtcbiAgICAgICAgbGV0IHRyYW5zbGF0ZSA9IFtiYXJXaWR0aCAqIGksIDBdO1xuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0cmFuc2xhdGUgKyBcIilcIjtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pLm9uKFwibW91c2Vtb3ZlXCIsXG4gICAgICAgIChkOiBhbnkpID0+IHtcbiAgICAgICAgICBsZXQgZGF0YSA9IGRbMl07XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbCh0aGlzLnNldEtleShkYXRhWzBdKSlcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG5cbiAgICAgICAgfSkub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIGxldCBjbGlja2RhdGEgPSBkWzJdO1xuICAgICAgICB0aGlzLmhpc3RvZ3JhbUNsaWNrKGNsaWNrZGF0YVswXSk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KTtcbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIGhpc3RvZ3JhbUJhcjEuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yICYmIHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHkoZFsxXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50ZXh0KChkKSA9PiB7XG5cbiAgICAgICAgICBsZXQgZGF0YTogYW55O1xuICAgICAgICAgIGxldCBkYXRhMjogYW55O1xuICAgICAgICAgIGRhdGEgPSBkWzJdO1xuICAgICAgICAgIGRhdGEyID0gZGF0YVswXTtcbiAgICAgICAgICBpZiAoZGF0YTIpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhMi52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgbGV0IHRyYW5zbGF0ZSA9IFsoKGJhcldpZHRoICogaSkgKyBiYXJXaWR0aCAvIDIpLCAoTWF0aC5hYnMoeShkWzBdKSAtIHkoZFsxXSAtIGhvcml6b250YWxwYWRkaW5nKSkpXTtcbiAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0cmFuc2xhdGUgKyBcIilcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLy9sYWJlbCBjbGljayBsb2dpY1xuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KS5vbihcIm1vdXNlbW92ZVwiLFxuICAgICAgICAgIChkOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gZFsyXTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwodGhpcy5zZXRLZXkoZGF0YVswXSkpXG4gICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcblxuICAgICAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIGxldCBjbGlja2RhdGEgPSBkWzJdO1xuICAgICAgICAgIHRoaXMuaGlzdG9ncmFtQ2xpY2soY2xpY2tkYXRhWzBdKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuXG4gICAgfVxuICB9XG5cbiAgaGlzdG9ncmFtQ2xpY2sob2JqOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFoaXN0b1swXTtcbiAgICBsZXQgbGFiZWwxID0gZGF0YVsxXTtcbiAgICBsZXQgbGFiZWwyID0gZGF0YVswXTtcbiAgICBpZiAob2JqLmxhYmVsLmxlbmd0aCkge1xuICAgICAgb2JqZWN0W2xhYmVsMiArIFwiOlwiXSA9IG9iai5sYWJlbDtcbiAgICAgIG9iamVjdFtsYWJlbDEgKyBcIjpcIl0gPSBvYmoudmFsdWU7XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgbGVnZW5kQ2xpY2soZXZlbnQ6IGFueSkge1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KHRoaXMuZGF0YWhpc3RvKTtcbiAgfVxuXG4gIHRyYW5zZm9ybURhdGEoKSB7XG4gICAgdGhpcy5hcnJheSA9IFtdO1xuICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgdGhpcy5kYXRhaGlzdG8uZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMudmFsdWVzLnB1c2goZWxlbWVudFsxXSk7XG4gICAgfSk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcnJheS5wdXNoKHRoaXMudmFsdWVzW2ldKTtcbiAgICB9XG4gIH1cblxuICBwbG90WGF4aXMoKSB7XG4gICAgdGhpcy54YXhpc0FycmF5ID0gW107XG4gICAgdGhpcy54YXhpc0FycmF5LnB1c2goMCk7XG4gICAgbGV0IG5ld3ZhbHVlOiBudW1iZXIgPSAwO1xuICAgIGxldCB2YWx1ZSA9IE1hdGguY2VpbChkMy5tYXgodGhpcy5hcnJheSkpO1xuICAgIGlmICh2YWx1ZSAlIDEwID09IDApIHtcbiAgICAgIHZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gKDEwIC0gdmFsdWUgJSAxMCkgKyB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IHF1b3RpZW50ID0gdmFsdWUgLyA1O1xuICAgIHdoaWxlIChuZXd2YWx1ZSA8IHZhbHVlKSB7XG4gICAgICBuZXd2YWx1ZSA9IG5ld3ZhbHVlICsgcXVvdGllbnQ7XG4gICAgICB0aGlzLnhheGlzQXJyYXkucHVzaChuZXd2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcGxvdFlheGlzKCkge1xuICAgIGxldCB0ZW1wdmFsdWUgPSAwO1xuICAgIGxldCBsZW5ndGhvZkFycmF5ID0gMDtcbiAgICBsZXQgbGVuZ3RoY291bnQgPSAwO1xuICAgIGxldCB0ZW1wbGVuZ3RoID0gMDtcbiAgICBsZXQgbmV3dmFsdWU6IG51bWJlciA9IDA7XG4gICAgdGhpcy55YXhpc0FycmF5ID0gW107XG4gICAgdGhpcy5oaXN0b2dyYW1hcnJheSA9IFtdO1xuICAgIHRoaXMubGVuZ3RoYXJyYXkgPSBbXTtcbiAgICB0aGlzLmhpc3RvZ3JhbWRhdGEgPSBbXTtcbiAgICB0aGlzLmFycmF5b2ZMZW5ndGggPSBbXTtcbiAgICB0aGlzLmNoYXJ0RGF0YSA9IFtdO1xuICAgIHRoaXMueGF4aXNBcnJheS5mb3JFYWNoKGVsZW1lbnQxID0+IHtcbiAgICAgIHRoaXMueWF4aXNBcnJheSA9IFtdO1xuICAgICAgdGhpcy5hcnJheS5mb3JFYWNoKGVsZW1lbnQyID0+IHtcbiAgICAgICAgaWYgKHRlbXB2YWx1ZSA8IGVsZW1lbnQyICYmIGVsZW1lbnQyIDw9IGVsZW1lbnQxKSB7XG4gICAgICAgICAgdGhpcy55YXhpc0FycmF5LnB1c2goZWxlbWVudDIpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aG9mQXJyYXkgPSB0aGlzLnlheGlzQXJyYXkubGVuZ3RoO1xuICAgICAgfSk7XG4gICAgICBpZiAodGVtcGxlbmd0aCA+IGxlbmd0aG9mQXJyYXkpIHtcbiAgICAgICAgbGVuZ3RoY291bnQgPSB0ZW1wbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxlbmd0aGNvdW50ID0gbGVuZ3Rob2ZBcnJheTtcbiAgICAgIH1cbiAgICAgIHRlbXBsZW5ndGggPSBsZW5ndGhjb3VudDtcbiAgICAgIHRlbXB2YWx1ZSA9IGVsZW1lbnQxO1xuICAgICAgdGhpcy5sZW5ndGhhcnJheS5wdXNoKGxlbmd0aG9mQXJyYXkpO1xuICAgIH0pO1xuXG4gICAgbGV0IHZhbHVlID0gTWF0aC5jZWlsKHRlbXBsZW5ndGgpO1xuICAgIGxldCBxdW90aWVudCA9IHZhbHVlIC8gNTtcbiAgICB3aGlsZSAobmV3dmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgIG5ld3ZhbHVlID0gbmV3dmFsdWUgKyBxdW90aWVudDtcbiAgICAgIHRoaXMueWF4aXNEYXRhLnB1c2gobmV3dmFsdWUpXG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmhpc3RvZ3JhbWFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmhpc3RvZ3JhbWRhdGEucHVzaCh0aGlzLmhpc3RvZ3JhbWFycmF5W2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMubGVuZ3RoYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXJyYXlvZkxlbmd0aC5wdXNoKHRoaXMubGVuZ3RoYXJyYXlbaV0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXJyYXlvZkxlbmd0aC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgIGRhdGFbXCJ2YWx1ZVwiXSA9IHRoaXMuYXJyYXlvZkxlbmd0aFtpXTtcbiAgICAgIHRoaXMuY2hhcnREYXRhLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIHRoaXMuYXJyYXkgPSBbXTtcblxuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnd0KSB7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuICAvL1JFU0laRSBTVEVQIDQgRU5EU1xuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTsgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgIHRoaXMucGxvdFlheGlzKCk7XG4gICAgdGhpcy50b29sdGlwRGF0YSgpO1xuICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgdGhpcy50cmFuc2Zvcm1EYXRhMSh0aGlzLmZpbmFsZGF0YWFycmF5KTtcbiAgICB0aGlzLnBsb3RDaGFydCgpO1xuICB9XG5cbiAgZGF0YWZvckNoYXJ0KCkge1xuICAgIHRoaXMuZmluYWxkYXRhYXJyYXkgPSBbXSA9IFtdO1xuICAgIGxldCBpbml0aWFsQXJyYXk6IGFueVtdID0gW107XG4gICAgbGV0IHRlbXBhcnJheTogYW55W10gPSBbXTtcbiAgICBpbml0aWFsQXJyYXkucHVzaCgnbGV2ZWwnKTtcbiAgICBsZXQgbWF4RWxlbWVudCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHRoaXMuYXJyYXlvZkxlbmd0aCk7XG4gICAgbGV0IG1heGxlbmd0aCA9IG1heEVsZW1lbnQ7XG4gICAgbGV0IG4gPSAxO1xuICAgIHdoaWxlIChuIDw9IG1heEVsZW1lbnQpIHtcbiAgICAgIGluaXRpYWxBcnJheS5wdXNoKCcnICsgbilcbiAgICAgIG4rKztcbiAgICB9XG4gICAgaW5pdGlhbEFycmF5LnB1c2goJ3Rvb2x0aXBkYXRhJyk7XG4gICAgbGV0IGxlbmd0aCA9IHRoaXMuYXJyYXlvZkxlbmd0aC5sZW5ndGg7XG4gICAgbGV0IG51bSA9IDE7XG4gICAgbGV0IG51bWJlciA9IDE7XG4gICAgbGV0IGogPSAwO1xuICAgIHRoaXMuZmluYWxkYXRhYXJyYXkucHVzaChpbml0aWFsQXJyYXkpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFycmF5b2ZMZW5ndGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuYXJyYXlvZkxlbmd0aFtpXTtcbiAgICAgIGxldCB0ZW1wdmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRlbXBhcnJheSA9IFtdO1xuICAgICAgdGVtcGFycmF5LnB1c2goJycgKyBpKTtcbiAgICAgIG1heEVsZW1lbnQgPSBtYXhsZW5ndGg7XG4gICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgIHdoaWxlICh2YWx1ZSAhPSAwKSB7XG4gICAgICAgICAgdGVtcGFycmF5LnB1c2gobnVtYmVyKTtcbiAgICAgICAgICB2YWx1ZS0tXG4gICAgICAgIH1cbiAgICAgICAgbWF4RWxlbWVudCA9IG1heEVsZW1lbnQgLSB0ZW1wdmFsdWU7XG5cbiAgICAgICAgd2hpbGUgKG1heEVsZW1lbnQgIT0gMCkge1xuICAgICAgICAgIHRlbXBhcnJheS5wdXNoKDApO1xuICAgICAgICAgIG1heEVsZW1lbnQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdoaWxlIChtYXhFbGVtZW50ICE9IDApIHtcbiAgICAgICAgICB0ZW1wYXJyYXkucHVzaCgwKTtcbiAgICAgICAgICBtYXhFbGVtZW50LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRlbXBhcnJheS5wdXNoKHRoaXMudG9vbHRpcEFycmF5W2pdKVxuICAgICAgdGhpcy5maW5hbGRhdGFhcnJheS5wdXNoKHRlbXBhcnJheSk7XG4gICAgICBqKys7XG4gICAgfVxuICB9XG5cblxuICB0b29sdGlwRGF0YSgpIHtcbiAgICBsZXQgYXJyYXlvZlRvb2x0aXA6IGFueVtdID0gW107XG4gICAgbGV0IG9iaiA9IHsgXCJsYWJlbFwiOiBcIlwiLCBcInZhbHVlXCI6IFwiXCIgfTtcbiAgICB0aGlzLmRhdGFoaXN0by5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgb2JqID0geyBcImxhYmVsXCI6IFwiXCIsIFwidmFsdWVcIjogXCJcIiB9O1xuICAgICAgb2JqW1wibGFiZWxcIl0gPSBlbGVtZW50WzBdO1xuICAgICAgb2JqW1widmFsdWVcIl0gPSBlbGVtZW50WzFdO1xuICAgICAgYXJyYXlvZlRvb2x0aXAucHVzaChvYmopO1xuICAgIH0pO1xuXG4gICAgbGV0IHZhbHVlMSA9IHRoaXMueGF4aXNBcnJheVswXTtcblxuICAgIGxldCB0b29sdGlwZGF0YTogYW55W10gPSBbXTtcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IHRoaXMueGF4aXNBcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgdG9vbHRpcGRhdGEgPSBbXTtcbiAgICAgIGxldCB2YWx1ZTIgPSB0aGlzLnhheGlzQXJyYXlbal07XG5cbiAgICAgIGFycmF5b2ZUb29sdGlwLmZvckVhY2goZWxlbWVudCA9PiB7XG5cbiAgICAgICAgaWYgKHZhbHVlMSA8PSBlbGVtZW50LnZhbHVlICYmIGVsZW1lbnQudmFsdWUgPD0gdmFsdWUyKSB7XG5cbiAgICAgICAgICBsZXQgdG9vbHRpcG9iaiA9IHsgXCJsYWJlbFwiOiBcIlwiLCBcInZhbHVlXCI6IFwiXCIgfVxuICAgICAgICAgIHRvb2x0aXBvYmpbXCJsYWJlbFwiXSA9IGVsZW1lbnRbXCJsYWJlbFwiXTtcbiAgICAgICAgICB0b29sdGlwb2JqW1widmFsdWVcIl0gPSBlbGVtZW50W1widmFsdWVcIl07XG4gICAgICAgICAgdG9vbHRpcGRhdGEucHVzaCh0b29sdGlwb2JqKTtcblxuXG4gICAgICAgIH1cblxuICAgICAgfSk7XG4gICAgICB0aGlzLnRvb2x0aXBBcnJheS5wdXNoKHRvb2x0aXBkYXRhKTtcbiAgICAgIHZhbHVlMSA9IHZhbHVlMjtcbiAgICB9XG4gIH1cblxuXG4gIHNldEtleShvYmo6IGFueSkge1xuXG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGxldCBkYXRhID0gdGhpcy5kYXRhaGlzdG9bMF07XG4gICAgbGV0IGxhYmVsMSA9IGRhdGFbMV07XG4gICAgbGV0IGxhYmVsMiA9IGRhdGFbMF07XG5cbiAgICBvYmplY3RbbGFiZWwyICsgXCI6XCJdID0gb2JqLmxhYmVsO1xuICAgIG9iamVjdFtsYWJlbDEgKyBcIjpcIl0gPSBvYmoudmFsdWU7XG5cbiAgICByZXR1cm4gKHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpKVxuICB9XG5cbiAgcGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBPbkluaXQsIFZpZXdDaGlsZCwgQ2hhbmdlRGV0ZWN0b3JSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1zY2F0dGVyJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICNjaGFydElkICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCI+XG4gICAgICAgIDx0YWJsZSAqbmdJZj1cImRhdGEubGVuZ3RoID4gMFwiICBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxuICAgICAgICAgICAgPHRyID5cbiAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX1cbiAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJyZXNpemVidG5mbGFnXCI+XG4gICAgICAgICAgICAgICA8YnV0dG9uICB0eXBlPVwicmVzZXRcIiBjbGFzcz1cImZhIGZhLXNlYXJjaC1taW51c1wiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmbG9hdDpyaWdodFwiIChjbGljayk9XCJyZXNpemVzdmcoKVwiPlxuICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICA8L3NwYW4+ICAgICBcbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJvblNjYXR0ZXJMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8ZGl2ICpuZ0lmPVwiZGF0YS5sZW5ndGggPCAxXCIgY2xhc3M9XCJsbWFza1wiIHN0eWxlPVwicGFkZGluZy10b3A6NTAlXCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgU2NhdHRlcmNoYXJ0Q29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2NvbG9yJykgY29sb3I6IGFueSA9IFwiYmx1ZVwiO1xuICBASW5wdXQoJ3pvb20tZW5hYmxlJykgem9vbWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIHd0OiBhbnk7XG4gIHpvb21pbml0aWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3ZnOiBhbnk7XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueVtdID0gW107XG4gIGRhdGE6IGFueTtcbiAgZGF0YUZvcm1hdHRlZDogYW55O1xuICBjb2xvcmRhdGE6IGFueTtcbiAgbGVnZW5kczogYW55W107XG4gIGxlZ2VuZGFycmF5OiBhbnlbXSA9IFtdO1xuICBsZWdlbmREYXRhOiBhbnk7XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBub2RlOiBhbnk7XG4gIG5vZGVsYWJlbDogYW55O1xuICByZXNpemVidG5mbGFnID0gZmFsc2U7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoJ3NjYXR0ZXInKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgIHRoaXMuZGF0YUZvcm1hdHRlZCA9IFtdO1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEpIHtcbiAgICAgIGxldCByZXNwOiBhbnk7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFGb3JtYXR0ZWQgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhRm9ybWF0dGVkKTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZENyZWF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3RTY2F0dGVyQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhRm9ybWF0dGVkID0gdGhpcy5kYXRhO1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgICAgIHRoaXMubGVnZW5kQ3JlYXRpb24oKTtcbiAgICAgICAgICB0aGlzLnBsb3RTY2F0dGVyQ2hhcnQoKTtcblxuICAgICAgICB9LCAwKTtcblxuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuXG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cblxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy5kYXRhRm9ybWF0dGVkID0gdGhpcy5kYXRhO1xuXG5cbiAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgdGhpcy5jb2xvckdlbmVyYXRpb24oKTtcbiAgICAgIHRoaXMubGVnZW5kQ3JlYXRpb24oKTtcbiAgICAgIHRoaXMucGxvdFNjYXR0ZXJDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgLy8gTWV0aG9kIHRvIHRyYW5zZm9ybSBkYXRhIGluIGtleSB2YWx1ZSBwYWlyIFxuICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMua2V5QXJyYXkgPSBkYXRhWzBdO1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IER1bW15T2JqZWN0ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgIER1bW15T2JqZWN0W3RoaXMua2V5QXJyYXlba2V5aW5kZXhdXSA9IGluZGl2aWR1YWx2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IHRoaXMudHJhbnNmb3JtZWRkYXRhO1xuICB9XG5cbiAgLy8gTWV0aG9kIGdldCByZXNwb25zZSBkYXRhIHVzaW5nIGRhdGEgcmVhZGVyXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gcGxvdCBkMyBjaGFydFxuICBwbG90U2NhdHRlckNoYXJ0KCkge1xuICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA2MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBsZXQgeCwgeTtcblxuICAgIHggPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcblxuICAgIHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cbiAgICBsZXQgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpO1xuXG4gICAgbGV0IHlBeGlzID0gZDMuYXhpc0xlZnQoeSkudGlja3ModGhpcy50aWNrc2NvdW50KTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAuYXR0cigndmlld0JveCcsICcwIDAgJyArIHRoaXMuc3Znd2lkdGggKyAnICcgKyB0aGlzLnN2Z2hlaWdodClcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICB4LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZGF0YSwgKGQpID0+IHsgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMF1dIH0pXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmRhdGEsIChkKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXSB9KV0pO1xuXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKHhBeGlzKS5cbiAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgIH1cblxuXG5cbiAgICAvLyB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgLy8gICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgLy8gICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgLy8gICAuY2FsbCh4QXhpcylcbiAgICAvLyAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgLy8gICAuYXR0cihcImNsYXNzXCIsIFwibGFiZWxcIilcbiAgICAvLyAgIC5hdHRyKFwieFwiLCB3aWR0aClcbiAgICAvLyAgIC5hdHRyKFwieVwiLCAtNilcbiAgICAvLyAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpO1xuXG4gICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInkgYXhpc1wiKVxuICAgICAgLmNhbGwoeUF4aXMpXG4gICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSgtOTApXCIpXG4gICAgICAuYXR0cihcInlcIiwgNilcbiAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNzFlbVwiKVxuICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcblxuICAgIGlmICh0aGlzLmRhdGFGb3JtYXR0ZWRbMF0ubGVuZ3RoID09IDIpIHtcbiAgICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHgsIHksIGhlaWdodCwgd2lkdGgpO1xuXG4gICAgICB0aGlzLm5vZGUgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuZG90XCIpXG4gICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIHRoaXMuY29sb3IpXG4gICAgICAgIC5hdHRyKFwiclwiLCA0LjUpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcImN5XCIsIChkKSA9PiB7IHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKTsgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgdGhpcy5zY2F0dGVyQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pO1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgdGhpcy5ub2RlbGFiZWwgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCJsYWJlbHNcIilcbiAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcInZlcnRpY2FsLWFsaWduXCIsIFwibWlkZGxlXCIpXG4gICAgICAgICAgLmF0dHIoXCJtYXJnaW4tdG9wXCIsIG1hcmdpbi50b3ApXG4gICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInhcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKSArIDExO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzFdXSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgfSlcbiAgICAgICAgICAvL2xhYmVsIGNsaWNrIGxvZ2ljXG4gICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2NhdHRlckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgICAgdGhpcy5ub2RlID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmRvdFwiKVxuICAgICAgICAuZGF0YSh0aGlzLnRyYW5zZm9ybWVkZGF0YSlcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RcIilcbiAgICAgICAgLmF0dHIoXCJyXCIsIDQuNSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4geChkW09iamVjdC5rZXlzKGQpWzBdXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pOyB9KVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHsgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbNF1dIH0pXG5cbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgdGhpcy5zY2F0dGVyQ2hhcnRDbGljayhkKTtcbiAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pXG5cbiAgICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgICB0aGlzLm5vZGVsYWJlbCA9IHRoaXMuc3ZnLnNlbGVjdEFsbChcImxhYmVsc1wiKVxuICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAgIC5hdHRyKFwidmVydGljYWwtYWxpZ25cIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcIm1hcmdpbi10b3BcIiwgbWFyZ2luLnRvcClcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pICsgMTE7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInlcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC8vd3JpdGUgbGFiZWwgY2xpY2sgbG9naWMgaGVyZVxuICAgICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjYXR0ZXJDaGFydENsaWNrKGQpO1xuICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgfSlcbiAgICAgIH1cblxuICAgIH1cblxuICAgIC8vY3JlYXRlIHpvb20gaGFuZGxlciBcbiAgICBpZiAodGhpcy56b29tZmxhZykge1xuICAgICAgdGhpcy56b29taW5pdGlhdGVkID0gdHJ1ZTtcbiAgICAgIGxldCB6b29tX2hhbmRsZXIgPSBkMy56b29tKClcbiAgICAgICAgLm9uKFwiem9vbVwiLCB0aGlzLnpvb21fYWN0aW9ucy5iaW5kKHRoaXMpKTtcbiAgICAgIHpvb21faGFuZGxlcih0aGlzLnN2Zyk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlYnRuZmxhZygpIHtcbiAgICB0aGlzLnJlc2l6ZWJ0bmZsYWcgPSB0cnVlO1xuICB9XG5cbiAgem9vbV9hY3Rpb25zKCkge1xuICAgIHRoaXMubm9kZS5hdHRyKFwidHJhbnNmb3JtXCIsIGQzLmV2ZW50LnRyYW5zZm9ybSk7XG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICB0aGlzLm5vZGVsYWJlbC5hdHRyKFwidHJhbnNmb3JtXCIsIGQzLmV2ZW50LnRyYW5zZm9ybSk7XG4gICAgfVxuICAgIHRoaXMucmVzaXplYnRuZmxhZyA9IHRydWU7XG4gICAgdGhpcy56b29taW5pdGlhdGVkID0gZmFsc2U7XG4gIH1cblxuICByZXNpemVzdmcoKSB7XG4gICAgLy8gdGhpcy5zdmcgPSBudWxsO1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5wbG90U2NhdHRlckNoYXJ0KCk7XG4gICAgdGhpcy5yZXNpemVidG5mbGFnID0gZmFsc2U7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gZm9ybSB0b29sdGlwIGRhdGFcbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIC8vIE1ldGhvZCBvbiBjaGFydCBjbGlja1xuICBzY2F0dGVyQ2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhldmVudCkpIHtcbiAgICAgIGlmIChrZXkgIT09ICdjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICAvLyBtZXRob2QgdG8gY3JlYXRlIExlZ2VuZFxuICBsZWdlbmRDcmVhdGlvbigpIHtcbiAgICBpZiAodGhpcy5kYXRhRm9ybWF0dGVkWzBdLmxlbmd0aCA9PSAyKSB7XG4gICAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5kYXRhRm9ybWF0dGVkWzBdO1xuXG4gICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50WzBdICsgXCIgXCIgKyBcInZzXCIgKyBcIiBcIiArIGVsZW1lbnRbMV0sICdjb2xvcic6IHRoaXMuY29sb3IgfTtcbiAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgICB0aGlzLmxlZ2VuZGFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgICAgbGVnZW5kb2JqZWN0WydsYWJlbCddID0gZWxlbWVudC5sYWJlbDtcbiAgICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gZWxlbWVudC5jb2xvcjtcbiAgICAgICAgdGhpcy5sZWdlbmRzLnB1c2gobGVnZW5kb2JqZWN0KTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gIH1cblxuICAvLyBNZXRob2Qgb24gTGVnZW5kIENsaWNrXG4gIG9uU2NhdHRlckxlZ2VuZENsaWNrKGxlZ2VuZGV2ZW50OiBhbnkpIHtcbiAgICBpZiAodGhpcy5kYXRhRm9ybWF0dGVkWzBdLmxlbmd0aCA9PSAyKSB7XG4gICAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdCh0aGlzLmRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxlZ2VuZGFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChsZWdlbmRldmVudC5sYWJlbCA9PSBlbGVtZW50LmxhYmVsKSB7XG4gICAgICAgICAgbGV0IGFyciA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgbGV0IHRlbXBhcnIgPSBbXTtcbiAgICAgICAgICBhcnIuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS8vZm9yIGVuZFxuICAgICAgICAgICAgdGVtcGFyci5wdXNoKG9iaik7XG4gICAgICAgICAgfSk7Ly9mb3IgZWFjaCBlbmRzXG4gICAgICAgICAgdGhpcy5sZWdlbmRDbGljayh0ZW1wYXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbi8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbnZhbGlkYXRlcmVzaXplKCkge1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgaWYgKHRoaXMud3QpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH1cbiAgfSwgMClcbn1cbi8vUkVTSVpFIFNURVAgNCBFTkRTXG5cbiAgLy8gTWV0aG9kIGZvciByZXNwb25zaXZlbmVzc1xuICByZXNpemUoKSB7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5wbG90U2NhdHRlckNoYXJ0KCk7XG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMudlNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLlxuICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKVxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5oU2NhbGUpIHtcbiAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIH1cbiAgfVxuXG4gIGNvbG9yR2VuZXJhdGlvbigpIHtcbiAgICB0aGlzLmxlZ2VuZGFycmF5ID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBuYW1lcyA9IHRoaXMuZGF0YUZvcm1hdHRlZFxuICAgICAgLm1hcChlID0+IGVbMl0pXG4gICAgICAuZmlsdGVyKChlLCBpLCBhKSA9PiBhLmluZGV4T2YoZSkgPT09IGkpO1xuICAgIGZvciAobGV0IGogPSAxOyBqIDwgbmFtZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IFtdO1xuICAgICAgbGV0IG9iaiA9IHsgXCJsYWJlbFwiOiBcIlwiLCBcImNvbG9yXCI6IFwiXCIsIFwidmFsdWVcIjogW10gfTtcbiAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzJdXSA9PSBuYW1lc1tqXSkge1xuICAgICAgICAgIGVsZW1lbnRbJ2NvbG9yJ10gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV07XG4gICAgICAgICAgdmFsdWUucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvYmpbXCJ2YWx1ZVwiXSA9IHZhbHVlO1xuICAgICAgb2JqW1wibGFiZWxcIl0gPSBuYW1lc1tqXTtcbiAgICAgIG9ialtcImNvbG9yXCJdID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgdGhpcy5sZWdlbmRhcnJheS5wdXNoKG9iaik7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZm9ybUxlZ2VuZERhdGEoKSB7XG4gICAgdGhpcy5sZWdlbmREYXRhID0gW107XG4gICAgdGhpcy5sZWdlbmRhcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGV0IGxlZ2VuZG9iamVjdCA9IHt9O1xuICAgICAgbGVnZW5kb2JqZWN0WydsYWJlbCddID0gZWxlbWVudC5sYWJlbDtcbiAgICAgIGxlZ2VuZG9iamVjdFsnY29sb3InXSA9IGVsZW1lbnQuY29sb3I7XG4gICAgICB0aGlzLmxlZ2VuZERhdGEucHVzaChsZWdlbmRvYmplY3QpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBPbkluaXQsIENoYW5nZURldGVjdG9yUmVmLCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCB9IGZyb20gXCIuLi9iYXNlL2Jhc2UuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBQbG90Q2FydCB9IGZyb20gXCIuLi9iYXNlL2NoYXJ0LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEtleSB9IGZyb20gJ3NlbGVuaXVtLXdlYmRyaXZlcic7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC1tdWx0aWFyZWEnLFxuICB0ZW1wbGF0ZTogYFxuPGRpdiAjY2hhcnRJZCAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjZGl2aWQgKHdpbmRvdzpyZXNpemUpPVwidmFsaWRhdGVyZXNpemUoKVwiPlxuPHRhYmxlIFtuZ0NsYXNzXT1cInZhbGlkYXRlRGF0YSgpXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj5cbiAgPHRyICpuZ0lmID0gXCJ0aXRsZS5sZW5ndGggPiAwXCI+XG4gICAgICA8dGQgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj4ge3t0aXRsZX19IDwvdGQ+XG4gIDwvdHI+XG4gIDx0cj5cbiAgICAgIDx0ZD5cbiAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICA8L3RkPlxuICA8L3RyPlxuICA8dHIgKm5nSWY9XCJsZWdlbmRcIiA+XG4gICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQXJlYUxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRBcnJheVwiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbjwvdGFibGU+XG48IS0tIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICA8L2Rpdj4gLS0+XG48L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgTXVsdGlhcmVhQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBQbG90Q2FydCwgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzNTA7XG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcmFycmF5ID0gW107XG4gIEBJbnB1dCgneWF4aXMtaW50ZXJ2YWwnKSB0aWNrc2NvdW50OiBudW1iZXI7XG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICBAT3V0cHV0KCkgb25MZWdlbmRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBvblRvb2x0aXBDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIGh0dHByZXNwb25zZTogYW55O1xuICB0b2dnbGVsYWJlbDogYm9vbGVhbiA9IGZhbHNlO1xuICBzdmc6IGFueTtcbiAgeDogYW55O1xuICB5OiBhbnk7XG4gIHo6IGFueTtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIG1hcmdpbjogYW55ID0ge307XG4gIGk6IG51bWJlcjtcbiAgcGFyc2VUaW1lOiBhbnk7XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICBtYXhpbXVtVmFsdWU6IG51bWJlcjtcbiAgcHJlZGVmaW5lZENvbG9yczogYW55W107XG4gIGFyZWFBcnJheTogYW55O1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueVtdID0gW107XG4gIGRhdGExOiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgdG9vbHRpcDogYW55O1xuICB3dDogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgY2RmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkZXZpY2U6IERldmljZVF1ZXJ5U2VydmljZSkge1xuICAgIHN1cGVyKFwiYXJlYWNoYXJ0XCIpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy53dCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgdGhpcy50b2dnbGVsYWJlbCA9IGZhbHNlO1xuICAgIGxldCByZXM7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwb25zZSk7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdEFyZWFDaGFydCgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhMSkge1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMuaW5pdEFyZWFDaGFydCgpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cblxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICB0aGlzLmluaXRBcmVhQ2hhcnQoKTtcbiAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICAgIH0sIDApO1xuICB9XG5cbiAgaW5pdEFyZWFDaGFydCgpIHtcbiAgICB0aGlzLnRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcblxuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICB9XG4gICAgLy9SRVNJWkUgU1RFUCAxIEVORFMgSEVSRSBcbiAgICB9XG5cbiAgICB0aGlzLm1hcmdpbiA9IHsgdG9wOiAzMCwgcmlnaHQ6IDQ0LCBib3R0b206IDUwLCBsZWZ0OiAzMCB9LFxuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc3Znd2lkdGggLSB0aGlzLm1hcmdpbi5sZWZ0IC0gdGhpcy5tYXJnaW4ucmlnaHQsXG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gdGhpcy5tYXJnaW4udG9wIC0gdGhpcy5tYXJnaW4uYm90dG9tO1xuICAgIC8vZmluZCBtYXggYW5kIGluaXRpYWxpemUgbWF4XG4gICAgdGhpcy5tYXhpbXVtVmFsdWUgPSB0aGlzLmZpbmRNYXhEYXRhKHRoaXMuZGF0YSk7XG5cbiAgICB0aGlzLnggPSBkMy5zY2FsZVBvaW50KClcbiAgICAgIC5yYW5nZShbMCwgdGhpcy53aWR0aF0pXG4gICAgLy8gLnBhZGRpbmcoMC4xKTtcblxuICAgIHRoaXMueSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZVJvdW5kKFt0aGlzLmhlaWdodCwgMF0pO1xuICAgIHRoaXMuYXJlYUFycmF5ID0gW107XG4gICAgLy9zZXQgeCB5IGRvbWFpblxuICAgIHRoaXMuYXJlYUFycmF5ID0gdGhpcy5kYXRhLm1hcCgoZCkgPT4geyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07IH0pO1xuICAgIHRoaXMueC5kb21haW4odGhpcy5hcmVhQXJyYXkpO1xuICAgIHRoaXMueS5kb21haW4oWzAsIHRoaXMubWF4aW11bVZhbHVlXSk7XG4gICAgLy9pbml0aWFsaXplIHN2Z1xuICAgIHRoaXMuc3ZnID1cbiAgICAgIGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpIFxuICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgdGhpcy53aWR0aCArIHRoaXMubWFyZ2luLmxlZnQgKyB0aGlzLm1hcmdpbi5yaWdodClcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQgKyB0aGlzLm1hcmdpbi50b3AgKyB0aGlzLm1hcmdpbi5ib3R0b20pXG4gICAgdGhpcy5wcmVkZWZpbmVkQ29sb3JzID0gW1wiIzMzNjZjY1wiLCBcIiNkYzM5MTJcIiwgXCIjZmY5OTAwXCIsIFwiIzEwOTYxOFwiLCBcIiM5OTAwOTlcIiwgXCIjMDA5OWM2XCIsIFwiI2RkNDQ3N1wiLCBcIiM2NmFhMDBcIiwgXCIjYjgyZTJlXCIsIFwiIzMxNjM5NVwiLCBcIiM5OTQ0OTlcIiwgXCIjMjJhYTk5XCIsIFwiI2FhYWExMVwiLCBcIiM2NjMzY2NcIiwgXCIjZTY3MzAwXCIsIFwiIzhiMDcwN1wiLCBcIiM2NTEwNjdcIiwgXCIjMzI5MjYyXCIsIFwiIzU1NzRhNlwiLCBcIiMzYjNlYWNcIl07XG4gIH1cblxuICBwbG90RDNDaGFydCgpIHtcbiAgICB0aGlzLmZvcm1MZWdlbmREYXRhKCk7XG4gICAgbGV0IGNvdW50ZXI6IG51bWJlcjtcbiAgICBsZXQgZyA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcbiAgICAvLyBhZGQgdGhlIFggXG4gICAgaWYgKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpID09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnN2Z3dpZHRoIDw9IDQwMCkge1xuICAgICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpLlxuICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh0aGlzLngpKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh0aGlzLngpKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcblxuICAgIH1cbiAgICAvLyBhZGQgdGhlIFkgQXhpc1xuICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQodGhpcy55KS50aWNrcyh0aGlzLnRpY2tzY291bnQpKTtcblxuICAgIHRoaXMucGxvdExpbmUoZywgdGhpcy54LCB0aGlzLnksIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoKTtcblxuICAgIGZvciAoY291bnRlciA9IDE7IGNvdW50ZXIgPCB0aGlzLmtleUFycmF5Lmxlbmd0aDsgY291bnRlcisrKSB7XG4gICAgICBsZXQgaW5uZXJHcm91cCA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgICAgdGhpcy5wbG90QXJlYUNoYXJ0KGlubmVyR3JvdXAsIGNvdW50ZXIsIHRoaXMpO1xuICAgIH1cbiAgICAvL2NhbGwgbWV0aG9kIHRvIHBsb3QgcG9pbnRzXG4gICAgbGV0IGluY3JlbWVudDtcbiAgICBmb3IgKGluY3JlbWVudCA9IDE7IGluY3JlbWVudCA8IHRoaXMua2V5QXJyYXkubGVuZ3RoOyBpbmNyZW1lbnQrKykge1xuICAgICAgLy9wbG90IGxpbmVcbiAgICAgIGxldCBpbm5lckdyb3VwID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgdGhpcy5tYXJnaW4udG9wICsgXCIpXCIpO1xuICAgICAgdGhpcy5QbG90TGluZURvdChpbm5lckdyb3VwLCBpbmNyZW1lbnQsIHRoaXMpO1xuICAgIH0vL2luY3JlbWVudCBmb3IgZW5kc1xuICB9XG5cbiAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICBQbG90TGluZURvdChnOiBhbnksIGk6IG51bWJlciwgdGhpc2E6IHRoaXMpIHtcbiAgICBsZXQgZmxhZyA9IHRoaXMudG9nZ2xlbGFiZWw7XG4gICAgY29uc3QgbGluZSA9IGQzLmxpbmUoKVxuICAgICAgLngoKGQpID0+IHsgcmV0dXJuIHRoaXNhLngoZFtPYmplY3Qua2V5cyhkKVswXV0pOyB9KVxuICAgICAgLnkoKGQpID0+IHsgcmV0dXJuIHRoaXNhLnkoZFtPYmplY3Qua2V5cyhkKVtpXV0pOyB9KTtcbiAgICBnLmFwcGVuZChcInBhdGhcIilcbiAgICAgIC5kYXRhKFt0aGlzYS5kYXRhXSlcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFxuICAgICAgKGQpPT57XG4gICAgICAgIGlmKHRoaXMuY29sb3JhcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYodGhpcy5jb2xvcmFycmF5W2ktMV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yYXJyYXlbaS0xXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldOyAgICAgICAgICAgIFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXNhLnByZWRlZmluZWRjb2xvcnNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHRoaXNhLnByZWRlZmluZWRjb2xvcnNbaV1cbiAgICApXG4gICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAxLjUpXG4gICAgICAuYXR0cihcImRcIiwgbGluZSlcbiAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwLjIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFxuICAgICAgICAvLyBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIDAgKyBcIilcIik7XG4gICAgICAgIFwidHJhbnNsYXRlKFwiICsgMCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAvLy0tLS0tLS0tLS1cblxuICAgIGcuc2VsZWN0QWxsKCdkb3QnKVxuICAgICAgLmRhdGEodGhpc2EuZGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ29wYWNpdHknLCAwKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIFxuICAgICAgKGQpPT57XG4gICAgICAgIGlmKHRoaXMuY29sb3JhcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYodGhpcy5jb2xvcmFycmF5W2ktMV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yYXJyYXlbaS0xXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldOyAgICAgICAgICAgIFxuICAgICAgICAgIH0gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyB0aGlzYS5wcmVkZWZpbmVkY29sb3JzW2ldXG4gICAgKVxuICAgICAgLmF0dHIoXCJjeFwiLCAoZCkgPT4geyByZXR1cm4gdGhpc2EueChkW09iamVjdC5rZXlzKGQpWzBdXSk7IH0pXG4gICAgICAuYXR0cihcImN5XCIsIChkKSA9PiB7IHJldHVybiB0aGlzYS55KGRbT2JqZWN0LmtleXMoZClbaV1dKTsgfSlcbiAgICAgIC5hdHRyKCdyJywgNClcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQsIGkpO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG5cbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5odG1sKFxuICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQsIGkpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG5cbiAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMub25BcmVhVG9vbHRpcENsaWNrKGQsIGkpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAwICsgXCIsXCIgKyAwICsgXCIpXCIpO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIGcuc2VsZWN0QWxsKCdsYWJlbHMnKVxuICAgICAgICAuZGF0YSh0aGlzYS5kYXRhKVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIC8vIGxldCBsZW5ndGggPSBTdHJpbmcoZFtPYmplY3Qua2V5cyhkKVtpXV0pLmxlbmd0aFxuICAgICAgICAgIHJldHVybiB0aGlzYS54KGRbT2JqZWN0LmtleXMoZClbMF1dKSArIDIwO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInlcIiwgKGQpID0+IHtcbiAgICAgICAgICBsZXQga2V5OiBhbnkgPSBbT2JqZWN0LmtleXMoZClbaV1dO1xuICAgICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc2EueShkW2tleV0pIC0gNTsvLyBmciB1cFxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSkgKyAxNTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gcmV0dXJuIHRoaXNhLnkoZFtPYmplY3Qua2V5cyhkKVtpXV0pO1xuICAgICAgICAgIC8vICByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzFdXSkreVRleHRQYWRkaW5nO1xuICAgICAgICB9KVxuICAgICAgICAudGV4dCgoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpW2ldXTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICBcInRyYW5zbGF0ZShcIiArIDAgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgICAgLy9sYWJlbCBjbGljayBsb2dpY1xuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLCBpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuXG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLCBpKVxuICAgICAgICApXG4gICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5vbkFyZWFUb29sdGlwQ2xpY2soZCwgaSk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgLy90aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAodGhpcy50b2dnbGVsYWJlbCkge1xuICAgICAgdGhpcy50b2dnbGVsYWJlbCA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMudG9nZ2xlbGFiZWwgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHBsb3RBcmVhQ2hhcnQoZzogYW55LCBpOiBudW1iZXIsIHRoaXNhOiB0aGlzKSB7XG4gICAgLy8gY2FsY3VsYXRlIGFyZWEgYW5kIHZhbHVlbGluZVxuICAgIC8vIGRlZmluZSB0aGUgbGluZVxuICAgIGNvbnN0IHZhbHVlbGluZSA9IGQzLmxpbmUoKVxuICAgICAgLngoKGQpID0+IHtcbiAgICAgICAgbGV0IGtleTogYW55ID0gW09iamVjdC5rZXlzKGQpWzBdXTtcbiAgICAgICAgcmV0dXJuIHRoaXNhLngoZFtrZXldKTtcbiAgICAgIH0pXG4gICAgICAueSgoZCkgPT4ge1xuICAgICAgICBsZXQga2V5OiBhbnkgPSBbT2JqZWN0LmtleXMoZClbaV1dO1xuICAgICAgICByZXR1cm4gdGhpc2EueShkW2tleV0pO1xuICAgICAgfSk7XG5cbiAgICAvLyBhZGQgdGhlIHZhbHVlbGluZSBwYXRoLlxuICAgIGcuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgLmRhdGEoW3RoaXMuZGF0YV0pXG4gICAgICAuc3R5bGUoXCJzdHJva2VcIixcbiAgICAgIChkKT0+e1xuICAgICAgICBpZih0aGlzLmNvbG9yYXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyAgcmV0dXJuIHRoaXMuY29sb3JhcnJheVtpLTFdO1xuICAgICAgICBpZih0aGlzLmNvbG9yYXJyYXlbaS0xXSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yYXJyYXlbaS0xXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV07ICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZGVmaW5lZENvbG9yc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICAvLyB0aGlzLnByZWRlZmluZWRDb2xvcnNbaV1cbiAgICAgIClcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgIC5zdHlsZShcInN0cm9rZS13aWR0aFwiLCBcIjJweFwiKVxuICAgICAgLmF0dHIoXCJkXCIsIHZhbHVlbGluZSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAwICsgXCIsXCIgKyAwICsgXCIpXCIpO1xuXG4gICAgLy8gZGVmaW5lIHRoZSBhcmVhXG4gICAgbGV0IGFyZWEgPSBkMy5hcmVhKClcbiAgICAgIC54KChkKSA9PiB7XG4gICAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICAgIHJldHVybiB0aGlzYS54KGRba2V5XSk7XG4gICAgICB9KVxuICAgICAgLnkwKHRoaXMuaGVpZ2h0KVxuICAgICAgLnkxKChkKSA9PiB7XG4gICAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVtpXV07XG4gICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSk7XG4gICAgICB9KTtcblxuICAgIGcuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgLmRhdGEoW3RoaXMuZGF0YV0pXG4gICAgICAuYXR0cihcImRcIiwgYXJlYSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKVxuICAgICAgICBcInRyYW5zbGF0ZShcIiArIDAgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcIm5vbmVcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcbiAgICAgIChkKT0+e1xuICAgICAgICBpZih0aGlzLmNvbG9yYXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmKHRoaXMuY29sb3JhcnJheVtpLTFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvcmFycmF5W2ktMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldOyAgICAgICAgICAgIFxuICAgICAgICAgIH0gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRDb2xvcnNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHRoaXMucHJlZGVmaW5lZENvbG9yc1tpXVxuICAgICAgKVxuICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAwLjUpXG4gIH1cblxuICBvbkFyZWFUb29sdGlwQ2xpY2sodG9vbHRpcERhdGE6IGFueSwgY291bnQ6IG51bWJlcikge1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVswXV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbMF1dO1xuICAgIG9ialt0aGlzLmtleUFycmF5W2NvdW50XV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbY291bnRdXTtcbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqKTtcbiAgfVxuXG4gIGZpbmRNYXhEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCB0ZW1wQXJyYXkgPSBbXTtcbiAgICBsZXQgbGFyZ2VWYWx1ZXMgPSBbXTtcbiAgICBsZXQgbWF4VmFsdWU7XG4gICAgLy9sb2dpYyB0byBzZWFyY2ggMyBsYXJnZXN0IHZhbHVlcyBcbiAgICBkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgdGVtcCA9IFtdO1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnQpKSB7XG4gICAgICAgIC8vZXhlbXB0cyBmaXJzdCBjb2x1bW4gb2YgZGF0YSBhcyBpdCBpcyB0cmVhdGVkIGFzIHgtYXhpc1xuICAgICAgICBpZiAoa2V5ICE9IHRoaXMua2V5QXJyYXlbMF0pIHtcbiAgICAgICAgICB0ZW1wQXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0vL2ZvciBsb29wIGVuZFxuICAgICAgdmFsdWUgPSB0aGlzLmZpbmRMYXJnZXN0VmFsdWUodGVtcEFycmF5KTtcbiAgICAgIGxhcmdlVmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIG1heFZhbHVlID0gdGhpcy5maW5kTGFyZ2VzdFZhbHVlKGxhcmdlVmFsdWVzKTtcbiAgICByZXR1cm4gbWF4VmFsdWU7XG4gIH1cblxuICBmaW5kTGFyZ2VzdFZhbHVlKGFycmF5OiBhbnlbXSkge1xuICAgIGxldCBpO1xuICAgIGxldCBtYXggPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldID4gbWF4KSB7XG4gICAgICAgIG1heCA9IGFycmF5W2ldO1xuICAgICAgfS8vaWYgZW5kcyBcbiAgICB9Ly9tYXggZW5kc1xuICAgIHJldHVybiBtYXg7XG4gIH1cblxuICAvL2NvdmVydCBkYXRhXG4gIHRyYW5zZm9ybURhdGEoZGF0YTogYW55KSB7XG4gICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5ID0gZGF0YVswXTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBEdW1teU9iamVjdDogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgIER1bW15T2JqZWN0W3RoaXMua2V5QXJyYXlba2V5aW5kZXhdXSA9IGluZGl2aWR1YWx2YWx1ZTtcbiAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgfS8vaWYgZW5kc1xuICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuXG4gICAgbGV0IHBhcnNlZHRyYW5zZm9ybWVkZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy50cmFuc2Zvcm1lZGRhdGEpKTtcblxuICAgIHRoaXMuZGF0YSA9IHBhcnNlZHRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgbGV0IGNvdW50ZXIgPSAwXG4gICAgdGhpcy5rZXlBcnJheS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnQ7XG4gICAgICAgIGlmKCh0aGlzLmNvbG9yYXJyYXkubGVuZ3RoID4gMCkgJiYgKHRoaXMuY29sb3JhcnJheVtjb3VudGVyXSkpIHtcbiAgICAgICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSB0aGlzLmNvbG9yYXJyYXlbY291bnRlcl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gdGhpcy5wcmVkZWZpbmVkQ29sb3JzW2NvdW50ZXIgKyAxXTtcbiAgICAgICAgIH1cbiAgICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgICAgIGNvdW50ZXIrKztcblxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25BcmVhTGVnZW5kQ2xpY2sobGVnZW5kRGF0YTogYW55KSB7XG4gICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbXCJsYWJlbFwiXSA9IGxlZ2VuZERhdGEubGFiZWw7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICBpZiAoa2V5ID09IGxlZ2VuZERhdGEubGFiZWwpIHtcbiAgICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBkYXRhLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfS8vaW5uZXIgaWYgZW5kc1xuICAgICAgfS8vaW5uZXIgZm9ybG9vcCBlbmRzXG4gICAgfSk7Ly9vdXRlciBmb3JlYWNoIGVuZHNcbiAgICBvYmpbXCJkYXRhXCJdID0gZGF0YTtcbiAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICB9XG5cbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgaWYgKHRoaXMud3QpIHtcbiAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICAvLyB0aGlzLnJlc2l6ZXd0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIlwiLCBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgXCIgXCIsIHRoaXMucmVzaXpld3QpO1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5pbml0QXJlYUNoYXJ0KCk7XG4gICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICB9XG5cbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnksIGNvdW50OiBudW1iZXIpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMF1dID0gdG9vbHRpcERhdGFbT2JqZWN0LmtleXModG9vbHRpcERhdGEpWzBdXTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVtjb3VudF1dID0gdG9vbHRpcERhdGFbT2JqZWN0LmtleXModG9vbHRpcERhdGEpW2NvdW50XV07XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmopO1xuICB9XG5cbiAgcGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykudGlja3ModGhpcy50aWNrc2NvdW50KSk7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVEYXRhKCkge1xuICAgIGlmICh0aGlzLmRhdGEpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcImxtYXNrXCJcbiAgICB9XG59XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIE9uSW5pdCwgQ2hhbmdlRGV0ZWN0b3JSZWYsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LXdhdGVyZmFsbCcsXG4gIHRlbXBsYXRlOiBgXG48ZGl2ICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCIgPlxuPHRhYmxlICpuZ0lmPVwiZGF0YS5sZW5ndGggPiAwXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIiA+XG4gIDx0ciAqbmdJZiA9IFwidGl0bGUubGVuZ3RoID4gMFwiPlxuICAgICAgPHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICA8L3RyPlxuICA8dHI+XG4gICAgICA8dGQ+XG4gICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbiAgPHRyICpuZ0lmPVwibGVnZW5kXCI+XG4gICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQ2FuZGxlc3RpY2tMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kQXJyYXlcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPlxuICAgICAgICAgIDwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgIDwvdGQ+XG4gIDwvdHI+XG48L3RhYmxlPlxuPGRpdiAqbmdJZj1cImRhdGEubGVuZ3RoIDwgMVwiIGNsYXNzPVwibG1hc2tcIiBzdHlsZT1cInBhZGRpbmctdG9wOjUwJVwiPlxuICAgIDwvZGl2PlxuPC9kaXY+YCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuXG5leHBvcnQgY2xhc3MgQ2FuZGxlc3RpY2tDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0LCBPbkluaXQge1xuICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgQElucHV0KCkgZGF0YTogYW55W10gW107XG4gIEBJbnB1dCgneWF4aXMtaW50ZXJ2YWwnKSB0aWNrc2NvdW50OiBudW1iZXI7XG4gIEBJbnB1dCgnc2hvdy16ZXJvLXZhbHVlcycpIHNob3d6ZXJvZmxhZzogYm9vbGVhbiA9IHRydWU7XG5cbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBPdXRwdXQoKSBvbkxlZ2VuZENsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgcHJlZGVmaW5lZENvbG9yID0gW107XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueTtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIG1hcmdpbjogYW55ID0ge307XG4gIHg6IGFueTtcbiAgeTogYW55O1xuICBzdmc6IGFueTtcbiAgdG9vbHRpcDogYW55O1xuICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgaHR0cHJlc3BvbnNlOiBhbnk7XG4gIHd0OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSwgcHJpdmF0ZSBjZGY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRldmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoXCJjYW5kbGVzdGlja3dhdGVyZmFsbGNoYXJ0XCIpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy53dCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgdGhpcy5wcmVkZWZpbmVkQ29sb3IgPSBbXCIjMzM2NmNjXCIsIFwiI2RjMzkxMlwiLCBcIiNmZjk5MDBcIiwgXCIjMTA5NjE4XCIsIFwiIzk5MDA5OVwiLCBcIiMwMDk5YzZcIiwgXCIjZGQ0NDc3XCIsIFwiIzY2YWEwMFwiLCBcIiNiODJlMmVcIiwgXCIjMzE2Mzk1XCIsIFwiIzk5NDQ5OVwiLCBcIiMyMmFhOTlcIiwgXCIjYWFhYTExXCIsIFwiIzY2MzNjY1wiLCBcIiNlNjczMDBcIiwgXCIjOGIwNzA3XCIsIFwiIzY1MTA2N1wiLCBcIiMzMjkyNjJcIiwgXCIjNTU3NGE2XCIsIFwiIzNiM2VhY1wiXTtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBsZXQgcmVzO1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgLy90aGlzLmRhdGEgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3BvbnNlKTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90WFlBeGlzKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdFhZQXhpcygpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG5cbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmh0dHByZXNwb25zZSk7XG4gICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgIHRoaXMucGxvdFhZQXhpcygpO1xuICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgaW5pdGlhbGl6ZURhdGEoKSB7XG4gICAgdGhpcy50b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgfVxuICAgIHRoaXMubWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMzAsIGJvdHRvbTogNTAsIGxlZnQ6IDYwIH0sXG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5zdmd3aWR0aCAtIHRoaXMubWFyZ2luLmxlZnQgLSB0aGlzLm1hcmdpbi5yaWdodCxcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5zdmdoZWlnaHQgLSB0aGlzLm1hcmdpbi50b3AgLSB0aGlzLm1hcmdpbi5ib3R0b207XG4gIH1cblxuICBwbG90WFlBeGlzKCkge1xuICAgIC8vIHNldCB0aGUgcmFuZ2VzXG4gICAgdGhpcy54ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHRoaXMud2lkdGhdKTtcbiAgICB0aGlzLnkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbdGhpcy5oZWlnaHQsIDBdKTtcbiAgICAvLyBzY2FsZSB0aGUgcmFuZ2Ugb2YgdGhlIGRhdGFcbiAgICBsZXQgY2FuZGxlc3RpY2tBcnJheSA9IHRoaXMuZGF0YS5tYXAoKGQpID0+IHtcbiAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzBdXTtcbiAgICB9KTtcbiAgICB0aGlzLnguZG9tYWluKGNhbmRsZXN0aWNrQXJyYXkpO1xuICAgIGxldCBtYXggPSBkMy5tYXgodGhpcy5kYXRhLCAoZCkgPT4geyByZXR1cm4gZC5lbmQ7IH0pO1xuICAgIHRoaXMueS5kb21haW4oWzAsIG1heF0pO1xuXG4gICAgLy8gdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgIC8vUkVTSVpFIFNURVAgMiBTVEFSVFxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgIC5hdHRyKCd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmd3aWR0aCArICcgJyArIHRoaXMuc3ZnaGVpZ2h0KVxuICAgIC8vUkVTSVpFIFNURVAgMiBFTkRTIEhFUkVcbiAgICAgICAuYXR0cihcIndpZHRoXCIsIHRoaXMud2lkdGggKyB0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCB0aGlzLmhlaWdodCArIHRoaXMubWFyZ2luLnRvcCArIHRoaXMubWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFxuICAgICAgICBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgIC8vIGFkZCB0aGUgWCBBeGlzXG5cbiAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpLlxuICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfSBcbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB0aGlzLmhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpXG4gICAgICB9XG5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB0aGlzLmhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuXG4gICAgfVxuXG4gICAgLy8gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgIC8vICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIHRoaXMuaGVpZ2h0ICsgXCIpXCIpXG4gICAgLy8gICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpO1xuXG4gICAgLy8gYWRkIHRoZSBZIEF4aXNcbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuY2FsbChkMy5heGlzTGVmdCh0aGlzLnkpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHRoaXMueCwgdGhpcy55LCB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCk7XG4gIH1cblxuXG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIGxldCBiYXIgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIuYmFyXCIpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIChkKSA9PiB7IHJldHVybiBcImJhciBcIiArIGQuY2xhc3MgfSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRoaXMueChcbiAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzBdXVxuICAgICAgICApICsgXCIsMClcIjtcbiAgICAgIH0pO1xuXG4gICAgYmFyLmFwcGVuZChcInJlY3RcIilcbiAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4gdGhpcy55KE1hdGgubWF4KGQuc3RhcnQsIGQuZW5kKSk7IH0pXG4gICAgICAuYXR0cihcImhlaWdodFwiLCAoZCkgPT4geyByZXR1cm4gTWF0aC5hYnModGhpcy55KGQuc3RhcnQpIC0gdGhpcy55KGQuZW5kKSk7IH0pXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHRoaXMueC5iYW5kd2lkdGgoKSlcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVkQ29sb3JbaV07XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcblxuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLmh0bWwoXG4gICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMub25DYW5kbGVzdGlja0NsaWNrKGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuXG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICBiYXIuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMXZ3XCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiAodGhpcy54LmJhbmR3aWR0aCgpKSAvIDI7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy55KE1hdGgubWF4KGQuc3RhcnQsIGQuZW5kKSkgKyAyMDtcbiAgICAgICAgfSlcbiAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAvLyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV1cbiAgICAgICAgICBpZih0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMV1dO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKCF0aGlzLnNob3d6ZXJvZmxhZykge1xuICAgICAgICAgICAgaWYoZFtPYmplY3Qua2V5cyhkKVsxXV0gPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG5cbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMub25DYW5kbGVzdGlja0NsaWNrKGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuXG4gICAgfVxuICB9XG5cbiAgcGxvdExpbmUoc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBzdmcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybURhdGEoZGF0YTogYW55KSB7XG4gICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgRHVtbXlPYmplY3Q6IGFueSA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICBEdW1teU9iamVjdFt0aGlzLmtleUFycmF5W2tleWluZGV4XV0gPSBpbmRpdmlkdWFsdmFsdWU7XG4gICAgICAgIH0pOy8vaW5uZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgIH0vL2lmIGVuZHNcbiAgICB9KTsvL291dGVyIGZvciBsb29wIGVuZHMgXG4gICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgdGhpcy5hZGREYXRhS2V5cygpO1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgfVxuXG4gIGFkZERhdGFLZXlzKCkge1xuICAgIGxldCBjdW11bGF0aXZlOiBhbnkgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmRhdGFbaV1bXCJzdGFydFwiXSA9IGN1bXVsYXRpdmU7XG4gICAgICBjdW11bGF0aXZlICs9IHRoaXMuZGF0YVtpXVt0aGlzLmtleUFycmF5WzFdXTtcbiAgICAgIHRoaXMuZGF0YVtpXVtcImVuZFwiXSA9IGN1bXVsYXRpdmU7XG4gICAgICB0aGlzLmRhdGFbaV1bXCJjbGFzc1wiXSA9ICh0aGlzLmRhdGFbaV1bdGhpcy5rZXlBcnJheVsxXV0gPj0gMCkgPyAncG9zaXRpdmUnIDogJ25lZ2F0aXZlJ1xuICAgIH1cbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICBmb3JtVG9vbHRpcERhdGEodG9vbHRpcERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBvYmplY3RbdGhpcy5rZXlBcnJheVswXV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbMF1dO1xuICAgIG9iamVjdFt0aGlzLmtleUFycmF5WzFdXSA9IHRvb2x0aXBEYXRhW09iamVjdC5rZXlzKHRvb2x0aXBEYXRhKVsxXV07XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgb25DYW5kbGVzdGlja0NsaWNrKGNoYXJ0RGF0YTogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFt0aGlzLmtleUFycmF5WzBdXSA9IGNoYXJ0RGF0YVtPYmplY3Qua2V5cyhjaGFydERhdGEpWzBdXTtcbiAgICBvYmplY3RbdGhpcy5rZXlBcnJheVsxXV0gPSBjaGFydERhdGFbT2JqZWN0LmtleXMoY2hhcnREYXRhKVsxXV07XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZWxlbWVudCkpIHtcbiAgICAgICAgaWYgKGtleSA9PSB0aGlzLmtleUFycmF5WzBdKSB7XG4gICAgICAgICAgbGV0IG9iamVjdCA9IHt9O1xuICAgICAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gdmFsdWU7XG4gICAgICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRDb2xvcltpbmRleF07XG4gICAgICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uQ2FuZGxlc3RpY2tMZWdlbmRDbGljayhjaGFydERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gY2hhcnREYXRhLmxhYmVsKSB7XG4gICAgICAgICAgb2JqZWN0W2NoYXJ0RGF0YS5sYWJlbF0gPSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzFdXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KG9iamVjdCk7XG4gIH1cblxuXG4gIC8vUkVTSVpFIFNURVAgNCBTVEFSVFNcbiAgdmFsaWRhdGVyZXNpemUoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgaWYgKHRoaXMud3QpIHtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgIH1cbiAgICB9LCAwKVxuICB9XG4gIC8vUkVTSVpFIFNURVAgNCBFTkRTXG5cbiAgcmVzaXplKCkge1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICBpZiAodGhpcy53dCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMud3Q7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgIC8vIHRoaXMucmVzaXpld3QgPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiXCIsIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBcIiBcIiwgdGhpcy5yZXNpemV3dCk7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgdGhpcy5wbG90WFlBeGlzKCk7XG4gICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIE9uSW5pdCwgVmlld0NoaWxkLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhbWV4aW8tZDMtY2hhcnQtYnViYmxlJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICh3aW5kb3c6cmVzaXplKT1cInZhbGlkYXRlcmVzaXplKClcIj5cbiAgICA8dGFibGUgKm5nSWY9XCJkYXRhLmxlbmd0aCA+IDBcIiBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX1cbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInJlc2l6ZWJ0bmZsYWdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwicmVzZXRcIiBjbGFzcz1cImZhIGZhLXNlYXJjaC1taW51c1wiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmbG9hdDpyaWdodFwiIChjbGljayk9XCJyZXNpemVzdmcoKVwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgPGFtZXhpby1kMy1sZWdlbmQgKm5nSWY9XCJsZWdlbmRcIiBbaG9yaXpvbnRhbF09XCJ0cnVlXCIgKG9uQ2xpY2spPVwib25CdWJibGVMZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kRGF0YVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA8IDFcIiBjbGFzcz1cImxtYXNrXCIgc3R5bGU9XCJwYWRkaW5nLXRvcDo1MCVcIj5cbiAgICA8L2Rpdj5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2BgXVxufSlcbmV4cG9ydCBjbGFzcyBCdWJibGVDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2NvbG9yJykgY29sb3I6IGFueSA9IFwiYmx1ZVwiO1xuICBASW5wdXQoJ3pvb20tZW5hYmxlJykgem9vbWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCd5YXhpcy1pbnRlcnZhbCcpIHRpY2tzY291bnQ6IG51bWJlcjtcbiAgQElucHV0KCd4YXhpcy1pbnRlcnZhbCcpIHh0aWNrc2NvdW50OiBudW1iZXI7XG5cbiAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIHd0Om51bWJlcjtcbiAgem9vbWluaXRpYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBjb2xvcnM6IGFueVtdID0gW107XG4gIGRhdGExOiBhbnk7XG4gIHhheGlzQXJyYXk6IGFueVtdID0gW107XG4gIHhhcnJheTogYW55W10gPSBbXTtcbiAgbGVnZW5kczogYW55W10gPSBbXTtcbiAgbGVnZW5kYXJyYXk6IGFueVtdID0gW107XG4gIG5vZGU6IGFueTtcbiAgbm9kZWxhYmVsOiBhbnk7XG4gIHJlc2l6ZWJ0bmZsYWcgPSBmYWxzZTtcbiAgbGVnZW5kRGF0YTogYW55W10gPSBbXTtcbiAgbWlueHZhbHVlOiBudW1iZXIgPSAwO1xuICBtYXh4dmFsdWU6IG51bWJlciA9IDA7XG4gIGNvbG9yZGF0YTogYW55O1xuICBidWJibGVjaGFydGRhdGE6IGFueVtdID0gW107XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBzdmc6IGFueTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignYnViYmxlJyk7XG4gICAgdGhpcy5wcmVkZWZpbmVkY29sb3JzID0gW1wiIzMzNjZjY1wiLCBcIiNkYzM5MTJcIiwgXCIjZmY5OTAwXCIsIFwiIzEwOTYxOFwiLCBcIiM5OTAwOTlcIiwgXCIjMDA5OWM2XCIsIFwiI2RkNDQ3N1wiLCBcIiM2NmFhMDBcIiwgXCIjYjgyZTJlXCIsIFwiIzMxNjM5NVwiLCBcIiM5OTQ0OTlcIiwgXCIjMjJhYTk5XCIsIFwiI2FhYWExMVwiLCBcIiM2NjMzY2NcIiwgXCIjZTY3MzAwXCIsIFwiIzhiMDcwN1wiLCBcIiM2NTEwNjdcIiwgXCIjMzI5MjYyXCIsIFwiIzU1NzRhNlwiLCBcIiMzYjNlYWNcIl07XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnd0ID0gdGhpcy5zdmd3aWR0aDtcbiAgICB0aGlzLmRhdGExID0gW107XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3A7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YTEpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1kYXRhKCk7XG4gICAgICAgICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90QnViYmxlQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtZGF0YSgpO1xuICAgICAgICAgIHRoaXMuY29sb3JHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdEJ1YmJsZUNoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZldGNoRGF0YShkYXRhOiBhbnkpIHtcbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICB0aGlzLm15c2VydmljZS5wb3N0ZmV0Y2hEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kLCByZXF1ZXN0SnNvbikuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgIHRoaXMuaHR0cHJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy90aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdDaGFydCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuaHR0cHJlc3BvbnNlKTtcbiAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YTEpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1kYXRhKCk7XG4gICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgdGhpcy5wbG90QnViYmxlQ2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMuY29sb3JkYXRhID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgRHVtbXlPYmplY3QgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbmRpdmlkdWFsdmFsdWUsIGtleWluZGV4KSA9PiB7XG4gICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEucHVzaChEdW1teU9iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgdGhpcy5jb2xvcmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIHBsb3RCdWJibGVDaGFydCgpIHtcbiAgICAgbGV0IGNvbG9ycyA9IHRoaXMucHJlZGVmaW5lZGNvbG9ycztcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICAgLy9SRVNJWkUgU1RFUCAxXG4gICAgICAgaWYgKHRoaXMud3QpIHtcbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMud3Q7XG5cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcblxuICAgICAgfVxuICAgICAgLy9SRVNJWkUgU1RFUCAxIEVORFMgSEVSRVxuICAgIH1cblxuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDYwLCBib3R0b206IDUwLCBsZWZ0OiA2MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBsZXQgeCwgeTtcbiAgICB4ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSk7XG5cbiAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pO1xuXG4gICAgbGV0IHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4KS50aWNrcyh0aGlzLnh0aWNrc2NvdW50KTtcblxuICAgIGxldCB5QXhpcyA9IGQzLmF4aXNMZWZ0KHkpLnRpY2tzKHRoaXMudGlja3Njb3VudCk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwICcgKyB0aGlzLnN2Z3dpZHRoICsgJyAnICsgdGhpcy5zdmdoZWlnaHQpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmRhdGEsIChkKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzJdXSB9KV0pO1xuXG4gICAgeC5kb21haW4oW3RoaXMubWlueHZhbHVlLCB0aGlzLm1heHh2YWx1ZV0pO1xuXG4gICAgbGV0IHJTY2FsZSA9IGQzLnNjYWxlU3FydCgpLnJhbmdlUm91bmQoWzYsIDMwXSk7XG5cbiAgICByU2NhbGUuZG9tYWluKFtkMy5taW4odGhpcy5kYXRhLCAoZCkgPT4geyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVs0XV0gfSksIGQzLm1heCh0aGlzLmRhdGEsIChkLCBpKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzRdXSB9KV0pXG5cbiAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAuY2FsbCh4QXhpcylcbiAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgIH1cblxuICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ5IGF4aXNcIilcbiAgICAgIC5jYWxsKHlBeGlzKVxuICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoLTkwKVwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIDYpXG4gICAgICAuYXR0cihcImR5XCIsIFwiLjcxZW1cIilcbiAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG5cbiAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgIHRoaXMubm9kZSA9IHRoaXMuc3ZnLnNlbGVjdEFsbChcIi5kb3RcIilcbiAgICAgIC5kYXRhKHRoaXMuYnViYmxlY2hhcnRkYXRhKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiZG90XCIpXG4gICAgICAuYXR0cihcInJcIiwgKGQpID0+IHsgcmV0dXJuIHJTY2FsZShkW09iamVjdC5rZXlzKGQpWzRdXSk7IH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5hdHRyKFwiY3hcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVsxXV0pO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsyXV0pOyB9KVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzVdXSB9KVxuICAgICAgLmF0dHIoJ29wYWNpdHknLCAwLjcpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICApXG4gICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIC8vIGlmKCF0aGlzLnpvb21pbml0aWF0ZWQpIHtcbiAgICAgICAgdGhpcy5idWJibGVDaGFydENsaWNrKGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAvLyB9XG4gICAgICB9KTtcblxuICAgIC8vbGFiZWxcbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIHRoaXMubm9kZWxhYmVsID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwibGFiZWxzXCIpXG4gICAgICAgIC5kYXRhKHRoaXMuYnViYmxlY2hhcnRkYXRhKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gclNjYWxlKGRbT2JqZWN0LmtleXMoZClbNF1dKSAtIDQ7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvciAmJiB0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMV1dKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7IHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMl1dKTsgfSlcbiAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICAvLyBpZighdGhpcy56b29taW5pdGlhdGVkKSB7XG4gICAgICAgICAgdGhpcy5idWJibGVDaGFydENsaWNrKGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy9jcmVhdGUgem9vbSBoYW5kbGVyIFxuICAgIGlmICh0aGlzLnpvb21mbGFnKSB7XG4gICAgICB0aGlzLnpvb21pbml0aWF0ZWQgPSB0cnVlO1xuICAgICAgbGV0IHpvb21faGFuZGxlciA9IGQzLnpvb20oKVxuICAgICAgICAub24oXCJ6b29tXCIsIHRoaXMuem9vbV9hY3Rpb25zLmJpbmQodGhpcykpO1xuICAgICAgem9vbV9oYW5kbGVyKHRoaXMuc3ZnKTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVidG5mbGFnKCkge1xuICAgIHRoaXMucmVzaXplYnRuZmxhZyA9IHRydWU7XG4gIH1cblxuICB6b29tX2FjdGlvbnMoKSB7XG4gICAgdGhpcy5ub2RlLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZDMuZXZlbnQudHJhbnNmb3JtKTtcbiAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgIHRoaXMubm9kZWxhYmVsLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZDMuZXZlbnQudHJhbnNmb3JtKTtcbiAgICB9XG4gICAgdGhpcy5yZXNpemVidG5mbGFnID0gdHJ1ZTtcbiAgICB0aGlzLnpvb21pbml0aWF0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHJlc2l6ZXN2ZygpIHtcbiAgICAvLyB0aGlzLnN2ZyA9IG51bGw7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnBsb3RCdWJibGVDaGFydCgpO1xuICAgIHRoaXMucmVzaXplYnRuZmxhZyA9IGZhbHNlO1xuICB9XG5cbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIC8vIE1ldGhvZCBvbiBjaGFydCBjbGlja1xuICBidWJibGVDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPT0gJ2NvbG9yJykge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgfVxuXG4gICAvL1JFU0laRSBTVEVQIDQgU1RBUlRTXG4gICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICByZXNpemUoKSB7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmNkZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgdGhpcy5wbG90QnViYmxlQ2hhcnQoKTtcbiAgfVxuXG4gIHhheGlzRGF0YSgpIHtcblxuICAgIGxldCBhcnJheSA9IFtdO1xuICAgIHRoaXMubWlueHZhbHVlID0gMDtcbiAgICB0aGlzLm1heHh2YWx1ZSA9IDA7XG4gICAgdGhpcy54YXhpc0FycmF5ID0gW107XG4gICAgdGhpcy54YXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGExLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBhcnJheS5wdXNoKGVsZW1lbnRbMV0pO1xuICAgIH0pO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMueGF4aXNBcnJheS5wdXNoKGFycmF5W2ldKTtcbiAgICB9XG5cbiAgICBsZXQgbWludmFsdWUgPSBNYXRoLmZsb29yKGQzLm1pbih0aGlzLnhheGlzQXJyYXkpKTtcbiAgICBsZXQgbWF4dmFsdWUgPSBNYXRoLmNlaWwoZDMubWF4KHRoaXMueGF4aXNBcnJheSkpO1xuICAgIHRoaXMubWlueHZhbHVlID0gNSAqIChNYXRoLmZsb29yKE1hdGguYWJzKG1pbnZhbHVlIC8gNSkpKTtcbiAgICB0aGlzLm1heHh2YWx1ZSA9IDUgKiAoTWF0aC5jZWlsKE1hdGguYWJzKG1heHZhbHVlIC8gNSkpKTtcblxuICB9XG5cbiAgY29sb3JHZW5lcmF0aW9uKCkge1xuXG4gICAgdGhpcy5sZWdlbmRhcnJheSA9IFtdO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbmFtZXMgPSB0aGlzLmRhdGExXG4gICAgICAubWFwKGUgPT4gZVszXSlcbiAgICAgIC5maWx0ZXIoKGUsIGksIGEpID0+IGEuaW5kZXhPZihlKSA9PT0gaSk7XG5cbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IG5hbWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBsZXQgdmFsdWUgPSBbXTtcbiAgICAgIGxldCBvYmogPSB7IFwibGFiZWxcIjogXCJcIiwgXCJjb2xvclwiOiBcIlwiLCBcInZhbHVlXCI6IFtdIH07XG4gICAgICB0aGlzLmNvbG9yZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVszXV0gPT0gbmFtZXNbal0pIHtcbiAgICAgICAgICBlbGVtZW50Wydjb2xvciddID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgICAgIHZhbHVlLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb2JqW1widmFsdWVcIl0gPSB2YWx1ZTtcbiAgICAgIG9ialtcImxhYmVsXCJdID0gbmFtZXNbal07XG4gICAgICBvYmpbXCJjb2xvclwiXSA9IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpXTtcbiAgICAgIHRoaXMubGVnZW5kYXJyYXkucHVzaChvYmopO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgIHRoaXMubGVnZW5kRGF0YSA9IFtdO1xuICAgIHRoaXMubGVnZW5kYXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnQubGFiZWw7XG4gICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSBlbGVtZW50LmNvbG9yO1xuICAgICAgdGhpcy5sZWdlbmREYXRhLnB1c2gobGVnZW5kb2JqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uQnViYmxlTGVnZW5kQ2xpY2sobGVnZW5kZXZlbnQ6IGFueSkge1xuICAgIHRoaXMubGVnZW5kYXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgIGxldCB0ZW1wYXJyID0gW107XG4gICAgICBpZiAobGVnZW5kZXZlbnQubGFiZWwgPT0gZWxlbWVudC5sYWJlbCkge1xuICAgICAgICBsZXQgYXJyID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgYXJyLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfS8vIGZvciBlbmRzXG4gICAgICAgICAgdGVtcGFyci5wdXNoKG9iaik7XG4gICAgICAgIH0pOy8vIGZvciBlYWNoIGVuZHNcbiAgICAgICAgdGhpcy5sZWdlbmRDbGljayh0ZW1wYXJyKVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMudlNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLlxuICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKS50aWNrcyh0aGlzLnh0aWNrc2NvdW50KVxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5oU2NhbGUpIHtcbiAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpLnRpY2tzKHRoaXMudGlja3Njb3VudCkpO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybWRhdGEoKSB7XG4gICAgdGhpcy5idWJibGVjaGFydGRhdGEgPSBbXVxuICAgIGxldCBidXVibGVkYXRhID0gW107XG4gICAgdGhpcy5jb2xvcmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuXG4gICAgICBidXVibGVkYXRhLnB1c2goZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVs0XV0pO1xuXG4gICAgfSk7XG5cbiAgICBsZXQgZGF0YSA9IGJ1dWJsZWRhdGEuc29ydCgoYSwgYikgPT4geyByZXR1cm4gYiAtIGEgfSk7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBkYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICB0aGlzLmNvbG9yZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZGF0YVtqXSA9PSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzRdXSlcbiAgICAgICAgICB0aGlzLmJ1YmJsZWNoYXJ0ZGF0YS5wdXNoKGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiwgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS9iYXNlLmNvbXBvbmVudFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCB7IERldmljZVF1ZXJ5U2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2RldmljZS5xdWVyeS5zZXJ2aWNlJztcblxuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FtZXhpby1kMy1jaGFydC10aW1lbGluZScsXG4gICAgdGVtcGxhdGU6IGBcbjxkaXYgICNjaGFydElkICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICAod2luZG93OnJlc2l6ZSk9XCJ2YWxpZGF0ZXJlc2l6ZSgpXCIgPlxuICAgIDx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiIHBvc2l0aW9uPVwiIHJlbGF0aXZlXCI+XG4gICAgICAgIDx0ciAqbmdJZiA9IFwidGl0bGUubGVuZ3RoID4gMFwiPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiIFxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHIgKm5nSWY9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgPGFtZXhpby1kMy1sZWdlbmQgKm5nSWY9XCJsZWdlbmRcIiBbaG9yaXpvbnRhbF09XCJ0cnVlXCIgKG9uQ2xpY2spPVwidGltZWxpbmVsZWdlbmRDbGljaygkZXZlbnQpXCIgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDwvZGl2PmBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNUaW1lbGluZUNoYXJ0Q29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQge1xuXG4gICAgQElucHV0KCdkYXRhJykgZGF0YTogYW55O1xuICAgIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICAgIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gICAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXI7XG4gICAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDIwMDtcbiAgICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICAgIEBJbnB1dCgnbGV2ZWwnKSBsZXZlbDogbnVtYmVyID0gMDtcbiAgICBASW5wdXQoJ3RhcmdldCcpIHRhcmdldDogbnVtYmVyO1xuICAgIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdO1xuICAgIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG4gICAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIEBJbnB1dCgneGF4aXMtaW50ZXJ2YWwnKSB4dGlja3Njb3VudDogbnVtYmVyO1xuXG4gICAgbGFuZXM6IGFueVtdID0gW107XG4gICAgdGltZWxpbmVjaGFydERhdGE6IGFueVtdID0gW107XG4gICAgbWluZGF0ZTogYW55O1xuICAgIG1heGRhdGU6IGFueTtcbiAgICBsZWdlbmRzOiBhbnk7XG4gICAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gICAgcmVzaXplZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN2ZzogYW55O1xuICAgIHVybGRhdGE6IGFueTtcbiAgICBtb250aGxpc3QgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXB0XCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xuICAgIHd0OiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoJ3RpbWVsaW5lJyk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMud3QgPSB0aGlzLnN2Z3dpZHRoO1xuICAgICAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICAgICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtVE9EYXRlKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy51cmxkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdENoYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICAgICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3Q2hhcnQoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1UT0RhdGUodGhpcy5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLnVybGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgICAgICB9LCAwKTtcblxuICAgIH1cblxuICAgIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgICAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgICAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICAgIH1cblxuICAgIHBsb3RDaGFydCgpIHtcbiAgICAgICAgbGV0IGxhbmVMZW5ndGggPSB0aGlzLmxhbmVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVzaXplZmxhZyA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAvL1JFU0laRSBTVEVQIDFcbiAgICAgIGlmICh0aGlzLnd0KSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnd0O1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgIH1cbiAgICAgIC8vUkVTSVpFIFNURVAgMSBFTkRTIEhFUkUgXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbSA9IFsyMCwgMjUsIDE1LCAxMjBdLCAvL3RvcCByaWdodCBib3R0b20gbGVmdFxuICAgICAgICAgICAgd2lkdGggPSB0aGlzLnN2Z3dpZHRoIC0gbVsxXSAtIG1bM10sXG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnN2Z2hlaWdodCAtIG1bMF0gLSBtWzJdLFxuICAgICAgICAgICAgbWluaUhlaWdodCA9IGxhbmVMZW5ndGggKiAxMiArIDUwLFxuICAgICAgICAgICAgbWFpbkhlaWdodCA9IGhlaWdodCAtIG1pbmlIZWlnaHQgLSA1MDtcblxuICAgICAgICBsZXQgbWluZGF0ZTtcbiAgICAgICAgbGV0IG1heGRhdGU7XG4gICAgICAgIGxldCBiYXJoZWlnaHQgPSAyMDtcbiAgICAgICAgaWYgKHRoaXMuaHR0cHVybCAmJiB0aGlzLmh0dHBtZXRob2QpIHtcblxuICAgICAgICAgICAgbWluZGF0ZSA9IHRoaXMudXJsZGF0YVswXVsxXS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgIG1heGRhdGUgPSB0aGlzLnVybGRhdGFbdGhpcy51cmxkYXRhLmxlbmd0aCAtIDFdWzJdLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtaW5kYXRlID0gdGhpcy5kYXRhWzBdWzFdLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgbWF4ZGF0ZSA9IHRoaXMuZGF0YVt0aGlzLmRhdGEubGVuZ3RoIC0gMV1bMl0uZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgbGV0IHggPSBkMy5zY2FsZVRpbWUoKVxuICAgICAgICAgICAgLmRvbWFpbihbdGhpcy5taW5kYXRlLCB0aGlzLm1heGRhdGVdKVxuICAgICAgICAgICAgLnJhbmdlKFswLCB3aWR0aF0pO1xuXG5cbiAgICAgICAgbGV0IHgxID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgLmRvbWFpbihbbWluZGF0ZSwgbWF4ZGF0ZV0pXG4gICAgICAgICAgICAucmFuZ2UoW21bM10sIHdpZHRoICsgbVszXV0pO1xuXG4gICAgICAgIGxldCB5MSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5kb21haW4oWzAsIGxhbmVMZW5ndGhdKVxuICAgICAgICAgICAgLnJhbmdlKFswLCBtaW5pSGVpZ2h0XSk7XG5cblxuICAgICAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAgIC5hdHRyKCd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmd3aWR0aCArICcgJyArIHRoaXMuc3ZnaGVpZ2h0KVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1bMV0gKyBtWzNdKVxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbVswXSArIG1bMl0pXG5cblxuICAgICAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3Znd2lkdGggPD0gNDAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4MSkudGlja3ModGhpcy54dGlja3Njb3VudCkpLlxuICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4MSkudGlja3ModGhpcy54dGlja3Njb3VudCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDEpLnRpY2tzKHRoaXMueHRpY2tzY291bnQpKS5cbiAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtaW5pID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtWzNdICsgXCIsXCIgKyAobWFpbkhlaWdodCArIG1bMF0pICsgXCIpXCIpXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoKVxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgbWFpbkhlaWdodClcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJtaW5pXCIpO1xuXG4gICAgICAgIC8vbWluaSBsYW5lcyBhbmQgdGV4dHNcbiAgICAgICAgbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5sYW5lTGluZXNcIilcbiAgICAgICAgICAgIC5kYXRhKHRoaXMudGltZWxpbmVjaGFydERhdGEpXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJsaW5lXCIpXG4gICAgICAgICAgICAvLyAuYXR0cihcIngxXCIsIG1bMV0pXG4gICAgICAgICAgICAuYXR0cihcInkxXCIsIChkKSA9PiB7IHJldHVybiB5MShkLmxhbmUpOyB9KVxuICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCB3aWR0aClcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgKGQpID0+IHsgcmV0dXJuIHkxKGQubGFuZSk7IH0pXG4gICAgICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBcImxpZ2h0Z3JheVwiKTtcblxuXG4gICAgICAgIG1pbmkuYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIubGFuZVRleHRcIilcbiAgICAgICAgICAgIC5kYXRhKHRoaXMubGFuZXMpXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAudGV4dCgoZCkgPT4geyByZXR1cm4gZDsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtbVsxXSlcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4geyByZXR1cm4geTEoaSArIC41KTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNWV4XCIpXG4gICAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibGFuZVRleHRcIik7XG5cbiAgICAgICAgLy9taW5pIGl0ZW0gcmVjdHNcbiAgICAgICAgbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIm1pbmlJdGVtc1wiKVxuICAgICAgICAgICAgLmRhdGEodGhpcy50aW1lbGluZWNoYXJ0RGF0YSlcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgKGQpID0+IHsgcmV0dXJuIFwibWluaUl0ZW1cIiArIGQubGFuZTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCwgaW5kZXgpID0+IHsgcmV0dXJuIHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF0gfSlcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4geyByZXR1cm4geChkLnN0YXJ0KTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4gKHkxKGQubGFuZSArIC41KSAtIDUpOyB9KVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh4KGQuZW5kKSAtIHgoZC5zdGFydCkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGJhcmhlaWdodClcbiAgICAgICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudG9vbFRpcENvbnRlbnQoZClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZWxpbmVDaGFydENsaWNrKGQpXG4gICAgICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldCBiYXJ3aWR0aDtcblxuICAgICAgICAvL21pbmkgbGFiZWxzXG4gICAgICAgIGxldCBtb250aGxpc3QxID0gdGhpcy5tb250aGxpc3Q7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsZmxhZykge1xuICAgICAgICAgICAgbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5taW5pTGFiZWxzXCIpXG4gICAgICAgICAgICAgICAgLmRhdGEodGhpcy50aW1lbGluZWNoYXJ0RGF0YSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBiYXJ3aWR0aCA9IE1hdGgubWluKE1hdGguYWJzKHgoZC5lbmQpIC0geChkLnN0YXJ0KSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXJ3aWR0aCAvIDIwICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydGZ1bGx5ZWFyID0gZC5zdGFydC5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0TW9udGggPSBtb250aGxpc3QxW2Quc3RhcnQuZ2V0TW9udGgoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5kZnVsbHllYXIgPSBkLmVuZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZE1vbnRoID0gbW9udGhsaXN0MVtkLmVuZC5nZXRNb250aCgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRlID0gc3RhcnRNb250aCArIFwiIFwiICsgc3RhcnRmdWxseWVhciArIFwiLVwiICsgZW5kTW9udGggKyBcIiBcIiArIGVuZGZ1bGx5ZWFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geChkLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4geyByZXR1cm4geTEoZC5sYW5lICsgLjUpOyB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIxLjJleFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZHhcIiwgXCI5ZXhcIilcbiAgICAgICAgICAgICAgICAvL3dyaXRlIHBvaW50ZXIgYW5kIGNsaWNrIGZuXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnRvb2xUaXBDb250ZW50KGQpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVsaW5lQ2hhcnRDbGljayhkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcm1Ub29sdGlwRGF0YSh0b29sdGlwRGF0YTogYW55KSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcblxuICAgICAgICBsZXQgbWxpc3QgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXB0XCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xuICAgICAgICBsZXQgbGFiZWwxID0gXCJEdXJhdGlvblwiO1xuICAgICAgICBsZXQgbGFiZWwyID0gXCJOYW1lXCI7XG4gICAgICAgIGxldCBzdGFydGZ1bGx5ZWFyID0gdG9vbHRpcERhdGEuc3RhcnQuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgbGV0IHN0YXJ0TW9udGggPSBtbGlzdFt0b29sdGlwRGF0YS5zdGFydC5nZXRNb250aCgpXVxuICAgICAgICBsZXQgZW5kZnVsbHllYXIgPSB0b29sdGlwRGF0YS5lbmQuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgbGV0IGVuZE1vbnRoID0gbWxpc3RbdG9vbHRpcERhdGEuZW5kLmdldE1vbnRoKCldXG4gICAgICAgIGxldCBkYXRlID0gc3RhcnRNb250aCArIFwiIFwiICsgc3RhcnRmdWxseWVhciArIFwiLVwiICsgZW5kTW9udGggKyBcIiBcIiArIGVuZGZ1bGx5ZWFyO1xuXG4gICAgICAgIG9iamVjdFtsYWJlbDIgKyBcIjpcIl0gPSB0b29sdGlwRGF0YS5pZDtcbiAgICAgICAgb2JqZWN0W2xhYmVsMSArIFwiOlwiXSA9IGRhdGU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuXG4gICAgfVxuXG4gICAgdHJhbnNmb3JtVE9EYXRlKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLnVybGRhdGEgPSBbXTtcblxuICAgICAgICBkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YW9iaiA9IFtdO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ZGF0ZSA9IG5ldyBEYXRlKGVsZW1lbnRbMV0pO1xuICAgICAgICAgICAgbGV0IGVuZGRhdGUgPSBuZXcgRGF0ZShlbGVtZW50WzJdKVxuICAgICAgICAgICAgZGF0YW9iai5wdXNoKGVsZW1lbnRbMF0pO1xuICAgICAgICAgICAgZGF0YW9iai5wdXNoKHN0YXJ0ZGF0ZSk7XG4gICAgICAgICAgICBkYXRhb2JqLnB1c2goZW5kZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnVybGRhdGEucHVzaChkYXRhb2JqKTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLmxhbmVzID0gW107XG4gICAgICAgIHRoaXMudGltZWxpbmVjaGFydERhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgICAgIGxldCBkYXRhbGVuZ3RoID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHRoaXMubWluZGF0ZSA9IGRhdGFbMF1bMV07XG4gICAgICAgIHRoaXMubWF4ZGF0ZSA9IGRhdGFbZGF0YWxlbmd0aF1bMl07XG4gICAgICAgIGxldCBtbGlzdCA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcHRcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XG5cbiAgICAgICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YU9iaiA9IHsgXCJsYW5lXCI6IFwiXCIsIFwiaWRcIjogXCJcIiwgXCJzdGFydFwiOiBcIlwiLCBcImVuZFwiOiBcIlwiIH07XG4gICAgICAgICAgICB0aGlzLmxhbmVzLnB1c2goZWxlbWVudFswXSk7XG4gICAgICAgICAgICBkYXRhT2JqW1wibGFuZVwiXSA9IGk7XG4gICAgICAgICAgICBkYXRhT2JqW1wiaWRcIl0gPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgZGF0YU9ialtcInN0YXJ0XCJdID0gZWxlbWVudFsxXTtcbiAgICAgICAgICAgIGRhdGFPYmpbXCJlbmRcIl0gPSBlbGVtZW50WzJdO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZWNoYXJ0RGF0YS5wdXNoKGRhdGFPYmopO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRpbWVsaW5lY2hhcnREYXRhLmZvckVhY2goKGVsZW1lbnQsIGkpID0+IHtcblxuICAgICAgICAgICAgbGV0IHN0YXJ0ZnVsbHllYXIgPSBlbGVtZW50LnN0YXJ0LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBsZXQgc3RhcnRNb250aCA9IG1saXN0W2VsZW1lbnQuc3RhcnQuZ2V0TW9udGgoKV1cbiAgICAgICAgICAgIGxldCBlbmRmdWxseWVhciA9IGVsZW1lbnQuZW5kLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBsZXQgZW5kTW9udGggPSBtbGlzdFtlbGVtZW50LmVuZC5nZXRNb250aCgpXVxuICAgICAgICAgICAgbGV0IGRhdGUgPSBzdGFydE1vbnRoICsgXCIgXCIgKyBzdGFydGZ1bGx5ZWFyICsgXCItXCIgKyBlbmRNb250aCArIFwiIFwiICsgZW5kZnVsbHllYXI7XG4gICAgICAgICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiB0aGlzLmxhbmVzW2ldLCAnY29sb3InOiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV0sICdEdXJhdGlvbic6IGRhdGUgfTtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBPYmogPSB7IFwibGFuZVwiOiBcIlwiLCBcImlkXCI6IFwiXCIsIFwic3RhcnRcIjogXCJcIiwgXCJlbmRcIjogXCJcIiB9O1xuICAgICAgICBPYmpbXCJsYW5lXCJdID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnRpbWVsaW5lY2hhcnREYXRhLnB1c2goT2JqKTtcbiAgICB9XG5cblxuICAgIHRpbWVsaW5lQ2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgbGV0IG1saXN0ID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwdFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcbiAgICAgICAgbGV0IHN0YXJ0ZnVsbHllYXIgPSBldmVudC5zdGFydC5nZXRGdWxsWWVhcigpO1xuICAgICAgICBsZXQgc3RhcnRNb250aCA9IG1saXN0W2V2ZW50LnN0YXJ0LmdldE1vbnRoKCldXG4gICAgICAgIGxldCBlbmRmdWxseWVhciA9IGV2ZW50LmVuZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICBsZXQgZW5kTW9udGggPSBtbGlzdFtldmVudC5lbmQuZ2V0TW9udGgoKV07XG4gICAgICAgIGxldCBkYXRlID0gc3RhcnRNb250aCArIFwiIFwiICsgc3RhcnRmdWxseWVhciArIFwiLVwiICsgZW5kTW9udGggKyBcIiBcIiArIGVuZGZ1bGx5ZWFyO1xuICAgICAgICBvYmplY3RbXCJOYW1lXCJdID0gZXZlbnQuaWQ7XG4gICAgICAgIG9iamVjdFtcIkR1cmF0aW9uXCJdID0gZGF0ZTtcbiAgICAgICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLy9SRVNJWkUgU1RFUCA0IFNUQVJUU1xuICB2YWxpZGF0ZXJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICBpZiAodGhpcy53dCkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfVxuICAgIH0sIDApXG4gIH1cbiAgLy9SRVNJWkUgU1RFUCA0IEVORFNcblxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMud3QpIHtcbiAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy53dDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgICAvLyB0aGlzLnJlc2l6ZXd0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJcIiwgbmV3IERhdGUoKS5nZXRUaW1lKCksIFwiIFwiLCB0aGlzLnJlc2l6ZXd0KTtcbiAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jZGYuZGV0ZWN0Q2hhbmdlcygpOyBcbiAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgIH1cbiAgICB0aW1lbGluZWxlZ2VuZENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgbGV0IG9iaiA9IHt9O1xuICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZXZlbnQpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICAgIH1cblxufVxuXG5cblxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEdyb3VwYmFyQ29tcG9uZW50IH0gZnJvbSAnLi4vZ3JvdXBiYXIvZ3JvdXBiYXIuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzQmFyQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXIvYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi4vZG91bnV0L2RvdW51dC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQW1leGlvRDNQaWVDaGFydENvbXBvbmVudCB9IGZyb20gJy4uL3BpZS9waWUuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzTGluZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpbmUvbGluZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQmFyc3RhY2tDb21wb25lbnQgfSBmcm9tICcuLi9iYXJzdGFjay9iYXJzdGFjay5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29tYm9jaGFydENvbXBvbmVudCB9IGZyb20gJy4uL2NvbWJvY2hhcnQvY29tYm9jaGFydC5jb21wb25lbnQnXG5pbXBvcnQgeyBIaXN0b2dyYW1Db21wb25lbnQgfSBmcm9tICcuLi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudCdcbmltcG9ydCB7IFNjYXR0ZXJjaGFydENvbXBvbmVudCB9IGZyb20gJy4uL3NjYXR0ZXJjaGFydC9zY2F0dGVyY2hhcnQuY29tcG9uZW50J1xuaW1wb3J0IHsgTXVsdGlhcmVhQ29tcG9uZW50IH0gZnJvbSAnLi4vbXVsdGlhcmVhL211bHRpYXJlYS5jb21wb25lbnQnXG5pbXBvcnQgeyBDYW5kbGVzdGlja0NvbXBvbmVudCB9IGZyb20gJy4uL2NhbmRsZXN0aWNrL2NhbmRsZXN0aWNrLmNvbXBvbmVudCdcbmltcG9ydCB7IEJ1YmJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2J1YmJsZS9idWJibGUvYnViYmxlLmNvbXBvbmVudCdcbmltcG9ydCB7IEFtZXhpb0QzVGltZWxpbmVDaGFydENvbXBvbmVudCB9IGZyb20gJy4uL3RpbWVsaW5lL3RpbWVsaW5lLmNvbXBvbmVudCdcbmltcG9ydCB7XG4gIEFmdGVyQ29udGVudEluaXQsIEFmdGVyVmlld0luaXQsIENvbnRlbnRDaGlsZHJlbixcbiAgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBRdWVyeUxpc3QsIFZpZXdDaGlsZCxcbiAgVmlld0NoaWxkcmVuXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgVmlld0RyaWxsYWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIHF1ZXJ5QmFyY2hhcnRpbnB1dDogUXVlcnlMaXN0PEFtZXhpb0QzQmFyQ2hhcnRDb21wb25lbnQ+O1xuICBiYXJjaGFydGlucHV0OiBBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihHcm91cGJhckNvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUdyb3VwYmFyY2hhcnRpbnB1dDogUXVlcnlMaXN0PEdyb3VwYmFyQ29tcG9uZW50PjtcbiAgZ3JvdXBiYXJjaGFydGlucHV0OiBHcm91cGJhckNvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQW1leGlvRDNMaW5lQ29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5TGluZWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxBbWV4aW9EM0xpbmVDb21wb25lbnQ+O1xuICBsaW5lY2hhcnRpbnB1dDogQW1leGlvRDNMaW5lQ29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5UGllY2hhcnRpbnB1dDogUXVlcnlMaXN0PEFtZXhpb0QzUGllQ2hhcnRDb21wb25lbnQ+O1xuICBwaWVjaGFydGlucHV0OiBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5RG9udXRjaGFydGlucHV0OiBRdWVyeUxpc3Q8QW1leGlvRDNEb3VudXRDaGFydENvbXBvbmVudD47XG4gIGRvbnV0Y2hhcnRpbnB1dDogQW1leGlvRDNEb3VudXRDaGFydENvbXBvbmVudFtdO1xuXG5cbiAgQENvbnRlbnRDaGlsZHJlbihCYXJzdGFja0NvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUJhclN0YWNrY2hhcnRpbnB1dDogUXVlcnlMaXN0PEJhcnN0YWNrQ29tcG9uZW50PjtcbiAgYmFyc3RhY2tjaGFydGlucHV0OiBCYXJzdGFja0NvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQ29tYm9jaGFydENvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUNvbWJvY2hhcnRpbnB1dDogUXVlcnlMaXN0PENvbWJvY2hhcnRDb21wb25lbnQ+O1xuICBjb21ib2NoYXJ0aW5wdXQ6IENvbWJvY2hhcnRDb21wb25lbnRbXTtcblxuICBAQ29udGVudENoaWxkcmVuKEhpc3RvZ3JhbUNvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUhpc3RvZ3JhbWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxIaXN0b2dyYW1Db21wb25lbnQ+O1xuICBoaXN0b2dyYW1jaGFydGlucHV0OiBIaXN0b2dyYW1Db21wb25lbnRbXTtcblxuICBAQ29udGVudENoaWxkcmVuKFNjYXR0ZXJjaGFydENvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeVNhdHRlcmNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxTY2F0dGVyY2hhcnRDb21wb25lbnQ+O1xuICBzY2F0dGVyY2hhcnRpbnB1dDogU2NhdHRlcmNoYXJ0Q29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihNdWx0aWFyZWFDb21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgUXVlcnlNdWx0aWFyZWFjaGFydGlucHV0OiBRdWVyeUxpc3Q8TXVsdGlhcmVhQ29tcG9uZW50PjtcbiAgbXVsdGlhcmVhY2hhcnRpbnB1dDogTXVsdGlhcmVhQ29tcG9uZW50W107XG5cbiAgQENvbnRlbnRDaGlsZHJlbihDYW5kbGVzdGlja0NvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUNhbmRsZXN0aWNrY2hhcnRpbnB1dDogUXVlcnlMaXN0PENhbmRsZXN0aWNrQ29tcG9uZW50PjtcbiAgY2FuZGxlc3RpY2tjaGFydGlucHV0OiBDYW5kbGVzdGlja0NvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQnViYmxlQ29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5QnViYmxlY2hhcnRpbnB1dDogUXVlcnlMaXN0PEJ1YmJsZUNvbXBvbmVudD47XG4gIGJ1YmJsZWNoYXJ0aW5wdXQ6IEJ1YmJsZUNvbXBvbmVudFtdO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQW1leGlvRDNUaW1lbGluZUNoYXJ0Q29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5VGltZWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxBbWV4aW9EM1RpbWVsaW5lQ2hhcnRDb21wb25lbnQ+O1xuICB0aW1lbGluZWNoYXJ0aW5wdXQ6IEFtZXhpb0QzVGltZWxpbmVDaGFydENvbXBvbmVudFtdO1xuXG4gIGNoYXJ0SW5wdXRBcnJheTogYW55O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuXG4gIH1cblxuICBuZ09uSW5pdCgpIHtcblxuICB9XG5cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnREYXRhKCk7XG5cbiAgfVxuXG4gIGdldENvbXBvbmVudERhdGEoKTogYW55IHtcblxuICAgIHRoaXMuY2hhcnRJbnB1dEFycmF5ID0gW107XG5cbiAgICB0aGlzLmJhcmNoYXJ0aW5wdXQgPSB0aGlzLnF1ZXJ5QmFyY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5ncm91cGJhcmNoYXJ0aW5wdXQgPSB0aGlzLlF1ZXJ5R3JvdXBiYXJjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmxpbmVjaGFydGlucHV0ID0gdGhpcy5RdWVyeUxpbmVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmRvbnV0Y2hhcnRpbnB1dCA9IHRoaXMuUXVlcnlEb251dGNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMucGllY2hhcnRpbnB1dCA9IHRoaXMuUXVlcnlQaWVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmJhcnN0YWNrY2hhcnRpbnB1dCA9IHRoaXMuUXVlcnlCYXJTdGFja2NoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMuY29tYm9jaGFydGlucHV0ID0gdGhpcy5RdWVyeUNvbWJvY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5oaXN0b2dyYW1jaGFydGlucHV0ID0gdGhpcy5RdWVyeUhpc3RvZ3JhbWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMuc2NhdHRlcmNoYXJ0aW5wdXQgPSB0aGlzLlF1ZXJ5U2F0dGVyY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5tdWx0aWFyZWFjaGFydGlucHV0ID0gdGhpcy5RdWVyeU11bHRpYXJlYWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMuY2FuZGxlc3RpY2tjaGFydGlucHV0ID0gdGhpcy5RdWVyeUNhbmRsZXN0aWNrY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gICAgdGhpcy5idWJibGVjaGFydGlucHV0ID0gdGhpcy5RdWVyeUJ1YmJsZWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICAgIHRoaXMudGltZWxpbmVjaGFydGlucHV0ID0gdGhpcy5RdWVyeVRpbWVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgICB0aGlzLmNoYXJ0SW5wdXRBcnJheSA9IHRoaXMuY2hhcnRJbnB1dEFycmF5LmNvbmNhdCh0aGlzLmJhcmNoYXJ0aW5wdXQsIHRoaXMuZ3JvdXBiYXJjaGFydGlucHV0LCB0aGlzLmxpbmVjaGFydGlucHV0LCB0aGlzLmRvbnV0Y2hhcnRpbnB1dCwgdGhpcy5waWVjaGFydGlucHV0LCB0aGlzLmJhcnN0YWNrY2hhcnRpbnB1dCwgdGhpcy5jb21ib2NoYXJ0aW5wdXQsIHRoaXMuaGlzdG9ncmFtY2hhcnRpbnB1dCwgdGhpcy5zY2F0dGVyY2hhcnRpbnB1dCwgdGhpcy5tdWx0aWFyZWFjaGFydGlucHV0LCB0aGlzLmNhbmRsZXN0aWNrY2hhcnRpbnB1dCwgdGhpcy5idWJibGVjaGFydGlucHV0LCB0aGlzLnRpbWVsaW5lY2hhcnRpbnB1dCk7XG5cbiAgICByZXR1cm4gdGhpcy5jaGFydElucHV0QXJyYXk7XG5cbiAgfVxuXG5cblxuXG5cbn1cbiIsIlxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFZpZXdEcmlsbGFibGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi9iYXNlL3ZpZXcuY29tcG9uZW50JztcblxuaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJWaWV3SW5pdCwgQ29udGVudENoaWxkcmVuLFxuICBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFF1ZXJ5TGlzdCwgVmlld0NoaWxkLFxuICBWaWV3Q2hpbGRyZW5cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIb3N0TGlzdGVuZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FtZXhpby1kcmlsbGFibGUnLFxuICB0ZW1wbGF0ZTogYFxuPGRpdiA+IFxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJkaXNhYmxlRmxhZ1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidXR0b25cIlxuICAgICAgICAgICAgIChjbGljayk9XCJwcmV2aW91c2NoYXJ0Q2xpY2soJGV2ZW50KVwiPlxuICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtYXJyb3ctbGVmdFwiPjwvaT4gXG4gICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2J1dHRvbj5cbjwvbmctY29udGFpbmVyPlxuXG48bmctY29udGVudD48L25nLWNvbnRlbnQ+XG5cbjwvZGl2PlxuXG48c3BhbiBbbmdTdHlsZV09XCJjb250ZXh0U3R5bGVcIiA+XG4gIDx1bCAqbmdJZj1cImNvbnRleHRtZW51RmxhZ1wiIGNsYXNzPVwiY2xvc2UtdGhpa1wiIGNsYXNzPVwiY29udGV4dC1tZW51LWxpc3RcIiAgPlxuICAgIDxzcGFuIChjbGljayk9XCJvbkNsb3NlQ2xpY2soKVwiIGNsYXNzPVwiY2xvc2VcIj48aSBjbGFzcz1cImZhIGZhLWNsb3NlXCI+PC9pPjwvc3Bhbj5cbiAgPGxpIChjbGljayk9XCJvbkNvbnRleHROb2RlQ2xpY2soaXRlbUNvbmZpZylcIiBjbGFzcz1cImNvbnRleHQtbWVudS1saXN0LWl0ZW1zXCIgXG4gICpuZ0Zvcj1cImxldCBpdGVtQ29uZmlnIG9mIGFycmF5b2ZzYW1lTGV2ZWxcIj5cbiAgPGVtIFtuZ1N0eWxlXT1cInsncGFkZGluZy1sZWZ0JzogaXRlbUNvbmZpZy5pY29uID8gJzVweCc6JzE5cHgnfVwiPjwvZW0+XG4gIDxzcGFuIHN0eWxlPVwid2hpdGUtc3BhY2U6IG5vd3JhcDtkaXNwbGF5OiBpbmxpbmUgOyBwYWRkaW5nLWxlZnQ6NXB4XCI+e3tpdGVtQ29uZmlnLnRpdGxlfX1cbiAgPC9zcGFuPlxuICA8L2xpPlxuICA8L3VsPlxuICA8L3NwYW4+XG4gIGAsXG4gIHN0eWxlczogW2AuYnV0dG9ue3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjoxcHggc29saWQgIzU1NTtmb250LXdlaWdodDo0MDA7Y29sb3I6IzAwMDtwYWRkaW5nOi41cmVtIDFyZW07dGV4dC1hbGlnbjpjZW50ZXI7dHJhbnNpdGlvbi1kdXJhdGlvbjouNHM7dGV4dC1kZWNvcmF0aW9uOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6M3B4fS5idXR0b246YWZ0ZXJ7Y29udGVudDpcIlwiO2JhY2tncm91bmQ6IzAwMDtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmctdG9wOjMwMCU7cGFkZGluZy1sZWZ0OjM1MCU7bWFyZ2luLWxlZnQ6LTIwcHghaW1wb3J0YW50O21hcmdpbi10b3A6LTEyMCU7b3BhY2l0eTowO3RyYW5zaXRpb246LjhzfS5idXR0b246YWN0aXZlOmFmdGVye3BhZGRpbmc6MDttYXJnaW46MDtvcGFjaXR5OjE7dHJhbnNpdGlvbjpub25lfS5jb250ZXh0LW1lbnUtbGlzdHtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjttaW4td2lkdGg6MTgwcHg7Y3Vyc29yOnBvaW50ZXI7bWF4LWhlaWdodDoxNTBweDt6LWluZGV4OjE7cGFkZGluZzoxMHB4IDA7b3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7Ym94LXNoYWRvdzowIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLC4yKSwwIDhweCAxMHB4IDFweCByZ2JhKDAsMCwwLC4xNCksMCAzcHggMTRweCAycHggcmdiYSgwLDAsMCwuMTIpfS5jb250ZXh0LW1lbnUtbGlzdCAuY29udGV4dC1tZW51LWxpc3QtaXRlbXN7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50O3BhZGRpbmc6NXB4O2Rpc3BsYXk6YmxvY2t9LmNsb3Nle2Zsb2F0OnJpZ2h0O3BhZGRpbmctcmlnaHQ6OHB4O2N1cnNvcjpwb2ludGVyfWBdXG59KVxuXG5cbmV4cG9ydCBjbGFzcyBEcmlsbGFibGVDb21wb25lbnQgZXh0ZW5kcyBWaWV3RHJpbGxhYmxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBtb3VzZUxvY2F0aW9uOiB7IGxlZnQ6IG51bWJlcjsgdG9wOiBudW1iZXIgfSA9IHsgbGVmdDogMCwgdG9wOiAwIH07XG4gIGNvbnRleHRtZW51RmxhZzogYm9vbGVhbjtcbiAgY29udGV4dFN0eWxlOiBhbnk7XG4gIENvbXBvbmVudERhdGFBcnJheTogYW55XG4gIGNvbXBvbmVudGNvdW50ZXI6IG51bWJlciA9IDE7XG4gIGRpc2FibGVGbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIGFycmF5b2ZzYW1lTGV2ZWw6IGFueTtcbiAgZXZlbnREYXRhOiBhbnk7XG4gIHJpZ2h0Q2xpY2tOb2RlRGF0YTogYW55O1xuICBwb3NpeFVwOiBib29sZWFuO1xuICBsZXZlbEFycmF5OiBhbnk7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcblxuXG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG5cbiAgICB0aGlzLkNvbXBvbmVudERhdGFBcnJheSA9IHRoaXMuZ2V0Q29tcG9uZW50RGF0YSgpO1xuICAgIHRoaXMuZ2V0RGF0YSh0aGlzLkNvbXBvbmVudERhdGFBcnJheSk7XG5cbiAgfVxuICBnZXREYXRhKGRhdGE6IGFueSkge1xuICAgIGRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcblxuICAgICAgaWYgKGVsZW1lbnQubGV2ZWwgIT09IDEpIHtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQuZHJpbGxhYmxlRXZlbnQuc3Vic2NyaWJlKChldmVudGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgIHRoaXMuaGlkZVVJKGV2ZW50ZGF0YSk7XG4gICAgICAgICAgdGhpcy5zYW1lTGV2ZWxDaGFydChldmVudGRhdGEpO1xuICAgICAgICAgIHRoaXMuU2hvd1VJKGV2ZW50ZGF0YSk7XG5cblxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUZsYWcgPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVFdmVudC5zdWJzY3JpYmUoKGV2ZW50ZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgdGhpcy5oaWRlVUkoZXZlbnRkYXRhKTtcbiAgICAgICAgICB0aGlzLnNhbWVMZXZlbENoYXJ0KGV2ZW50ZGF0YSk7XG4gICAgICAgICAgdGhpcy5TaG93VUkoZXZlbnRkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgaGlkZVVJKGV2ZW50UmVmOiBhbnkpIHtcbiAgICB0aGlzLkNvbXBvbmVudERhdGFBcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQubGV2ZWwgPT0gZXZlbnRSZWYucmVmLmxldmVsKSB7XG4gICAgICAgIGV2ZW50UmVmLnJlZi5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG4gIFNob3dVSShldmVudFJlZjogYW55KSB7XG4gICAgdGhpcy5ldmVudERhdGEgPSBbXTtcbiAgICB0aGlzLmV2ZW50RGF0YSA9IGV2ZW50UmVmO1xuICAgIHRoaXMuQ29tcG9uZW50RGF0YUFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBpZiAoZXZlbnRSZWYucmVmLnRhcmdldCA9PSBlbGVtZW50LmxldmVsKSB7XG4gICAgICAgIGlmICh0aGlzLmFycmF5b2ZzYW1lTGV2ZWwubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICB0aGlzLmRpc2FibGVGbGFnID0gdHJ1ZTtcbiAgICAgICAgICBlbGVtZW50LmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgICAgICAgIGVsZW1lbnQuZmV0Y2hEYXRhKGV2ZW50UmVmLm5vZGUpO1xuICAgICAgICAgIHRoaXMuY29tcG9uZW50Y291bnRlciA9IGVsZW1lbnQubGV2ZWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0bWVudUZsYWcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMubW91c2VMb2NhdGlvbi5sZWZ0ID0gZXZlbnRSZWYuZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICB0aGlzLm1vdXNlTG9jYXRpb24udG9wID0gZXZlbnRSZWYuZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICB0aGlzLmNvbnRleHRTdHlsZSA9IHRoaXMuZ2V0Q29udGV4dE1lbnVTdHlsZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIGlmICh0aGlzLmNvbXBvbmVudGNvdW50ZXIgPT0gZXZlbnRSZWYucmVmLmxldmVsKSB7XG4gICAgICBldmVudFJlZi5yZWYuZHJpbGxhYmxlRmxhZyA9IHRydWU7XG4gICAgfVxuXG4gIH1cbiAgcHJldmlvdXNjaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgY2hhcnRMZXZlbCA9IHRoaXMuY29tcG9uZW50Y291bnRlciAtIDE7XG4gICAgdGhpcy5Db21wb25lbnREYXRhQXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChjaGFydExldmVsID09IGVsZW1lbnQubGV2ZWwpIHtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gdHJ1ZTtcbiAgICAgICAgZWxlbWVudC5kcmF3Q2hhcnQoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb21wb25lbnRjb3VudGVyID09IGVsZW1lbnQubGV2ZWwpIHtcbiAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50Y291bnRlciA9PSAyKSB7XG4gICAgICB0aGlzLmRpc2FibGVGbGFnID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY29tcG9uZW50Y291bnRlciA9IGNoYXJ0TGV2ZWw7XG4gIH1cblxuXG4gIHNhbWVMZXZlbENoYXJ0KGV2ZW50UmVmOiBhbnkpIHtcbiAgXG4gICAgdGhpcy5hcnJheW9mc2FtZUxldmVsID0gW107XG4gICAgdGhpcy5Db21wb25lbnREYXRhQXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChldmVudFJlZi5yZWYudGFyZ2V0ID09IGVsZW1lbnQubGV2ZWwpIHtcbiAgICAgICAgdGhpcy5hcnJheW9mc2FtZUxldmVsID0gdGhpcy5hcnJheW9mc2FtZUxldmVsLmNvbmNhdChlbGVtZW50KTtcblxuICAgICAgfVxuXG4gICAgfSk7XG4gIH1cblxuICAvL01ldGhvZCBDcmVhdGVzIHN0eWxlIGlmIHR3byBzYW1lIHRhcmdldHMgZm91bmQuXG4gIGdldENvbnRleHRNZW51U3R5bGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdjdXJzb3InOiAnZGVmYXVsdCcsXG4gICAgICAncG9zaXRpb24nOiAnZml4ZWQnLFxuICAgICAgJ2Rpc3BsYXknOiB0aGlzLmNvbnRleHRtZW51RmxhZyA/ICdibG9jaycgOiAnbm9uZScsXG4gICAgICAnbGVmdCc6IHRoaXMubW91c2VMb2NhdGlvbi5sZWZ0ICsgJ3B4JyxcbiAgICAgICd0b3AnOiB0aGlzLm1vdXNlTG9jYXRpb24udG9wICsgJ3B4JyxcbiAgICAgICdib3gtc2hhZG93JzogJzFweCAxcHggMnB4ICMwMDAwMDAnLFxuICAgICAgJ3dpZHRoJzogJzE1JScsXG4gICAgfTtcbiAgfVxuXG5cblxuICBnZXRMaXN0UG9zaXRpb24oZWxlbWVudFJlZjogYW55KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGVpZ2h0ID0gMjQwO1xuICAgIGlmICgod2luZG93LnNjcmVlbi5oZWlnaHQgLSBlbGVtZW50UmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSkgPCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgb25Db250ZXh0Tm9kZUNsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLmNvbXBvbmVudGNvdW50ZXIgPSAwO1xuICAgIHRoaXMuY29udGV4dG1lbnVGbGFnID0gZmFsc2U7XG4gICAgdGhpcy5ldmVudERhdGEucmVmLmRyaWxsYWJsZUZsYWcgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVGbGFnID0gdHJ1ZTtcbiAgICBldmVudC5kcmlsbGFibGVGbGFnID0gdHJ1ZTtcbiAgICBldmVudC5mZXRjaERhdGEodGhpcy5ldmVudERhdGEubm9kZSk7XG4gICAgdGhpcy5jb21wb25lbnRjb3VudGVyID0gZXZlbnQubGV2ZWw7XG5cbiAgICBpZiAodGhpcy5jb21wb25lbnRjb3VudGVyID09IHRoaXMuZXZlbnREYXRhLnJlZi5sZXZlbCkge1xuICAgICAgdGhpcy5ldmVudERhdGEucmVmLmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2xvc2VDbGljaygpIHtcbiAgICB0aGlzLmNvbnRleHRtZW51RmxhZyA9IGZhbHNlO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IEFtZXhpb0QzRG91bnV0Q2hhcnRDb21wb25lbnQgfSBmcm9tICcuL2RvdW51dC9kb3VudXQuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzUGllQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuL3BpZS9waWUuY29tcG9uZW50JztcbmltcG9ydCB7IEFtZXhpb0QzTGVnZW5kIH0gZnJvbSAnLi9sZWdlbmQvbGVnZW5kLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi9iYXIvYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0xpbmVDb21wb25lbnQgfSBmcm9tICcuL2xpbmUvbGluZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQmFyc3RhY2tDb21wb25lbnQgfSBmcm9tICcuL2JhcnN0YWNrL2JhcnN0YWNrLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBHcm91cGJhckNvbXBvbmVudCB9IGZyb20gJy4vZ3JvdXBiYXIvZ3JvdXBiYXIuY29tcG9uZW50JztcbmltcG9ydCB7IERyaWxsYWJsZUNvbXBvbmVudCB9IGZyb20gJy4vZHJpbGxhYmxlL2RyaWxsYWJsZS9kcmlsbGFibGUuY29tcG9uZW50JztcbmltcG9ydCB7IENvbWJvY2hhcnRDb21wb25lbnQgfSBmcm9tICcuL2NvbWJvY2hhcnQvY29tYm9jaGFydC5jb21wb25lbnQnO1xuaW1wb3J0IHsgSGlzdG9ncmFtQ29tcG9uZW50IH0gZnJvbSAnLi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBNdWx0aWFyZWFDb21wb25lbnQgfSBmcm9tICcuL211bHRpYXJlYS9tdWx0aWFyZWEuY29tcG9uZW50JztcbmltcG9ydCB7IFNjYXR0ZXJjaGFydENvbXBvbmVudCB9IGZyb20gJy4vc2NhdHRlcmNoYXJ0L3NjYXR0ZXJjaGFydC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tDb21wb25lbnQgfSBmcm9tICcuL2NhbmRsZXN0aWNrL2NhbmRsZXN0aWNrLmNvbXBvbmVudCc7XG5pbXBvcnR7QnViYmxlQ29tcG9uZW50fSBmcm9tICcuL2J1YmJsZS9idWJibGUvYnViYmxlLmNvbXBvbmVudCc7XG5pbXBvcnR7QW1leGlvRDNUaW1lbGluZUNoYXJ0Q29tcG9uZW50fSBmcm9tICcuL3RpbWVsaW5lL3RpbWVsaW5lLmNvbXBvbmVudCdcbmV4cG9ydCBjb25zdCBEM19DT01QT05FTlRTIDogYW55W10gPSBbXG4gIEFtZXhpb0QzTGVnZW5kLFxuICBBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50LFxuICBBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50LFxuICBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50LFxuICBBbWV4aW9EM0xpbmVDb21wb25lbnQsXG4gIEJhcnN0YWNrQ29tcG9uZW50LFxuICBHcm91cGJhckNvbXBvbmVudCxcbiAgQ29tYm9jaGFydENvbXBvbmVudCxcbiAgRHJpbGxhYmxlQ29tcG9uZW50LFxuICBIaXN0b2dyYW1Db21wb25lbnQsXG4gIE11bHRpYXJlYUNvbXBvbmVudCxcbiAgU2NhdHRlcmNoYXJ0Q29tcG9uZW50LFxuICBDYW5kbGVzdGlja0NvbXBvbmVudCxcbiAgQnViYmxlQ29tcG9uZW50LFxuICBBbWV4aW9EM1RpbWVsaW5lQ2hhcnRDb21wb25lbnRcbl1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEM19DT01QT05FTlRTIH0gZnJvbSAnLi9hbWV4aW8tY2hhcnQtZDMtY29tcG9uZW50cyc7XG5pbXBvcnQge0Zvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyAgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydHtEZXZpY2VRdWVyeVNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnXG5cbmV4cG9ydCAqIGZyb20gJy4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgQ29tbW9uTW9kdWxlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICBdLFxuIFxuICBkZWNsYXJhdGlvbnM6IEQzX0NPTVBPTkVOVFMsXG4gIHByb3ZpZGVyczogW0RldmljZVF1ZXJ5U2VydmljZV0sXG4gIGV4cG9ydHM6IEQzX0NPTVBPTkVOVFNcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvQ2hhcnREM01vZHVsZSB7IH1cbiAgICAgICAgICAgICAgICJdLCJuYW1lcyI6WyJkMyIsImFyYyIsImQzLmFyYyIsInBpZSIsImQzLnBpZSIsImQzLnNlbGVjdCIsImQzLmV2ZW50IiwiZDMuc2NhbGVCYW5kIiwiZDMuc2NhbGVMaW5lYXIiLCJkMy5tYXgiLCJkMy5heGlzQm90dG9tIiwiZDMuYXhpc0xlZnQiLCJtaW4iLCJtYXgiLCJkMy5zY2FsZVBvaW50IiwibGluZSIsImQzLmxpbmUiLCJkMy5zdGFjayIsImQzLnN0YWNrT2Zmc2V0RGl2ZXJnaW5nIiwiZDMubWluIiwiZDMuc2NhbGVPcmRpbmFsIiwiZDMuc2NoZW1lQ2F0ZWdvcnkxMCIsImQzLnpvb20iLCJhcmVhIiwiZDMuYXJlYSIsImQzLnNjYWxlU3FydCIsImQzLnNjYWxlVGltZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7OztJQXdESSxZQUFZLFNBQWdCO1FBcERsQixrQkFBYSxHQUFRLElBQUksWUFBWSxFQUFPLENBQUM7UUFFN0MsaUJBQVksR0FBUSxJQUFJLFlBQVksRUFBTyxDQUFDO1FBRTVDLGdCQUFXLEdBQVEsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUUzQyxtQkFBYyxHQUFHLElBQUksWUFBWSxFQUFF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